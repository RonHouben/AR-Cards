!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11)}([function(e,t,i){"use strict";function r(){}i.r(t),i.d(t,"WebGLMultisampleRenderTarget",function(){return hi}),i.d(t,"WebGLRenderTargetCube",function(){return di}),i.d(t,"WebGLRenderTarget",function(){return fi}),i.d(t,"WebGLRenderer",function(){return ka}),i.d(t,"ShaderLib",function(){return Pi}),i.d(t,"UniformsLib",function(){return Li}),i.d(t,"UniformsUtils",function(){return Ti}),i.d(t,"ShaderChunk",function(){return wi}),i.d(t,"FogExp2",function(){return Aa}),i.d(t,"Fog",function(){return Ra}),i.d(t,"Scene",function(){return La}),i.d(t,"Sprite",function(){return Ia}),i.d(t,"LOD",function(){return Na}),i.d(t,"SkinnedMesh",function(){return Da}),i.d(t,"Skeleton",function(){return Fa}),i.d(t,"Bone",function(){return Ba}),i.d(t,"Mesh",function(){return Pr}),i.d(t,"LineSegments",function(){return Ha}),i.d(t,"LineLoop",function(){return Ga}),i.d(t,"Line",function(){return za}),i.d(t,"Points",function(){return ja}),i.d(t,"Group",function(){return ha}),i.d(t,"VideoTexture",function(){return Wa}),i.d(t,"DataTexture",function(){return pi}),i.d(t,"DataTexture2DArray",function(){return jr}),i.d(t,"DataTexture3D",function(){return Wr}),i.d(t,"CompressedTexture",function(){return Xa}),i.d(t,"CubeTexture",function(){return Vr}),i.d(t,"CanvasTexture",function(){return qa}),i.d(t,"DepthTexture",function(){return Ya}),i.d(t,"Texture",function(){return ci}),i.d(t,"AnimationLoader",function(){return zs}),i.d(t,"CompressedTextureLoader",function(){return Hs}),i.d(t,"DataTextureLoader",function(){return Gs}),i.d(t,"CubeTextureLoader",function(){return js}),i.d(t,"TextureLoader",function(){return Ws}),i.d(t,"ObjectLoader",function(){return Ll}),i.d(t,"MaterialLoader",function(){return Tl}),i.d(t,"BufferGeometryLoader",function(){return Al}),i.d(t,"DefaultLoadingManager",function(){return Fs}),i.d(t,"LoadingManager",function(){return Ds}),i.d(t,"ImageLoader",function(){return Vs}),i.d(t,"ImageBitmapLoader",function(){return Ul}),i.d(t,"FontLoader",function(){return Vl}),i.d(t,"FileLoader",function(){return Us}),i.d(t,"Loader",function(){return jl}),i.d(t,"LoaderUtils",function(){return kl}),i.d(t,"Cache",function(){return Ns}),i.d(t,"AudioLoader",function(){return Xl}),i.d(t,"SpotLightShadow",function(){return yl}),i.d(t,"SpotLight",function(){return bl}),i.d(t,"PointLight",function(){return wl}),i.d(t,"RectAreaLight",function(){return Sl}),i.d(t,"HemisphereLight",function(){return vl}),i.d(t,"HemisphereLightProbe",function(){return Jl}),i.d(t,"DirectionalLightShadow",function(){return xl}),i.d(t,"DirectionalLight",function(){return El}),i.d(t,"AmbientLight",function(){return Ml}),i.d(t,"AmbientLightProbe",function(){return Zl}),i.d(t,"LightShadow",function(){return gl}),i.d(t,"Light",function(){return ml}),i.d(t,"LightProbe",function(){return Yl}),i.d(t,"StereoCamera",function(){return Kl}),i.d(t,"PerspectiveCamera",function(){return pa}),i.d(t,"OrthographicCamera",function(){return _l}),i.d(t,"CubeCamera",function(){return ec}),i.d(t,"ArrayCamera",function(){return ma}),i.d(t,"Camera",function(){return da}),i.d(t,"AudioListener",function(){return ic}),i.d(t,"PositionalAudio",function(){return nc}),i.d(t,"AudioContext",function(){return Wl}),i.d(t,"AudioAnalyser",function(){return ac}),i.d(t,"Audio",function(){return rc}),i.d(t,"VectorKeyframeTrack",function(){return Cs}),i.d(t,"StringKeyframeTrack",function(){return Ps}),i.d(t,"QuaternionKeyframeTrack",function(){return Ls}),i.d(t,"NumberKeyframeTrack",function(){return As}),i.d(t,"ColorKeyframeTrack",function(){return ks}),i.d(t,"BooleanKeyframeTrack",function(){return Ts}),i.d(t,"PropertyMixer",function(){return oc}),i.d(t,"PropertyBinding",function(){return Ec}),i.d(t,"KeyframeTrack",function(){return Ss}),i.d(t,"AnimationUtils",function(){return ws}),i.d(t,"AnimationObjectGroup",function(){return Mc}),i.d(t,"AnimationMixer",function(){return Tc}),i.d(t,"AnimationClip",function(){return Os}),i.d(t,"Uniform",function(){return kc}),i.d(t,"InstancedBufferGeometry",function(){return Ac}),i.d(t,"BufferGeometry",function(){return or}),i.d(t,"Geometry",function(){return Xi}),i.d(t,"InterleavedBufferAttribute",function(){return Ca}),i.d(t,"InstancedInterleavedBuffer",function(){return Rc}),i.d(t,"InterleavedBuffer",function(){return Pa}),i.d(t,"InstancedBufferAttribute",function(){return Lc}),i.d(t,"Face3",function(){return Ii}),i.d(t,"Object3D",function(){return Gi}),i.d(t,"Raycaster",function(){return Pc}),i.d(t,"Layers",function(){return Di}),i.d(t,"EventDispatcher",function(){return r}),i.d(t,"Clock",function(){return tc}),i.d(t,"QuaternionLinearInterpolant",function(){return Rs}),i.d(t,"LinearInterpolant",function(){return Es}),i.d(t,"DiscreteInterpolant",function(){return Ms}),i.d(t,"CubicInterpolant",function(){return xs}),i.d(t,"Interpolant",function(){return _s}),i.d(t,"Triangle",function(){return Rr}),i.d(t,"Math",function(){return Gt}),i.d(t,"Spherical",function(){return Ic}),i.d(t,"Cylindrical",function(){return Nc}),i.d(t,"Plane",function(){return gi}),i.d(t,"Frustum",function(){return yi}),i.d(t,"Sphere",function(){return vi}),i.d(t,"Ray",function(){return Ar}),i.d(t,"Matrix4",function(){return bi}),i.d(t,"Matrix3",function(){return Xt}),i.d(t,"Box3",function(){return mi}),i.d(t,"Box2",function(){return Dc}),i.d(t,"Line3",function(){return Fc}),i.d(t,"Euler",function(){return Ni}),i.d(t,"Vector4",function(){return ui}),i.d(t,"Vector3",function(){return Wt}),i.d(t,"Vector2",function(){return Vt}),i.d(t,"Quaternion",function(){return jt}),i.d(t,"Color",function(){return Ai}),i.d(t,"SphericalHarmonics3",function(){return ql}),i.d(t,"ImmediateRenderObject",function(){return Bc}),i.d(t,"VertexNormalsHelper",function(){return Uc}),i.d(t,"SpotLightHelper",function(){return zc}),i.d(t,"SkeletonHelper",function(){return Hc}),i.d(t,"PointLightHelper",function(){return Gc}),i.d(t,"RectAreaLightHelper",function(){return Vc}),i.d(t,"HemisphereLightHelper",function(){return jc}),i.d(t,"LightProbeHelper",function(){return Wc}),i.d(t,"GridHelper",function(){return Xc}),i.d(t,"PolarGridHelper",function(){return qc}),i.d(t,"PositionalAudioHelper",function(){return Yc}),i.d(t,"FaceNormalsHelper",function(){return Jc}),i.d(t,"DirectionalLightHelper",function(){return Zc}),i.d(t,"CameraHelper",function(){return Kc}),i.d(t,"BoxHelper",function(){return Qc}),i.d(t,"Box3Helper",function(){return $c}),i.d(t,"PlaneHelper",function(){return eu}),i.d(t,"ArrowHelper",function(){return tu}),i.d(t,"AxesHelper",function(){return iu}),i.d(t,"Shape",function(){return pl}),i.d(t,"Path",function(){return dl}),i.d(t,"ShapePath",function(){return zl}),i.d(t,"Font",function(){return Hl}),i.d(t,"CurvePath",function(){return hl}),i.d(t,"Curve",function(){return Xs}),i.d(t,"ImageUtils",function(){return si}),i.d(t,"ShapeUtils",function(){return Fo}),i.d(t,"WebGLUtils",function(){return fa}),i.d(t,"WireframeGeometry",function(){return Ja}),i.d(t,"ParametricGeometry",function(){return Za}),i.d(t,"ParametricBufferGeometry",function(){return Ka}),i.d(t,"TetrahedronGeometry",function(){return eo}),i.d(t,"TetrahedronBufferGeometry",function(){return to}),i.d(t,"OctahedronGeometry",function(){return io}),i.d(t,"OctahedronBufferGeometry",function(){return ro}),i.d(t,"IcosahedronGeometry",function(){return no}),i.d(t,"IcosahedronBufferGeometry",function(){return ao}),i.d(t,"DodecahedronGeometry",function(){return oo}),i.d(t,"DodecahedronBufferGeometry",function(){return so}),i.d(t,"PolyhedronGeometry",function(){return Qa}),i.d(t,"PolyhedronBufferGeometry",function(){return $a}),i.d(t,"TubeGeometry",function(){return lo}),i.d(t,"TubeBufferGeometry",function(){return co}),i.d(t,"TorusKnotGeometry",function(){return uo}),i.d(t,"TorusKnotBufferGeometry",function(){return fo}),i.d(t,"TorusGeometry",function(){return ho}),i.d(t,"TorusBufferGeometry",function(){return po}),i.d(t,"TextGeometry",function(){return jo}),i.d(t,"TextBufferGeometry",function(){return Wo}),i.d(t,"SphereGeometry",function(){return Xo}),i.d(t,"SphereBufferGeometry",function(){return qo}),i.d(t,"RingGeometry",function(){return Yo}),i.d(t,"RingBufferGeometry",function(){return Jo}),i.d(t,"PlaneGeometry",function(){return cr}),i.d(t,"PlaneBufferGeometry",function(){return ur}),i.d(t,"LatheGeometry",function(){return Zo}),i.d(t,"LatheBufferGeometry",function(){return Ko}),i.d(t,"ShapeGeometry",function(){return Qo}),i.d(t,"ShapeBufferGeometry",function(){return $o}),i.d(t,"ExtrudeGeometry",function(){return zo}),i.d(t,"ExtrudeBufferGeometry",function(){return Ho}),i.d(t,"EdgesGeometry",function(){return ts}),i.d(t,"ConeGeometry",function(){return ns}),i.d(t,"ConeBufferGeometry",function(){return as}),i.d(t,"CylinderGeometry",function(){return is}),i.d(t,"CylinderBufferGeometry",function(){return rs}),i.d(t,"CircleGeometry",function(){return os}),i.d(t,"CircleBufferGeometry",function(){return ss}),i.d(t,"BoxGeometry",function(){return sr}),i.d(t,"CubeGeometry",function(){return sr}),i.d(t,"BoxBufferGeometry",function(){return lr}),i.d(t,"ShadowMaterial",function(){return cs}),i.d(t,"SpriteMaterial",function(){return Oa}),i.d(t,"RawShaderMaterial",function(){return us}),i.d(t,"ShaderMaterial",function(){return kr}),i.d(t,"PointsMaterial",function(){return Va}),i.d(t,"MeshPhysicalMaterial",function(){return hs}),i.d(t,"MeshStandardMaterial",function(){return fs}),i.d(t,"MeshPhongMaterial",function(){return ds}),i.d(t,"MeshToonMaterial",function(){return ps}),i.d(t,"MeshNormalMaterial",function(){return ms}),i.d(t,"MeshLambertMaterial",function(){return vs}),i.d(t,"MeshDepthMaterial",function(){return oa}),i.d(t,"MeshDistanceMaterial",function(){return sa}),i.d(t,"MeshBasicMaterial",function(){return Lr}),i.d(t,"MeshMatcapMaterial",function(){return gs}),i.d(t,"LineDashedMaterial",function(){return ys}),i.d(t,"LineBasicMaterial",function(){return Ua}),i.d(t,"Material",function(){return hr}),i.d(t,"Float64BufferAttribute",function(){return ir}),i.d(t,"Float32BufferAttribute",function(){return tr}),i.d(t,"Uint32BufferAttribute",function(){return er}),i.d(t,"Int32BufferAttribute",function(){return $i}),i.d(t,"Uint16BufferAttribute",function(){return Qi}),i.d(t,"Int16BufferAttribute",function(){return Ki}),i.d(t,"Uint8ClampedBufferAttribute",function(){return Zi}),i.d(t,"Uint8BufferAttribute",function(){return Ji}),i.d(t,"Int8BufferAttribute",function(){return Yi}),i.d(t,"BufferAttribute",function(){return qi}),i.d(t,"ArcCurve",function(){return Ys}),i.d(t,"CatmullRomCurve3",function(){return el}),i.d(t,"CubicBezierCurve",function(){return nl}),i.d(t,"CubicBezierCurve3",function(){return al}),i.d(t,"EllipseCurve",function(){return qs}),i.d(t,"LineCurve",function(){return ol}),i.d(t,"LineCurve3",function(){return sl}),i.d(t,"QuadraticBezierCurve",function(){return ll}),i.d(t,"QuadraticBezierCurve3",function(){return cl}),i.d(t,"SplineCurve",function(){return ul}),i.d(t,"REVISION",function(){return s}),i.d(t,"MOUSE",function(){return l}),i.d(t,"CullFaceNone",function(){return c}),i.d(t,"CullFaceBack",function(){return u}),i.d(t,"CullFaceFront",function(){return f}),i.d(t,"CullFaceFrontBack",function(){return h}),i.d(t,"FrontFaceDirectionCW",function(){return d}),i.d(t,"FrontFaceDirectionCCW",function(){return p}),i.d(t,"BasicShadowMap",function(){return m}),i.d(t,"PCFShadowMap",function(){return v}),i.d(t,"PCFSoftShadowMap",function(){return g}),i.d(t,"FrontSide",function(){return y}),i.d(t,"BackSide",function(){return b}),i.d(t,"DoubleSide",function(){return w}),i.d(t,"FlatShading",function(){return _}),i.d(t,"SmoothShading",function(){return x}),i.d(t,"NoColors",function(){return E}),i.d(t,"FaceColors",function(){return M}),i.d(t,"VertexColors",function(){return S}),i.d(t,"NoBlending",function(){return T}),i.d(t,"NormalBlending",function(){return k}),i.d(t,"AdditiveBlending",function(){return A}),i.d(t,"SubtractiveBlending",function(){return R}),i.d(t,"MultiplyBlending",function(){return L}),i.d(t,"CustomBlending",function(){return P}),i.d(t,"AddEquation",function(){return C}),i.d(t,"SubtractEquation",function(){return O}),i.d(t,"ReverseSubtractEquation",function(){return I}),i.d(t,"MinEquation",function(){return N}),i.d(t,"MaxEquation",function(){return D}),i.d(t,"ZeroFactor",function(){return F}),i.d(t,"OneFactor",function(){return B}),i.d(t,"SrcColorFactor",function(){return U}),i.d(t,"OneMinusSrcColorFactor",function(){return z}),i.d(t,"SrcAlphaFactor",function(){return H}),i.d(t,"OneMinusSrcAlphaFactor",function(){return G}),i.d(t,"DstAlphaFactor",function(){return V}),i.d(t,"OneMinusDstAlphaFactor",function(){return j}),i.d(t,"DstColorFactor",function(){return W}),i.d(t,"OneMinusDstColorFactor",function(){return X}),i.d(t,"SrcAlphaSaturateFactor",function(){return q}),i.d(t,"NeverDepth",function(){return Y}),i.d(t,"AlwaysDepth",function(){return J}),i.d(t,"LessDepth",function(){return Z}),i.d(t,"LessEqualDepth",function(){return K}),i.d(t,"EqualDepth",function(){return Q}),i.d(t,"GreaterEqualDepth",function(){return $}),i.d(t,"GreaterDepth",function(){return ee}),i.d(t,"NotEqualDepth",function(){return te}),i.d(t,"MultiplyOperation",function(){return ie}),i.d(t,"MixOperation",function(){return re}),i.d(t,"AddOperation",function(){return ne}),i.d(t,"NoToneMapping",function(){return ae}),i.d(t,"LinearToneMapping",function(){return oe}),i.d(t,"ReinhardToneMapping",function(){return se}),i.d(t,"Uncharted2ToneMapping",function(){return le}),i.d(t,"CineonToneMapping",function(){return ce}),i.d(t,"ACESFilmicToneMapping",function(){return ue}),i.d(t,"UVMapping",function(){return fe}),i.d(t,"CubeReflectionMapping",function(){return he}),i.d(t,"CubeRefractionMapping",function(){return de}),i.d(t,"EquirectangularReflectionMapping",function(){return pe}),i.d(t,"EquirectangularRefractionMapping",function(){return me}),i.d(t,"SphericalReflectionMapping",function(){return ve}),i.d(t,"CubeUVReflectionMapping",function(){return ge}),i.d(t,"CubeUVRefractionMapping",function(){return ye}),i.d(t,"RepeatWrapping",function(){return be}),i.d(t,"ClampToEdgeWrapping",function(){return we}),i.d(t,"MirroredRepeatWrapping",function(){return _e}),i.d(t,"NearestFilter",function(){return xe}),i.d(t,"NearestMipMapNearestFilter",function(){return Ee}),i.d(t,"NearestMipMapLinearFilter",function(){return Me}),i.d(t,"LinearFilter",function(){return Se}),i.d(t,"LinearMipMapNearestFilter",function(){return Te}),i.d(t,"LinearMipMapLinearFilter",function(){return ke}),i.d(t,"UnsignedByteType",function(){return Ae}),i.d(t,"ByteType",function(){return Re}),i.d(t,"ShortType",function(){return Le}),i.d(t,"UnsignedShortType",function(){return Pe}),i.d(t,"IntType",function(){return Ce}),i.d(t,"UnsignedIntType",function(){return Oe}),i.d(t,"FloatType",function(){return Ie}),i.d(t,"HalfFloatType",function(){return Ne}),i.d(t,"UnsignedShort4444Type",function(){return De}),i.d(t,"UnsignedShort5551Type",function(){return Fe}),i.d(t,"UnsignedShort565Type",function(){return Be}),i.d(t,"UnsignedInt248Type",function(){return Ue}),i.d(t,"AlphaFormat",function(){return ze}),i.d(t,"RGBFormat",function(){return He}),i.d(t,"RGBAFormat",function(){return Ge}),i.d(t,"LuminanceFormat",function(){return Ve}),i.d(t,"LuminanceAlphaFormat",function(){return je}),i.d(t,"RGBEFormat",function(){return We}),i.d(t,"DepthFormat",function(){return Xe}),i.d(t,"DepthStencilFormat",function(){return qe}),i.d(t,"RedFormat",function(){return Ye}),i.d(t,"RGB_S3TC_DXT1_Format",function(){return Je}),i.d(t,"RGBA_S3TC_DXT1_Format",function(){return Ze}),i.d(t,"RGBA_S3TC_DXT3_Format",function(){return Ke}),i.d(t,"RGBA_S3TC_DXT5_Format",function(){return Qe}),i.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return $e}),i.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return et}),i.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return tt}),i.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return it}),i.d(t,"RGB_ETC1_Format",function(){return rt}),i.d(t,"RGBA_ASTC_4x4_Format",function(){return nt}),i.d(t,"RGBA_ASTC_5x4_Format",function(){return at}),i.d(t,"RGBA_ASTC_5x5_Format",function(){return ot}),i.d(t,"RGBA_ASTC_6x5_Format",function(){return st}),i.d(t,"RGBA_ASTC_6x6_Format",function(){return lt}),i.d(t,"RGBA_ASTC_8x5_Format",function(){return ct}),i.d(t,"RGBA_ASTC_8x6_Format",function(){return ut}),i.d(t,"RGBA_ASTC_8x8_Format",function(){return ft}),i.d(t,"RGBA_ASTC_10x5_Format",function(){return ht}),i.d(t,"RGBA_ASTC_10x6_Format",function(){return dt}),i.d(t,"RGBA_ASTC_10x8_Format",function(){return pt}),i.d(t,"RGBA_ASTC_10x10_Format",function(){return mt}),i.d(t,"RGBA_ASTC_12x10_Format",function(){return vt}),i.d(t,"RGBA_ASTC_12x12_Format",function(){return gt}),i.d(t,"LoopOnce",function(){return yt}),i.d(t,"LoopRepeat",function(){return bt}),i.d(t,"LoopPingPong",function(){return wt}),i.d(t,"InterpolateDiscrete",function(){return _t}),i.d(t,"InterpolateLinear",function(){return xt}),i.d(t,"InterpolateSmooth",function(){return Et}),i.d(t,"ZeroCurvatureEnding",function(){return Mt}),i.d(t,"ZeroSlopeEnding",function(){return St}),i.d(t,"WrapAroundEnding",function(){return Tt}),i.d(t,"TrianglesDrawMode",function(){return kt}),i.d(t,"TriangleStripDrawMode",function(){return At}),i.d(t,"TriangleFanDrawMode",function(){return Rt}),i.d(t,"LinearEncoding",function(){return Lt}),i.d(t,"sRGBEncoding",function(){return Pt}),i.d(t,"GammaEncoding",function(){return Ct}),i.d(t,"RGBEEncoding",function(){return Ot}),i.d(t,"LogLuvEncoding",function(){return It}),i.d(t,"RGBM7Encoding",function(){return Nt}),i.d(t,"RGBM16Encoding",function(){return Dt}),i.d(t,"RGBDEncoding",function(){return Ft}),i.d(t,"BasicDepthPacking",function(){return Bt}),i.d(t,"RGBADepthPacking",function(){return Ut}),i.d(t,"TangentSpaceNormalMap",function(){return zt}),i.d(t,"ObjectSpaceNormalMap",function(){return Ht}),i.d(t,"Face4",function(){return ru}),i.d(t,"LineStrip",function(){return nu}),i.d(t,"LinePieces",function(){return au}),i.d(t,"MeshFaceMaterial",function(){return ou}),i.d(t,"MultiMaterial",function(){return su}),i.d(t,"PointCloud",function(){return lu}),i.d(t,"Particle",function(){return cu}),i.d(t,"ParticleSystem",function(){return uu}),i.d(t,"PointCloudMaterial",function(){return fu}),i.d(t,"ParticleBasicMaterial",function(){return hu}),i.d(t,"ParticleSystemMaterial",function(){return du}),i.d(t,"Vertex",function(){return pu}),i.d(t,"DynamicBufferAttribute",function(){return mu}),i.d(t,"Int8Attribute",function(){return vu}),i.d(t,"Uint8Attribute",function(){return gu}),i.d(t,"Uint8ClampedAttribute",function(){return yu}),i.d(t,"Int16Attribute",function(){return bu}),i.d(t,"Uint16Attribute",function(){return wu}),i.d(t,"Int32Attribute",function(){return _u}),i.d(t,"Uint32Attribute",function(){return xu}),i.d(t,"Float32Attribute",function(){return Eu}),i.d(t,"Float64Attribute",function(){return Mu}),i.d(t,"ClosedSplineCurve3",function(){return Su}),i.d(t,"SplineCurve3",function(){return Tu}),i.d(t,"Spline",function(){return ku}),i.d(t,"AxisHelper",function(){return Au}),i.d(t,"BoundingBoxHelper",function(){return Ru}),i.d(t,"EdgesHelper",function(){return Lu}),i.d(t,"WireframeHelper",function(){return Pu}),i.d(t,"XHRLoader",function(){return Cu}),i.d(t,"BinaryTextureLoader",function(){return Ou}),i.d(t,"GeometryUtils",function(){return Iu}),i.d(t,"Projector",function(){return Nu}),i.d(t,"CanvasRenderer",function(){return Du}),i.d(t,"JSONLoader",function(){return Fu}),i.d(t,"SceneUtils",function(){return Bu}),i.d(t,"LensFlare",function(){return Uu}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners[e];if(void 0!==i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=t.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,e)}}}});var n,a,o,s="104",l={LEFT:0,MIDDLE:1,RIGHT:2},c=0,u=1,f=2,h=3,d=0,p=1,m=0,v=1,g=2,y=0,b=1,w=2,_=1,x=2,E=0,M=1,S=2,T=0,k=1,A=2,R=3,L=4,P=5,C=100,O=101,I=102,N=103,D=104,F=200,B=201,U=202,z=203,H=204,G=205,V=206,j=207,W=208,X=209,q=210,Y=0,J=1,Z=2,K=3,Q=4,$=5,ee=6,te=7,ie=0,re=1,ne=2,ae=0,oe=1,se=2,le=3,ce=4,ue=5,fe=300,he=301,de=302,pe=303,me=304,ve=305,ge=306,ye=307,be=1e3,we=1001,_e=1002,xe=1003,Ee=1004,Me=1005,Se=1006,Te=1007,ke=1008,Ae=1009,Re=1010,Le=1011,Pe=1012,Ce=1013,Oe=1014,Ie=1015,Ne=1016,De=1017,Fe=1018,Be=1019,Ue=1020,ze=1021,He=1022,Ge=1023,Ve=1024,je=1025,We=Ge,Xe=1026,qe=1027,Ye=1028,Je=33776,Ze=33777,Ke=33778,Qe=33779,$e=35840,et=35841,tt=35842,it=35843,rt=36196,nt=37808,at=37809,ot=37810,st=37811,lt=37812,ct=37813,ut=37814,ft=37815,ht=37816,dt=37817,pt=37818,mt=37819,vt=37820,gt=37821,yt=2200,bt=2201,wt=2202,_t=2300,xt=2301,Et=2302,Mt=2400,St=2401,Tt=2402,kt=0,At=1,Rt=2,Lt=3e3,Pt=3001,Ct=3007,Ot=3002,It=3003,Nt=3004,Dt=3005,Ft=3006,Bt=3200,Ut=3201,zt=0,Ht=1,Gt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&i]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&n]+e[n>>8&255]+e[n>>16&255]+e[n>>24&255]).toUpperCase()}}(),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)},lerp:function(e,t,i){return(1-i)*e+i*t},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Gt.DEG2RAD},radToDeg:function(e){return e*Gt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Vt(e,t){this.x=e||0,this.y=t||0}function jt(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==r?r:1}function Wt(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0}function Xt(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Vt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Vt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=this.x-e.x,a=this.y-e.y;return this.x=n*i-a*r+e.x,this.y=n*r+a*i+e.y,this}}),Object.assign(jt,{slerp:function(e,t,i,r){return i.copy(e).slerp(t,r)},slerpFlat:function(e,t,i,r,n,a,o){var s=i[r+0],l=i[r+1],c=i[r+2],u=i[r+3],f=n[a+0],h=n[a+1],d=n[a+2],p=n[a+3];if(u!==p||s!==f||l!==h||c!==d){var m=1-o,v=s*f+l*h+c*d+u*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,v*g);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*g;if(s=s*m+f*_,l=l*m+h*_,c=c*m+d*_,u=u*m+p*_,m===1-o){var x=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=x,l*=x,c*=x,u*=x}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(jt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(jt.prototype,{isQuaternion:!0,set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=e._x,r=e._y,n=e._z,a=e.order,o=Math.cos,s=Math.sin,l=o(i/2),c=o(r/2),u=o(n/2),f=s(i/2),h=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=f*c*u+l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u-f*h*d):"YXZ"===a?(this._x=f*c*u+l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u+f*h*d):"ZXY"===a?(this._x=f*c*u-l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u-f*h*d):"ZYX"===a?(this._x=f*c*u-l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u+f*h*d):"YZX"===a?(this._x=f*c*u+l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u-f*h*d):"XZY"===a&&(this._x=f*c*u-l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u+f*h*d),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],l=i[9],c=i[2],u=i[6],f=i[10],h=r+s+f;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(u-l)*t,this._y=(a-c)*t,this._z=(o-n)*t):r>s&&r>f?(t=2*Math.sqrt(1+r-s-f),this._w=(u-l)/t,this._x=.25*t,this._y=(n+o)/t,this._z=(a+c)/t):s>f?(t=2*Math.sqrt(1+s-r-f),this._w=(a-c)/t,this._x=(n+o)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+f-r-s),this._w=(o-n)/t,this._x=(a+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(e,t){var i=e.dot(t)+1;return i<1e-6?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Gt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var i=this.angleTo(e);if(0===i)return this;var r=Math.min(1,t/i);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var i=e._x,r=e._y,n=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=i*c+a*o+r*l-n*s,this._y=r*c+a*s+n*o-i*l,this._z=n*c+a*l+i*s-r*o,this._w=a*c-i*o-r*s-n*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*e._w+i*e._x+r*e._y+n*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*i+t*this._x,this._y=l*r+t*this._y,this._z=l*n+t*this._z,this.normalize()}var c=Math.sqrt(s),u=Math.atan2(c,o),f=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=n*f+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Wt.prototype,{isVector3:!0,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(a=new jt,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(a.setFromEuler(e))}),applyAxisAngle:function(){var e=new jt;return function(t,i){return this.applyQuaternion(e.setFromAxisAngle(t,i))}}(),applyMatrix3:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements,a=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*i,c=s*i+o*t-n*r,u=s*r+n*i-a*t,f=-n*t-a*i-o*r;return this.x=l*s+f*-n+c*-o-u*-a,this.y=c*s+f*-a+u*-n-l*-o,this.z=u*s+f*-o+l*-a-c*-n,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r,this.y=n[1]*t+n[5]*i+n[9]*r,this.z=n[2]*t+n[6]*i+n[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var i=e.x,r=e.y,n=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:(n=new Wt,function(e){return n.copy(this).projectOnVector(e),this.sub(n)}),reflect:function(){var e=new Wt;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Gt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,i){var r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(Xt.prototype,{isMatrix3:!0,set:function(e,t,i,r,n,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=n,c[5]=s,c[6]=i,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new Wt;return function(t){for(var i=0,r=t.count;i<r;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix3(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,n=this.elements,a=i[0],o=i[3],s=i[6],l=i[1],c=i[4],u=i[7],f=i[2],h=i[5],d=i[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],w=r[2],_=r[5],x=r[8];return n[0]=a*p+o*g+s*w,n[3]=a*m+o*y+s*_,n[6]=a*v+o*b+s*x,n[1]=l*p+c*g+u*w,n[4]=l*m+c*y+u*_,n[7]=l*v+c*b+u*x,n[2]=f*p+h*g+d*w,n[5]=f*m+h*y+d*_,n[8]=f*v+h*b+d*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-i*n*c+i*o*s+r*n*l-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=e.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],f=i[7],h=i[8],d=h*l-c*f,p=c*u-h*s,m=f*s-l*u,v=n*d+a*p+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*f-h*a)*y,r[2]=(c*a-o*l)*y,r[3]=p*y,r[4]=(h*n-o*u)*y,r[5]=(o*s-c*n)*y,r[6]=m*y,r[7]=(a*u-f*n)*y,r[8]=(l*n-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,i,r,n,a,o){var s=Math.cos(n),l=Math.sin(n);this.set(i*s,i*l,-i*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1)},scale:function(e,t){var i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this},rotate:function(e){var t=Math.cos(e),i=Math.sin(e),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*n+i*s,r[3]=t*a+i*l,r[6]=t*o+i*c,r[1]=-i*n+t*s,r[4]=-i*a+t*l,r[7]=-i*o+t*c,this},translate:function(e,t){var i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this},equals:function(e){for(var t=this.elements,i=e.elements,r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<9;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}});var qt,Yt,Jt,Zt,Kt,Qt,$t,ei,ti,ii,ri,ni,ai,oi,si={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===o&&(o=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),o.width=e.width,o.height=e.height;var i=o.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=o}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},li=0;function ci(e,t,i,r,n,a,o,s,l,c){Object.defineProperty(this,"id",{value:li++}),this.uuid=Gt.generateUUID(),this.name="",this.image=void 0!==e?e:ci.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:ci.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:we,this.wrapT=void 0!==r?r:we,this.magFilter=void 0!==n?n:Se,this.minFilter=void 0!==a?a:ke,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Ge,this.type=void 0!==s?s:Ae,this.offset=new Vt(0,0),this.repeat=new Vt(1,1),this.center=new Vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:Lt,this.version=0,this.onUpdate=null}function ui(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1}function fi(e,t,i){this.width=e,this.height=t,this.scissor=new ui(0,0,e,t),this.scissorTest=!1,this.viewport=new ui(0,0,e,t),i=i||{},this.texture=new ci(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Se,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function hi(e,t,i){fi.call(this,e,t,i),this.samples=4}function di(e,t,i){fi.call(this,e,t,i)}function pi(e,t,i,r,n,a,o,s,l,c,u,f){ci.call(this,null,a,o,s,l,c,r,n,u,f),this.image={data:e,width:t,height:i},this.magFilter=void 0!==l?l:xe,this.minFilter=void 0!==c?c:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function mi(e,t){this.min=void 0!==e?e:new Wt(1/0,1/0,1/0),this.max=void 0!==t?t:new Wt(-1/0,-1/0,-1/0)}function vi(e,t){this.center=void 0!==e?e:new Wt,this.radius=void 0!==t?t:0}function gi(e,t){this.normal=void 0!==e?e:new Wt(1,0,0),this.constant=void 0!==t?t:0}function yi(e,t,i,r,n,a){this.planes=[void 0!==e?e:new gi,void 0!==t?t:new gi,void 0!==i?i:new gi,void 0!==r?r:new gi,void 0!==n?n:new gi,void 0!==a?a:new gi]}function bi(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}ci.DEFAULT_IMAGE=void 0,ci.DEFAULT_MAPPING=fe,ci.prototype=Object.assign(Object.create(r.prototype),{constructor:ci,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Gt.generateUUID()),!t&&void 0===e.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(si.getDataURL(r[a]))}else n=si.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return t||(e.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==fe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case be:e.x=e.x-Math.floor(e.x);break;case we:e.x=e.x<0?0:1;break;case _e:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case be:e.y=e.y-Math.floor(e.y);break;case we:e.y=e.y<0?0:1;break;case _e:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(ci.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ui.prototype,{isVector4:!0,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,n,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],f=a[9],h=a[2],d=a[6],p=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+h)<.1&&Math.abs(f+d)<.1&&Math.abs(o+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,v=(u+1)/2,g=(p+1)/2,y=(s+c)/4,b=(l+h)/4,w=(f+d)/4;return m>v&&m>g?m<.01?(i=0,r=.707106781,n=.707106781):(r=y/(i=Math.sqrt(m)),n=b/i):v>g?v<.01?(i=.707106781,r=0,n=.707106781):(i=y/(r=Math.sqrt(v)),n=w/r):g<.01?(i=.707106781,r=.707106781,n=0):(i=b/(n=Math.sqrt(g)),r=w/n),this.set(i,r,n,t),this}var _=Math.sqrt((d-f)*(d-f)+(l-h)*(l-h)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(d-f)/_,this.y=(l-h)/_,this.z=(c-s)/_,this.w=Math.acos((o+u+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return void 0===qt&&(qt=new ui,Yt=new ui),qt.set(e,e,e,e),Yt.set(t,t,t,t),this.clamp(qt,Yt)},clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),fi.prototype=Object.assign(Object.create(r.prototype),{constructor:fi,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),hi.prototype=Object.assign(Object.create(fi.prototype),{constructor:hi,isWebGLMultisampleRenderTarget:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.samples=e.samples,this}}),di.prototype=Object.create(fi.prototype),di.prototype.constructor=di,di.prototype.isWebGLRenderTargetCube=!0,pi.prototype=Object.create(ci.prototype),pi.prototype.constructor=pi,pi.prototype.isDataTexture=!0,Object.assign(mi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],f=e[s+2];c<t&&(t=c),u<i&&(i=u),f<r&&(r=f),c>n&&(n=c),u>a&&(a=u),f>o&&(o=f)}return this.min.set(t,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),f=e.getZ(s);c<t&&(t=c),u<i&&(i=u),f<r&&(r=f),c>n&&(n=c),u>a&&(a=u),f>o&&(o=f)}return this.min.set(t,i,r),this.max.set(n,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Wt;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Wt),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Wt),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,i,r=new Wt;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(t=0,i=o.length;t<i;t++)r.copy(o[t]),r.applyMatrix4(n.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(t=0,i=s.count;t<i;t++)r.fromBufferAttribute(s,t).applyMatrix4(n.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(n),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Wt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(Zt=new Wt,function(e){return this.clampPoint(e.center,Zt),Zt.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant},intersectsTriangle:function(){var e=new Wt,t=new Wt,i=new Wt,r=new Wt,n=new Wt,a=new Wt,o=new Wt,s=new Wt,l=new Wt,c=new Wt;function u(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),c=e.dot(o),u=t.dot(o),f=i.dot(o);if(Math.max(-Math.max(c,u,f),Math.min(c,u,f))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),e.subVectors(o.a,s),t.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(t,e),n.subVectors(i,t),a.subVectors(e,i);var f=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!u(f)&&(!!u(f=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(r,n),u(f=[c.x,c.y,c.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Wt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Wt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new Wt;return function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(Jt=[new Wt,new Wt,new Wt,new Wt,new Wt,new Wt,new Wt,new Wt],function(e){return this.isEmpty()?this:(Jt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jt),this)}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(vi.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(Kt=new mi,function(e,t){var i=this.center;void 0!==t?i.copy(t):Kt.setFromPoints(e).getCenter(i);for(var r=0,n=0,a=e.length;n<a;n++)r=Math.max(r,i.distanceToSquared(e[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Wt),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new mi),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(gi.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new Wt,t=new Wt;return function(i,r,n){var a=e.subVectors(n,r).cross(t.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Wt),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new Wt;return function(t,i){void 0===i&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new Wt);var r=t.delta(e),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(t.start)?i.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Wt),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new Wt,t=new Xt;return function(i,r){var n=r||t.getNormalMatrix(i),a=this.coplanarPoint(e).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(yi.prototype,{set:function(e,t,i,r,n,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],l=i[5],c=i[6],u=i[7],f=i[8],h=i[9],d=i[10],p=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return t[0].setComponents(o-r,u-s,p-f,y-m).normalize(),t[1].setComponents(o+r,u+s,p+f,y+m).normalize(),t[2].setComponents(o+n,u+l,p+h,y+v).normalize(),t[3].setComponents(o-n,u-l,p-h,y-v).normalize(),t[4].setComponents(o-a,u-c,p-d,y-g).normalize(),t[5].setComponents(o+a,u+c,p+d,y+g).normalize(),this},intersectsObject:($t=new vi,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),$t.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere($t)}),intersectsSprite:function(){var e=new vi;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,i=e.center,r=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(i)<r)return!1}return!0},intersectsBox:(Qt=new Wt,function(e){for(var t=this.planes,i=0;i<6;i++){var r=t[i];if(Qt.x=r.normal.x>0?e.max.x:e.min.x,Qt.y=r.normal.y>0?e.max.y:e.min.y,Qt.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Qt)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}}),Object.assign(bi.prototype,{isMatrix4:!0,set:function(e,t,i,r,n,a,o,s,l,c,u,f,h,d,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=f,v[3]=h,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new bi).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var e=new Wt;return function(t){var i=this.elements,r=t.elements,n=1/e.setFromMatrixColumn(t,0).length(),a=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=e.x,r=e.y,n=e.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),l=Math.sin(r),c=Math.cos(n),u=Math.sin(n);if("XYZ"===e.order){var f=a*c,h=a*u,d=o*c,p=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=h+d*l,t[5]=f-p*l,t[9]=-o*s,t[2]=p-f*l,t[6]=d+h*l,t[10]=a*s}else if("YXZ"===e.order){var m=s*c,v=s*u,g=l*c,y=l*u;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){m=s*c,v=s*u,g=l*c,y=l*u;t[0]=m-y*o,t[4]=-a*u,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*c,t[9]=y-m*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){f=a*c,h=a*u,d=o*c,p=o*u;t[0]=s*c,t[4]=d*l-h,t[8]=f*l+p,t[1]=s*u,t[5]=p*l+f,t[9]=h*l-d,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var b=a*s,w=a*l,_=o*s,x=o*l;t[0]=s*c,t[4]=x-b*u,t[8]=_*u+w,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=w*u+_,t[10]=b-x*u}else if("XZY"===e.order){b=a*s,w=a*l,_=o*s,x=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=b*u+x,t[5]=a*c,t[9]=w*u-_,t[2]=_*u-w,t[6]=o*c,t[10]=x*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(ai=new Wt(0,0,0),oi=new Wt(1,1,1),function(e){return this.compose(ai,e,oi)}),lookAt:(ii=new Wt,ri=new Wt,ni=new Wt,function(e,t,i){var r=this.elements;return ni.subVectors(e,t),0===ni.lengthSq()&&(ni.z=1),ni.normalize(),ii.crossVectors(i,ni),0===ii.lengthSq()&&(1===Math.abs(i.z)?ni.x+=1e-4:ni.z+=1e-4,ni.normalize(),ii.crossVectors(i,ni)),ii.normalize(),ri.crossVectors(ni,ii),r[0]=ii.x,r[4]=ri.x,r[8]=ni.x,r[1]=ii.y,r[5]=ri.y,r[9]=ni.y,r[2]=ii.z,r[6]=ri.z,r[10]=ni.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,n=this.elements,a=i[0],o=i[4],s=i[8],l=i[12],c=i[1],u=i[5],f=i[9],h=i[13],d=i[2],p=i[6],m=i[10],v=i[14],g=i[3],y=i[7],b=i[11],w=i[15],_=r[0],x=r[4],E=r[8],M=r[12],S=r[1],T=r[5],k=r[9],A=r[13],R=r[2],L=r[6],P=r[10],C=r[14],O=r[3],I=r[7],N=r[11],D=r[15];return n[0]=a*_+o*S+s*R+l*O,n[4]=a*x+o*T+s*L+l*I,n[8]=a*E+o*k+s*P+l*N,n[12]=a*M+o*A+s*C+l*D,n[1]=c*_+u*S+f*R+h*O,n[5]=c*x+u*T+f*L+h*I,n[9]=c*E+u*k+f*P+h*N,n[13]=c*M+u*A+f*C+h*D,n[2]=d*_+p*S+m*R+v*O,n[6]=d*x+p*T+m*L+v*I,n[10]=d*E+p*k+m*P+v*N,n[14]=d*M+p*A+m*C+v*D,n[3]=g*_+y*S+b*R+w*O,n[7]=g*x+y*T+b*L+w*I,n[11]=g*E+y*k+b*P+w*N,n[15]=g*M+y*A+b*C+w*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new Wt;return function(t){for(var i=0,r=t.count;i<r;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix4(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],i=e[4],r=e[8],n=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],f=e[10],h=e[14];return e[3]*(+n*s*u-r*l*u-n*o*f+i*l*f+r*o*h-i*s*h)+e[7]*(+t*s*h-t*l*f+n*a*f-r*a*h+r*l*c-n*s*c)+e[11]*(+t*l*u-t*o*h-n*a*u+i*a*h+n*o*c-i*l*c)+e[15]*(-r*o*c-t*s*u+t*o*f+r*a*u-i*a*f+i*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,r=e.elements,n=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],w=d*y*f-g*p*f+g*u*m-c*y*m-d*u*b+c*p*b,_=v*p*f-h*y*f-v*u*m+l*y*m+h*u*b-l*p*b,x=h*g*f-v*d*f+v*c*m-l*g*m-h*c*b+l*d*b,E=v*d*u-h*g*u-v*c*p+l*g*p+h*c*y-l*d*y,M=n*w+a*_+o*x+s*E;if(0===M){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return i[0]=w*T,i[1]=(g*p*s-d*y*s-g*o*m+a*y*m+d*o*b-a*p*b)*T,i[2]=(c*y*s-g*u*s+g*o*f-a*y*f-c*o*b+a*u*b)*T,i[3]=(d*u*s-c*p*s-d*o*f+a*p*f+c*o*m-a*u*m)*T,i[4]=_*T,i[5]=(h*y*s-v*p*s+v*o*m-n*y*m-h*o*b+n*p*b)*T,i[6]=(v*u*s-l*y*s-v*o*f+n*y*f+l*o*b-n*u*b)*T,i[7]=(l*p*s-h*u*s+h*o*f-n*p*f-l*o*m+n*u*m)*T,i[8]=x*T,i[9]=(v*d*s-h*g*s-v*a*m+n*g*m+h*a*b-n*d*b)*T,i[10]=(l*g*s-v*c*s+v*a*f-n*g*f-l*a*b+n*c*b)*T,i[11]=(h*c*s-l*d*s-h*a*f+n*d*f+l*a*m-n*c*m)*T,i[12]=E*T,i[13]=(h*g*o-v*d*o+v*a*p-n*g*p-h*a*y+n*d*y)*T,i[14]=(v*c*o-l*g*o-v*a*u+n*g*u+l*a*y-n*c*y)*T,i[15]=(l*d*o-h*c*o+h*a*u-n*d*u-l*a*p+n*c*p)*T,this},scale:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z;return t[0]*=i,t[4]*=r,t[8]*=n,t[1]*=i,t[5]*=r,t[9]*=n,t[2]*=i,t[6]*=r,t[10]*=n,t[3]*=i,t[7]*=r,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=1-i,a=e.x,o=e.y,s=e.z,l=n*a,c=n*o;return this.set(l*a+i,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+i,c*s-r*a,0,l*s-r*o,c*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,i){var r=this.elements,n=t._x,a=t._y,o=t._z,s=t._w,l=n+n,c=a+a,u=o+o,f=n*l,h=n*c,d=n*u,p=a*c,m=a*u,v=o*u,g=s*l,y=s*c,b=s*u,w=i.x,_=i.y,x=i.z;return r[0]=(1-(p+v))*w,r[1]=(h+b)*w,r[2]=(d-y)*w,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(f+v))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(d+y)*x,r[9]=(m-g)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:(ei=new Wt,ti=new bi,function(e,t,i){var r=this.elements,n=ei.set(r[0],r[1],r[2]).length(),a=ei.set(r[4],r[5],r[6]).length(),o=ei.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),e.x=r[12],e.y=r[13],e.z=r[14],ti.copy(this);var s=1/n,l=1/a,c=1/o;return ti.elements[0]*=s,ti.elements[1]*=s,ti.elements[2]*=s,ti.elements[4]*=l,ti.elements[5]*=l,ti.elements[6]*=l,ti.elements[8]*=c,ti.elements[9]*=c,ti.elements[10]*=c,t.setFromRotationMatrix(ti),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(e,t,i,r,n,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*n/(t-e),l=2*n/(i-r),c=(t+e)/(t-e),u=(i+r)/(i-r),f=-(a+n)/(a-n),h=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,i,r,n,a){var o=this.elements,s=1/(t-e),l=1/(i-r),c=1/(a-n),u=(t+e)*s,f=(i+r)*l,h=(a+n)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<16;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}});var wi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor;\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function _i(e){var t={};for(var i in e)for(var r in t[i]={},e[i]){var n=e[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?t[i][r]=n.clone():Array.isArray(n)?t[i][r]=n.slice():t[i][r]=n}return t}function xi(e){for(var t={},i=0;i<e.length;i++){var r=_i(e[i]);for(var n in r)t[n]=r[n]}return t}var Ei,Mi,Si,Ti={clone:_i,merge:xi},ki={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ai(e,t,i){return void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}Object.assign(Ai.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(){function e(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}return function(t,i,r){if(t=Gt.euclideanModulo(t,1),i=Gt.clamp(i,0,1),r=Gt.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=e(a,n,t+1/3),this.g=e(a,n,t),this.b=e(a,n,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,l)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,u=(c=i[1]).length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(c=ki[e])?this.setHex(c):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),l=(s+o)/2;if(s===o)t=0,i=0;else{var c=o-s;switch(i=l<=.5?c/(o+s):c/(2-o-s),o){case r:t=(n-a)/c+(n<a?6:0);break;case n:t=(a-r)/c+2;break;case a:t=(r-n)/c+4}t/=6}return e.h=t,e.s=i,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(Si={},function(e,t,i){return this.getHSL(Si),Si.h+=e,Si.s+=t,Si.l+=i,this.setHSL(Si.h,Si.s,Si.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:(Ei={h:0,s:0,l:0},Mi={h:0,s:0,l:0},function(e,t){this.getHSL(Ei),e.getHSL(Mi);var i=Gt.lerp(Ei.h,Mi.h,t),r=Gt.lerp(Ei.s,Mi.s,t),n=Gt.lerp(Ei.l,Mi.l,t);return this.setHSL(i,r,n),this}),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Ri,Li={common:{diffuse:{value:new Ai(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Xt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ai(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Ai(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Xt}},sprite:{diffuse:{value:new Ai(15658734)},opacity:{value:1},center:{value:new Vt(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Xt}}},Pi={basic:{uniforms:xi([Li.common,Li.specularmap,Li.envmap,Li.aomap,Li.lightmap,Li.fog]),vertexShader:wi.meshbasic_vert,fragmentShader:wi.meshbasic_frag},lambert:{uniforms:xi([Li.common,Li.specularmap,Li.envmap,Li.aomap,Li.lightmap,Li.emissivemap,Li.fog,Li.lights,{emissive:{value:new Ai(0)}}]),vertexShader:wi.meshlambert_vert,fragmentShader:wi.meshlambert_frag},phong:{uniforms:xi([Li.common,Li.specularmap,Li.envmap,Li.aomap,Li.lightmap,Li.emissivemap,Li.bumpmap,Li.normalmap,Li.displacementmap,Li.gradientmap,Li.fog,Li.lights,{emissive:{value:new Ai(0)},specular:{value:new Ai(1118481)},shininess:{value:30}}]),vertexShader:wi.meshphong_vert,fragmentShader:wi.meshphong_frag},standard:{uniforms:xi([Li.common,Li.envmap,Li.aomap,Li.lightmap,Li.emissivemap,Li.bumpmap,Li.normalmap,Li.displacementmap,Li.roughnessmap,Li.metalnessmap,Li.fog,Li.lights,{emissive:{value:new Ai(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:wi.meshphysical_vert,fragmentShader:wi.meshphysical_frag},matcap:{uniforms:xi([Li.common,Li.bumpmap,Li.normalmap,Li.displacementmap,Li.fog,{matcap:{value:null}}]),vertexShader:wi.meshmatcap_vert,fragmentShader:wi.meshmatcap_frag},points:{uniforms:xi([Li.points,Li.fog]),vertexShader:wi.points_vert,fragmentShader:wi.points_frag},dashed:{uniforms:xi([Li.common,Li.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wi.linedashed_vert,fragmentShader:wi.linedashed_frag},depth:{uniforms:xi([Li.common,Li.displacementmap]),vertexShader:wi.depth_vert,fragmentShader:wi.depth_frag},normal:{uniforms:xi([Li.common,Li.bumpmap,Li.normalmap,Li.displacementmap,{opacity:{value:1}}]),vertexShader:wi.normal_vert,fragmentShader:wi.normal_frag},sprite:{uniforms:xi([Li.sprite,Li.fog]),vertexShader:wi.sprite_vert,fragmentShader:wi.sprite_frag},background:{uniforms:{uvTransform:{value:new Xt},t2D:{value:null}},vertexShader:wi.background_vert,fragmentShader:wi.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wi.cube_vert,fragmentShader:wi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wi.equirect_vert,fragmentShader:wi.equirect_frag},distanceRGBA:{uniforms:xi([Li.common,Li.displacementmap,{referencePosition:{value:new Wt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wi.distanceRGBA_vert,fragmentShader:wi.distanceRGBA_frag},shadow:{uniforms:xi([Li.lights,Li.fog,{color:{value:new Ai(0)},opacity:{value:1}}]),vertexShader:wi.shadow_vert,fragmentShader:wi.shadow_frag}};function Ci(){var e=null,t=!1,i=null;function r(n,a){!1!==t&&(i(n,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==i&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){i=e},setContext:function(t){e=t}}}function Oi(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=t.get(i);r&&(e.deleteBuffer(r.buffer),t.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=t.get(i);void 0===n?t.set(i,function(t,i){var r=t.array,n=t.dynamic?35048:35044,a=e.createBuffer();e.bindBuffer(i,a),e.bufferData(i,r,n),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(i,r)):n.version<i.version&&(function(t,i,r){var n=i.array,a=i.updateRange;e.bindBuffer(r,t),!1===i.dynamic?e.bufferData(r,n,35044):-1===a.count?e.bufferSubData(r,0,n):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function Ii(e,t,i,r,n,a){this.a=e,this.b=t,this.c=i,this.normal=r&&r.isVector3?r:new Wt,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new Ai,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function Ni(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._order=r||Ni.DefaultOrder}function Di(){this.mask=1}Pi.physical={uniforms:xi([Pi.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:wi.meshphysical_vert,fragmentShader:wi.meshphysical_frag},Object.assign(Ii.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),Ni.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ni.DefaultOrder="XYZ",Object.defineProperties(Ni.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Ni.prototype,{isEuler:!0,set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var r=Gt.clamp,n=e.elements,a=n[0],o=n[4],s=n[8],l=n[1],c=n[5],u=n[9],f=n[2],h=n[6],d=n[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===t?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new bi;return function(t,i,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,i,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(Ri=new jt,function(e){return Ri.setFromEuler(this),this.setFromQuaternion(Ri,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Wt(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Di.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Fi,Bi,Ui,zi,Hi=0;function Gi(){Object.defineProperty(this,"id",{value:Hi++}),this.uuid=Gt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gi.DefaultUp.clone();var e=new Wt,t=new Ni,i=new jt,r=new Wt(1,1,1);t.onChange(function(){i.setFromEuler(t,!1)}),i.onChange(function(){t.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new bi},normalMatrix:{value:new Xt}}),this.matrix=new bi,this.matrixWorld=new bi,this.matrixAutoUpdate=Gi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Di,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Gi.DefaultUp=new Wt(0,1,0),Gi.DefaultMatrixAutoUpdate=!0,Gi.prototype=Object.assign(Object.create(r.prototype),{constructor:Gi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(zi=new jt,function(e,t){return zi.setFromAxisAngle(e,t),this.quaternion.multiply(zi),this}),rotateOnWorldAxis:function(){var e=new jt;return function(t,i){return e.setFromAxisAngle(t,i),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new Wt(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new Wt(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new Wt(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new Wt;return function(t,i){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(i)),this}}(),translateX:function(){var e=new Wt(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new Wt(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new Wt(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Ui=new bi,function(e){return e.applyMatrix4(Ui.getInverse(this.matrixWorld))}),lookAt:function(){var e=new jt,t=new bi,i=new Wt,r=new Wt;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,i,this.up):t.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var i=this.children.indexOf(e);return-1!==i&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(e,t);if(void 0!==n)return n}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Wt),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Fi=new Wt,Bi=new Wt,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new jt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Fi,e,Bi),e}),getWorldScale:function(){var e=new Wt,t=new jt;return function(i){return void 0===i&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),i=new Wt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,i),i}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Wt),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var i=this.parent;if(!0===e&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(t,i){return void 0===t[i.uuid]&&(t[i.uuid]=i.toJSON(e)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==kt&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];n(e.shapes,c)}else n(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,l=this.material.length;s<l;s++)u.push(n(e.materials,this.material[s]));r.material=u}else r.material=n(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var f=m(e.geometries),h=m(e.materials),d=m(e.textures),p=m(e.images);o=m(e.shapes);f.length>0&&(i.geometries=f),h.length>0&&(i.materials=h),d.length>0&&(i.textures=d),p.length>0&&(i.images=p),o.length>0&&(i.shapes=o)}return i.object=r,i;function m(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var i=0;i<e.children.length;i++){var r=e.children[i];this.add(r.clone())}return this}});var Vi,ji,Wi=0;function Xi(){Object.defineProperty(this,"id",{value:Wi+=2}),this.uuid=Gt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function qi(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Yi(e,t,i){qi.call(this,new Int8Array(e),t,i)}function Ji(e,t,i){qi.call(this,new Uint8Array(e),t,i)}function Zi(e,t,i){qi.call(this,new Uint8ClampedArray(e),t,i)}function Ki(e,t,i){qi.call(this,new Int16Array(e),t,i)}function Qi(e,t,i){qi.call(this,new Uint16Array(e),t,i)}function $i(e,t,i){qi.call(this,new Int32Array(e),t,i)}function er(e,t,i){qi.call(this,new Uint32Array(e),t,i)}function tr(e,t,i){qi.call(this,new Float32Array(e),t,i)}function ir(e,t,i){qi.call(this,new Float64Array(e),t,i)}function rr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function nr(e){if(0===e.length)return-1/0;for(var t=e[0],i=1,r=e.length;i<r;++i)e[i]>t&&(t=e[i]);return t}Xi.prototype=Object.assign(Object.create(r.prototype),{constructor:Xi,isGeometry:!0,applyMatrix:function(e){for(var t=(new Xt).getNormalMatrix(e),i=0,r=this.vertices.length;i<r;i++){this.vertices[i].applyMatrix4(e)}for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(t).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new bi;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new bi;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new bi;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new bi;return function(t,i,r){return e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e=new bi;return function(t,i,r){return e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:(ji=new Gi,function(e){ji.lookAt(e),ji.updateMatrix(),this.applyMatrix(ji.matrix)}),fromBufferGeometry:function(e){var t=this,i=null!==e.index?e.index.array:void 0,r=e.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0,u=0;c<n.length;c+=3,u+=2)t.vertices.push((new Wt).fromArray(n,c)),void 0!==o&&t.colors.push((new Ai).fromArray(o,c));function f(e,i,r,n){var c=void 0===o?[]:[t.colors[e].clone(),t.colors[i].clone(),t.colors[r].clone()],u=new Ii(e,i,r,void 0===a?[]:[(new Wt).fromArray(a,3*e),(new Wt).fromArray(a,3*i),(new Wt).fromArray(a,3*r)],c,n);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new Vt).fromArray(s,2*e),(new Vt).fromArray(s,2*i),(new Vt).fromArray(s,2*r)]),void 0!==l&&t.faceVertexUvs[1].push([(new Vt).fromArray(l,2*e),(new Vt).fromArray(l,2*i),(new Vt).fromArray(l,2*r)])}var h=e.groups;if(h.length>0)for(c=0;c<h.length;c++)for(var d=h[c],p=d.start,m=(u=p,p+d.count);u<m;u+=3)void 0!==i?f(i[u],i[u+1],i[u+2],d.materialIndex):f(u,u+1,u+2,d.materialIndex);else if(void 0!==i)for(c=0;c<i.length;c+=3)f(i[c],i[c+1],i[c+2]);else for(c=0;c<n.length/3;c+=3)f(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(Vi=new Wt,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vi).negate(),this.translate(Vi.x,Vi.y,Vi.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,r=new bi;return r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new Wt,t=new Wt,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),n.normal.copy(e)}},computeVertexNormals:function(e){var t,i,r,n,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)o[t]=new Wt;if(e){var s,l,c,u=new Wt,f=new Wt;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c],u.subVectors(c,l),f.subVectors(s,l),u.cross(f),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,i=this.vertices.length;t<i;t++)o[t].normalize();for(r=0,n=this.faces.length;r<n;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,i;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(i=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var a=new Xi;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)l=new Wt,c={a:new Wt,b:new Wt,c:new Wt},o.push(l),s.push(c)}var l,c,u=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],l=u.faceNormals[i],c=u.vertexNormals[i],l.copy(n.normal),c.a.copy(n.vertexNormals[0]),c.b.copy(n.vertexNormals[1]),c.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new mi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e&&e.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],u=e.faceVertexUvs[0],f=this.colors,h=e.colors;void 0===i&&(i=0),void 0!==t&&(r=(new Xt).getNormalMatrix(t));for(var d=0,p=o.length;d<p;d++){var m=o[d].clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(d=0,p=h.length;d<p;d++)f.push(h[d].clone());for(d=0,p=l.length;d<p;d++){var v,g,y,b=l[d],w=b.vertexNormals,_=b.vertexColors;(v=new Ii(b.a+n,b.b+n,b.c+n)).normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var x=0,E=w.length;x<E;x++)g=w[x].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(b.color);for(x=0,E=_.length;x<E;x++)y=_[x],v.vertexColors.push(y.clone());v.materialIndex=b.materialIndex+i,s.push(v)}for(d=0,p=u.length;d<p;d++){var M=u[d],S=[];if(void 0!==M){for(x=0,E=M.length;x<E;x++)S.push(M[x].clone());c.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,i,r,n,a,o,s,l={},c=[],u=[],f=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)e=this.vertices[i],void 0===l[t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f)]?(l[t]=i,c.push(this.vertices[i]),u[i]=c.length-1):u[i]=u[l[t]];var h=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=u[n.a],n.b=u[n.b],n.c=u[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){h.push(i);break}}for(i=h.length-1;i>=0;i--){var p=h[i];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,i=e.length;t<i;t++){var r=e[t];this.vertices.push(new Wt(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,i=0;i<t;i++)e[i]._id=i;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(n=[]);for(i=0;i<t;i++){var s=e[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],l={},c=[],u={},f=[],h={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],p=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=E(b,0,0),b=E(b,1,!0),b=E(b,2,!1),b=E(b,3,p),b=E(b,4,m),b=E(b,5,v),b=E(b,6,g),b=E(b,7,y),o.push(b),o.push(d.a,d.b,d.c),o.push(d.materialIndex),p){var w=this.faceVertexUvs[0][n];o.push(T(w[0]),T(w[1]),T(w[2]))}if(m&&o.push(M(d.normal)),v){var _=d.vertexNormals;o.push(M(_[0]),M(_[1]),M(_[2]))}if(g&&o.push(S(d.color)),y){var x=d.vertexColors;o.push(S(x[0]),S(x[1]),S(x[2]))}}function E(e,t,i){return i?e|1<<t:e&~(1<<t)}function M(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]?l[t]:(l[t]=s.length/3,s.push(e.x,e.y,e.z),l[t])}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]?u[t]:(u[t]=c.length,c.push(e.getHex()),u[t])}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),f.length>0&&(e.data.uvs=[f]),e.data.faces=o,e},clone:function(){return(new Xi).copy(this)},copy:function(e){var t,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,i=s.length;t<i;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,i=l.length;t<i;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,i=c.length;t<i;t++)this.faces.push(c[t].clone());for(t=0,i=e.faceVertexUvs.length;t<i;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,n=u.length;r<n;r++){var f=u[r],h=[];for(a=0,o=f.length;a<o;a++){var d=f[a];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,i=p.length;t<i;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,n=p[t].vertices.length;r<n;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,n=p[t].normals.length;r<n;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,i=v.length;t<i;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,n=v[t].vertexNormals.length;r<n;r++){var y=v[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,n=v[t].faceNormals.length;r<n;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var w=e.skinWeights;for(t=0,i=w.length;t<i;t++)this.skinWeights.push(w[t].clone());var _=e.skinIndices;for(t=0,i=_.length;t<i;t++)this.skinIndices.push(_[t].clone());var x=e.lineDistances;for(t=0,i=x.length;t<i;t++)this.lineDistances.push(x[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=e.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(qi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(qi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[e+r]=t.array[i+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Ai),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Vt),t[i++]=a.x,t[i++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Wt),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new ui),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this},setXYZW:function(e,t,i,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=n,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Yi.prototype=Object.create(qi.prototype),Yi.prototype.constructor=Yi,Ji.prototype=Object.create(qi.prototype),Ji.prototype.constructor=Ji,Zi.prototype=Object.create(qi.prototype),Zi.prototype.constructor=Zi,Ki.prototype=Object.create(qi.prototype),Ki.prototype.constructor=Ki,Qi.prototype=Object.create(qi.prototype),Qi.prototype.constructor=Qi,$i.prototype=Object.create(qi.prototype),$i.prototype.constructor=$i,er.prototype=Object.create(qi.prototype),er.prototype.constructor=er,tr.prototype=Object.create(qi.prototype),tr.prototype.constructor=tr,ir.prototype=Object.create(qi.prototype),ir.prototype.constructor=ir,Object.assign(rr.prototype,{computeGroups:function(e){for(var t,i=[],r=void 0,n=e.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,i.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,i.push(t)),this.groups=i},fromGeometry:function(e){var t,i=e.faces,r=e.vertices,n=e.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var c=0;c<l;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var u,f=e.morphNormals,h=f.length;if(h>0){u=[];for(c=0;c<h;c++)u[c]={name:f[c].name,data:[]};this.morphTargets.normal=u}var d=e.skinIndices,p=e.skinWeights,m=d.length===r.length,v=p.length===r.length;r.length>0&&0===i.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(c=0;c<i.length;c++){var g=i[c];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var w,_=g.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var x=g.color;this.colors.push(x,x,x)}if(!0===a)void 0!==(w=n[0][c])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Vt,new Vt,new Vt));if(!0===o)void 0!==(w=n[1][c])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Vt,new Vt,new Vt));for(var E=0;E<l;E++){var M=s[E].vertices;t[E].data.push(M[g.a],M[g.b],M[g.c])}for(E=0;E<h;E++){var S=f[E].vertexNormals[c];u[E].data.push(S.a,S.b,S.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var ar=1;function or(){Object.defineProperty(this,"id",{value:ar+=2}),this.uuid=Gt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function sr(e,t,i,r,n,a){Xi.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new lr(e,t,i,r,n,a)),this.mergeVertices()}function lr(e,t,i,r,n,a){or.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;e=e||1,t=t||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],l=[],c=[],u=[],f=0,h=0;function d(e,t,i,r,n,a,d,p,m,v,g){var y,b,w=a/m,_=d/v,x=a/2,E=d/2,M=p/2,S=m+1,T=v+1,k=0,A=0,R=new Wt;for(b=0;b<T;b++){var L=b*_-E;for(y=0;y<S;y++){var P=y*w-x;R[e]=P*r,R[t]=L*n,R[i]=M,l.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[i]=p>0?1:-1,c.push(R.x,R.y,R.z),u.push(y/m),u.push(1-b/v),k+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var C=f+y+S*b,O=f+y+S*(b+1),I=f+(y+1)+S*(b+1),N=f+(y+1)+S*b;s.push(C,O,N),s.push(O,I,N),A+=6}o.addGroup(h,A,g),h+=A,f+=k}d("z","y","x",-1,-1,i,t,e,a,n,0),d("z","y","x",1,-1,i,t,-e,a,n,1),d("x","z","y",1,1,e,i,t,r,a,2),d("x","z","y",1,-1,e,i,-t,r,a,3),d("x","y","z",1,-1,e,t,i,r,n,4),d("x","y","z",-1,-1,e,t,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new tr(l,3)),this.addAttribute("normal",new tr(c,3)),this.addAttribute("uv",new tr(u,2))}function cr(e,t,i,r){Xi.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new ur(e,t,i,r)),this.mergeVertices()}function ur(e,t,i,r){or.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};var n,a,o=(e=e||1)/2,s=(t=t||1)/2,l=Math.floor(i)||1,c=Math.floor(r)||1,u=l+1,f=c+1,h=e/l,d=t/c,p=[],m=[],v=[],g=[];for(a=0;a<f;a++){var y=a*d-s;for(n=0;n<u;n++){var b=n*h-o;m.push(b,-y,0),v.push(0,0,1),g.push(n/l),g.push(1-a/c)}}for(a=0;a<c;a++)for(n=0;n<l;n++){var w=n+u*a,_=n+u*(a+1),x=n+1+u*(a+1),E=n+1+u*a;p.push(w,_,E),p.push(_,x,E)}this.setIndex(p),this.addAttribute("position",new tr(m,3)),this.addAttribute("normal",new tr(v,3)),this.addAttribute("uv",new tr(g,2))}or.prototype=Object.assign(Object.create(r.prototype),{constructor:or,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(nr(e)>65535?er:Qi)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new qi(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new Xt).getNormalMatrix(e).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new Xt).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new bi;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new bi;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new bi;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new bi;return function(t,i,r){return e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e=new bi;return function(t,i,r){return e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Gi;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new Wt;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var i=new tr(3*t.vertices.length,3),r=new tr(3*t.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var n=new tr(t.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i];t.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new tr(t,3)),this},updateFromObject:function(e){var t,i=e.geometry;if(e.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(i.vertices),t.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(i.normals),t.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(i.colors),t.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(i.uvs),t.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(i.lineDistances),t.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(e.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new rr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new qi(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var i=new Float32Array(3*e.normals.length);this.addAttribute("normal",new qi(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new qi(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var n=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new qi(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new qi(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[o],c=0,u=l.length;c<u;c++){var f=l[c],h=new tr(3*f.data.length,3);h.name=f.name,s.push(h.copyVector3sArray(f.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var d=new tr(4*e.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new tr(4*e.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){var e=new mi;return function(){null===this.boundingBox&&(this.boundingBox=new mi);var t=this.attributes.position,i=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];e.setFromBufferAttribute(a),this.boundingBox.expandByPoint(e.min),this.boundingBox.expandByPoint(e.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new mi,t=new mi,i=new Wt;return function(){null===this.boundingSphere&&(this.boundingSphere=new vi);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(e.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var l=n[o];t.setFromBufferAttribute(l),e.expandByPoint(t.min),e.expandByPoint(t.max)}e.getCenter(a);var c=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),c=Math.max(c,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var u=0,f=(l=n[o]).count;u<f;u++)i.fromBufferAttribute(l,u),c=Math.max(c,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(c),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new qi(new Float32Array(i.length),3));else for(var r=t.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,l,c=t.normal.array,u=new Wt,f=new Wt,h=new Wt,d=new Wt,p=new Wt;if(e){var m=e.array;for(n=0,a=e.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],l=3*m[n+2],u.fromArray(i,o),f.fromArray(i,s),h.fromArray(i,l),d.subVectors(h,f),p.subVectors(u,f),d.cross(p),c[o]+=d.x,c[o+1]+=d.y,c[o+2]+=d.z,c[s]+=d.x,c[s+1]+=d.y,c[s+2]+=d.z,c[l]+=d.x,c[l+1]+=d.y,c[l+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)u.fromArray(i,n),f.fromArray(i,n+3),h.fromArray(i,n+6),d.subVectors(h,f),p.subVectors(u,f),d.cross(p),c[n]=d.x,c[n+1]=d.y,c[n+2]=d.z,c[n+3]=d.x,c[n+4]=d.y,c[n+5]=d.z,c[n+6]=d.x,c[n+7]=d.y,c[n+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var r in i)if(void 0!==e.attributes[r])for(var n=i[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,l=Math.min(o.length,n.length-s),c=0,u=s;c<l;c++,u++)n[u]=o[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new Wt;return function(){for(var t=this.attributes.normal,i=0,r=t.count;i<r;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.normalize(),t.setXYZ(i,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var i=e.array,r=e.itemSize,n=new i.constructor(t.length*r),a=0,o=0,s=0,l=t.length;s<l;s++){a=t[s]*r;for(var c=0;c<r;c++)n[o++]=i[a++]}return new qi(n,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new or,i=this.index.array,r=this.attributes;for(var n in r){var a=e(r[n],i);t.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],l=o[n],c=0,u=l.length;c<u;c++){a=e(l[c],i);s.push(a)}t.morphAttributes[n]=s}for(var f=this.groups,h=(c=0,f.length);c<h;c++){var d=f[c];t.addGroup(d.start,d.count,d.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a={itemSize:(h=n[i]).itemSize,type:h.array.constructor.name,array:Array.prototype.slice.call(h.array),normalized:h.normalized};""!==h.name&&(a.name=h.name),e.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var l=this.morphAttributes[i],c=[],u=0,f=l.length;u<f;u++){var h;a={itemSize:(h=l[u]).itemSize,type:h.array.constructor.name,array:Array.prototype.slice.call(h.array),normalized:h.normalized};""!==h.name&&(a.name=h.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(e.data.morphAttributes=o);var d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new or).copy(this)},copy:function(e){var t,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var l=[],c=s[t];for(i=0,r=c.length;i<r;i++)l.push(c[i].clone());this.morphAttributes[t]=l}var u=e.groups;for(i=0,r=u.length;i<r;i++){var f=u[i];this.addGroup(f.start,f.count,f.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),sr.prototype=Object.create(Xi.prototype),sr.prototype.constructor=sr,lr.prototype=Object.create(or.prototype),lr.prototype.constructor=lr,cr.prototype=Object.create(Xi.prototype),cr.prototype.constructor=cr,ur.prototype=Object.create(or.prototype),ur.prototype.constructor=ur;var fr=0;function hr(){Object.defineProperty(this,"id",{value:fr++}),this.uuid=Gt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=k,this.side=y,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=E,this.opacity=1,this.transparent=!1,this.blendSrc=H,this.blendDst=G,this.blendEquation=C,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}hr.prototype=Object.assign(Object.create(r.prototype),{constructor:hr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===_;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==k&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==y&&(i.side=this.side),this.vertexColors!==E&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),t){var n=r(e.textures),a=r(e.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,i=null;if(null!==t){var r=t.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=t[n].clone()}return this.clippingPlanes=i,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var dr,pr,mr,vr,gr,yr,br,wr,_r,xr,Er,Mr,Sr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Tr="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function kr(e){hr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Sr,this.fragmentShader=Tr,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ar(e,t){this.origin=void 0!==e?e:new Wt,this.direction=void 0!==t?t:new Wt}function Rr(e,t,i){this.a=void 0!==e?e:new Wt,this.b=void 0!==t?t:new Wt,this.c=void 0!==i?i:new Wt}function Lr(e){hr.call(this),this.type="MeshBasicMaterial",this.color=new Ai(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Pr(e,t){Gi.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new or,this.material=void 0!==t?t:new Lr({color:16777215*Math.random()}),this.drawMode=kt,this.updateMorphTargets()}function Cr(e,t,i,r){var n,a,o=new Ai(0),s=0,l=null,c=0;function u(e,i){t.buffers.color.setClear(e.r,e.g,e.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),u(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(o,s=e)},render:function(t,r,f,h){var d=r.background,p=e.vr,m=p.getSession&&p.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(u(o,s),l=null,c=0):d&&d.isColor&&(u(d,1),h=!0,l=null,c=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Pr(new lr(1,1,1),new kr({type:"BackgroundCubeMaterial",uniforms:_i(Pi.cube.uniforms),vertexShader:Pi.cube.vertexShader,fragmentShader:Pi.cube.fragmentShader,side:b,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,l===d&&c===v.version||(a.material.needsUpdate=!0,l=d,c=v.version),t.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Pr(new ur(2,2),new kr({type:"BackgroundMaterial",uniforms:_i(Pi.background.uniforms),vertexShader:Pi.background.vertexShader,fragmentShader:Pi.background.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),l===d&&c===d.version||(n.material.needsUpdate=!0,l=d,c=d.version),t.unshift(n,n.geometry,n.material,0,0,null))}}}function Or(e,t,i,r){var n;this.setMode=function(e){n=e},this.render=function(t,r){e.drawArrays(n,t,r),i.update(r,n)},this.renderInstances=function(a,o,s){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Ir(e,t,i){var r;function n(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===i.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),d=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=u>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=t.get("EXT_texture_filter_anisotropic");return r=null!==i?e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function Nr(){var e=this,t=null,i=0,r=!1,n=!1,a=new gi,o=new Xt,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(t,i,r,n){var l=null!==t?t.length:0,c=null;if(0!==l){if(c=s.value,!0!==n||null===c){var u=r+4*l,f=i.matrixWorldInverse;o.getNormalMatrix(f),(null===c||c.length<u)&&(c=new Float32Array(u));for(var h=0,d=r;h!==l;++h,d+=4)a.copy(t[h]).applyMatrix4(f,o),a.normal.toArray(c,d),c[d+3]=a.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var o=0!==e.length||n||0!==i||r;return r=n,t=c(e,a,0),i=e.length,o},this.beginShadows=function(){n=!0,c(null)},this.endShadows=function(){n=!1,l()},this.setState=function(e,a,o,u,f,h){if(!r||null===e||0===e.length||n&&!o)n?c(null):l();else{var d=n?0:i,p=4*d,m=f.clippingState||null;s.value=m,m=c(e,u,p,h);for(var v=0;v!==p;++v)m[v]=t[v];f.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Dr(e){var t={};return{get:function(i){if(void 0!==t[i])return t[i];var r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),t[i]=r,r}}}function Fr(e,t,i){var r={},n={};function a(e){var o=e.target,s=r[o.id];for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);o.removeEventListener("dispose",a),delete r[o.id];var c=n[s.id];c&&(t.remove(c),delete n[s.id]),i.memory.geometries--}return{get:function(e,t){var n=r[t.id];return n||(t.addEventListener("dispose",a),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new or).setFromObject(e)),n=t._bufferGeometry),r[t.id]=n,i.memory.geometries++,n)},update:function(e){var i=e.index,r=e.attributes;for(var n in null!==i&&t.update(i,34963),r)t.update(r[n],34962);var a=e.morphAttributes;for(var n in a)for(var o=a[n],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var i=n[e.id];if(i)return i;var r,a=[],o=e.index,s=e.attributes;if(null!==o)for(var l=0,c=(r=o.array).length;l<c;l+=3){var u=r[l+0],f=r[l+1],h=r[l+2];a.push(u,f,f,h,h,u)}else for(l=0,c=(r=s.position.array).length/3-1;l<c;l+=3)u=l+0,f=l+1,h=l+2,a.push(u,f,f,h,h,u);return i=new(nr(a)>65535?er:Qi)(a,1),t.update(i,34963),n[e.id]=i,i}}}function Br(e,t,i,r){var n,a,o;this.setMode=function(e){n=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(n,r,a,t*o),i.update(r,n)},this.renderInstances=function(s,l,c){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,c,a,l*o,s.maxInstancedCount),i.update(c,n,s.maxInstancedCount)}}function Ur(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,i,r){switch(r=r||1,t.calls++,i){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function zr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Hr(e){var t={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,l=s.length,c=t[n.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[n.id]=c}var f=a.morphTargets&&n.morphAttributes.position,h=a.morphNormals&&n.morphAttributes.normal;for(u=0;u<l;u++)0!==(d=c[u])[1]&&(f&&n.removeAttribute("morphTarget"+u),h&&n.removeAttribute("morphNormal"+u));for(u=0;u<l;u++)(d=c[u])[0]=u,d[1]=s[u];for(c.sort(zr),u=0;u<8;u++){var d;if(d=c[u]){var p=d[0],m=d[1];if(m){f&&n.addAttribute("morphTarget"+u,f[p]),h&&n.addAttribute("morphNormal"+u,h[p]),i[u]=m;continue}}i[u]=0}o.getUniforms().setValue(e,"morphTargetInfluences",i)}}}function Gr(e,t){var i={};return{update:function(r){var n=t.render.frame,a=r.geometry,o=e.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),e.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function Vr(e,t,i,r,n,a,o,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:he,o=void 0!==o?o:He,ci.call(this,e,t,i,r,n,a,o,s,l,c),this.flipY=!1}function jr(e,t,i,r){ci.call(this,null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=xe,this.minFilter=xe,this.wrapR=we,this.generateMipmaps=!1,this.flipY=!1}function Wr(e,t,i,r){ci.call(this,null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=xe,this.minFilter=xe,this.wrapR=we,this.generateMipmaps=!1,this.flipY=!1}kr.prototype=Object.create(hr.prototype),kr.prototype.constructor=kr,kr.prototype.isShaderMaterial=!0,kr.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_i(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},kr.prototype.toJSON=function(e){var t=hr.prototype.toJSON.call(this,e);for(var i in t.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return Object.keys(n).length>0&&(t.extensions=n),t},Object.assign(Ar.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Wt),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new Wt;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Wt),t.subVectors(e,this.origin);var i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new Wt;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(pr=new Wt,mr=new Wt,vr=new Wt,function(e,t,i,r){pr.copy(e).add(t).multiplyScalar(.5),mr.copy(t).sub(e).normalize(),vr.copy(this.origin).sub(pr);var n,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(mr),u=vr.dot(this.direction),f=-vr.dot(mr),h=vr.lengthSq(),d=Math.abs(1-c*c);if(d>0)if(a=c*u-f,s=l*d,(n=c*f-u)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(n*=p)*(n+c*(a*=p)+2*u)+a*(c*n+a+2*f)+h}else a=l,o=-(n=Math.max(0,-(c*a+u)))*n+a*(a+2*f)+h;else a=-l,o=-(n=Math.max(0,-(c*a+u)))*n+a*(a+2*f)+h;else a<=-s?o=-(n=Math.max(0,-(-c*l+u)))*n+(a=n>0?-l:Math.min(Math.max(-l,-f),l))*(a+2*f)+h:a<=s?(n=0,o=(a=Math.min(Math.max(-l,-f),l))*(a+2*f)+h):o=-(n=Math.max(0,-(c*l+u)))*n+(a=n>0?l:Math.min(Math.max(-l,-f),l))*(a+2*f)+h;else a=c>0?-l:l,o=-(n=Math.max(0,-(c*a+u)))*n+a*(a+2*f)+h;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(mr).multiplyScalar(a).add(pr),o}),intersectSphere:function(){var e=new Wt;return function(t,i){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),n=e.dot(e)-r*r,a=t.radius*t.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var i,r,n,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,f=this.origin;return l>=0?(i=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(i=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),c>=0?(n=(e.min.y-f.y)*c,a=(e.max.y-f.y)*c):(n=(e.max.y-f.y)*c,a=(e.min.y-f.y)*c),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),u>=0?(o=(e.min.z-f.z)*u,s=(e.max.z-f.z)*u):(o=(e.max.z-f.z)*u,s=(e.min.z-f.z)*u),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,t)))},intersectsBox:(dr=new Wt,function(e){return null!==this.intersectBox(e,dr)}),intersectTriangle:function(){var e=new Wt,t=new Wt,i=new Wt,r=new Wt;return function(n,a,o,s,l){t.subVectors(a,n),i.subVectors(o,n),r.crossVectors(t,i);var c,u=this.direction.dot(r);if(u>0){if(s)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,n);var f=c*this.direction.dot(i.crossVectors(e,i));if(f<0)return null;var h=c*this.direction.dot(t.cross(e));if(h<0)return null;if(f+h>u)return null;var d=-c*e.dot(r);return d<0?null:this.at(d/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Rr,{getNormal:(yr=new Wt,function(e,t,i,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Wt),r.subVectors(i,t),yr.subVectors(e,t),r.cross(yr);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var e=new Wt,t=new Wt,i=new Wt;return function(r,n,a,o,s){e.subVectors(o,n),t.subVectors(a,n),i.subVectors(r,n);var l=e.dot(e),c=e.dot(t),u=e.dot(i),f=t.dot(t),h=t.dot(i),d=l*f-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Wt),0===d)return s.set(-2,-1,-1);var p=1/d,m=(f*u-c*h)*p,v=(l*h-c*u)*p;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var e=new Wt;return function(t,i,r,n){return Rr.getBarycoord(t,i,r,n,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:(gr=new Wt,function(e,t,i,r,n,a,o,s){return this.getBarycoord(e,t,i,r,gr),s.set(0,0),s.addScaledVector(n,gr.x),s.addScaledVector(a,gr.y),s.addScaledVector(o,gr.z),s})}),Object.assign(Rr.prototype,{set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new Wt,t=new Wt;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Wt),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Rr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Wt),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Rr.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Rr.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,i,r,n){return Rr.getUV(e,this.a,this.b,this.c,t,i,r,n)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(br=new Wt,wr=new Wt,_r=new Wt,xr=new Wt,Er=new Wt,Mr=new Wt,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Wt);var i,r,n=this.a,a=this.b,o=this.c;br.subVectors(a,n),wr.subVectors(o,n),xr.subVectors(e,n);var s=br.dot(xr),l=wr.dot(xr);if(s<=0&&l<=0)return t.copy(n);Er.subVectors(e,a);var c=br.dot(Er),u=wr.dot(Er);if(c>=0&&u<=c)return t.copy(a);var f=s*u-c*l;if(f<=0&&s>=0&&c<=0)return i=s/(s-c),t.copy(n).addScaledVector(br,i);Mr.subVectors(e,o);var h=br.dot(Mr),d=wr.dot(Mr);if(d>=0&&h<=d)return t.copy(o);var p=h*l-s*d;if(p<=0&&l>=0&&d<=0)return r=l/(l-d),t.copy(n).addScaledVector(wr,r);var m=c*d-h*u;if(m<=0&&u-c>=0&&h-d>=0)return _r.subVectors(o,a),r=(u-c)/(u-c+(h-d)),t.copy(a).addScaledVector(_r,r);var v=1/(m+p+f);return i=p*v,r=f*v,t.copy(n).addScaledVector(br,i).addScaledVector(wr,r)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Lr.prototype=Object.create(hr.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isMeshBasicMaterial=!0,Lr.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Pr.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Pr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Gi.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=Object.keys(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)i=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new bi,t=new Ar,i=new vi,r=new Wt,n=new Wt,a=new Wt,o=new Wt,s=new Wt,l=new Wt,c=new Wt,u=new Wt,f=new Wt,h=new Vt,d=new Vt,p=new Vt,m=new Wt,v=new Wt;function g(e,t,i,r,n,a,o,s){if(null===(t.side===b?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,t.side!==w,s)))return null;v.copy(s),v.applyMatrix4(e.matrixWorld);var l=i.ray.origin.distanceTo(v);return l<i.near||l>i.far?null:{distance:l,point:v.clone(),object:e}}function y(e,t,i,v,y,b,w,_,x,E){r.fromBufferAttribute(y,_),n.fromBufferAttribute(y,x),a.fromBufferAttribute(y,E);var M=e.morphTargetInfluences;if(t.morphTargets&&b&&M){c.set(0,0,0),u.set(0,0,0),f.set(0,0,0);for(var S=0,T=b.length;S<T;S++){var k=M[S],A=b[S];0!==k&&(o.fromBufferAttribute(A,_),s.fromBufferAttribute(A,x),l.fromBufferAttribute(A,E),c.addScaledVector(o.sub(r),k),u.addScaledVector(s.sub(n),k),f.addScaledVector(l.sub(a),k))}r.add(c),n.add(u),a.add(f)}var R=g(e,t,i,v,r,n,a,m);if(R){w&&(h.fromBufferAttribute(w,_),d.fromBufferAttribute(w,x),p.fromBufferAttribute(w,E),R.uv=Rr.getUV(m,r,n,a,h,d,p,new Vt));var L=new Ii(_,x,E);Rr.getNormal(r,n,a,L.normal),R.face=L}return R}return function(r,n){var a,o=this.geometry,s=this.material,l=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(l),!1!==r.ray.intersectsSphere(i)&&(e.getInverse(l),t.copy(r.ray).applyMatrix4(e),null===o.boundingBox||!1!==t.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var c,u,f,v,b,w,_,x,E,M=o.index,S=o.attributes.position,T=o.morphAttributes.position,k=o.attributes.uv,A=o.groups,R=o.drawRange;if(null!==M)if(Array.isArray(s))for(v=0,w=A.length;v<w;v++)for(E=s[(x=A[v]).materialIndex],b=Math.max(x.start,R.start),_=Math.min(x.start+x.count,R.start+R.count);b<_;b+=3)c=M.getX(b),u=M.getX(b+1),f=M.getX(b+2),(a=y(this,E,r,t,S,T,k,c,u,f))&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=x.materialIndex,n.push(a));else for(v=Math.max(0,R.start),w=Math.min(M.count,R.start+R.count);v<w;v+=3)c=M.getX(v),u=M.getX(v+1),f=M.getX(v+2),(a=y(this,s,r,t,S,T,k,c,u,f))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==S)if(Array.isArray(s))for(v=0,w=A.length;v<w;v++)for(E=s[(x=A[v]).materialIndex],b=Math.max(x.start,R.start),_=Math.min(x.start+x.count,R.start+R.count);b<_;b+=3)(a=y(this,E,r,t,S,T,k,c=b,u=b+1,f=b+2))&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=x.materialIndex,n.push(a));else for(v=Math.max(0,R.start),w=Math.min(S.count,R.start+R.count);v<w;v+=3)(a=y(this,s,r,t,S,T,k,c=v,u=v+1,f=v+2))&&(a.faceIndex=Math.floor(v/3),n.push(a))}else if(o.isGeometry){var L,P,C,O,I=Array.isArray(s),N=o.vertices,D=o.faces,F=o.faceVertexUvs[0];F.length>0&&(O=F);for(var B=0,U=D.length;B<U;B++){var z=D[B],H=I?s[z.materialIndex]:s;if(void 0!==H&&(L=N[z.a],P=N[z.b],C=N[z.c],a=g(this,H,r,t,L,P,C,m))){if(O&&O[B]){var G=O[B];h.copy(G[0]),d.copy(G[1]),p.copy(G[2]),a.uv=Rr.getUV(m,L,P,C,h,d,p,new Vt)}a.face=z,a.faceIndex=B,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Vr.prototype=Object.create(ci.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isCubeTexture=!0,Object.defineProperty(Vr.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),jr.prototype=Object.create(ci.prototype),jr.prototype.constructor=jr,jr.prototype.isDataTexture2DArray=!0,Wr.prototype=Object.create(ci.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isDataTexture3D=!0;var Xr=new ci,qr=new jr,Yr=new Wr,Jr=new Vr,Zr=[],Kr=[],Qr=new Float32Array(16),$r=new Float32Array(9),en=new Float32Array(4);function tn(e,t,i){var r=e[0];if(r<=0||r>0)return e;var n=t*i,a=Zr[n];if(void 0===a&&(a=new Float32Array(n),Zr[n]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=i,e[o].toArray(a,s)}return a}function rn(e,t){if(e.length!==t.length)return!1;for(var i=0,r=e.length;i<r;i++)if(e[i]!==t[i])return!1;return!0}function nn(e,t){for(var i=0,r=t.length;i<r;i++)e[i]=t[i]}function an(e,t){var i=Kr[t];void 0===i&&(i=new Int32Array(t),Kr[t]=i);for(var r=0;r!==t;++r)i[r]=e.allocateTextureUnit();return i}function on(e,t){var i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function sn(e,t){var i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function ln(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(rn(i,t))return;e.uniform2fv(this.addr,t),nn(i,t)}}function cn(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(void 0!==t.r)i[0]===t.r&&i[1]===t.g&&i[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(rn(i,t))return;e.uniform3fv(this.addr,t),nn(i,t)}}function un(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(rn(i,t))return;e.uniform4fv(this.addr,t),nn(i,t)}}function fn(e,t){var i=this.cache,r=t.elements;if(void 0===r){if(rn(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),nn(i,t)}else{if(rn(i,r))return;en.set(r),e.uniformMatrix2fv(this.addr,!1,en),nn(i,r)}}function hn(e,t){var i=this.cache,r=t.elements;if(void 0===r){if(rn(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),nn(i,t)}else{if(rn(i,r))return;$r.set(r),e.uniformMatrix3fv(this.addr,!1,$r),nn(i,r)}}function dn(e,t){var i=this.cache,r=t.elements;if(void 0===r){if(rn(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),nn(i,t)}else{if(rn(i,r))return;Qr.set(r),e.uniformMatrix4fv(this.addr,!1,Qr),nn(i,r)}}function pn(e,t,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(t||Xr,n)}function mn(e,t,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(t||qr,n)}function vn(e,t,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(t||Yr,n)}function gn(e,t,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(t||Jr,n)}function yn(e,t){var i=this.cache;rn(i,t)||(e.uniform2iv(this.addr,t),nn(i,t))}function bn(e,t){var i=this.cache;rn(i,t)||(e.uniform3iv(this.addr,t),nn(i,t))}function wn(e,t){var i=this.cache;rn(i,t)||(e.uniform4iv(this.addr,t),nn(i,t))}function _n(e,t){var i=this.cache;rn(i,t)||(e.uniform1fv(this.addr,t),nn(i,t))}function xn(e,t){var i=this.cache;rn(i,t)||(e.uniform1iv(this.addr,t),nn(i,t))}function En(e,t){var i=this.cache,r=tn(t,this.size,2);rn(i,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function Mn(e,t){var i=this.cache,r=tn(t,this.size,3);rn(i,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function Sn(e,t){var i=this.cache,r=tn(t,this.size,4);rn(i,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function Tn(e,t){var i=this.cache,r=tn(t,this.size,4);rn(i,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function kn(e,t){var i=this.cache,r=tn(t,this.size,9);rn(i,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function An(e,t){var i=this.cache,r=tn(t,this.size,16);rn(i,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Rn(e,t,i){var r=this.cache,n=t.length,a=an(i,n);!1===rn(r,a)&&(e.uniform1iv(this.addr,a),nn(r,a));for(var o=0;o!==n;++o)i.safeSetTexture2D(t[o]||Xr,a[o])}function Ln(e,t,i){var r=this.cache,n=t.length,a=an(i,n);!1===rn(r,a)&&(e.uniform1iv(this.addr,a),nn(r,a));for(var o=0;o!==n;++o)i.safeSetTextureCube(t[o]||Jr,a[o])}function Pn(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function(e){switch(e){case 5126:return on;case 35664:return ln;case 35665:return cn;case 35666:return un;case 35674:return fn;case 35675:return hn;case 35676:return dn;case 35678:case 36198:return pn;case 35679:return vn;case 35680:return gn;case 36289:return mn;case 5124:case 35670:return sn;case 35667:case 35671:return yn;case 35668:case 35672:return bn;case 35669:case 35673:return wn}}(t.type)}function Cn(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return _n;case 35664:return En;case 35665:return Mn;case 35666:return Sn;case 35674:return Tn;case 35675:return kn;case 35676:return An;case 35678:return Rn;case 35680:return Ln;case 5124:case 35670:return xn;case 35667:case 35671:return yn;case 35668:case 35672:return bn;case 35669:case 35673:return wn}}(t.type)}function On(e){this.id=e,this.seq=[],this.map={}}Cn.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),nn(t,e)},On.prototype.setValue=function(e,t,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(e,t[o.id],i)}};var In=/([\w\d_]+)(\])?(\[|\.)?/g;function Nn(e,t){e.seq.push(t),e.map[t.id]=t}function Dn(e,t,i){var r=e.name,n=r.length;for(In.lastIndex=0;;){var a=In.exec(r),o=In.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===n){Nn(i,void 0===c?new Pn(s,e,t):new Cn(s,e,t));break}var u=i.map[s];void 0===u&&Nn(i,u=new On(s)),i=u}}function Fn(e,t){this.seq=[],this.map={};for(var i=e.getProgramParameter(t,35718),r=0;r<i;++r){var n=e.getActiveUniform(t,r);Dn(n,e.getUniformLocation(t,n.name),this)}}function Bn(e,t,i,r){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),!0===r&&(!1===e.getShaderParameter(n,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(n),function(e){for(var t=e.split("\n"),i=0;i<t.length;i++)t[i]=i+1+": "+t[i];return t.join("\n")}(i))),n}Fn.prototype.setValue=function(e,t,i,r){var n=this.map[t];void 0!==n&&n.setValue(e,i,r)},Fn.prototype.setOptional=function(e,t,i){var r=t[i];void 0!==r&&this.setValue(e,i,r)},Fn.upload=function(e,t,i,r){for(var n=0,a=t.length;n!==a;++n){var o=t[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Fn.seqWithValue=function(e,t){for(var i=[],r=0,n=e.length;r!==n;++r){var a=e[r];a.id in t&&i.push(a)}return i};var Un=0;function zn(e){switch(e){case Lt:return["Linear","( value )"];case Pt:return["sRGB","( value )"];case Ot:return["RGBE","( value )"];case Nt:return["RGBM","( value, 7.0 )"];case Dt:return["RGBM","( value, 16.0 )"];case Ft:return["RGBD","( value, 256.0 )"];case Ct:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Hn(e,t){var i=zn(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Gn(e,t){var i;switch(t){case oe:i="Linear";break;case se:i="Reinhard";break;case le:i="Uncharted2";break;case ce:i="OptimizedCineon";break;case ue:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Vn(e){return""!==e}function jn(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Wn(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Xn(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,t){var i=wi[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return Xn(i)})}function qn(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,i,r){for(var n="",a=parseInt(t);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n})}function Yn(e,t,i,r,n,a,o,s){var l=e.context,c=r.defines,u=n.vertexShader,f=n.fragmentShader,h="SHADOWMAP_TYPE_BASIC";a.shadowMapType===v?h="SHADOWMAP_TYPE_PCF":a.shadowMapType===g&&(h="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",m="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case he:case de:d="ENVMAP_TYPE_CUBE";break;case ge:case ye:d="ENVMAP_TYPE_CUBE_UV";break;case pe:case me:d="ENVMAP_TYPE_EQUIREC";break;case ve:d="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case de:case me:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case ie:m="ENVMAP_BLENDING_MULTIPLY";break;case re:m="ENVMAP_BLENDING_MIX";break;case ne:m="ENVMAP_BLENDING_ADD"}}var y,b,w,_,x,E=e.gammaFactor>0?e.gammaFactor:1,M=o.isWebGL2?"":function(e,t,i){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vn).join("\n")}(r.extensions,a,t),S=function(e){var t=[];for(var i in e){var r=e[i];!1!==r&&t.push("#define "+i+" "+r)}return t.join("\n")}(c),T=l.createProgram();if(r.isRawShaderMaterial?((y=[S].filter(Vn).join("\n")).length>0&&(y+="\n"),(b=[M,S].filter(Vn).join("\n")).length>0&&(b+="\n")):(y=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,S,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vn).join("\n"),b=[M,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,S,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+E,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ae?"#define TONE_MAPPING":"",a.toneMapping!==ae?wi.tonemapping_pars_fragment:"",a.toneMapping!==ae?Gn("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?wi.encodings_pars_fragment:"",a.mapEncoding?Hn("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Hn("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Hn("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Hn("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(w="linearToOutputTexel",_=a.outputEncoding,x=zn(_),"vec4 "+w+"( vec4 value ) { return LinearTo"+x[0]+x[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Vn).join("\n")),u=Wn(u=jn(u=Xn(u),a),a),f=Wn(f=jn(f=Xn(f),a),a),u=qn(u),f=qn(f),o.isWebGL2&&!r.isRawShaderMaterial){var k=!1,A=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(A)&&null!==f.match(A)&&(k=!0,u=u.replace(A,""),f=f.replace(A,"")),y=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,b=["#version 300 es\n","#define varying in",k?"":"out highp vec4 pc_fragColor;",k?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b}var R,L,P=b+f,C=Bn(l,35633,y+u,e.debug.checkShaderErrors),O=Bn(l,35632,P,e.debug.checkShaderErrors);if(l.attachShader(T,C),l.attachShader(T,O),void 0!==r.index0AttributeName?l.bindAttribLocation(T,0,r.index0AttributeName):!0===a.morphTargets&&l.bindAttribLocation(T,0,"position"),l.linkProgram(T),e.debug.checkShaderErrors){var I=l.getProgramInfoLog(T).trim(),N=l.getShaderInfoLog(C).trim(),D=l.getShaderInfoLog(O).trim(),F=!0,B=!0;!1===l.getProgramParameter(T,35714)?(F=!1,console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(T,35715),"gl.getProgramInfoLog",I,N,D)):""!==I?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",I):""!==N&&""!==D||(B=!1),B&&(this.diagnostics={runnable:F,material:r,programLog:I,vertexShader:{log:N,prefix:y},fragmentShader:{log:D,prefix:b}})}return l.deleteShader(C),l.deleteShader(O),this.getUniforms=function(){return void 0===R&&(R=new Fn(l,T,s)),R},this.getAttributes=function(){return void 0===L&&(L=function(e,t){for(var i={},r=e.getProgramParameter(t,35721),n=0;n<r;n++){var a=e.getActiveAttrib(t,n).name;i[a]=e.getAttribLocation(t,a)}return i}(l,T)),L},this.destroy=function(){l.deleteProgram(T),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=n.name,this.id=Un++,this.code=i,this.usedTimes=1,this.program=T,this.vertexShader=C,this.fragmentShader=O,this}function Jn(e,t,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(e,t){var i;return e?e.isTexture?i=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=e.texture.encoding):i=Lt,i===Lt&&t&&(i=Ct),i}this.getParameters=function(t,r,n,o,l,c,u){var f=a[t.type],h=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(i.floatVertexTextures)return 1024;var r=i.maxVertexUniforms,n=Math.floor((r-20)/4),a=Math.min(n,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(u):0,d=i.precision;null!==t.precision&&(d=i.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",d,"instead.");var p=e.getRenderTarget();return{shaderID:f,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(p?p.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:s(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:s(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:s(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===ge||t.envMap.mapping===ye),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:s(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Ht,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,fog:!!o,useFog:t.fog,fogExp:o&&o.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:i.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&n.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===w,flipSided:t.side===b,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,l){for(var c,u=0,f=n.length;u<f;u++){var h=n[u];if(h.code===l){++(c=h).usedTimes;break}}return void 0===c&&(c=new Yn(e,t,l,a,o,s,i,r),n.push(c)),c},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n}function Zn(){var e=new WeakMap;return{get:function(t){var i=e.get(t);return void 0===i&&(i={},e.set(t,i)),i},remove:function(t){e.delete(t)},update:function(t,i,r){e.get(t)[i]=r},dispose:function(){e=new WeakMap}}}function Kn(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Qn(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function $n(){var e=[],t=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,l){var c=e[t];return void 0===c?(c={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:l},e[t]=c):(c.id=i.id,c.object=i,c.geometry=r,c.material=a,c.program=a.program||n,c.groupOrder=o,c.renderOrder=i.renderOrder,c.z=s,c.group=l),t++,c}return{opaque:i,transparent:r,init:function(){t=0,i.length=0,r.length=0},push:function(e,t,n,o,s,l){var c=a(e,t,n,o,s,l);(!0===n.transparent?r:i).push(c)},unshift:function(e,t,n,o,s,l){var c=a(e,t,n,o,s,l);(!0===n.transparent?r:i).unshift(c)},sort:function(){i.length>1&&i.sort(Kn),r.length>1&&r.sort(Qn)}}}function ea(){var e={};function t(i){var r=i.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(i,r){var n,a=e[i.id];return void 0===a?(n=new $n,e[i.id]={},e[i.id][r.id]=n,i.addEventListener("dispose",t)):void 0===(n=a[r.id])&&(n=new $n,a[r.id]=n),n},dispose:function(){e={}}}}function ta(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var i;switch(t.type){case"DirectionalLight":i={direction:new Wt,color:new Ai,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"SpotLight":i={position:new Wt,direction:new Wt,color:new Ai,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"PointLight":i={position:new Wt,color:new Ai,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Vt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new Wt,skyColor:new Ai,groundColor:new Ai};break;case"RectAreaLight":i={color:new Ai,position:new Wt,halfWidth:new Wt,halfHeight:new Wt}}return e[t.id]=i,i}}}var ia=0;function ra(){for(var e=new ta,t={id:ia++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)t.probe.push(new Wt);var r=new Wt,n=new bi,a=new bi;return{setup:function(i,o,s){for(var l=0,c=0,u=0,f=0;f<9;f++)t.probe[f].set(0,0,0);for(var h=0,d=0,p=0,m=0,v=0,g=s.matrixWorldInverse,y=(f=0,i.length);f<y;f++){var b=i[f],w=b.color,_=b.intensity,x=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=w.r*_,c+=w.g*_,u+=w.b*_;else if(b.isLightProbe)for(var M=0;M<9;M++)t.probe[M].addScaledVector(b.sh.coefficients[M],_);else if(b.isDirectionalLight){if((T=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),T.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=b.castShadow,b.castShadow){var S=b.shadow;T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize}t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=b.shadow.matrix,t.directional[h]=T,h++}else if(b.isSpotLight)(T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),T.color.copy(w).multiplyScalar(_),T.distance=x,T.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(b.angle),T.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),T.decay=b.decay,T.shadow=b.castShadow,b.castShadow&&(S=b.shadow,T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize),t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=T,p++;else if(b.isRectAreaLight)(T=e.get(b)).color.copy(w).multiplyScalar(_),T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(b.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*b.width,0,0),T.halfHeight.set(0,.5*b.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),t.rectArea[m]=T,m++;else if(b.isPointLight)(T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b.color).multiplyScalar(b.intensity),T.distance=b.distance,T.decay=b.decay,T.shadow=b.castShadow,b.castShadow&&(S=b.shadow,T.shadowBias=S.bias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize,T.shadowCameraNear=S.camera.near,T.shadowCameraFar=S.camera.far),t.pointShadowMap[d]=E,t.pointShadowMatrix[d]=b.shadow.matrix,t.point[d]=T,d++;else if(b.isHemisphereLight){var T;(T=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(b.color).multiplyScalar(_),T.groundColor.copy(b.groundColor).multiplyScalar(_),t.hemi[v]=T,v++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=h,t.spot.length=p,t.rectArea.length=m,t.point.length=d,t.hemi.length=v,t.hash.stateID=t.id,t.hash.directionalLength=h,t.hash.pointLength=d,t.hash.spotLength=p,t.hash.rectAreaLength=m,t.hash.hemiLength=v,t.hash.shadowsLength=o.length},state:t}}function na(){var e=new ra,t=[],i=[];return{init:function(){t.length=0,i.length=0},state:{lightsArray:t,shadowsArray:i,lights:e},setupLights:function(r){e.setup(t,i,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){i.push(e)}}}function aa(){var e={};function t(i){var r=i.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(i,r){var n;return void 0===e[i.id]?(n=new na,e[i.id]={},e[i.id][r.id]=n,i.addEventListener("dispose",t)):void 0===e[i.id][r.id]?(n=new na,e[i.id][r.id]=n):n=e[i.id][r.id],n},dispose:function(){e={}}}}function oa(e){hr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Bt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function sa(e){hr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Wt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function la(e,t,i){for(var r=new yi,n=new bi,a=new Vt,o=new Vt(i,i),s=new Wt,l=new Wt,c=1,u=2,f=1+(c|u),h=new Array(f),d=new Array(f),p={},m={0:b,1:y,2:w},g=[new Wt(1,0,0),new Wt(-1,0,0),new Wt(0,0,1),new Wt(0,0,-1),new Wt(0,1,0),new Wt(0,-1,0)],_=[new Wt(0,1,0),new Wt(0,1,0),new Wt(0,1,0),new Wt(0,1,0),new Wt(0,0,1),new Wt(0,0,-1)],x=[new ui,new ui,new ui,new ui,new ui,new ui],E=0;E!==f;++E){var M=0!=(E&c),S=0!=(E&u),k=new oa({depthPacking:Ut,morphTargets:M,skinning:S});h[E]=k;var A=new sa({morphTargets:M,skinning:S});d[E]=A}var R=this;function L(t,i,r,n,a,o){var s=t.geometry,l=null,f=h,v=t.customDepthMaterial;if(r&&(f=d,v=t.customDistanceMaterial),v)l=v;else{var g=!1;i.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===i.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var y=t.isSkinnedMesh&&i.skinning,b=0;g&&(b|=c),y&&(b|=u),l=f[b]}if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var w=l.uuid,_=i.uuid,x=p[w];void 0===x&&(x={},p[w]=x);var E=x[_];void 0===E&&(E=l.clone(),x[_]=E),l=E}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=null!=i.shadowSide?i.shadowSide:m[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(n),l.nearDistance=a,l.farDistance=o),l}function P(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=t.update(i),c=i.material;if(Array.isArray(c))for(var u=s.groups,f=0,h=u.length;f<h;f++){var d=u[f],p=c[d.materialIndex];if(p&&p.visible){var m=L(i,p,o,l,a.near,a.far);e.renderBufferDirect(a,null,s,m,i,d)}}else if(c.visible){m=L(i,c,o,l,a.near,a.far);e.renderBufferDirect(a,null,s,m,i,null)}}for(var v=i.children,g=0,y=v.length;g<y;g++)P(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v,this.render=function(t,i,c){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var u,f=e.getRenderTarget(),h=e.state;h.setBlending(T),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var m=t[d],v=m.shadow,y=m&&m.isPointLight;if(void 0!==v){var b=v.camera;if(a.copy(v.mapSize),a.min(o),y){var w=a.x,E=a.y;x[0].set(2*w,E,w,E),x[1].set(0,E,w,E),x[2].set(3*w,E,w,E),x[3].set(w,E,w,E),x[4].set(3*w,0,w,E),x[5].set(w,0,w,E),a.x*=4,a.y*=2}if(null===v.map){var M={minFilter:xe,magFilter:xe,format:Ge};v.map=new fi(a.x,a.y,M),v.map.texture.name=m.name+".shadowMap",b.updateProjectionMatrix()}v.isSpotLightShadow&&v.update(m);var S=v.map,k=v.matrix;l.setFromMatrixPosition(m.matrixWorld),b.position.copy(l),y?(u=6,k.makeTranslation(-l.x,-l.y,-l.z)):(u=1,s.setFromMatrixPosition(m.target.matrixWorld),b.lookAt(s),b.updateMatrixWorld(),k.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),k.multiply(b.projectionMatrix),k.multiply(b.matrixWorldInverse)),e.setRenderTarget(S),e.clear();for(var A=0;A<u;A++){if(y){s.copy(b.position),s.add(g[A]),b.up.copy(_[A]),b.lookAt(s),b.updateMatrixWorld();var L=x[A];h.viewport(L)}n.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),r.setFromMatrix(n),P(i,c,b,y)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}R.needsUpdate=!1,e.setRenderTarget(f)}}}function ca(e,t,i,r){var n=new function(){var t=!1,i=new ui,r=null,n=new ui(0,0,0,0);return{setMask:function(i){r===i||t||(e.colorMask(i,i,i,i),r=i)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),i.set(t,r,a,o),!1===n.equals(i)&&(e.clearColor(t,r,a,o),n.copy(i))},reset:function(){t=!1,r=null,n.set(-1,0,0,0)}}},a=new function(){var t=!1,i=null,r=null,n=null;return{setTest:function(e){e?ae(2929):oe(2929)},setMask:function(r){i===r||t||(e.depthMask(r),i=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case Y:e.depthFunc(512);break;case J:e.depthFunc(519);break;case Z:e.depthFunc(513);break;case K:e.depthFunc(515);break;case Q:e.depthFunc(514);break;case $:e.depthFunc(518);break;case ee:e.depthFunc(516);break;case te:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){n!==t&&(e.clearDepth(t),n=t)},reset:function(){t=!1,i=null,r=null,n=null}}},o=new function(){var t=!1,i=null,r=null,n=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){e?ae(2960):oe(2960)},setMask:function(r){i===r||t||(e.stencilMask(r),i=r)},setFunc:function(t,i,o){r===t&&n===i&&a===o||(e.stencilFunc(t,i,o),r=t,n=i,a=o)},setOp:function(t,i,r){o===t&&s===i&&l===r||(e.stencilOp(t,i,r),o=t,s=i,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,i=null,r=null,n=null,a=null,o=null,s=null,l=null,c=null}}},s=e.getParameter(34921),l=new Uint8Array(s),h=new Uint8Array(s),d=new Uint8Array(s),p={},m=null,v=null,g=null,y=null,_=null,x=null,E=null,M=null,S=null,O=null,I=!1,N=null,D=null,F=null,B=null,U=null,z=e.getParameter(35661),H=!1,G=0,V=e.getParameter(7938);-1!==V.indexOf("WebGL")?(G=parseFloat(/^WebGL\ ([0-9])/.exec(V)[1]),H=G>=1):-1!==V.indexOf("OpenGL ES")&&(G=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(V)[1]),H=G>=2);var j=null,W={},X=new ui,q=new ui;function ie(t,i,r){var n=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var re={};function ne(i,n){(l[i]=1,0===h[i]&&(e.enableVertexAttribArray(i),h[i]=1),d[i]!==n)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),d[i]=n)}function ae(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function oe(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}function se(t,r,n,a,o,s,l,c){if(t!==T){if(g||(ae(3042),g=!0),t===P)o=o||r,s=s||n,l=l||a,r===_&&o===M||(e.blendEquationSeparate(i.convert(r),i.convert(o)),_=r,M=o),n===x&&a===E&&s===S&&l===O||(e.blendFuncSeparate(i.convert(n),i.convert(a),i.convert(s),i.convert(l)),x=n,E=a,S=s,O=l),y=t,I=null;else if(t!==y||c!==I){if(_===C&&M===C||(e.blendEquation(32774),_=C,M=C),c)switch(t){case k:e.blendFuncSeparate(1,771,1,771);break;case A:e.blendFunc(1,1);break;case R:e.blendFuncSeparate(0,0,769,771);break;case L:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case k:e.blendFuncSeparate(770,771,1,771);break;case A:e.blendFunc(770,1);break;case R:e.blendFunc(0,769);break;case L:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}x=null,E=null,S=null,O=null,y=t,I=c}}else g&&(oe(3042),g=!1)}function le(t){N!==t&&(t?e.frontFace(2304):e.frontFace(2305),N=t)}function ce(t){t!==c?(ae(2884),t!==D&&(t===u?e.cullFace(1029):t===f?e.cullFace(1028):e.cullFace(1032))):oe(2884),D=t}function ue(t,i,r){t?(ae(32823),B===i&&U===r||(e.polygonOffset(i,r),B=i,U=r)):oe(32823)}function fe(t){void 0===t&&(t=33984+z-1),j!==t&&(e.activeTexture(t),j=t)}return re[3553]=ie(3553,3553,1),re[34067]=ie(34067,34069,6),n.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ae(2929),a.setFunc(K),le(!1),ce(u),ae(2884),se(T),{buffers:{color:n,depth:a,stencil:o},initAttributes:function(){for(var e=0,t=l.length;e<t;e++)l[e]=0},enableAttribute:function(e){ne(e,0)},enableAttributeAndDivisor:ne,disableUnusedAttributes:function(){for(var t=0,i=h.length;t!==i;++t)h[t]!==l[t]&&(e.disableVertexAttribArray(t),h[t]=0)},enable:ae,disable:oe,getCompressedTextureFormats:function(){if(null===m&&(m=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var i=e.getParameter(34467),r=0;r<i.length;r++)m.push(i[r]);return m},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:se,setMaterial:function(e,t){e.side===w?oe(2884):ae(2884);var i=e.side===b;t&&(i=!i),le(i),e.blending===k&&!1===e.transparent?se(T):se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),n.setMask(e.colorWrite),ue(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:le,setCullFace:ce,setLineWidth:function(t){t!==F&&(H&&e.lineWidth(t),F=t)},setPolygonOffset:ue,setScissorTest:function(e){e?ae(3089):oe(3089)},activeTexture:fe,bindTexture:function(t,i){null===j&&fe();var r=W[j];void 0===r&&(r={type:void 0,texture:void 0},W[j]=r),r.type===t&&r.texture===i||(e.bindTexture(t,i||re[t]),r.type=t,r.texture=i)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===X.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),X.copy(t))},viewport:function(t){!1===q.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),q.copy(t))},reset:function(){for(var t=0;t<h.length;t++)1===h[t]&&(e.disableVertexAttribArray(t),h[t]=0);p={},m=null,j=null,W={},v=null,y=null,N=null,D=null,n.reset(),a.reset(),o.reset()}}}function ua(e,t,i,r,n,a,o){var s,l={},c="undefined"!=typeof OffscreenCanvas;function u(e,t){return c?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function f(e,t,i,r){var n=1;if((e.width>r||e.height>r)&&(n=r/Math.max(e.width,e.height)),n<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Gt.floorPowerOfTwo:Math.floor,o=a(n*e.width),l=a(n*e.height);void 0===s&&(s=u(o,l));var c=i?u(o,l):s;return c.width=o,c.height=l,c.getContext("2d").drawImage(e,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+l+")."),c}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function h(e){return Gt.isPowerOfTwo(e.width)&&Gt.isPowerOfTwo(e.height)}function d(e,t){return e.generateMipmaps&&t&&e.minFilter!==xe&&e.minFilter!==Se}function p(t,i,n,a){e.generateMipmap(t),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(e,i){if(!n.isWebGL2)return e;var r=e;return 6403===e&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===e&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===e&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function v(e){return e===xe||e===Ee||e===Me?9728:9729}function g(t){var i=t.target;i.removeEventListener("dispose",g),function(t){var i=r.get(t);if(void 0===i.__webglInit)return;e.deleteTexture(i.__webglTexture),r.remove(t)}(i),i.isVideoTexture&&delete l[i.id],o.memory.textures--}function y(t){var i=t.target;i.removeEventListener("dispose",y),function(t){var i=r.get(t),n=r.get(t.texture);if(!t)return;void 0!==n.__webglTexture&&e.deleteTexture(n.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[a]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(i),o.memory.textures--}var b=0;function w(e,t){var n=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,i=o.render.frame;l[t]!==i&&(l[t]=i,e.update())}(e),e.version>0&&n.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void S(n,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+t),i.bindTexture(3553,n.__webglTexture)}function _(t,o){var s=r.get(t);if(6===t.image.length)if(t.version>0&&s.__version!==t.version){M(s,t),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var l=t&&t.isCompressedTexture,c=t.image[0]&&t.image[0].isDataTexture,u=[],v=0;v<6;v++)u[v]=l||c?c?t.image[v].image:t.image[v]:f(t.image[v],!1,!0,n.maxCubemapSize);var g=u[0],y=h(g)||n.isWebGL2,b=a.convert(t.format),w=a.convert(t.type),_=m(b,w);E(34067,t,y);for(v=0;v<6;v++)if(l)for(var x,S=u[v].mipmaps,T=0,k=S.length;T<k;T++)x=S[T],t.format!==Ge&&t.format!==He?i.getCompressedTextureFormats().indexOf(b)>-1?i.compressedTexImage2D(34069+v,T,_,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+v,T,_,x.width,x.height,0,b,w,x.data);else c?i.texImage2D(34069+v,0,_,u[v].width,u[v].height,0,b,w,u[v].data):i.texImage2D(34069+v,0,_,b,w,u[v]);s.__maxMipLevel=l?S.length-1:0,d(t,y)&&p(34067,t,g.width,g.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function x(e,t){i.activeTexture(33984+t),i.bindTexture(34067,r.get(e).__webglTexture)}function E(i,o,s){var l;if(s?(e.texParameteri(i,10242,a.convert(o.wrapS)),e.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||e.texParameteri(i,32882,a.convert(o.wrapR)),e.texParameteri(i,10240,a.convert(o.magFilter)),e.texParameteri(i,10241,a.convert(o.minFilter))):(e.texParameteri(i,10242,33071),e.texParameteri(i,10243,33071),32879!==i&&35866!==i||e.texParameteri(i,32882,33071),o.wrapS===we&&o.wrapT===we||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(i,10240,v(o.magFilter)),e.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==xe&&o.minFilter!==Se&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===Ie&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ne&&null===(n.isWebGL2||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function M(t,i){void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",g),t.__webglTexture=e.createTexture(),o.memory.textures++)}function S(t,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),M(t,r),i.activeTexture(33984+o),i.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var l=function(e){return!n.isWebGL2&&(e.wrapS!==we||e.wrapT!==we||e.minFilter!==xe&&e.minFilter!==Se)}(r)&&!1===h(r.image),c=f(r.image,l,!1,n.maxTextureSize),u=h(c)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);E(s,r,u);var b,w=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===Ie){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===Xe&&6402===y&&r.type!==Pe&&r.type!==Oe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Pe,g=a.convert(r.type)),r.format===qe&&(y=34041,r.type!==Ue&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ue,g=a.convert(r.type))),i.texImage2D(3553,0,y,c.width,c.height,0,v,g,null)}else if(r.isDataTexture)if(w.length>0&&u){for(var _=0,x=w.length;_<x;_++)b=w[_],i.texImage2D(3553,_,y,b.width,b.height,0,v,g,b.data);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else i.texImage2D(3553,0,y,c.width,c.height,0,v,g,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(_=0,x=w.length;_<x;_++)b=w[_],r.format!==Ge&&r.format!==He?i.getCompressedTextureFormats().indexOf(v)>-1?i.compressedTexImage2D(3553,_,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,_,y,b.width,b.height,0,v,g,b.data);t.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,c.width,c.height,c.depth,0,v,g,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,c.width,c.height,c.depth,0,v,g,c.data),t.__maxMipLevel=0;else if(w.length>0&&u){for(_=0,x=w.length;_<x;_++)b=w[_],i.texImage2D(3553,_,y,v,g,b);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else i.texImage2D(3553,0,y,v,g,c),t.__maxMipLevel=0;d(r,u)&&p(3553,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(t,n,o,s){var l=a.convert(n.texture.format),c=a.convert(n.texture.type),u=m(l,c);i.texImage2D(s,0,u,n.width,n.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function k(t,i,r){if(e.bindRenderbuffer(36161,t),i.depthBuffer&&!i.stencilBuffer){if(r){var n=R(i);e.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else e.renderbufferStorage(36161,33189,i.width,i.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(i.depthBuffer&&i.stencilBuffer){if(r){n=R(i);e.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)}else e.renderbufferStorage(36161,34041,i.width,i.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));if(r){n=R(i);e.renderbufferStorageMultisample(36161,n,o,i.width,i.height)}else e.renderbufferStorage(36161,o,i.width,i.height)}e.bindRenderbuffer(36161,null)}function A(t){var i=r.get(t),n=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),w(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Xe)e.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==qe)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,t)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),k(i.__webglDepthbuffer[a],t)}else e.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),k(i.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function R(e){return n.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,e.samples):0}var L=!1,P=!1;this.allocateTextureUnit=function(){var e=b;return e>=n.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+n.maxTextures),b+=1,e},this.resetTextureUnits=function(){b=0},this.setTexture2D=w,this.setTexture2DArray=function(e,t){var n=r.get(e);e.version>0&&n.__version!==e.version?S(n,e,t):(i.activeTexture(33984+t),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(e,t){var n=r.get(e);e.version>0&&n.__version!==e.version?S(n,e,t):(i.activeTexture(33984+t),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=_,this.setTextureCubeDynamic=x,this.setupRenderTarget=function(t){var s=r.get(t),l=r.get(t.texture);t.addEventListener("dispose",y),l.__webglTexture=e.createTexture(),o.memory.textures++;var c=!0===t.isWebGLRenderTargetCube,u=!0===t.isWebGLMultisampleRenderTarget,f=h(t)||n.isWebGL2;if(c){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),u)if(n.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(t.texture.format),a.convert(t.texture.type)),b=R(t);e.renderbufferStorageMultisample(36161,b,g,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),k(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){for(i.bindTexture(34067,l.__webglTexture),E(34067,t.texture,f),v=0;v<6;v++)T(s.__webglFramebuffer[v],t,36064,34069+v);d(t.texture,f)&&p(34067,t.texture,t.width,t.height),i.bindTexture(34067,null)}else i.bindTexture(3553,l.__webglTexture),E(3553,t.texture,f),T(s.__webglFramebuffer,t,36064,3553),d(t.texture,f)&&p(3553,t.texture,t.width,t.height),i.bindTexture(3553,null);t.depthBuffer&&A(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(d(t,h(e)||n.isWebGL2)){var a=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;i.bindTexture(a,o),p(a,t,e.width,e.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(n.isWebGL2){var i=r.get(t);e.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,i.__webglFramebuffer);var a=t.width,o=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===L&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),L=!0),e=e.texture),w(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===P&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),P=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?_(e,t):x(e,t)}}function fa(e,t,i){return{convert:function(e){var r;if(e===be)return 10497;if(e===we)return 33071;if(e===_e)return 33648;if(e===xe)return 9728;if(e===Ee)return 9984;if(e===Me)return 9986;if(e===Se)return 9729;if(e===Te)return 9985;if(e===ke)return 9987;if(e===Ae)return 5121;if(e===De)return 32819;if(e===Fe)return 32820;if(e===Be)return 33635;if(e===Re)return 5120;if(e===Le)return 5122;if(e===Pe)return 5123;if(e===Ce)return 5124;if(e===Oe)return 5125;if(e===Ie)return 5126;if(e===Ne){if(i.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(e===ze)return 6406;if(e===He)return 6407;if(e===Ge)return 6408;if(e===Ve)return 6409;if(e===je)return 6410;if(e===Xe)return 6402;if(e===qe)return 34041;if(e===Ye)return 6403;if(e===C)return 32774;if(e===O)return 32778;if(e===I)return 32779;if(e===F)return 0;if(e===B)return 1;if(e===U)return 768;if(e===z)return 769;if(e===H)return 770;if(e===G)return 771;if(e===V)return 772;if(e===j)return 773;if(e===W)return 774;if(e===X)return 775;if(e===q)return 776;if((e===Je||e===Ze||e===Ke||e===Qe)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(e===Je)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ze)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ke)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Qe)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===$e||e===et||e===tt||e===it)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===$e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===et)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===tt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===it)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===rt&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((e===nt||e===at||e===ot||e===st||e===lt||e===ct||e===ut||e===ft||e===ht||e===dt||e===pt||e===mt||e===vt||e===gt)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(e===N||e===D){if(i.isWebGL2){if(e===N)return 32775;if(e===D)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(e===N)return r.MIN_EXT;if(e===D)return r.MAX_EXT}}if(e===Ue){if(i.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ha(){Gi.call(this),this.type="Group"}function da(){Gi.call(this),this.type="Camera",this.matrixWorldInverse=new bi,this.projectionMatrix=new bi,this.projectionMatrixInverse=new bi}function pa(e,t,i,r){da.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ma(e){pa.call(this),this.cameras=e||[]}oa.prototype=Object.create(hr.prototype),oa.prototype.constructor=oa,oa.prototype.isMeshDepthMaterial=!0,oa.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},sa.prototype=Object.create(hr.prototype),sa.prototype.constructor=sa,sa.prototype.isMeshDistanceMaterial=!0,sa.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},ha.prototype=Object.assign(Object.create(Gi.prototype),{constructor:ha,isGroup:!0}),da.prototype=Object.assign(Object.create(Gi.prototype),{constructor:da,isCamera:!0,copy:function(e,t){return Gi.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Wt),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Gi.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),pa.prototype=Object.assign(Object.create(da.prototype),{constructor:pa,isPerspectiveCamera:!0,copy:function(e,t){return da.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Gt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Gt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Gt.RAD2DEG*Math.atan(Math.tan(.5*Gt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,r,n,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Gt.DEG2RAD*this.fov)/this.zoom,i=2*t,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,t-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var l=this.filmOffset;0!==l&&(n+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,t,t-i,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Gi.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),ma.prototype=Object.assign(Object.create(pa.prototype),{constructor:ma,isArrayCamera:!0});var va,ga,ya,ba,wa,_a,xa=new Wt,Ea=new Wt;function Ma(e,t,i){xa.setFromMatrixPosition(t.matrixWorld),Ea.setFromMatrixPosition(i.matrixWorld);var r=xa.distanceTo(Ea),n=t.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),l=(n[9]+1)/n[5],c=(n[9]-1)/n[5],u=(n[8]-1)/n[0],f=(a[8]+1)/a[0],h=o*u,d=o*f,p=r/(-u+f),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=o+p,g=s+p,y=h-m,b=d+(r-m),w=l*s/g*v,_=c*s/g*v;e.projectionMatrix.makePerspective(y,b,w,_,v,g)}function Sa(e){var t=this,i=null,r=null,n=null,a=[],o=new bi,s=new bi,l=1,c="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var u=new bi,f=new jt,h=new Wt,d=new pa;d.bounds=new ui(0,0,.5,1),d.layers.enable(1);var p=new pa;p.bounds=new ui(.5,0,.5,1),p.layers.enable(2);var m=new ma([d,p]);function v(){return null!==i&&!0===i.isPresenting}m.layers.enable(1),m.layers.enable(2);var g,y=new Vt;function b(){if(v()){var r=i.getEyeParameters("left"),n=r.renderWidth*l,a=r.renderHeight*l;g=e.getPixelRatio(),e.getSize(y),e.setDrawingBufferSize(2*n,a,1),x.start()}else t.enabled&&e.setDrawingBufferSize(y.width,y.height,g),x.stop()}var w=[];function _(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=t.length;i<n;i++){var a=t[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===e)return a;r++}}}this.enabled=!1,this.getController=function(e){var t=a[e];return void 0===t&&((t=new ha).matrixAutoUpdate=!1,t.visible=!1,a[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),x.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setFrameOfReferenceType=function(e){c=e},this.setPoseTarget=function(e){void 0!==e&&(n=e)},this.getCamera=function(e){var t="stage"===c?1.6:0;if(!1===v())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(r),"stage"===c){var l=i.stageParameters;l?o.fromArray(l.sittingToStandingTransform):o.makeTranslation(0,t,0)}var g=r.pose,y=null!==n?n:e;y.matrix.copy(o),y.matrix.decompose(y.position,y.quaternion,y.scale),null!==g.orientation&&(f.fromArray(g.orientation),y.quaternion.multiply(f)),null!==g.position&&(f.setFromRotationMatrix(o),h.fromArray(g.position),h.applyQuaternion(f),y.position.add(h)),y.updateMatrixWorld(),d.near=e.near,p.near=e.near,d.far=e.far,p.far=e.far,d.matrixWorldInverse.fromArray(r.leftViewMatrix),p.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),"stage"===c&&(d.matrixWorldInverse.multiply(s),p.matrixWorldInverse.multiply(s));var b=y.parent;null!==b&&(u.getInverse(b.matrixWorld),d.matrixWorldInverse.multiply(u),p.matrixWorldInverse.multiply(u)),d.matrixWorld.getInverse(d.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),d.projectionMatrix.fromArray(r.leftProjectionMatrix),p.projectionMatrix.fromArray(r.rightProjectionMatrix),Ma(m,d,p);var x=i.getLayers();if(x.length){var E=x[0];null!==E.leftBounds&&4===E.leftBounds.length&&d.bounds.fromArray(E.leftBounds),null!==E.rightBounds&&4===E.rightBounds.length&&p.bounds.fromArray(E.rightBounds)}return function(){for(var e=0;e<a.length;e++){var t=a[e],i=_(e);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var n="Daydream Controller"===i.id?0:1;w[e]!==i.buttons[n].pressed&&(w[e]=i.buttons[n].pressed,!0===w[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),m},this.getStandingMatrix=function(){return o},this.isPresenting=v;var x=new Ci;this.setAnimationLoop=function(e){x.setAnimationLoop(e),v()&&x.start()},this.submitFrame=function(){v()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function Ta(e){var t=e.context,i=null,r=null,n=1,a=null,o="stage",s=null,l=[],c=[];function u(){return null!==r&&null!==a}var f=new pa;f.layers.enable(1),f.viewport=new ui;var h=new pa;h.layers.enable(2),h.viewport=new ui;var d=new ma([f,h]);function p(e){var t=l[c.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop()}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}d.layers.enable(1),d.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=l[e];return void 0===t&&((t=new ha).matrixAutoUpdate=!1,t.visible=!1,l[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){n=e},this.setFrameOfReferenceType=function(e){o=e},this.setSession=function(i){null!==(r=i)&&(r.addEventListener("select",p),r.addEventListener("selectstart",p),r.addEventListener("selectend",p),r.addEventListener("end",m),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:n}),r.requestFrameOfReference(o).then(function(t){a=t,e.setFramebuffer(r.baseLayer.framebuffer),y.setContext(r),y.start()}),c=r.getInputSources(),r.addEventListener("inputsourceschange",function(){c=r.getInputSources(),console.log(c);for(var e=0;e<l.length;e++){l[e].userData.inputSource=c[e]}}))},this.getCamera=function(e){if(u()){var t=e.parent,i=d.cameras;v(d,t);for(var r=0;r<i.length;r++)v(i[r],t);e.matrixWorld.copy(d.matrixWorld);for(var n=e.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Ma(d,f,h),d}return e},this.isPresenting=u;var g=null;var y=new Ci;y.setAnimationLoop(function(e,t){if(null!==(s=t.getDevicePose(a)))for(var i=r.baseLayer,n=t.views,o=0;o<n.length;o++){var u=n[o],f=i.getViewport(u),h=s.getViewMatrix(u),p=d.cameras[o];p.matrix.fromArray(h).getInverse(p.matrix),p.projectionMatrix.fromArray(u.projectionMatrix),p.viewport.set(f.x,f.y,f.width,f.height),0===o&&d.matrix.copy(p.matrix)}for(o=0;o<l.length;o++){var m=l[o],v=c[o];if(v){var y=t.getInputPose(v,a);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}g&&g(e)}),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new bi},this.submitFrame=function(){}}function ka(e){console.log("THREE.WebGLRenderer",s);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,n=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,l=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",f=null,h=null;this.domElement=t,this.context=null,this.debug={checkShaderErrors:!1},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=oe,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,m,v,g,y,w,_,x,E,M,S,T,k,A,R,L,P,C=this,O=!1,I=null,N=null,D=null,F=-1,B={geometry:null,program:null,wireframe:!1},U=null,z=null,H=new ui,G=new ui,V=null,j=t.width,W=t.height,X=1,q=new ui(0,0,j,W),Y=new ui(0,0,j,W),J=!1,Z=new yi,K=new Nr,Q=!1,$=!1,ee=new bi,te=new Wt;function ie(){return null===N?X:1}try{var re={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u};if(t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",ce,!1),null===(d=i||t.getContext("webgl",re)||t.getContext("experimental-webgl",re)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function ne(){p=new Dr(d),(m=new Ir(d,p,e)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),P=new fa(d,p,m),(v=new ca(d,p,P,m)).scissor(G.copy(Y).multiplyScalar(X)),v.viewport(H.copy(q).multiplyScalar(X)),g=new Ur(d),y=new Zn,w=new ua(d,p,v,y,m,P,g),_=new Oi(d),x=new Fr(d,_,g),E=new Gr(x,g),A=new Hr(d),M=new Jn(C,p,m,w),S=new ea,T=new aa,k=new Cr(C,v,E,l),R=new Or(d,p,g,m),L=new Br(d,p,g,m),g.programs=M.programs,C.context=d,C.capabilities=m,C.extensions=p,C.properties=y,C.renderLists=S,C.state=v,C.info=g}ne();var ae="undefined"!=typeof navigator&&"xr"in navigator?new Ta(C):new Sa(C);this.vr=ae;var se=new la(C,E,m.maxTextureSize);function le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,ne()}function ue(e){var t=e.target;t.removeEventListener("dispose",ue),function(e){fe(e),y.remove(e)}(t)}function fe(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&M.releaseProgram(t)}this.shadowMap=se,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(e){void 0!==e&&(X=e,this.setSize(j,W,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Vt),e.set(j,W)},this.setSize=function(e,i,r){ae.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=e,W=i,t.width=e*X,t.height=i*X,!1!==r&&(t.style.width=e+"px",t.style.height=i+"px"),this.setViewport(0,0,e,i))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Vt),e.set(j*X,W*X)},this.setDrawingBufferSize=function(e,i,r){j=e,W=i,X=r,t.width=e*r,t.height=i*r,this.setViewport(0,0,e,i)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new ui),e.copy(H)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,i,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,i,r),v.viewport(H.copy(q).multiplyScalar(X))},this.getScissor=function(e){return e.copy(Y)},this.setScissor=function(e,t,i,r){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,i,r),v.scissor(G.copy(Y).multiplyScalar(X))},this.getScissorTest=function(){return J},this.setScissorTest=function(e){v.setScissorTest(J=e)},this.getClearColor=function(){return k.getClearColor()},this.setClearColor=function(){k.setClearColor.apply(k,arguments)},this.getClearAlpha=function(){return k.getClearAlpha()},this.setClearAlpha=function(){k.setClearAlpha.apply(k,arguments)},this.clear=function(e,t,i){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",ce,!1),S.dispose(),T.dispose(),y.dispose(),E.dispose(),ae.dispose(),de.stop()},this.renderBufferImmediate=function(e,t){v.initAttributes();var i=y.get(e);e.hasPositions&&!i.position&&(i.position=d.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),e.hasColors&&!i.color&&(i.color=d.createBuffer());var r=t.getAttributes();e.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,e.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,e.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,e.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,e.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=ge(e,t,r,n),l=!1;B.geometry===i.id&&B.program===s.id&&B.wireframe===(!0===r.wireframe)||(B.geometry=i.id,B.program=s.id,B.wireframe=!0===r.wireframe,l=!0),n.morphTargetInfluences&&(A.update(n,i,r,s),l=!0);var c,u=i.index,f=i.attributes.position,h=1;!0===r.wireframe&&(u=x.getWireframeAttribute(i),h=2);var g=R;null!==u&&(c=_.get(u),(g=L).setIndex(c)),l&&(!function(e,t,i){if(i&&i.isInstancedBufferGeometry&&!m.isWebGL2&&null===p.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v.initAttributes();var r=i.attributes,n=t.getAttributes(),a=e.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var l=r[o];if(void 0!==l){var c=l.normalized,u=l.itemSize,f=_.get(l);if(void 0===f)continue;var h=f.buffer,g=f.type,y=f.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,w=b.stride,x=l.offset;b&&b.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,b.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=b.meshPerAttribute*b.count)):v.enableAttribute(s),d.bindBuffer(34962,h),d.vertexAttribPointer(s,u,g,c,w*y,x*y)}else l.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=l.meshPerAttribute*l.count)):v.enableAttribute(s),d.bindBuffer(34962,h),d.vertexAttribPointer(s,u,g,c,0,0)}else if(void 0!==a){var E=a[o];if(void 0!==E)switch(E.length){case 2:d.vertexAttrib2fv(s,E);break;case 3:d.vertexAttrib3fv(s,E);break;case 4:d.vertexAttrib4fv(s,E);break;default:d.vertexAttrib1fv(s,E)}}}}v.disableUnusedAttributes()}(r,s,i),null!==u&&d.bindBuffer(34963,c.buffer));var y=1/0;null!==u?y=u.count:void 0!==f&&(y=f.count);var b=i.drawRange.start*h,w=i.drawRange.count*h,E=null!==a?a.start*h:0,M=null!==a?a.count*h:1/0,S=Math.max(b,E),T=Math.min(y,b+w,E+M)-1,k=Math.max(0,T-S+1);if(0!==k){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*ie()),g.setMode(1);else switch(n.drawMode){case kt:g.setMode(4);break;case At:g.setMode(5);break;case Rt:g.setMode(6)}else if(n.isLine){var P=r.linewidth;void 0===P&&(P=1),v.setLineWidth(P*ie()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,S,k):g.render(S,k)}},this.compile=function(e,t){(h=T.get(e,t)).init(),e.traverse(function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))}),h.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var i=0;i<t.material.length;i++)ve(t.material[i],e.fog,t);else ve(t.material,e.fog,t)})};var he=null;var de=new Ci;function pe(e,t,i,r){for(var n=0,a=e.length;n<a;n++){var o=e[n],s=o.object,l=o.geometry,c=void 0===r?o.material:r,u=o.group;if(i.isArrayCamera){z=i;for(var f=i.cameras,d=0,p=f.length;d<p;d++){var m=f[d];if(s.layers.test(m.layers)){if("viewport"in m)v.viewport(H.copy(m.viewport));else{var g=m.bounds,y=g.x*j,b=g.y*W,w=g.z*j,_=g.w*W;v.viewport(H.set(y,b,w,_).multiplyScalar(X))}h.setupLights(m),me(s,t,m,l,c,u)}}}else z=null,me(s,t,i,l,c,u)}}function me(e,t,i,r,n,a){if(e.onBeforeRender(C,t,i,r,n,a),h=T.get(t,z||i),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){v.setMaterial(n);var o=ge(i,t.fog,n,e);B.geometry=null,B.program=null,B.wireframe=!1,function(e,t){e.render(function(e){C.renderBufferImmediate(e,t)})}(e,o)}else C.renderBufferDirect(i,t.fog,r,n,e,a);e.onAfterRender(C,t,i,r,n,a),h=T.get(t,z||i)}function ve(e,t,i){var r=y.get(e),n=h.state.lights,a=h.state.shadowsArray,o=r.lightsHash,s=n.state.hash,l=M.getParameters(e,n.state,a,t,K.numPlanes,K.numIntersection,i),c=M.getProgramCode(e,l),u=r.program,f=!0;if(void 0===u)e.addEventListener("dispose",ue);else if(u.code!==c)fe(e);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,f=!1;else{if(void 0!==l.shaderID)return;f=!1}if(f){if(l.shaderID){var d=Pi[l.shaderID];r.shader={name:e.type,uniforms:_i(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,C),c=M.getProgramCode(e,l),u=M.acquireProgram(e,r.shader,l,c),r.program=u,e.program=u}var p=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<C.maxMorphTargets;m++)p["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<C.maxMorphNormals;m++)p["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=K.numPlanes,r.numIntersection=K.numIntersection,v.clippingPlanes=K.uniform),r.fog=t,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,e.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),b=Fn.seqWithValue(g.seq,v);r.uniformsList=b}function ge(e,t,i,r){w.resetTextureUnits();var n=y.get(i),a=h.state.lights,o=n.lightsHash,s=a.state.hash;if(Q&&($||e!==U)){var l=e===U&&i.id===F;K.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,e,n,l)}!1===i.needsUpdate&&(void 0===n.program?i.needsUpdate=!0:i.fog&&n.fog!==t?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===K.numPlanes&&n.numIntersection===K.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(ve(i,t,r),i.needsUpdate=!1);var c,u,f=!1,p=!1,g=!1,_=n.program,x=_.getUniforms(),E=n.shader.uniforms;if(v.useProgram(_.program)&&(f=!0,p=!0,g=!0),i.id!==F&&(F=i.id,p=!0),f||U!==e){if(x.setValue(d,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&x.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==e&&(U=e,p=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var M=x.map.cameraPosition;void 0!==M&&M.setValue(d,te.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&x.setValue(d,"viewMatrix",e.matrixWorldInverse)}if(i.skinning){x.setOptional(d,r,"bindMatrix"),x.setOptional(d,r,"bindMatrixInverse");var S=r.skeleton;if(S){var T=S.bones;if(m.floatVertexTextures){if(void 0===S.boneTexture){var k=Math.sqrt(4*T.length);k=Gt.ceilPowerOfTwo(k),k=Math.max(k,4);var A=new Float32Array(k*k*4);A.set(S.boneMatrices);var R=new pi(A,k,k,Ge,Ie);R.needsUpdate=!0,S.boneMatrices=A,S.boneTexture=R,S.boneTextureSize=k}x.setValue(d,"boneTexture",S.boneTexture,w),x.setValue(d,"boneTextureSize",S.boneTextureSize)}else x.setOptional(d,S,"boneMatrices")}}return p&&(x.setValue(d,"toneMappingExposure",C.toneMappingExposure),x.setValue(d,"toneMappingWhitePoint",C.toneMappingWhitePoint),i.lights&&(u=g,(c=E).ambientLightColor.needsUpdate=u,c.lightProbe.needsUpdate=u,c.directionalLights.needsUpdate=u,c.pointLights.needsUpdate=u,c.spotLights.needsUpdate=u,c.rectAreaLights.needsUpdate=u,c.hemisphereLights.needsUpdate=u),t&&i.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(E,t),i.isMeshBasicMaterial?ye(E,i):i.isMeshLambertMaterial?(ye(E,i),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(E,i)):i.isMeshPhongMaterial?(ye(E,i),i.isMeshToonMaterial?function(e,t){be(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(E,i):be(E,i)):i.isMeshStandardMaterial?(ye(E,i),i.isMeshPhysicalMaterial?function(e,t){we(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(E,i):we(E,i)):i.isMeshMatcapMaterial?(ye(E,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,i)):i.isMeshDepthMaterial?(ye(E,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,i)):i.isMeshDistanceMaterial?(ye(E,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(E,i)):i.isMeshNormalMaterial?(ye(E,i),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,i)):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(E,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(E,i)):i.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*X,e.scale.value=.5*W,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(E,i):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(E,i):i.isShadowMaterial&&(E.color.value.copy(i.color),E.opacity.value=i.opacity),void 0!==E.ltc_1&&(E.ltc_1.value=Li.LTC_1),void 0!==E.ltc_2&&(E.ltc_2.value=Li.LTC_2),Fn.upload(d,n.uniformsList,E,w)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Fn.upload(d,n.uniformsList,E,w),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&x.setValue(d,"center",r.center),x.setValue(d,"modelViewMatrix",r.modelViewMatrix),x.setValue(d,"normalMatrix",r.normalMatrix),x.setValue(d,"modelMatrix",r.matrixWorld),_}function ye(e,t){var i;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.roughnessMap?i=t.roughnessMap:t.metalnessMap?i=t.metalnessMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function be(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function we(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}de.setAnimationLoop(function(e){ae.isPresenting()||he&&he(e)}),"undefined"!=typeof window&&de.setContext(window),this.setAnimationLoop=function(e){he=e,ae.setAnimationLoop(e),de.start()},this.render=function(e,t){var i,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),i=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!O){B.geometry=null,B.program=null,B.wireframe=!1,F=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ae.enabled&&(t=ae.getCamera(t)),(h=T.get(e,t)).init(),e.onBeforeRender(C,e,t,i||N),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Z.setFromMatrix(ee),$=this.localClippingEnabled,Q=K.init(this.clippingPlanes,$,t),(f=S.get(e,t)).init(),function e(t,i,r,n){if(!1===t.visible)return;var a=t.layers.test(i.layers);if(a)if(t.isGroup)r=t.renderOrder;else if(t.isLight)h.pushLight(t),t.castShadow&&h.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Z.intersectsSprite(t)){n&&te.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ee);var o=E.update(t),s=t.material;s.visible&&f.push(t,o,s,r,te.z,null)}}else if(t.isImmediateRenderObject)n&&te.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ee),f.push(t,null,t.material,r,te.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Z.intersectsObject(t))){n&&te.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ee);var o=E.update(t),s=t.material;if(Array.isArray(s))for(var l=o.groups,c=0,u=l.length;c<u;c++){var d=l[c],p=s[d.materialIndex];p&&p.visible&&f.push(t,o,p,r,te.z,d)}else s.visible&&f.push(t,o,s,r,te.z,null)}var m=t.children;for(var c=0,u=m.length;c<u;c++)e(m[c],i,r,n)}(e,t,0,C.sortObjects),!0===C.sortObjects&&f.sort(),Q&&K.beginShadows();var n=h.state.shadowsArray;se.render(n,e,t),h.setupLights(t),Q&&K.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),k.render(f,e,t,r);var a=f.opaque,o=f.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&pe(a,e,t,s),o.length&&pe(o,e,t,s)}else a.length&&pe(a,e,t),o.length&&pe(o,e,t);e.onAfterRender(C,e,t),null!==N&&(w.updateRenderTargetMipmap(N),w.updateMultisampleRenderTarget(N)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ae.enabled&&ae.submitFrame(),f=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){I=e},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e,t,i){N=e,e&&void 0===y.get(e).__webglFramebuffer&&w.setupRenderTarget(e);var r=I,n=!1;if(e){var a=y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=a[t||0],n=!0):r=e.isWebGLMultisampleRenderTarget?y.get(e).__webglMultisampledFramebuffer:a,H.copy(e.viewport),G.copy(e.scissor),V=e.scissorTest}else H.copy(q).multiplyScalar(X),G.copy(Y).multiplyScalar(X),V=J;if(D!==r&&(d.bindFramebuffer(36160,r),D=r),v.viewport(H),v.scissor(G),v.setScissorTest(V),n){var o=y.get(e.texture);d.framebufferTexture2D(36160,36064,34069+(t||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(e,t,i,r,n,a){if(e&&e.isWebGLRenderTarget){var o=y.get(e).__webglFramebuffer;if(o){var s=!1;o!==D&&(d.bindFramebuffer(36160,o),s=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==Ge&&P.convert(c)!==d.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===Ae||P.convert(u)===d.getParameter(35738)||u===Ie&&(m.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||u===Ne&&(m.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===d.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&i>=0&&i<=e.height-n&&d.readPixels(t,i,r,n,P.convert(c),P.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&d.bindFramebuffer(36160,D)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,i){var r=t.image.width,n=t.image.height,a=P.convert(t.format);w.setTexture2D(t,0),d.copyTexImage2D(3553,i||0,a,e.x,e.y,r,n,0)},this.copyTextureToTexture=function(e,t,i,r){var n=t.image.width,a=t.image.height,o=P.convert(i.format),s=P.convert(i.type);w.setTexture2D(i,0),t.isDataTexture?d.texSubImage2D(3553,r||0,e.x,e.y,n,a,o,s,t.image.data):d.texSubImage2D(3553,r||0,e.x,e.y,o,s,t.image)}}function Aa(e,t){this.name="",this.color=new Ai(e),this.density=void 0!==t?t:25e-5}function Ra(e,t,i){this.name="",this.color=new Ai(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3}function La(){Gi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Pa(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ca(e,t,i,r){this.data=e,this.itemSize=t,this.offset=i,this.normalized=!0===r}function Oa(e){hr.call(this),this.type="SpriteMaterial",this.color=new Ai(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Ia(e){if(Gi.call(this),this.type="Sprite",void 0===va){va=new or;var t=new Pa(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);va.setIndex([0,1,2,0,2,3]),va.addAttribute("position",new Ca(t,3,0,!1)),va.addAttribute("uv",new Ca(t,2,3,!1))}this.geometry=va,this.material=void 0!==e?e:new Oa,this.center=new Vt(.5,.5)}function Na(){Gi.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Da(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Pr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new bi,this.bindMatrixInverse=new bi}function Fa(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new bi)}}function Ba(){Gi.call(this),this.type="Bone"}function Ua(e){hr.call(this),this.type="LineBasicMaterial",this.color=new Ai(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function za(e,t,i){1===i&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Gi.call(this),this.type="Line",this.geometry=void 0!==e?e:new or,this.material=void 0!==t?t:new Ua({color:16777215*Math.random()})}function Ha(e,t){za.call(this,e,t),this.type="LineSegments"}function Ga(e,t){za.call(this,e,t),this.type="LineLoop"}function Va(e){hr.call(this),this.type="PointsMaterial",this.color=new Ai(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function ja(e,t){Gi.call(this),this.type="Points",this.geometry=void 0!==e?e:new or,this.material=void 0!==t?t:new Va({color:16777215*Math.random()})}function Wa(e,t,i,r,n,a,o,s,l){ci.call(this,e,t,i,r,n,a,o,s,l),this.format=void 0!==o?o:He,this.minFilter=void 0!==a?a:Se,this.magFilter=void 0!==n?n:Se,this.generateMipmaps=!1}function Xa(e,t,i,r,n,a,o,s,l,c,u,f){ci.call(this,null,a,o,s,l,c,r,n,u,f),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function qa(e,t,i,r,n,a,o,s,l){ci.call(this,e,t,i,r,n,a,o,s,l),this.needsUpdate=!0}function Ya(e,t,i,r,n,a,o,s,l,c){if((c=void 0!==c?c:Xe)!==Xe&&c!==qe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&c===Xe&&(i=Pe),void 0===i&&c===qe&&(i=Ue),ci.call(this,null,r,n,a,o,s,c,i,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function Ja(e){or.call(this),this.type="WireframeGeometry";var t,i,r,n,a,o,s,l,c,u,f=[],h=[0,0],d={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var v=m[t];for(i=0;i<3;i++)s=v[p[i]],l=v[p[(i+1)%3]],h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===d[c=h[0]+","+h[1]]&&(d[c]={index1:h[0],index2:h[1]})}for(c in d)o=d[c],u=e.vertices[o.index1],f.push(u.x,u.y,u.z),u=e.vertices[o.index2],f.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var g,y,b,w,_,x,E;if(u=new Wt,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),n=0,a=b.length;n<a;++n)for(t=_=(w=b[n]).start,r=_+w.count;t<r;t+=3)for(i=0;i<3;i++)s=y.getX(t+i),l=y.getX(t+(i+1)%3),h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===d[c=h[0]+","+h[1]]&&(d[c]={index1:h[0],index2:h[1]});for(c in d)o=d[c],u.fromBufferAttribute(g,o.index1),f.push(u.x,u.y,u.z),u.fromBufferAttribute(g,o.index2),f.push(u.x,u.y,u.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(i=0;i<3;i++)x=3*t+i,u.fromBufferAttribute(g,x),f.push(u.x,u.y,u.z),E=3*t+(i+1)%3,u.fromBufferAttribute(g,E),f.push(u.x,u.y,u.z)}this.addAttribute("position",new tr(f,3))}function Za(e,t,i){Xi.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i},this.fromBufferGeometry(new Ka(e,t,i)),this.mergeVertices()}function Ka(e,t,i){or.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:i};var r,n,a=[],o=[],s=[],l=[],c=new Wt,u=new Wt,f=new Wt,h=new Wt,d=new Wt;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=t+1;for(r=0;r<=i;r++){var m=r/i;for(n=0;n<=t;n++){var v=n/t;e(v,m,u),o.push(u.x,u.y,u.z),v-1e-5>=0?(e(v-1e-5,m,f),h.subVectors(u,f)):(e(v+1e-5,m,f),h.subVectors(f,u)),m-1e-5>=0?(e(v,m-1e-5,f),d.subVectors(u,f)):(e(v,m+1e-5,f),d.subVectors(f,u)),c.crossVectors(h,d).normalize(),s.push(c.x,c.y,c.z),l.push(v,m)}}for(r=0;r<i;r++)for(n=0;n<t;n++){var g=r*p+n,y=r*p+n+1,b=(r+1)*p+n+1,w=(r+1)*p+n;a.push(g,y,w),a.push(y,b,w)}this.setIndex(a),this.addAttribute("position",new tr(o,3)),this.addAttribute("normal",new tr(s,3)),this.addAttribute("uv",new tr(l,2))}function Qa(e,t,i,r){Xi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},this.fromBufferGeometry(new $a(e,t,i,r)),this.mergeVertices()}function $a(e,t,i,r){or.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},i=i||1;var n=[],a=[];function o(e,t,i,r){var n,a,o=Math.pow(2,r),l=[];for(n=0;n<=o;n++){l[n]=[];var c=e.clone().lerp(i,n/o),u=t.clone().lerp(i,n/o),f=o-n;for(a=0;a<=f;a++)l[n][a]=0===a&&n===o?c:c.clone().lerp(u,a/f)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var h=Math.floor(a/2);a%2==0?(s(l[n][h+1]),s(l[n+1][h]),s(l[n][h])):(s(l[n][h+1]),s(l[n+1][h+1]),s(l[n+1][h]))}}function s(e){n.push(e.x,e.y,e.z)}function l(t,i){var r=3*t;i.x=e[r+0],i.y=e[r+1],i.z=e[r+2]}function c(e,t,i,r){r<0&&1===e.x&&(a[t]=e.x-1),0===i.x&&0===i.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var i=new Wt,r=new Wt,n=new Wt,a=0;a<t.length;a+=3)l(t[a+0],i),l(t[a+1],r),l(t[a+2],n),o(i,r,n,e)}(r=r||0),function(e){for(var t=new Wt,i=0;i<n.length;i+=3)t.x=n[i+0],t.y=n[i+1],t.z=n[i+2],t.normalize().multiplyScalar(e),n[i+0]=t.x,n[i+1]=t.y,n[i+2]=t.z}(i),function(){for(var e=new Wt,t=0;t<n.length;t+=3){e.x=n[t+0],e.y=n[t+1],e.z=n[t+2];var i=u(e)/2/Math.PI+.5,r=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(i,1-r)}var o;(function(){for(var e=new Wt,t=new Wt,i=new Wt,r=new Wt,o=new Vt,s=new Vt,l=new Vt,f=0,h=0;f<n.length;f+=9,h+=6){e.set(n[f+0],n[f+1],n[f+2]),t.set(n[f+3],n[f+4],n[f+5]),i.set(n[f+6],n[f+7],n[f+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),r.copy(e).add(t).add(i).divideScalar(3);var d=u(r);c(o,h+0,e,d),c(s,h+2,t,d),c(l,h+4,i,d)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],i=a[e+2],r=a[e+4],n=Math.max(t,i,r),o=Math.min(t,i,r);n>.9&&o<.1&&(t<.2&&(a[e+0]+=1),i<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.addAttribute("position",new tr(n,3)),this.addAttribute("normal",new tr(n.slice(),3)),this.addAttribute("uv",new tr(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function eo(e,t){Xi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new to(e,t)),this.mergeVertices()}function to(e,t){$a.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function io(e,t){Xi.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ro(e,t)),this.mergeVertices()}function ro(e,t){$a.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function no(e,t){Xi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ao(e,t)),this.mergeVertices()}function ao(e,t){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];$a.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function oo(e,t){Xi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new so(e,t)),this.mergeVertices()}function so(e,t){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];$a.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function lo(e,t,i,r,n,a){Xi.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:n},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new co(e,t,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function co(e,t,i,r,n){or.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:n},t=t||64,i=i||1,r=r||8,n=n||!1;var a=e.computeFrenetFrames(t,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new Wt,c=new Wt,u=new Vt,f=new Wt,h=[],d=[],p=[],m=[];function v(n){f=e.getPointAt(n/t,f);var o=a.normals[n],u=a.binormals[n];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),v=-Math.cos(p);c.x=v*o.x+m*u.x,c.y=v*o.y+m*u.y,c.z=v*o.z+m*u.z,c.normalize(),d.push(c.x,c.y,c.z),l.x=f.x+i*c.x,l.y=f.y+i*c.y,l.z=f.z+i*c.z,h.push(l.x,l.y,l.z)}}!function(){for(o=0;o<t;o++)v(o);v(!1===n?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=r;s++)u.x=o/t,u.y=s/r,p.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=r;o++){var e=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(e,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new tr(h,3)),this.addAttribute("normal",new tr(d,3)),this.addAttribute("uv",new tr(p,2))}function uo(e,t,i,r,n,a,o){Xi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new fo(e,t,i,r,n,a)),this.mergeVertices()}function fo(e,t,i,r,n,a){or.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a},e=e||1,t=t||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,l=[],c=[],u=[],f=[],h=new Wt,d=new Wt,p=new Wt,m=new Wt,v=new Wt,g=new Wt,y=new Wt;for(o=0;o<=i;++o){var b=o/i*n*Math.PI*2;for(k(b,n,a,e,p),k(b+.01,n,a,e,m),g.subVectors(m,p),y.addVectors(m,p),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var w=s/r*Math.PI*2,_=-t*Math.cos(w),x=t*Math.sin(w);h.x=p.x+(_*y.x+x*v.x),h.y=p.y+(_*y.y+x*v.y),h.z=p.z+(_*y.z+x*v.z),c.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),u.push(d.x,d.y,d.z),f.push(o/i),f.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var E=(r+1)*(s-1)+(o-1),M=(r+1)*s+(o-1),S=(r+1)*s+o,T=(r+1)*(s-1)+o;l.push(E,M,T),l.push(M,S,T)}function k(e,t,i,r,n){var a=Math.cos(e),o=Math.sin(e),s=i/t*e,l=Math.cos(s);n.x=r*(2+l)*.5*a,n.y=r*(2+l)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new tr(c,3)),this.addAttribute("normal",new tr(u,3)),this.addAttribute("uv",new tr(f,2))}function ho(e,t,i,r,n){Xi.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new po(e,t,i,r,n)),this.mergeVertices()}function po(e,t,i,r,n){or.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n},e=e||1,t=t||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],l=[],c=[],u=[],f=new Wt,h=new Wt,d=new Wt;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var p=o/r*n,m=a/i*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),l.push(h.x,h.y,h.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),d.subVectors(h,f).normalize(),c.push(d.x,d.y,d.z),u.push(o/r),u.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,b=(r+1)*a+o;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute("position",new tr(l,3)),this.addAttribute("normal",new tr(c,3)),this.addAttribute("uv",new tr(u,2))}Object.assign(Aa.prototype,{isFogExp2:!0,clone:function(){return new Aa(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ra.prototype,{isFog:!0,clone:function(){return new Ra(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),La.prototype=Object.assign(Object.create(Gi.prototype),{constructor:La,isScene:!0,copy:function(e,t){return Gi.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Gi.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Pa.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Pa.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var r=0,n=this.stride;r<n;r++)this.array[e+r]=t.array[i+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Ca.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ca.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this},setXYZW:function(e,t,i,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=n,this}}),Oa.prototype=Object.create(hr.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isSpriteMaterial=!0,Oa.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Ia.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Ia,isSprite:!0,raycast:function(){var e=new Wt,t=new Wt,i=new Wt,r=new Vt,n=new Vt,a=new bi,o=new Wt,s=new Wt,l=new Wt,c=new Vt,u=new Vt,f=new Vt;function h(e,t,i,o,s,l){r.subVectors(e,i).addScalar(.5).multiply(o),void 0!==s?(n.x=l*r.x-s*r.y,n.y=s*r.x+l*r.y):n.copy(r),e.copy(t),e.x+=n.x,e.y+=n.y,e.applyMatrix4(a)}return function(r,n){t.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,p,m=this.material.rotation;0!==m&&(p=Math.cos(m),d=Math.sin(m));var v=this.center;h(o.set(-.5,-.5,0),i,v,t,d,p),h(s.set(.5,-.5,0),i,v,t,d,p),h(l.set(.5,.5,0),i,v,t,d,p),c.set(0,0),u.set(1,0),f.set(1,1);var g=r.ray.intersectTriangle(o,s,l,!1,e);if(null!==g||(h(s.set(-.5,.5,0),i,v,t,d,p),u.set(0,1),null!==(g=r.ray.intersectTriangle(o,l,s,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||n.push({distance:y,point:e.clone(),uv:Rr.getUV(e,o,s,l,c,u,f,new Vt),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Gi.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),Na.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Na,isLOD:!0,copy:function(e){Gi.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,r=t.length;i<r;i++){var n=t[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){for(var t=this.levels,i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object},raycast:(ga=new Wt,function(e,t){ga.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(ga);this.getObjectForDistance(i).raycast(e,t)}),update:function(){var e=new Wt,t=new Wt;return function(i){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var n=e.distanceTo(t);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(e){var t=Gi.prototype.toJSON.call(this,e);t.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Da.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Da,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new ui,t=this.geometry.attributes.skinWeight,i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);var n=1/e.manhattanLength();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Pr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Fa.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new bi;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},pose:function(){var e,t,i;for(t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(ya=new bi,ba=new bi,function(){for(var e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=e.length;n<a;n++){var o=e[n]?e[n].matrixWorld:ba;ya.multiplyMatrices(o,t[n]),ya.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Fa(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,i=this.bones.length;t<i;t++){var r=this.bones[t];if(r.name===e)return r}}}),Ba.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Ba,isBone:!0}),Ua.prototype=Object.create(hr.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isLineBasicMaterial=!0,Ua.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},za.prototype=Object.assign(Object.create(Gi.prototype),{constructor:za,isLine:!0,computeLineDistances:(wa=new Wt,_a=new Wt,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,i=[0],r=1,n=t.count;r<n;r++)wa.fromBufferAttribute(t,r-1),_a.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=wa.distanceTo(_a);e.addAttribute("lineDistance",new tr(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for((i=e.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var e=new bi,t=new Ar,i=new vi;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new Wt,f=new Wt,h=new Wt,d=new Wt,p=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,b=g.length-1;y<b;y+=p){var w=g[y],_=g[y+1];if(u.fromArray(v,3*w),f.fromArray(v,3*_),!(t.distanceSqToSegment(u,f,d,h)>c))d.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(d))<r.near||M>r.far||n.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,b=v.length/3-1;y<b;y+=p){if(u.fromArray(v,3*y),f.fromArray(v,3*y+3),!(t.distanceSqToSegment(u,f,d,h)>c))d.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(d))<r.near||M>r.far||n.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(o.isGeometry){var x=o.vertices,E=x.length;for(y=0;y<E-1;y+=p){var M;if(!(t.distanceSqToSegment(x[y],x[y+1],d,h)>c))d.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(d))<r.near||M>r.far||n.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ha.prototype=Object.assign(Object.create(za.prototype),{constructor:Ha,isLineSegments:!0,computeLineDistances:function(){var e=new Wt,t=new Wt;return function(){var i=this.geometry;if(i.isBufferGeometry)if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+e.distanceTo(t);i.addAttribute("lineDistance",new tr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)e.copy(s[a]),t.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+e.distanceTo(t)}return this}}()}),Ga.prototype=Object.assign(Object.create(za.prototype),{constructor:Ga,isLineLoop:!0}),Va.prototype=Object.create(hr.prototype),Va.prototype.constructor=Va,Va.prototype.isPointsMaterial=!0,Va.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},ja.prototype=Object.assign(Object.create(Gi.prototype),{constructor:ja,isPoints:!0,raycast:function(){var e=new bi,t=new Ar,i=new vi;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=l,!1!==r.ray.intersectsSphere(i)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,f=new Wt,h=new Wt;if(o.isBufferGeometry){var d=o.index,p=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];f.fromArray(p,3*y),_(f,y)}else{v=0;for(var b=p.length/3;v<b;v++)f.fromArray(p,3*v),_(f,v)}}else{var w=o.vertices;for(v=0,b=w.length;v<b;v++)_(w[v],v)}}function _(e,i){var o=t.distanceSqToPoint(e);if(o<u){t.closestPointToPoint(e,h),h.applyMatrix4(s);var l=r.ray.origin.distanceTo(h);if(l<r.near||l>r.far)return;n.push({distance:l,distanceToRay:Math.sqrt(o),point:h.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Wa.prototype=Object.assign(Object.create(ci.prototype),{constructor:Wa,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Xa.prototype=Object.create(ci.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isCompressedTexture=!0,qa.prototype=Object.create(ci.prototype),qa.prototype.constructor=qa,qa.prototype.isCanvasTexture=!0,Ya.prototype=Object.create(ci.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isDepthTexture=!0,Ja.prototype=Object.create(or.prototype),Ja.prototype.constructor=Ja,Za.prototype=Object.create(Xi.prototype),Za.prototype.constructor=Za,Ka.prototype=Object.create(or.prototype),Ka.prototype.constructor=Ka,Qa.prototype=Object.create(Xi.prototype),Qa.prototype.constructor=Qa,$a.prototype=Object.create(or.prototype),$a.prototype.constructor=$a,eo.prototype=Object.create(Xi.prototype),eo.prototype.constructor=eo,to.prototype=Object.create($a.prototype),to.prototype.constructor=to,io.prototype=Object.create(Xi.prototype),io.prototype.constructor=io,ro.prototype=Object.create($a.prototype),ro.prototype.constructor=ro,no.prototype=Object.create(Xi.prototype),no.prototype.constructor=no,ao.prototype=Object.create($a.prototype),ao.prototype.constructor=ao,oo.prototype=Object.create(Xi.prototype),oo.prototype.constructor=oo,so.prototype=Object.create($a.prototype),so.prototype.constructor=so,lo.prototype=Object.create(Xi.prototype),lo.prototype.constructor=lo,co.prototype=Object.create(or.prototype),co.prototype.constructor=co,co.prototype.toJSON=function(){var e=or.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},uo.prototype=Object.create(Xi.prototype),uo.prototype.constructor=uo,fo.prototype=Object.create(or.prototype),fo.prototype.constructor=fo,ho.prototype=Object.create(Xi.prototype),ho.prototype.constructor=ho,po.prototype=Object.create(or.prototype),po.prototype.constructor=po;var mo=function(e,t,i){i=i||2;var r,n,a,o,s,l,c,u=t&&t.length,f=u?t[0]*i:e.length,h=vo(e,0,f,i,!0),d=[];if(!h)return d;if(u&&(h=function(e,t,i,r){var n,a,o,s,l,c=[];for(n=0,a=t.length;n<a;n++)o=t[n]*r,s=n<a-1?t[n+1]*r:e.length,(l=vo(e,o,s,r,!1))===l.next&&(l.steiner=!0),c.push(To(l));for(c.sort(Eo),n=0;n<c.length;n++)Mo(c[n],i),i=go(i,i.next);return i}(e,t,h,i)),e.length>80*i){r=a=e[0],n=o=e[1];for(var p=i;p<f;p+=i)(s=e[p])<r&&(r=s),(l=e[p+1])<n&&(n=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-r,o-n))?1/c:0}return yo(h,d,i,r,n,c),d};function vo(e,t,i,r,n){var a,o;if(n===function(e,t,i,r){for(var n=0,a=t,o=i-r;a<i;a+=r)n+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return n}(e,t,i,r)>0)for(a=t;a<i;a+=r)o=Io(a,e[a],e[a+1],o);else for(a=i-r;a>=t;a-=r)o=Io(a,e[a],e[a+1],o);return o&&Lo(o,o.next)&&(No(o),o=o.next),o}function go(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!Lo(r,r.next)&&0!==Ro(r.prev,r,r.next))r=r.next;else{if(No(r),(r=t=r.prev)===r.next)break;i=!0}}while(i||r!==t);return t}function yo(e,t,i,r,n,a,o){if(e){!o&&a&&function(e,t,i,r){var n=e;do{null===n.z&&(n.z=So(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,a,o,s,l,c=1;do{for(i=e,e=null,a=null,o=0;i;){for(o++,r=i,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,l--),a?a.nextZ=n:e=n,n.prevZ=a,a=n;i=r}a.nextZ=null,c*=2}while(o>1)}(n)}(e,r,n,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?wo(e,r,n,a):bo(e))t.push(s.i/i),t.push(e.i/i),t.push(l.i/i),No(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?yo(e=_o(e,t,i),t,i,r,n,a,2):2===o&&xo(e,t,i,r,n,a):yo(go(e),t,i,r,n,a,1);break}}}function bo(e){var t=e.prev,i=e,r=e.next;if(Ro(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(ko(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Ro(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function wo(e,t,i,r){var n=e.prev,a=e,o=e.next;if(Ro(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,l=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,c=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,u=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,f=So(s,l,t,i,r),h=So(c,u,t,i,r),d=e.nextZ;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&ko(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Ro(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&ko(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Ro(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function _o(e,t,i){var r=e;do{var n=r.prev,a=r.next.next;!Lo(n,a)&&Po(n,r,r.next,a)&&Co(n,a)&&Co(a,n)&&(t.push(n.i/i),t.push(r.i/i),t.push(a.i/i),No(r),No(r.next),r=e=a),r=r.next}while(r!==e);return r}function xo(e,t,i,r,n,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ao(o,s)){var l=Oo(o,s);return o=go(o,o.next),l=go(l,l.next),yo(o,t,i,r,n,a),void yo(l,t,i,r,n,a)}s=s.next}o=o.next}while(o!==e)}function Eo(e,t){return e.x-t.x}function Mo(e,t){if(t=function(e,t){var i,r=t,n=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===o)return i.prev;var l,c=i,u=i.x,f=i.y,h=1/0;r=i.next;for(;r!==c;)n>=r.x&&r.x>=u&&n!==r.x&&ko(a<f?n:o,a,u,f,a<f?o:n,a,r.x,r.y)&&((l=Math.abs(a-r.y)/(n-r.x))<h||l===h&&r.x>i.x)&&Co(r,e)&&(i=r,h=l),r=r.next;return i}(e,t)){var i=Oo(t,e);go(i,i.next)}}function So(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function To(e){var t=e,i=e;do{t.x<i.x&&(i=t),t=t.next}while(t!==e);return i}function ko(e,t,i,r,n,a,o,s){return(n-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(i-o)*(t-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Ao(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&Po(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&Co(e,t)&&Co(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(e,t)}function Ro(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Lo(e,t){return e.x===t.x&&e.y===t.y}function Po(e,t,i,r){return!!(Lo(e,t)&&Lo(i,r)||Lo(e,r)&&Lo(i,t))||Ro(e,t,i)>0!=Ro(e,t,r)>0&&Ro(i,r,e)>0!=Ro(i,r,t)>0}function Co(e,t){return Ro(e.prev,e,e.next)<0?Ro(e,t,e.next)>=0&&Ro(e,e.prev,t)>=0:Ro(e,t,e.prev)<0||Ro(e,e.next,t)<0}function Oo(e,t){var i=new Do(e.i,e.x,e.y),r=new Do(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Io(e,t,i,r){var n=new Do(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function No(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Do(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Fo={area:function(e){for(var t=e.length,i=0,r=t-1,n=0;n<t;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return.5*i},isClockWise:function(e){return Fo.area(e)<0},triangulateShape:function(e,t){var i=[],r=[],n=[];Bo(e),Uo(i,e);var a=e.length;t.forEach(Bo);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Uo(i,t[o]);var s=mo(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function Bo(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Uo(e,t){for(var i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}function zo(e,t){Xi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Ho(e,t)),this.mergeVertices()}function Ho(e,t){or.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var i=this,r=[],n=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:u-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Go;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var v,g,y,b,w,_,x,E,M=!1;p&&(v=p.getSpacedPoints(s),M=!0,c=!1,g=p.computeFrenetFrames(s,!1),y=new Wt,b=new Wt,w=new Wt),c||(d=0,u=0,f=0,h=0);var S=e.extractPoints(o),T=S.shape,k=S.holes;if(!Fo.isClockWise(T))for(T=T.reverse(),x=0,E=k.length;x<E;x++)_=k[x],Fo.isClockWise(_)&&(k[x]=_.reverse());var A=Fo.triangulateShape(T,k),R=T;for(x=0,E=k.length;x<E;x++)_=k[x],T=T.concat(_);function L(e,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(i).add(e)}var P,C,O,I,N,D,F=T.length,B=A.length;function U(e,t,i){var r,n,a,o=e.x-t.x,s=e.y-t.y,l=i.x-e.x,c=i.y-e.y,u=o*o+s*s,f=o*c-s*l;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=t.x-s/h,m=t.y+o/h,v=((i.x-c/d-p)*c-(i.y+l/d-m)*l)/(o*c-s*l),g=(r=p+o*v-e.x)*r+(n=m+s*v-e.y)*n;if(g<=2)return new Vt(r,n);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,n=o,a=Math.sqrt(u)):(r=o,n=s,a=Math.sqrt(u/2))}return new Vt(r/a,n/a)}for(var z=[],H=0,G=R.length,V=G-1,j=H+1;H<G;H++,V++,j++)V===G&&(V=0),j===G&&(j=0),z[H]=U(R[H],R[V],R[j]);var W,X,q=[],Y=z.concat();for(x=0,E=k.length;x<E;x++){for(_=k[x],W=[],H=0,V=(G=_.length)-1,j=H+1;H<G;H++,V++,j++)V===G&&(V=0),j===G&&(j=0),W[H]=U(_[H],_[V],_[j]);q.push(W),Y=Y.concat(W)}for(P=0;P<d;P++){for(O=P/d,I=u*Math.cos(O*Math.PI/2),C=f*Math.sin(O*Math.PI/2)+h,H=0,G=R.length;H<G;H++)Z((N=L(R[H],z[H],C)).x,N.y,-I);for(x=0,E=k.length;x<E;x++)for(_=k[x],W=q[x],H=0,G=_.length;H<G;H++)Z((N=L(_[H],W[H],C)).x,N.y,-I)}for(C=f+h,H=0;H<F;H++)N=c?L(T[H],Y[H],C):T[H],M?(b.copy(g.normals[0]).multiplyScalar(N.x),y.copy(g.binormals[0]).multiplyScalar(N.y),w.copy(v[0]).add(b).add(y),Z(w.x,w.y,w.z)):Z(N.x,N.y,0);for(X=1;X<=s;X++)for(H=0;H<F;H++)N=c?L(T[H],Y[H],C):T[H],M?(b.copy(g.normals[X]).multiplyScalar(N.x),y.copy(g.binormals[X]).multiplyScalar(N.y),w.copy(v[X]).add(b).add(y),Z(w.x,w.y,w.z)):Z(N.x,N.y,l/s*X);for(P=d-1;P>=0;P--){for(O=P/d,I=u*Math.cos(O*Math.PI/2),C=f*Math.sin(O*Math.PI/2)+h,H=0,G=R.length;H<G;H++)Z((N=L(R[H],z[H],C)).x,N.y,l+I);for(x=0,E=k.length;x<E;x++)for(_=k[x],W=q[x],H=0,G=_.length;H<G;H++)N=L(_[H],W[H],C),M?Z(N.x,N.y+v[s-1].y,v[s-1].x+I):Z(N.x,N.y,l+I)}function J(e,t){var i,r;for(H=e.length;--H>=0;){i=H,(r=H-1)<0&&(r=e.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=F*n,l=F*(n+1);Q(t+i+o,t+r+o,t+r+l,t+i+l)}}}function Z(e,t,i){a.push(e),a.push(t),a.push(i)}function K(e,t,n){$(e),$(t),$(n);var a=r.length/3,o=m.generateTopUV(i,r,a-3,a-2,a-1);ee(o[0]),ee(o[1]),ee(o[2])}function Q(e,t,n,a){$(e),$(t),$(a),$(t),$(n),$(a);var o=r.length/3,s=m.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function $(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function ee(e){n.push(e.x),n.push(e.y)}!function(){var e=r.length/3;if(c){var t=0,n=F*t;for(H=0;H<B;H++)K((D=A[H])[2]+n,D[1]+n,D[0]+n);for(n=F*(t=s+2*d),H=0;H<B;H++)K((D=A[H])[0]+n,D[1]+n,D[2]+n)}else{for(H=0;H<B;H++)K((D=A[H])[2],D[1],D[0]);for(H=0;H<B;H++)K((D=A[H])[0]+F*s,D[1]+F*s,D[2]+F*s)}i.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(J(R,t),t+=R.length,x=0,E=k.length;x<E;x++)J(_=k[x],t),t+=_.length;i.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new tr(r,3)),this.addAttribute("uv",new tr(n,2)),this.computeVertexNormals()}zo.prototype=Object.create(Xi.prototype),zo.prototype.constructor=zo,zo.prototype.toJSON=function(){var e=Xi.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,e)},Ho.prototype=Object.create(or.prototype),Ho.prototype.constructor=Ho,Ho.prototype.toJSON=function(){var e=or.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,e)};var Go={generateTopUV:function(e,t,i,r,n){var a=t[3*i],o=t[3*i+1],s=t[3*r],l=t[3*r+1],c=t[3*n],u=t[3*n+1];return[new Vt(a,o),new Vt(s,l),new Vt(c,u)]},generateSideWallUV:function(e,t,i,r,n,a){var o=t[3*i],s=t[3*i+1],l=t[3*i+2],c=t[3*r],u=t[3*r+1],f=t[3*r+2],h=t[3*n],d=t[3*n+1],p=t[3*n+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-u)<.01?[new Vt(o,1-l),new Vt(c,1-f),new Vt(h,1-p),new Vt(m,1-g)]:[new Vt(s,1-l),new Vt(u,1-f),new Vt(d,1-p),new Vt(v,1-g)]}};function Vo(e,t,i){if(i.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var a=e[r];i.shapes.push(a.uuid)}else i.shapes.push(e.uuid);return void 0!==t.extrudePath&&(i.options.extrudePath=t.extrudePath.toJSON()),i}function jo(e,t){Xi.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Wo(e,t)),this.mergeVertices()}function Wo(e,t){var i=(t=t||{}).font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Xi;var r=i.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Ho.call(this,r,t),this.type="TextBufferGeometry"}function Xo(e,t,i,r,n,a,o){Xi.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new qo(e,t,i,r,n,a,o)),this.mergeVertices()}function qo(e,t,i,r,n,a,o){or.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var s,l,c=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),u=0,f=[],h=new Wt,d=new Wt,p=[],m=[],v=[],g=[];for(l=0;l<=i;l++){var y=[],b=l/i,w=0==l?.5/t:l==i?-.5/t:0;for(s=0;s<=t;s++){var _=s/t;h.x=-e*Math.cos(r+_*n)*Math.sin(a+b*o),h.y=e*Math.cos(a+b*o),h.z=e*Math.sin(r+_*n)*Math.sin(a+b*o),m.push(h.x,h.y,h.z),d.copy(h).normalize(),v.push(d.x,d.y,d.z),g.push(_+w,1-b),y.push(u++)}f.push(y)}for(l=0;l<i;l++)for(s=0;s<t;s++){var x=f[l][s+1],E=f[l][s],M=f[l+1][s],S=f[l+1][s+1];(0!==l||a>0)&&p.push(x,E,S),(l!==i-1||c<Math.PI)&&p.push(E,M,S)}this.setIndex(p),this.addAttribute("position",new tr(m,3)),this.addAttribute("normal",new tr(v,3)),this.addAttribute("uv",new tr(g,2))}function Yo(e,t,i,r,n,a){Xi.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new Jo(e,t,i,r,n,a)),this.mergeVertices()}function Jo(e,t,i,r,n,a){or.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},e=e||.5,t=t||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,l,c=[],u=[],f=[],h=[],d=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new Wt,v=new Vt;for(s=0;s<=r;s++){for(l=0;l<=i;l++)o=n+l/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),u.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y);d+=p}for(s=0;s<r;s++){var g=s*(i+1);for(l=0;l<i;l++){var y=o=l+g,b=o+i+1,w=o+i+2,_=o+1;c.push(y,b,_),c.push(b,w,_)}}this.setIndex(c),this.addAttribute("position",new tr(u,3)),this.addAttribute("normal",new tr(f,3)),this.addAttribute("uv",new tr(h,2))}function Zo(e,t,i,r){Xi.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},this.fromBufferGeometry(new Ko(e,t,i,r)),this.mergeVertices()}function Ko(e,t,i,r){or.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t)||12,i=i||0,r=r||2*Math.PI,r=Gt.clamp(r,0,2*Math.PI);var n,a,o,s=[],l=[],c=[],u=1/t,f=new Wt,h=new Vt;for(a=0;a<=t;a++){var d=i+a*u*r,p=Math.sin(d),m=Math.cos(d);for(o=0;o<=e.length-1;o++)f.x=e[o].x*p,f.y=e[o].y,f.z=e[o].x*m,l.push(f.x,f.y,f.z),h.x=a/t,h.y=o/(e.length-1),c.push(h.x,h.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var v=n=o+a*e.length,g=n+e.length,y=n+e.length+1,b=n+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute("position",new tr(l,3)),this.addAttribute("uv",new tr(c,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,_=new Wt,x=new Wt,E=new Wt;for(n=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)_.x=w[o+0],_.y=w[o+1],_.z=w[o+2],x.x=w[n+o+0],x.y=w[n+o+1],x.z=w[n+o+2],E.addVectors(_,x).normalize(),w[o+0]=w[n+o+0]=E.x,w[o+1]=w[n+o+1]=E.y,w[o+2]=w[n+o+2]=E.z}}function Qo(e,t){Xi.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new $o(e,t)),this.mergeVertices()}function $o(e,t){or.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(e))c(e);else for(var l=0;l<e.length;l++)c(e[l]),this.addGroup(o,s,l),o+=s,s=0;function c(e){var o,l,c,u=r.length/3,f=e.extractPoints(t),h=f.shape,d=f.holes;for(!1===Fo.isClockWise(h)&&(h=h.reverse()),o=0,l=d.length;o<l;o++)c=d[o],!0===Fo.isClockWise(c)&&(d[o]=c.reverse());var p=Fo.triangulateShape(h,d);for(o=0,l=d.length;o<l;o++)c=d[o],h=h.concat(c);for(o=0,l=h.length;o<l;o++){var m=h[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,l=p.length;o<l;o++){var v=p[o],g=v[0]+u,y=v[1]+u,b=v[2]+u;i.push(g,y,b),s+=3}}this.setIndex(i),this.addAttribute("position",new tr(r,3)),this.addAttribute("normal",new tr(n,3)),this.addAttribute("uv",new tr(a,2))}function es(e,t){if(t.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var n=e[i];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return t}function ts(e,t){or.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var i,r,n,a,o=[],s=Math.cos(Gt.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(a=new Xi).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var f=a.vertices,h=a.faces,d=0,p=h.length;d<p;d++)for(var m=h[d],v=0;v<3;v++)i=m[u[v]],r=m[u[(v+1)%3]],l[0]=Math.min(i,r),l[1]=Math.max(i,r),void 0===c[n=l[0]+","+l[1]]?c[n]={index1:l[0],index2:l[1],face1:d,face2:void 0}:c[n].face2=d;for(n in c){var g=c[n];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var y=f[g.index1];o.push(y.x,y.y,y.z),y=f[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new tr(o,3))}function is(e,t,i,r,n,a,o,s){Xi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new rs(e,t,i,r,n,a,o,s)),this.mergeVertices()}function rs(e,t,i,r,n,a,o,s){or.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var c=[],u=[],f=[],h=[],d=0,p=[],m=i/2,v=0;function g(i){var n,a,p,g=new Vt,y=new Wt,b=0,w=!0===i?e:t,_=!0===i?1:-1;for(a=d,n=1;n<=r;n++)u.push(0,m*_,0),f.push(0,_,0),h.push(.5,.5),d++;for(p=d,n=0;n<=r;n++){var x=n/r*s+o,E=Math.cos(x),M=Math.sin(x);y.x=w*M,y.y=m*_,y.z=w*E,u.push(y.x,y.y,y.z),f.push(0,_,0),g.x=.5*E+.5,g.y=.5*M*_+.5,h.push(g.x,g.y),d++}for(n=0;n<r;n++){var S=a+n,T=p+n;!0===i?c.push(T,T+1,S):c.push(T+1,T,S),b+=3}l.addGroup(v,b,!0===i?1:2),v+=b}!function(){var a,g,y=new Wt,b=new Wt,w=0,_=(t-e)/i;for(g=0;g<=n;g++){var x=[],E=g/n,M=E*(t-e)+e;for(a=0;a<=r;a++){var S=a/r,T=S*s+o,k=Math.sin(T),A=Math.cos(T);b.x=M*k,b.y=-E*i+m,b.z=M*A,u.push(b.x,b.y,b.z),y.set(k,_,A).normalize(),f.push(y.x,y.y,y.z),h.push(S,1-E),x.push(d++)}p.push(x)}for(a=0;a<r;a++)for(g=0;g<n;g++){var R=p[g][a],L=p[g+1][a],P=p[g+1][a+1],C=p[g][a+1];c.push(R,L,C),c.push(L,P,C),w+=6}l.addGroup(v,w,0),v+=w}(),!1===a&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.addAttribute("position",new tr(u,3)),this.addAttribute("normal",new tr(f,3)),this.addAttribute("uv",new tr(h,2))}function ns(e,t,i,r,n,a,o){is.call(this,0,e,t,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function as(e,t,i,r,n,a,o){rs.call(this,0,e,t,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function os(e,t,i,r){Xi.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new ss(e,t,i,r)),this.mergeVertices()}function ss(e,t,i,r){or.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],l=[],c=[],u=new Wt,f=new Vt;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),a=0,n=3;a<=t;a++,n+=3){var h=i+a/t*r;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),l.push(0,0,1),f.x=(s[n]/e+1)/2,f.y=(s[n+1]/e+1)/2,c.push(f.x,f.y)}for(n=1;n<=t;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new tr(s,3)),this.addAttribute("normal",new tr(l,3)),this.addAttribute("uv",new tr(c,2))}jo.prototype=Object.create(Xi.prototype),jo.prototype.constructor=jo,Wo.prototype=Object.create(Ho.prototype),Wo.prototype.constructor=Wo,Xo.prototype=Object.create(Xi.prototype),Xo.prototype.constructor=Xo,qo.prototype=Object.create(or.prototype),qo.prototype.constructor=qo,Yo.prototype=Object.create(Xi.prototype),Yo.prototype.constructor=Yo,Jo.prototype=Object.create(or.prototype),Jo.prototype.constructor=Jo,Zo.prototype=Object.create(Xi.prototype),Zo.prototype.constructor=Zo,Ko.prototype=Object.create(or.prototype),Ko.prototype.constructor=Ko,Qo.prototype=Object.create(Xi.prototype),Qo.prototype.constructor=Qo,Qo.prototype.toJSON=function(){var e=Xi.prototype.toJSON.call(this);return es(this.parameters.shapes,e)},$o.prototype=Object.create(or.prototype),$o.prototype.constructor=$o,$o.prototype.toJSON=function(){var e=or.prototype.toJSON.call(this);return es(this.parameters.shapes,e)},ts.prototype=Object.create(or.prototype),ts.prototype.constructor=ts,is.prototype=Object.create(Xi.prototype),is.prototype.constructor=is,rs.prototype=Object.create(or.prototype),rs.prototype.constructor=rs,ns.prototype=Object.create(is.prototype),ns.prototype.constructor=ns,as.prototype=Object.create(rs.prototype),as.prototype.constructor=as,os.prototype=Object.create(Xi.prototype),os.prototype.constructor=os,ss.prototype=Object.create(or.prototype),ss.prototype.constructor=ss;var ls=Object.freeze({WireframeGeometry:Ja,ParametricGeometry:Za,ParametricBufferGeometry:Ka,TetrahedronGeometry:eo,TetrahedronBufferGeometry:to,OctahedronGeometry:io,OctahedronBufferGeometry:ro,IcosahedronGeometry:no,IcosahedronBufferGeometry:ao,DodecahedronGeometry:oo,DodecahedronBufferGeometry:so,PolyhedronGeometry:Qa,PolyhedronBufferGeometry:$a,TubeGeometry:lo,TubeBufferGeometry:co,TorusKnotGeometry:uo,TorusKnotBufferGeometry:fo,TorusGeometry:ho,TorusBufferGeometry:po,TextGeometry:jo,TextBufferGeometry:Wo,SphereGeometry:Xo,SphereBufferGeometry:qo,RingGeometry:Yo,RingBufferGeometry:Jo,PlaneGeometry:cr,PlaneBufferGeometry:ur,LatheGeometry:Zo,LatheBufferGeometry:Ko,ShapeGeometry:Qo,ShapeBufferGeometry:$o,ExtrudeGeometry:zo,ExtrudeBufferGeometry:Ho,EdgesGeometry:ts,ConeGeometry:ns,ConeBufferGeometry:as,CylinderGeometry:is,CylinderBufferGeometry:rs,CircleGeometry:os,CircleBufferGeometry:ss,BoxGeometry:sr,BoxBufferGeometry:lr});function cs(e){hr.call(this),this.type="ShadowMaterial",this.color=new Ai(0),this.transparent=!0,this.setValues(e)}function us(e){kr.call(this,e),this.type="RawShaderMaterial"}function fs(e){hr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ai(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ai(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zt,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function hs(e){fs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function ds(e){hr.call(this),this.type="MeshPhongMaterial",this.color=new Ai(16777215),this.specular=new Ai(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ai(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zt,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ps(e){ds.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function ms(e){hr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zt,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function vs(e){hr.call(this),this.type="MeshLambertMaterial",this.color=new Ai(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ai(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function gs(e){hr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ai(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zt,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function ys(e){Ua.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}cs.prototype=Object.create(hr.prototype),cs.prototype.constructor=cs,cs.prototype.isShadowMaterial=!0,cs.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this},us.prototype=Object.create(kr.prototype),us.prototype.constructor=us,us.prototype.isRawShaderMaterial=!0,fs.prototype=Object.create(hr.prototype),fs.prototype.constructor=fs,fs.prototype.isMeshStandardMaterial=!0,fs.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},hs.prototype=Object.create(fs.prototype),hs.prototype.constructor=hs,hs.prototype.isMeshPhysicalMaterial=!0,hs.prototype.copy=function(e){return fs.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},ds.prototype=Object.create(hr.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshPhongMaterial=!0,ds.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ps.prototype=Object.create(ds.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshToonMaterial=!0,ps.prototype.copy=function(e){return ds.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},ms.prototype=Object.create(hr.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshNormalMaterial=!0,ms.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},vs.prototype=Object.create(hr.prototype),vs.prototype.constructor=vs,vs.prototype.isMeshLambertMaterial=!0,vs.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},gs.prototype=Object.create(hr.prototype),gs.prototype.constructor=gs,gs.prototype.isMeshMatcapMaterial=!0,gs.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ys.prototype=Object.create(Ua.prototype),ys.prototype.constructor=ys,ys.prototype.isLineDashedMaterial=!0,ys.prototype.copy=function(e){return Ua.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var bs=Object.freeze({ShadowMaterial:cs,SpriteMaterial:Oa,RawShaderMaterial:us,ShaderMaterial:kr,PointsMaterial:Va,MeshPhysicalMaterial:hs,MeshStandardMaterial:fs,MeshPhongMaterial:ds,MeshToonMaterial:ps,MeshNormalMaterial:ms,MeshLambertMaterial:vs,MeshDepthMaterial:oa,MeshDistanceMaterial:sa,MeshBasicMaterial:Lr,MeshMatcapMaterial:gs,LineDashedMaterial:ys,LineBasicMaterial:Ua,Material:hr}),ws={arraySlice:function(e,t,i){return ws.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==i?i:e.length)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,i=new Array(t),r=0;r!==t;++r)i[r]=r;return i.sort(function(t,i){return e[t]-e[i]}),i},sortedArray:function(e,t,i){for(var r=e.length,n=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*t,l=0;l!==t;++l)n[o++]=e[s+l];return n},flattenJSON:function(e,t,i,r){for(var n=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),i.push.apply(i,o)),a=e[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(i,i.length)),a=e[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),i.push(o)),a=e[n++]}while(void 0!==a)}}};function _s(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i}function xs(e,t,i,r){_s.call(this,e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Es(e,t,i,r){_s.call(this,e,t,i,r)}function Ms(e,t,i,r){_s.call(this,e,t,i,r)}function Ss(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ws.convertArray(t,this.TimeBufferType),this.values=ws.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ts(e,t,i){Ss.call(this,e,t,i)}function ks(e,t,i,r){Ss.call(this,e,t,i,r)}function As(e,t,i,r){Ss.call(this,e,t,i,r)}function Rs(e,t,i,r){_s.call(this,e,t,i,r)}function Ls(e,t,i,r){Ss.call(this,e,t,i,r)}function Ps(e,t,i,r){Ss.call(this,e,t,i,r)}function Cs(e,t,i,r){Ss.call(this,e,t,i,r)}function Os(e,t,i){this.name=e,this.tracks=i,this.duration=void 0!==t?t:-1,this.uuid=Gt.generateUUID(),this.duration<0&&this.resetDuration()}function Is(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return As;case"vector":case"vector2":case"vector3":case"vector4":return Cs;case"color":return ks;case"quaternion":return Ls;case"bool":case"boolean":return Ts;case"string":return Ps}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var i=[],r=[];ws.flattenJSON(e.keys,i,r,"value"),e.times=i,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(_s.prototype,{evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,r=t[i],n=t[i-1];e:{t:{var a;i:{r:if(!(e<r)){for(var o=i+2;;){if(void 0===r){if(e<n)break r;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,n)}if(i===o)break;if(n=r,e<(r=t[++i]))break t}a=t.length;break i}if(e>=n)break e;var s=t[1];e<s&&(i=2,n=s);for(o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===o)break;if(r=n,e>=(n=t[--i-1]))break t}a=i,i=0}for(;i<a;){var l=i+a>>>1;e<t[l]?a=l:i=l+1}if(r=t[i],void 0===(n=t[i-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,n,e)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=e*r,a=0;a!==r;++a)t[a]=i[n+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(_s.prototype,{beforeStart_:_s.prototype.copySampleValue_,afterEnd_:_s.prototype.copySampleValue_}),xs.prototype=Object.assign(Object.create(_s.prototype),{constructor:xs,DefaultSettings_:{endingStart:Mt,endingEnd:Mt},intervalChanged_:function(e,t,i){var r=this.parameterPositions,n=e-2,a=e+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case St:n=e,o=2*t-i;break;case Tt:o=t+r[n=r.length-2]-r[n+1];break;default:n=e,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case St:a=e,s=2*i-t;break;case Tt:a=1,s=i+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(i-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-i),this._offsetPrev=n*c,this._offsetNext=a*c},interpolate_:function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(i-t)/(r-t),p=d*d,m=p*d,v=-f*m+2*f*p-f*d,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,b=h*m-h*p,w=0;w!==o;++w)n[w]=v*a[c+w]+g*a[l+w]+y*a[s+w]+b*a[u+w];return n}}),Es.prototype=Object.assign(Object.create(_s.prototype),{constructor:Es,interpolate_:function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(i-t)/(r-t),u=1-c,f=0;f!==o;++f)n[f]=a[l+f]*u+a[s+f]*c;return n}}),Ms.prototype=Object.assign(Object.create(_s.prototype),{constructor:Ms,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Ss,{toJSON:function(e){var t,i=e.constructor;if(void 0!==i.toJSON)t=i.toJSON(e);else{t={name:e.name,times:ws.convertArray(e.times,Array),values:ws.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Ss.prototype,{constructor:Ss,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:xt,InterpolantFactoryMethodDiscrete:function(e){return new Ms(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Es(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new xs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case _t:t=this.InterpolantFactoryMethodDiscrete;break;case xt:t=this.InterpolantFactoryMethodLinear;break;case Et:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _t;case this.InterpolantFactoryMethodLinear:return xt;case this.InterpolantFactoryMethodSmooth:return Et}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,r=t.length;i!==r;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,r=t.length;i!==r;++i)t[i]*=e;return this},trim:function(e,t){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<e;)++n;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ws.arraySlice(i,n,a),this.values=ws.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var i=this.times,r=this.values,n=i.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&ws.isTypedArray(r)){o=0;for(var l=r.length;o!==l;++o){var c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,i=this.getValueSize(),r=this.getInterpolation()===Et,n=1,a=e.length-1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var c=o*i,u=c-i,f=c+i,h=0;h!==i;++h){var d=t[c+h];if(d!==t[u+h]||d!==t[f+h]){s=!0;break}}if(s){if(o!==n){e[n]=e[o];var p=o*i,m=n*i;for(h=0;h!==i;++h)t[m+h]=t[p+h]}++n}}if(a>0){e[n]=e[a];for(p=a*i,m=n*i,h=0;h!==i;++h)t[m+h]=t[p+h];++n}return n!==e.length&&(this.times=ws.arraySlice(e,0,n),this.values=ws.arraySlice(t,0,n*i)),this},clone:function(){var e=ws.arraySlice(this.times,0),t=ws.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}),Ts.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ts,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:_t,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ks.prototype=Object.assign(Object.create(Ss.prototype),{constructor:ks,ValueTypeName:"color"}),As.prototype=Object.assign(Object.create(Ss.prototype),{constructor:As,ValueTypeName:"number"}),Rs.prototype=Object.assign(Object.create(_s.prototype),{constructor:Rs,interpolate_:function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(i-t)/(r-t),c=s+o;s!==c;s+=4)jt.slerpFlat(n,0,a,s-o,a,s,l);return n}}),Ls.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ls,ValueTypeName:"quaternion",DefaultInterpolation:xt,InterpolantFactoryMethodLinear:function(e){return new Rs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Ps.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ps,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:_t,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Cs.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Cs,ValueTypeName:"vector"}),Object.assign(Os,{parse:function(e){for(var t=[],i=e.tracks,r=1/(e.fps||1),n=0,a=i.length;n!==a;++n)t.push(Is(i[n]).scale(r));return new Os(e.name,e.duration,t)},toJSON:function(e){for(var t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},n=0,a=i.length;n!==a;++n)t.push(Ss.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(e,t,i,r){for(var n=t.length,a=[],o=0;o<n;o++){var s=[],l=[];s.push((o+n-1)%n,o,(o+1)%n),l.push(0,1,0);var c=ws.getKeyframeOrder(s);s=ws.sortedArray(s,1,c),l=ws.sortedArray(l,1,c),r||0!==s[0]||(s.push(n),l.push(l[0])),a.push(new As(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/i))}return new Os(e,-1,a)},findByName:function(e,t){var i=e;if(!Array.isArray(e)){var r=e;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null},CreateClipsFromMorphTargetSequences:function(e,t,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(n);if(l&&l.length>1){var c=r[f=l[1]];c||(r[f]=c=[]),c.push(s)}}var u=[];for(var f in r)u.push(Os.CreateFromMorphTargetSequence(f,r[f],t,i));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(e,t,i,r,n){if(0!==i.length){var a=[],o=[];ws.flattenJSON(i,a,o,r),0!==a.length&&n.push(new e(t,a,o))}},r=[],n=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},f=0;f<c.length;f++)if(c[f].morphTargets)for(var h=0;h<c[f].morphTargets.length;h++)u[c[f].morphTargets[h]]=-1;for(var d in u){var p=[],m=[];for(h=0;h!==c[f].morphTargets.length;++h){var v=c[f];p.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new As(".morphTargetInfluence["+d+"]",p,m))}a=u.length*(o||1)}else{var g=".bones["+t[l].name+"]";i(Cs,g+".position",c,"pos",r),i(Ls,g+".quaternion",c,"rot",r),i(Cs,g+".scale",c,"scl",r)}}return 0===r.length?null:new Os(n,a,r)}}),Object.assign(Os.prototype,{resetDuration:function(){for(var e=0,t=0,i=this.tracks.length;t!==i;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Os(this.name,this.duration,e)}});var Ns={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ds(e,t,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){o++,!1===n&&void 0!==r.onStart&&r.onStart(e,a,o),n=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Fs=new Ds,Bs={};function Us(e){this.manager=void 0!==e?e:Fs}function zs(e){this.manager=void 0!==e?e:Fs}function Hs(e){this.manager=void 0!==e?e:Fs,this._parser=null}function Gs(e){this.manager=void 0!==e?e:Fs,this._parser=null}function Vs(e){this.manager=void 0!==e?e:Fs}function js(e){this.manager=void 0!==e?e:Fs}function Ws(e){this.manager=void 0!==e?e:Fs}function Xs(){this.type="Curve",this.arcLengthDivisions=200}function qs(e,t,i,r,n,a,o,s){Xs.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Ys(e,t,i,r,n,a){qs.call(this,e,t,i,i,r,n,a),this.type="ArcCurve"}function Js(){var e=0,t=0,i=0,r=0;function n(n,a,o,s){e=n,t=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(e,t,i,r,a){n(t,i,a*(i-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,i,r,a,o,s){var l=(t-e)/a-(i-e)/(a+o)+(i-t)/o,c=(i-t)/o-(r-t)/(o+s)+(r-i)/s;n(t,i,l*=o,c*=o)},calc:function(n){var a=n*n;return e+t*n+i*a+r*(a*n)}}}Object.assign(Us.prototype,{load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,a=Ns.get(e);if(void 0!==a)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;if(void 0===Bs[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],c=o[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var u,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var h=new Uint8Array(c.length),d=0;d<c.length;d++)h[d]=c.charCodeAt(d);u="blob"===f?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var p=new DOMParser;u=p.parseFromString(c,s);break;case"json":u=JSON.parse(c);break;default:u=c}setTimeout(function(){t&&t(u),n.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){r&&r(t),n.manager.itemError(e),n.manager.itemEnd(e)},0)}}else{Bs[e]=[],Bs[e].push({onLoad:t,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",function(t){var i=this.response;Ns.add(e,i);var r=Bs[e];if(delete Bs[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(i)}n.manager.itemEnd(e)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(t)}n.manager.itemError(e),n.manager.itemEnd(e)}},!1),m.addEventListener("progress",function(t){for(var i=Bs[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}},!1),m.addEventListener("error",function(t){var i=Bs[e];delete Bs[e];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(t)}n.manager.itemError(e),n.manager.itemEnd(e)},!1),m.addEventListener("abort",function(t){var i=Bs[e];delete Bs[e];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(t)}n.manager.itemError(e),n.manager.itemEnd(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(e),m}Bs[e].push({onLoad:t,onProgress:i,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(zs.prototype,{load:function(e,t,i,r){var n=this,a=new Us(n.manager);a.setPath(n.path),a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},parse:function(e){for(var t=[],i=0;i<e.length;i++){var r=Os.parse(e[i]);t.push(r)}return t},setPath:function(e){return this.path=e,this}}),Object.assign(Hs.prototype,{load:function(e,t,i,r){var n=this,a=[],o=new Xa;o.image=a;var s=new Us(this.manager);function l(l){s.load(e[l],function(e){var i=n._parser(e,!0);a[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(c+=1)&&(1===i.mipmapCount&&(o.minFilter=Se),o.format=i.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,f=e.length;u<f;++u)l(u);else s.load(e,function(e){var i=n._parser(e,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+l]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Se),o.format=i.format,o.needsUpdate=!0,t&&t(o)},i,r);return o},setPath:function(e){return this.path=e,this}}),Object.assign(Gs.prototype,{load:function(e,t,i,r){var n=this,a=new pi,o=new Us(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,function(e){var i=n._parser(e);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:we,a.wrapT=void 0!==i.wrapT?i.wrapT:we,a.magFilter=void 0!==i.magFilter?i.magFilter:Se,a.minFilter=void 0!==i.minFilter?i.minFilter:ke,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Se),a.needsUpdate=!0,t&&t(a,i))},i,r),a},setPath:function(e){return this.path=e,this}}),Object.assign(Vs.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,a=Ns.get(e);if(void 0!==a)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Ns.add(e,this),t&&t(this),n.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),n.manager.itemError(e),n.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(js.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){var n=new Vr,a=new Vs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(e[i],function(e){n.images[i]=e,6===++o&&(n.needsUpdate=!0,t&&t(n))},void 0,r)}for(var l=0;l<e.length;++l)s(l);return n},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ws.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){var n=new ci,a=new Vs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(i){n.image=i;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);n.format=r?He:Ge,n.needsUpdate=!0,void 0!==t&&t(n)},i,r),n},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Xs.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(n),r.push(a),n=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,r=this.getLengths(),n=0,a=r.length;i=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[n=Math.floor(s+(l-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){l=n;break}l=n-1}if(r[n=l]===i)return n/(a-1);var c=r[n];return(n+(i-c)/(r[n+1]-c))/(a-1)},getTangent:function(e){var t=e-1e-4,i=e+1e-4;t<0&&(t=0),i>1&&(i=1);var r=this.getPoint(t);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var i,r,n,a=new Wt,o=[],s=[],l=[],c=new Wt,u=new bi;for(i=0;i<=e;i++)r=i/e,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new Wt,l[0]=new Wt;var f=Number.MAX_VALUE,h=Math.abs(o[0].x),d=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=f&&(f=h,a.set(1,0,0)),d<=f&&(f=d,a.set(0,1,0)),p<=f&&a.set(0,0,1),c.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],c),l[0].crossVectors(o[0],s[0]),i=1;i<=e;i++)s[i]=s[i-1].clone(),l[i]=l[i-1].clone(),c.crossVectors(o[i-1],o[i]),c.length()>Number.EPSILON&&(c.normalize(),n=Math.acos(Gt.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(u.makeRotationAxis(c,n))),l[i].crossVectors(o[i],s[i]);if(!0===t)for(n=Math.acos(Gt.clamp(s[0].dot(s[e]),-1,1)),n/=e,o[0].dot(c.crossVectors(s[0],s[e]))>0&&(n=-n),i=1;i<=e;i++)s[i].applyMatrix4(u.makeRotationAxis(o[i],n*i)),l[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),qs.prototype=Object.create(Xs.prototype),qs.prototype.constructor=qs,qs.prototype.isEllipseCurve=!0,qs.prototype.getPoint=function(e,t){for(var i=t||new Vt,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<Number.EPSILON;n<0;)n+=r;for(;n>r;)n-=r;n<Number.EPSILON&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+e*n,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=s-this.aX,h=l-this.aY;s=f*c-h*u+this.aX,l=f*u+h*c+this.aY}return i.set(s,l)},qs.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},qs.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},qs.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ys.prototype=Object.create(qs.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isArcCurve=!0;var Zs=new Wt,Ks=new Js,Qs=new Js,$s=new Js;function el(e,t,i,r){Xs.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=i||"centripetal",this.tension=r||.5}function tl(e,t,i,r,n){var a=.5*(r-t),o=.5*(n-i),s=e*e;return(2*i-2*r+a+o)*(e*s)+(-3*i+3*r-2*a-o)*s+a*e+i}function il(e,t,i,r){return function(e,t){var i=1-e;return i*i*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,i)+function(e,t){return e*e*t}(e,r)}function rl(e,t,i,r,n){return function(e,t){var i=1-e;return i*i*i*t}(e,t)+function(e,t){var i=1-e;return 3*i*i*e*t}(e,i)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,n)}function nl(e,t,i,r){Xs.call(this),this.type="CubicBezierCurve",this.v0=e||new Vt,this.v1=t||new Vt,this.v2=i||new Vt,this.v3=r||new Vt}function al(e,t,i,r){Xs.call(this),this.type="CubicBezierCurve3",this.v0=e||new Wt,this.v1=t||new Wt,this.v2=i||new Wt,this.v3=r||new Wt}function ol(e,t){Xs.call(this),this.type="LineCurve",this.v1=e||new Vt,this.v2=t||new Vt}function sl(e,t){Xs.call(this),this.type="LineCurve3",this.v1=e||new Wt,this.v2=t||new Wt}function ll(e,t,i){Xs.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Vt,this.v1=t||new Vt,this.v2=i||new Vt}function cl(e,t,i){Xs.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Wt,this.v1=t||new Wt,this.v2=i||new Wt}function ul(e){Xs.call(this),this.type="SplineCurve",this.points=e||[]}el.prototype=Object.create(Xs.prototype),el.prototype.constructor=el,el.prototype.isCatmullRomCurve3=!0,el.prototype.getPoint=function(e,t){var i,r,n,a,o=t||new Wt,s=this.points,l=s.length,c=(l-(this.closed?0:1))*e,u=Math.floor(c),f=c-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/l)+1)*l:0===f&&u===l-1&&(u=l-2,f=1),this.closed||u>0?i=s[(u-1)%l]:(Zs.subVectors(s[0],s[1]).add(s[0]),i=Zs),r=s[u%l],n=s[(u+1)%l],this.closed||u+2<l?a=s[(u+2)%l]:(Zs.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=Zs),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(n),h),m=Math.pow(n.distanceToSquared(a),h);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),Ks.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,p,m),Qs.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,p,m),$s.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,p,m)}else"catmullrom"===this.curveType&&(Ks.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),Qs.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),$s.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(Ks.calc(f),Qs.calc(f),$s.calc(f)),o},el.prototype.copy=function(e){Xs.prototype.copy.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},el.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},el.prototype.fromJSON=function(e){Xs.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Wt).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},nl.prototype=Object.create(Xs.prototype),nl.prototype.constructor=nl,nl.prototype.isCubicBezierCurve=!0,nl.prototype.getPoint=function(e,t){var i=t||new Vt,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(rl(e,r.x,n.x,a.x,o.x),rl(e,r.y,n.y,a.y,o.y)),i},nl.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},nl.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},nl.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},al.prototype=Object.create(Xs.prototype),al.prototype.constructor=al,al.prototype.isCubicBezierCurve3=!0,al.prototype.getPoint=function(e,t){var i=t||new Wt,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(rl(e,r.x,n.x,a.x,o.x),rl(e,r.y,n.y,a.y,o.y),rl(e,r.z,n.z,a.z,o.z)),i},al.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},al.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},al.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},ol.prototype=Object.create(Xs.prototype),ol.prototype.constructor=ol,ol.prototype.isLineCurve=!0,ol.prototype.getPoint=function(e,t){var i=t||new Vt;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i},ol.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},ol.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ol.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ol.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ol.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},sl.prototype=Object.create(Xs.prototype),sl.prototype.constructor=sl,sl.prototype.isLineCurve3=!0,sl.prototype.getPoint=function(e,t){var i=t||new Wt;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i},sl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},sl.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},sl.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},sl.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ll.prototype=Object.create(Xs.prototype),ll.prototype.constructor=ll,ll.prototype.isQuadraticBezierCurve=!0,ll.prototype.getPoint=function(e,t){var i=t||new Vt,r=this.v0,n=this.v1,a=this.v2;return i.set(il(e,r.x,n.x,a.x),il(e,r.y,n.y,a.y)),i},ll.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ll.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ll.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},cl.prototype=Object.create(Xs.prototype),cl.prototype.constructor=cl,cl.prototype.isQuadraticBezierCurve3=!0,cl.prototype.getPoint=function(e,t){var i=t||new Wt,r=this.v0,n=this.v1,a=this.v2;return i.set(il(e,r.x,n.x,a.x),il(e,r.y,n.y,a.y),il(e,r.z,n.z,a.z)),i},cl.prototype.copy=function(e){return Xs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},cl.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},cl.prototype.fromJSON=function(e){return Xs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ul.prototype=Object.create(Xs.prototype),ul.prototype.constructor=ul,ul.prototype.isSplineCurve=!0,ul.prototype.getPoint=function(e,t){var i=t||new Vt,r=this.points,n=(r.length-1)*e,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return i.set(tl(o,s.x,l.x,c.x,u.x),tl(o,s.y,l.y,c.y,u.y)),i},ul.prototype.copy=function(e){Xs.prototype.copy.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this},ul.prototype.toJSON=function(){var e=Xs.prototype.toJSON.call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e},ul.prototype.fromJSON=function(e){Xs.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Vt).fromArray(r))}return this};var fl=Object.freeze({ArcCurve:Ys,CatmullRomCurve3:el,CubicBezierCurve:nl,CubicBezierCurve3:al,EllipseCurve:qs,LineCurve:ol,LineCurve3:sl,QuadraticBezierCurve:ll,QuadraticBezierCurve3:cl,SplineCurve:ul});function hl(){Xs.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function dl(e){hl.call(this),this.type="Path",this.currentPoint=new Vt,e&&this.setFromPoints(e)}function pl(e){dl.call(this,e),this.uuid=Gt.generateUUID(),this.type="Shape",this.holes=[]}function ml(e,t){Gi.call(this),this.type="Light",this.color=new Ai(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function vl(e,t,i){ml.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.groundColor=new Ai(t)}function gl(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Vt(512,512),this.map=null,this.matrix=new bi}function yl(){gl.call(this,new pa(50,1,.5,500))}function bl(e,t,i,r,n,a){ml.call(this,e,t),this.type="SpotLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.target=new Gi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new yl}function wl(e,t,i,r){ml.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new gl(new pa(90,1,.5,500))}function _l(e,t,i,r,n,a){da.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function xl(){gl.call(this,new _l(-5,5,5,-5,.5,500))}function El(e,t){ml.call(this,e,t),this.type="DirectionalLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.target=new Gi,this.shadow=new xl}function Ml(e,t){ml.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Sl(e,t,i,r){ml.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function Tl(e){this.manager=void 0!==e?e:Fs,this.textures={}}hl.prototype=Object.assign(Object.create(Xs.prototype),{constructor:hl,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ol(t,e))},getPoint:function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=t){var n=i[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];t&&t.equals(c)||(i.push(c),t=c)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(e){Xs.prototype.copy.call(this,e),this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Xs.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,i=this.curves.length;t<i;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Xs.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push((new fl[r.type]).fromJSON(r))}return this}}),dl.prototype=Object.assign(Object.create(hl.prototype),{constructor:dl,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var i=new ol(this.currentPoint.clone(),new Vt(e,t));this.curves.push(i),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,i,r){var n=new ll(this.currentPoint.clone(),new Vt(e,t),new Vt(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(e,t,i,r,n,a){var o=new nl(this.currentPoint.clone(),new Vt(e,t),new Vt(i,r),new Vt(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(e){var t=new ul([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,i,r,n,a)},absarc:function(e,t,i,r,n,a){this.absellipse(e,t,i,i,r,n,a)},ellipse:function(e,t,i,r,n,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,i,r,n,a,o,s)},absellipse:function(e,t,i,r,n,a,o,s){var l=new qs(e,t,i,r,n,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return hl.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=hl.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return hl.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),pl.prototype=Object.assign(Object.create(dl.prototype),{constructor:pl,getPointsHoles:function(e){for(var t=[],i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){dl.prototype.copy.call(this,e),this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=dl.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,i=this.holes.length;t<i;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){dl.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push((new dl).fromJSON(r))}return this}}),ml.prototype=Object.assign(Object.create(Gi.prototype),{constructor:ml,isLight:!0,copy:function(e){return Gi.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Gi.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),vl.prototype=Object.assign(Object.create(ml.prototype),{constructor:vl,isHemisphereLight:!0,copy:function(e){return ml.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(gl.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),yl.prototype=Object.assign(Object.create(gl.prototype),{constructor:yl,isSpotLightShadow:!0,update:function(e){var t=this.camera,i=2*Gt.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,n=e.distance||t.far;i===t.fov&&r===t.aspect&&n===t.far||(t.fov=i,t.aspect=r,t.far=n,t.updateProjectionMatrix())}}),bl.prototype=Object.assign(Object.create(ml.prototype),{constructor:bl,isSpotLight:!0,copy:function(e){return ml.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),wl.prototype=Object.assign(Object.create(ml.prototype),{constructor:wl,isPointLight:!0,copy:function(e){return ml.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),_l.prototype=Object.assign(Object.create(da.prototype),{constructor:_l,isOrthographicCamera:!0,copy:function(e,t){return da.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-e,a=i+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;a=(n+=u*(this.view.offsetX/l))+u*(this.view.width/l),s=(o-=f*(this.view.offsetY/c))-f*(this.view.height/c)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Gi.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),xl.prototype=Object.assign(Object.create(gl.prototype),{constructor:xl}),El.prototype=Object.assign(Object.create(ml.prototype),{constructor:El,isDirectionalLight:!0,copy:function(e){return ml.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ml.prototype=Object.assign(Object.create(ml.prototype),{constructor:Ml,isAmbientLight:!0}),Sl.prototype=Object.assign(Object.create(ml.prototype),{constructor:Sl,isRectAreaLight:!0,copy:function(e){return ml.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ml.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Tl.prototype,{load:function(e,t,i,r){var n=this,a=new Us(n.manager);a.setPath(n.path),a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},parse:function(e){var t=this.textures;function i(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new bs[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var n in e.uniforms){var a=e.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new Ai).setHex(a.value);break;case"v2":r.uniforms[n].value=(new Vt).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new Wt).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new ui).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new Xt).fromArray(a.value);case"m4":r.uniforms[n].value=(new bi).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=i(e.map)),void 0!==e.matcap&&(r.matcap=i(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=i(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=i(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=i(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Vt).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=i(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=i(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=i(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=i(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=i(e.specularMap)),void 0!==e.envMap&&(r.envMap=i(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=i(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=i(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=i(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var kl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Al(e){this.manager=void 0!==e?e:Fs}Object.assign(Al.prototype,{load:function(e,t,i,r){var n=this,a=new Us(n.manager);a.setPath(n.path),a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},parse:function(e){var t=new or,i=e.data.index;if(void 0!==i){var r=new Rl[i.type](i.array);t.setIndex(new qi(r,1))}var n=e.data.attributes;for(var a in n){var o=n[a],s=new qi(r=new Rl[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),t.addAttribute(a,s)}var l=e.data.morphAttributes;if(l)for(var a in l){for(var c=l[a],u=[],f=0,h=c.length;f<h;f++){o=c[f],s=new qi(r=new Rl[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),u.push(s)}t.morphAttributes[a]=u}var d=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==d){f=0;for(var p=d.length;f!==p;++f){var m=d[f];t.addGroup(m.start,m.count,m.materialIndex)}}var v=e.data.boundingSphere;if(void 0!==v){var g=new Wt;void 0!==v.center&&g.fromArray(v.center),t.boundingSphere=new vi(g,v.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var Rl={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ll(e){this.manager=void 0!==e?e:Fs,this.resourcePath=""}Object.assign(Ll.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){var n=this,a=void 0===this.path?kl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new Us(n.manager);o.setPath(this.path),o.load(e,function(i){var a=null;try{a=JSON.parse(i)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?n.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)},i,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var i=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,i),n=this.parseImages(e.images,function(){void 0!==t&&t(s)}),a=this.parseTextures(e.textures,n),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var i=0,r=e.length;i<r;i++){var n=(new pl).fromJSON(e[i]);t[n.uuid]=n}return t},parseGeometries:function(e,t){var i={};if(void 0!==e)for(var r=new Al,n=0,a=e.length;n<a;n++){var o,s=e[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ls[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ls[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ls[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ls[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ls[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ls[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ls[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ls[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ls[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ls[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ls[s.type]((new fl[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ls[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ls[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var f=t[s.shapes[c]];l.push(f)}o=new ls[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],c=0,u=s.shapes.length;c<u;c++){f=t[s.shapes[c]];l.push(f)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new fl[h.type]).fromJSON(h)),o=new ls[s.type](l,s.options);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(e,t){var i={},r={};if(void 0!==e){var n=new Tl;n.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===i[u.uuid]&&(i[u.uuid]=n.parse(u)),l.push(i[u.uuid])}r[s.uuid]=l}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i],n=Os.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),t.push(n)}return t},parseImages:function(e,t){var i=this,r={};function n(e){return i.manager.itemStart(e),a.load(e,function(){i.manager.itemEnd(e)},void 0,function(){i.manager.itemError(e),i.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var a=new Vs(new Ds(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(var u=0,f=c.length;u<f;u++){var h=c[u],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;r[l.uuid].push(n(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.resourcePath+l.url;r[l.uuid]=n(d)}}}return r},parseTextures:function(e,t){function i(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var n=0,a=e.length;n<a;n++){var o,s=e[n];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(t[s.image])?new Vr(t[s.image]):new ci(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,Dl)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],Fl),o.wrapT=i(s.wrap[1],Fl)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,Bl)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,Bl)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(e,t,i){var r;function n(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];void 0===i[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(i[a])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}switch(e.type){case"Scene":r=new La,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Ai(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Ra(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Aa(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new pa(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new _l(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Ml(e.color,e.intensity);break;case"DirectionalLight":r=new El(e.color,e.intensity);break;case"PointLight":r=new wl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Sl(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new bl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new vl(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=n(e.geometry),s=a(e.material);r=o.bones&&o.bones.length>0?new Da(o,s):new Pr(o,s),void 0!==e.drawMode&&r.setDrawMode(e.drawMode);break;case"LOD":r=new Na;break;case"Line":r=new za(n(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new Ga(n(e.geometry),a(e.material));break;case"LineSegments":r=new Ha(n(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new ja(n(e.geometry),a(e.material));break;case"Sprite":r=new Ia(a(e.material));break;case"Group":r=new ha;break;default:r=new Gi}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,c=0;c<l.length;c++)r.add(this.parseObject(l[c],t,i));if("LOD"===e.type)for(var u=e.levels,f=0;f<u.length;f++){var h=u[f],d=r.getObjectByProperty("uuid",h.object);void 0!==d&&r.addLevel(d,h.distance)}return r}});var Pl,Cl,Ol,Il,Nl,Dl={UVMapping:fe,CubeReflectionMapping:he,CubeRefractionMapping:de,EquirectangularReflectionMapping:pe,EquirectangularRefractionMapping:me,SphericalReflectionMapping:ve,CubeUVReflectionMapping:ge,CubeUVRefractionMapping:ye},Fl={RepeatWrapping:be,ClampToEdgeWrapping:we,MirroredRepeatWrapping:_e},Bl={NearestFilter:xe,NearestMipMapNearestFilter:Ee,NearestMipMapLinearFilter:Me,LinearFilter:Se,LinearMipMapNearestFilter:Te,LinearMipMapLinearFilter:ke};function Ul(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Fs,this.options=void 0}function zl(){this.type="ShapePath",this.color=new Ai,this.subPaths=[],this.currentPath=null}function Hl(e){this.type="Font",this.data=e}function Gl(e,t,i,r,n){var a=n.glyphs[e]||n.glyphs["?"];if(a){var o,s,l,c,u,f,h,d,p=new zl;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+i,s=m[v++]*t+r,p.moveTo(o,s);break;case"l":o=m[v++]*t+i,s=m[v++]*t+r,p.lineTo(o,s);break;case"q":l=m[v++]*t+i,c=m[v++]*t+r,u=m[v++]*t+i,f=m[v++]*t+r,p.quadraticCurveTo(u,f,l,c);break;case"b":l=m[v++]*t+i,c=m[v++]*t+r,u=m[v++]*t+i,f=m[v++]*t+r,h=m[v++]*t+i,d=m[v++]*t+r,p.bezierCurveTo(u,f,h,d,l,c)}}return{offsetX:a.ha*t,path:p}}}function Vl(e){this.manager=void 0!==e?e:Fs}function jl(){}Ul.prototype={constructor:Ul,setOptions:function(e){return this.options=e,this},load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,a=Ns.get(e);if(void 0!==a)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;fetch(e).then(function(e){return e.blob()}).then(function(e){return void 0===n.options?createImageBitmap(e):createImageBitmap(e,n.options)}).then(function(i){Ns.add(e,i),t&&t(i),n.manager.itemEnd(e)}).catch(function(t){r&&r(t),n.manager.itemError(e),n.manager.itemEnd(e)}),n.manager.itemStart(e)},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(zl.prototype,{moveTo:function(e,t){this.currentPath=new dl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,i,r){this.currentPath.quadraticCurveTo(e,t,i,r)},bezierCurveTo:function(e,t,i,r,n,a){this.currentPath.bezierCurveTo(e,t,i,r,n,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function i(e){for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i],a=new pl;a.curves=n.curves,t.push(a)}return t}function r(e,t){for(var i=t.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=t[n],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[a],l=-l,s=t[n],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n=Fo.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return i(a);var o,s,l,c=[];if(1===a.length)return s=a[0],(l=new pl).curves=s.curves,c.push(l),c;var u=!n(a[0].getPoints());u=e?!u:u;var f,h,d=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=n(f=(s=a[g]).getPoints()),(o=e?!o:o)?(!u&&p[v]&&v++,p[v]={s:new pl,p:f},p[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!p[0])return i(a);if(p.length>1){for(var b=!1,w=[],_=0,x=p.length;_<x;_++)d[_]=[];for(_=0,x=p.length;_<x;_++)for(var E=m[_],M=0;M<E.length;M++){for(var S=E[M],T=!0,k=0;k<p.length;k++)r(S.p,p[k].p)&&(_!==k&&w.push({froms:_,tos:k,hole:M}),T?(T=!1,d[k].push(S)):b=!0);T&&d[_].push(S)}w.length>0&&(b||(m=d))}g=0;for(var A=p.length;g<A;g++){l=p[g].s,c.push(l);for(var R=0,L=(h=m[g]).length;R<L;R++)l.holes.push(h[R].h)}return c}}),Object.assign(Hl.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var i=[],r=function(e,t,i){for(var r=Array.from?Array.from(e):String(e).split(""),n=t/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],s=0,l=0,c=0;c<r.length;c++){var u=r[c];if("\n"===u)s=0,l-=a;else{var f=Gl(u,n,s,l,i);s+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),Object.assign(Vl.prototype,{load:function(e,t,i,r){var n=this,a=new Us(this.manager);a.setPath(this.path),a.load(e,function(e){var i;try{i=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(e.substring(65,e.length-2))}var r=n.parse(i);t&&t(r)},i,r)},parse:function(e){return new Hl(e)},setPath:function(e){return this.path=e,this}}),jl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,r=t.length;i<r;i+=2){var n=t[i],a=t[i+1];if(n.test(e))return a}return null}},Object.assign(jl.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,i){for(var r=[],n=0;n<e.length;++n)r[n]=this.createMaterial(e[n],t,i);return r},createMaterial:(Pl={NoBlending:T,NormalBlending:k,AdditiveBlending:A,SubtractiveBlending:R,MultiplyBlending:L,CustomBlending:P},Cl=new Ai,Ol=new Ws,Il=new Tl,function(e,t,i){var r={};function n(e,n,a,o,s){var l,c=t+e,u=jl.Handlers.get(c);null!==u?l=u.load(c):(Ol.setCrossOrigin(i),l=Ol.load(c)),void 0!==n&&(l.repeat.fromArray(n),1!==n[0]&&(l.wrapS=be),1!==n[1]&&(l.wrapT=be)),void 0!==a&&l.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(l.wrapS=be),"mirror"===o[0]&&(l.wrapS=_e),"repeat"===o[1]&&(l.wrapT=be),"mirror"===o[1]&&(l.wrapT=_e)),void 0!==s&&(l.anisotropy=s);var f=Gt.generateUUID();return r[f]=l,f}var a={uuid:Gt.generateUUID(),type:"MeshLambertMaterial"};for(var o in e){var s=e[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":a.name=s;break;case"blending":a.blending=Pl[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",o,"is no longer supported.");break;case"colorDiffuse":a.color=Cl.fromArray(s).getHex();break;case"colorSpecular":a.specular=Cl.fromArray(s).getHex();break;case"colorEmissive":a.emissive=Cl.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":a.emissiveMap=n(s,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":a.lightMap=n(s,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":a.aoMap=n(s,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":a.bumpMap=n(s,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":a.normalMap=n(s,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":a.specularMap=n(s,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":a.metalnessMap=n(s,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":a.roughnessMap=n(s,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":a.alphaMap=n(s,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":a.side=b;break;case"doubleSided":a.side=w;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=S),"face"===s&&(a.vertexColors=M);break;default:console.error("THREE.Loader.createMaterial: Unsupported",o,s)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),Il.setTextures(r),Il.parse(a)})});var Wl={getContext:function(){return void 0===Nl&&(Nl=new(window.AudioContext||window.webkitAudioContext)),Nl},setContext:function(e){Nl=e}};function Xl(e){this.manager=void 0!==e?e:Fs}function ql(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Wt)}function Yl(e,t){ml.call(this,void 0,t),this.sh=void 0!==e?e:new ql}function Jl(e,t,i){Yl.call(this,void 0,i);var r=(new Ai).set(e),n=(new Ai).set(t),a=new Wt(r.r,r.g,r.b),o=new Wt(n.r,n.g,n.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function Zl(e,t){Yl.call(this,void 0,t);var i=(new Ai).set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Kl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(Xl.prototype,{load:function(e,t,i,r){var n=new Us(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(e,function(e){var i=e.slice(0);Wl.getContext().decodeAudioData(i,function(e){t(e)})},i,r)},setPath:function(e){return this.path=e,this}}),Object.assign(ql.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var i=e.x,r=e.y,n=e.z,a=this.coefficients;return t=.282095*a[0],t+=.488603*a[1]*r,t+=.488603*a[2]*n,t+=.488603*a[3]*i,t+=1.092548*a[4]*(i*r),t+=1.092548*a[5]*(r*n),t+=.315392*a[6]*(3*n*n-1),t+=1.092548*a[7]*(i*n),t+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(e,t){var i=e.x,r=e.y,n=e.z,a=this.coefficients;return t=.886227*a[0],t+=2*a[1]*.511664*r,t+=2*a[2]*.511664*n,t+=2*a[3]*.511664*i,t+=2*a[4]*.429043*i*r,t+=2*a[5]*.429043*r*n,t+=a[6]*(.743125*n*n-.247708),t+=2*a[7]*.429043*i*n,t+=.429043*a[8]*(i*i-r*r)},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e){for(var t=this.coefficients,i=0;i<9;i++)t[i].fromArray(e,3*i);return this},toArray:function(){for(var e=[],t=this.coefficients,i=0;i<9;i++)t[i].toArray(e,3*i);return e}}),Object.assign(ql,{getBasisAt:function(e,t){var i=e.x,r=e.y,n=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*n,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*n,t[6]=.315392*(3*n*n-1),t[7]=1.092548*i*n,t[8]=.546274*(i*i-r*r)}}),Yl.prototype=Object.assign(Object.create(ml.prototype),{constructor:Yl,isLightProbe:!0,copy:function(e){return ml.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return ml.prototype.toJSON.call(this,e)}}),Jl.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Jl,isHemisphereLightProbe:!0,copy:function(e){return Yl.prototype.copy.call(this,e),this},toJSON:function(e){return Yl.prototype.toJSON.call(this,e)}}),Zl.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Zl,isAmbientLightProbe:!0,copy:function(e){return Yl.prototype.copy.call(this,e),this},toJSON:function(e){return Yl.prototype.toJSON.call(this,e)}}),Object.assign(Kl.prototype,{update:function(){var e,t,i,r,n,a,o,s,l=new bi,c=new bi;return function(u){if(e!==this||t!==u.focus||i!==u.fov||r!==u.aspect*this.aspect||n!==u.near||a!==u.far||o!==u.zoom||s!==this.eyeSep){e=this,t=u.focus,i=u.fov,r=u.aspect*this.aspect,n=u.near,a=u.far,o=u.zoom;var f,h,d=u.projectionMatrix.clone(),p=(s=this.eyeSep/2)*n/t,m=n*Math.tan(Gt.DEG2RAD*i*.5)/o;c.elements[12]=-s,l.elements[12]=s,f=-m*r+p,h=m*r+p,d.elements[0]=2*n/(h-f),d.elements[8]=(h+f)/(h-f),this.cameraL.projectionMatrix.copy(d),f=-m*r-p,h=m*r-p,d.elements[0]=2*n/(h-f),d.elements[8]=(h+f)/(h-f),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(l)}}()});var Ql=90,$l=1;function ec(e,t,i,r){Gi.call(this),this.type="CubeCamera";var n=new pa(Ql,$l,e,t);n.up.set(0,-1,0),n.lookAt(new Wt(1,0,0)),this.add(n);var a=new pa(Ql,$l,e,t);a.up.set(0,-1,0),a.lookAt(new Wt(-1,0,0)),this.add(a);var o=new pa(Ql,$l,e,t);o.up.set(0,0,1),o.lookAt(new Wt(0,1,0)),this.add(o);var s=new pa(Ql,$l,e,t);s.up.set(0,0,-1),s.lookAt(new Wt(0,-1,0)),this.add(s);var l=new pa(Ql,$l,e,t);l.up.set(0,-1,0),l.lookAt(new Wt(0,0,1)),this.add(l);var c=new pa(Ql,$l,e,t);c.up.set(0,-1,0),c.lookAt(new Wt(0,0,-1)),this.add(c),r=r||{format:He,magFilter:Se,minFilter:Se},this.renderTarget=new di(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=e.getRenderTarget(),r=this.renderTarget,u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(i)},this.clear=function(e,t,i,r){for(var n=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(a,o),e.clear(t,i,r);e.setRenderTarget(n)}}function tc(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ic(){Gi.call(this),this.type="AudioListener",this.context=Wl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function rc(e){Gi.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function nc(e){rc.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function ac(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function oc(e,t,i){this.binding=e,this.valueSize=i;var r,n=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}ec.prototype=Object.create(Gi.prototype),ec.prototype.constructor=ec,Object.assign(tc.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),ic.prototype=Object.assign(Object.create(Gi.prototype),{constructor:ic,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new Wt,t=new jt,i=new Wt,r=new Wt,n=new tc;return function(a){Gi.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(e,t,i),r.set(0,0,-1).applyQuaternion(t),o.positionX){var l=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(e.x,l),o.positionY.linearRampToValueAtTime(e.y,l),o.positionZ.linearRampToValueAtTime(e.z,l),o.forwardX.linearRampToValueAtTime(r.x,l),o.forwardY.linearRampToValueAtTime(r.y,l),o.forwardZ.linearRampToValueAtTime(r.z,l),o.upX.linearRampToValueAtTime(s.x,l),o.upY.linearRampToValueAtTime(s.y,l),o.upZ.linearRampToValueAtTime(s.z,l)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),rc.prototype=Object.assign(Object.create(Gi.prototype),{constructor:rc,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),nc.prototype=Object.assign(Object.create(rc.prototype),{constructor:nc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var e=new Wt,t=new jt,i=new Wt,r=new Wt;return function(n){if(Gi.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(e,t,i),r.set(0,0,1).applyQuaternion(t);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(e.x,o),a.positionY.linearRampToValueAtTime(e.y,o),a.positionZ.linearRampToValueAtTime(e.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(ac.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),i=0;i<t.length;i++)e+=t[i];return e/t.length}}),Object.assign(oc.prototype,{accumulate:function(e,t){var i=this.buffer,r=this.valueSize,n=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,i=this.buffer,r=e*t+t,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*t;this._mixBufferRegion(i,r,o,1-n,t)}for(var s=t,l=t+t;s!==l;++s)if(i[s]!==i[s+t]){a.setValue(i,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,i=this.valueSize,r=3*i;e.getValue(t,r);for(var n=i,a=r;n!==a;++n)t[n]=t[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)e[t+a]=e[i+a]},_slerp:function(e,t,i,r){jt.slerpFlat(e,t,e,t,e,i,r)},_lerp:function(e,t,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=t+o;e[s]=e[s]*a+e[i+o]*r}}});var sc,lc,cc,uc,fc,hc,dc,pc,mc,vc,gc,yc,bc,wc,_c;function xc(e,t,i){var r=i||Ec.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Ec(e,t,i){this.path=t,this.parsedPath=i||Ec.parseTrackName(t),this.node=Ec.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Mc(){this.uuid=Gt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,i=arguments.length;t!==i;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Sc(e,t,i){this._mixer=e,this._clip=t,this._localRoot=i||null;for(var r=t.tracks,n=r.length,a=new Array(n),o={endingStart:Mt,endingEnd:Mt},s=0;s!==n;++s){var l=r[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Tc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function kc(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Ac(){or.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Rc(e,t,i){Pa.call(this,e,t),this.meshPerAttribute=i||1}function Lc(e,t,i,r){"number"==typeof i&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),qi.call(this,e,t,i),this.meshPerAttribute=r||1}function Pc(e,t,i,r){this.ray=new Ar(e,t),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Cc(e,t){return e.distance-t.distance}function Oc(e,t,i,r){if(!1!==e.visible&&(e.raycast(t,i),!0===r))for(var n=e.children,a=0,o=n.length;a<o;a++)Oc(n[a],t,i,!0)}function Ic(e,t,i){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this}function Nc(e,t,i){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==i?i:0,this}function Dc(e,t){this.min=void 0!==e?e:new Vt(1/0,1/0),this.max=void 0!==t?t:new Vt(-1/0,-1/0)}function Fc(e,t){this.start=void 0!==e?e:new Wt,this.end=void 0!==t?t:new Wt}function Bc(e){Gi.call(this),this.material=e,this.render=function(){}}function Uc(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new or,c=new tr(2*o*3,3);l.addAttribute("position",c),Ha.call(this,l,new Ua({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function zc(e,t){Gi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var i=new or,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new tr(r,3));var l=new Ua({fog:!1});this.cone=new Ha(i,l),this.add(this.cone),this.update()}function Hc(e){for(var t=function e(t){var i=[];t&&t.isBone&&i.push(t);for(var r=0;r<t.children.length;r++)i.push.apply(i,e(t.children[r]));return i}(e),i=new or,r=[],n=[],a=new Ai(0,0,1),o=new Ai(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new tr(r,3)),i.addAttribute("color",new tr(n,3));var c=new Ua({vertexColors:S,depthTest:!1,depthWrite:!1,transparent:!0});Ha.call(this,i,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Gc(e,t,i){this.light=e,this.light.updateMatrixWorld(),this.color=i;var r=new qo(t,4,2),n=new Lr({wireframe:!0,fog:!1});Pr.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Vc(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var i=new or;i.addAttribute("position",new tr([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new Ua({fog:!1});za.call(this,i,r);var n=new or;n.addAttribute("position",new tr([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Pr(n,new Lr({side:b,fog:!1}))),this.update()}function jc(e,t,i){Gi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new ro(t);r.rotateY(.5*Math.PI),this.material=new Lr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=S);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new qi(a,3)),this.add(new Pr(r,this.material)),this.update()}function Wc(e,t){this.lightProbe=e,this.size=t;var i={GAMMA_OUTPUT:""},r=new kr({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new qo(1,32,16);Pr.call(this,n,r),this.onBeforeRender()}function Xc(e,t,i,r){e=e||10,t=t||10,i=new Ai(void 0!==i?i:4473924),r=new Ai(void 0!==r?r:8947848);for(var n=t/2,a=e/t,o=e/2,s=[],l=[],c=0,u=0,f=-o;c<=t;c++,f+=a){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);var h=c===n?i:r;h.toArray(l,u),u+=3,h.toArray(l,u),u+=3,h.toArray(l,u),u+=3,h.toArray(l,u),u+=3}var d=new or;d.addAttribute("position",new tr(s,3)),d.addAttribute("color",new tr(l,3));var p=new Ua({vertexColors:S});Ha.call(this,d,p)}function qc(e,t,i,r,n,a){e=e||10,t=t||16,i=i||8,r=r||64,n=new Ai(void 0!==n?n:4473924),a=new Ai(void 0!==a?a:8947848);var o,s,l,c,u,f,h,d=[],p=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),o=Math.sin(l)*e,s=Math.cos(l)*e,d.push(0,0,0),d.push(o,0,s),h=1&c?n:a,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(c=0;c<=i;c++)for(h=1&c?n:a,f=e-e/i*c,u=0;u<r;u++)l=u/r*(2*Math.PI),o=Math.sin(l)*f,s=Math.cos(l)*f,d.push(o,0,s),p.push(h.r,h.g,h.b),l=(u+1)/r*(2*Math.PI),o=Math.sin(l)*f,s=Math.cos(l)*f,d.push(o,0,s),p.push(h.r,h.g,h.b);var m=new or;m.addAttribute("position",new tr(d,3)),m.addAttribute("color",new tr(p,3));var v=new Ua({vertexColors:S});Ha.call(this,m,v)}function Yc(e,t,i,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new or,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new qi(o,3));var s=new Ua({color:65280}),l=new Ua({color:16776960});za.call(this,n,[l,s]),this.update()}function Jc(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new or,c=new tr(2*o*3,3);l.addAttribute("position",c),Ha.call(this,l,new Ua({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Zc(e,t,i){Gi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===t&&(t=1);var r=new or;r.addAttribute("position",new tr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var n=new Ua({fog:!1});this.lightPlane=new za(r,n),this.add(this.lightPlane),(r=new or).addAttribute("position",new tr([0,0,0,0,0,1],3)),this.targetLine=new za(r,n),this.add(this.targetLine),this.update()}function Kc(e){var t=new or,i=new Ua({color:16777215,vertexColors:M}),r=[],n=[],a={},o=new Ai(16755200),s=new Ai(16711680),l=new Ai(43775),c=new Ai(16777215),u=new Ai(3355443);function f(e,t,i){h(e,i),h(t,i)}function h(e,t){r.push(0,0,0),n.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}f("n1","n2",o),f("n2","n4",o),f("n4","n3",o),f("n3","n1",o),f("f1","f2",o),f("f2","f4",o),f("f4","f3",o),f("f3","f1",o),f("n1","f1",o),f("n2","f2",o),f("n3","f3",o),f("n4","f4",o),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",l),f("u2","u3",l),f("u3","u1",l),f("c","t",c),f("p","c",u),f("cn1","cn2",u),f("cn3","cn4",u),f("cf1","cf2",u),f("cf3","cf4",u),t.addAttribute("position",new tr(r,3)),t.addAttribute("color",new tr(n,3)),Ha.call(this,t,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Qc(e,t){this.object=e,void 0===t&&(t=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new or;n.setIndex(new qi(i,1)),n.addAttribute("position",new qi(r,3)),Ha.call(this,n,new Ua({color:t})),this.matrixAutoUpdate=!1,this.update()}function $c(e,t){this.type="Box3Helper",this.box=e;var i=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new or;n.setIndex(new qi(r,1)),n.addAttribute("position",new tr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ha.call(this,n,new Ua({color:i})),this.geometry.computeBoundingSphere()}function eu(e,t,i){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==i?i:16776960,n=new or;n.addAttribute("position",new tr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),za.call(this,n,new Ua({color:r}));var a=new or;a.addAttribute("position",new tr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Pr(a,new Lr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function tu(e,t,i,r,n,a){Gi.call(this),void 0===e&&(e=new Wt(0,0,1)),void 0===t&&(t=new Wt(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===yc&&((yc=new or).addAttribute("position",new tr([0,0,0,0,1,0],3)),(bc=new rs(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new za(yc,new Ua({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pr(bc,new Lr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,n,a)}function iu(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new or;i.addAttribute("position",new tr(t,3)),i.addAttribute("color",new tr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Ua({vertexColors:S});Ha.call(this,i,r)}function ru(e,t,i,r,n,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ii(e,t,i,n,a,o)}Object.assign(xc.prototype,{getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}),Object.assign(Ec,{Composite:xc,create:function(e,t,i){return e&&e.isAnimationObjectGroup?new Ec.Composite(e,t,i):new Ec(e,t,i)},sanitizeNodeName:(mc=new RegExp("[\\[\\]\\.:\\/]","g"),function(e){return e.replace(/\s/g,"_").replace(mc,"")}),parseTrackName:(sc="[^\\[\\]\\.:\\/]",lc="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",cc=/((?:WC+[\/:])*)/.source.replace("WC",sc),uc=/(WCOD+)?/.source.replace("WCOD",lc),fc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sc),hc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sc),dc=new RegExp("^"+cc+uc+fc+hc+"$"),pc=["material","materials","bones"],function(e){var t=dc.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==pc.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var i=e.skeleton.getBoneByName(t);if(void 0!==i)return i}if(e.children){var r=function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.name===t||n.uuid===t)return n;var a=r(n.children);if(a)return a}return null},n=r(e.children);if(n)return n}return null}}),Object.assign(Ec.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)e[t++]=i[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=e[t++]},function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,r=t.propertyName,n=t.propertyIndex;if(e||(e=Ec.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var a=t.objectIndex;switch(i){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[i]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===n){n=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ec.prototype,{_getValue_unbound:Ec.prototype.getValue,_setValue_unbound:Ec.prototype.setValue}),Object.assign(Mc.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var f=arguments[c],h=f.uuid,d=r[h];if(void 0===d){d=t++,r[h]=d,e.push(f);for(var p=0,m=s;p!==m;++p)o[p].push(new Ec(f,n[p],a[p]))}else if(d<i){l=e[d];var v=--i,g=e[v];r[g.uuid]=d,e[d]=g,r[h]=v,e[v]=f;for(p=0,m=s;p!==m;++p){var y=o[p],b=y[v],w=y[d];y[d]=b,void 0===w&&(w=new Ec(f,n[p],a[p])),y[v]=w}}else e[d]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=i},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=i[l];if(void 0!==c&&c>=t){var u=t++,f=e[u];i[f.uuid]=c,e[c]=f,i[l]=u,e[u]=s;for(var h=0,d=n;h!==d;++h){var p=r[h],m=p[u],v=p[c];p[c]=m,p[u]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,c=r[l];if(void 0!==c)if(delete r[l],c<i){var u=--i,f=e[u],h=e[g=--t];r[f.uuid]=c,e[c]=f,r[h.uuid]=u,e[u]=h,e.pop();for(var d=0,p=a;d!==p;++d){var m=(y=n[d])[u],v=y[g];y[c]=m,y[u]=v,y.pop()}}else{var g;r[(h=e[g=--t]).uuid]=c,e[c]=h,e.pop();for(d=0,p=a;d!==p;++d){var y;(y=n[d])[c]=y[g],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,r=i[e],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=n.length,i[e]=r,a.push(e),o.push(t),n.push(u);for(var f=c,h=s.length;f!==h;++f){var d=s[f];u[f]=new Ec(d,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),Object.assign(Sc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){var r=this._clip.duration,n=e._clip.duration,a=n/r,o=r/n;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=n,s[1]=n+i,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(e-n)*i;if(a<0||0===i)return;this._startTime=null,t=i*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,i=this._clip.duration,r=this.loop,n=this._loopCount,a=r===wt;if(0===e)return-1===n?t:a&&1==(1&n)?i-t:t;if(r===yt){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=i)t=i;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===n&&(e>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=i||t<0){var o=Math.floor(t/i);t-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&n))return this.time=t,i-t}return this.time=t,t},_setEndings:function(e,t,i){var r=this._interpolantSettings;i?(r.endingStart=St,r.endingEnd=St):(r.endingStart=e?this.zeroSlopeAtStart?St:Mt:Tt,r.endingEnd=t?this.zeroSlopeAtEnd?St:Mt:Tt)},_scheduleFading:function(e,t,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=t,o[1]=n+e,s[1]=i,this}}),Tc.prototype=Object.assign(Object.create(r.prototype),{constructor:Tc,_bindAction:function(e,t){var i=e._localRoot||this._root,r=e._clip.tracks,n=r.length,a=e._propertyBindings,o=e._interpolants,s=i.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==n;++u){var f=r[u],h=f.name,d=c[h];if(void 0!==d)a[u]=d;else{if(void 0!==(d=a[u])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[u].binding.parsedPath;++(d=new oc(Ec.create(i,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),a[u]=d}o[u].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,t)}for(var n=e._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,r=t.length;i!==r;++i){var n=t[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var r=this._actions,n=this._actionsByClip,a=n[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;var n=e._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,r=t.length;i!==r;++i){var n=t[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_addInactiveBinding:function(e,t,i){var r=this._bindingsByRootAndName,n=r[t],a=this._bindings;void 0===n&&(n={},r[t]=n),n[i]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[n];e:{for(var c in o)break e;delete a[r]}},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return void 0===i&&((i=new Es(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=i),i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,n=t[r];e.__cacheIndex=r,t[r]=e,n.__cacheIndex=i,t[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var i=t||this._root,r=i.uuid,n="string"==typeof e?Os.findByName(i,e):e,a=null!==n?n.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var c=new Sc(this,n,t);return this._bindAction(c,s),this._addInactiveAction(c,a,r),c},existingAction:function(e,t){var i=t||this._root,r=i.uuid,n="string"==typeof e?Os.findByName(i,e):e,a=n?n.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==t;++n)e[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,i=this._nActiveActions,r=this.time+=e,n=Math.sign(e),a=this._accuIndex^=1,o=0;o!==i;++o){t[o]._update(r,e,n,a)}var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),kc.prototype.clone=function(){return new kc(void 0===this.value.clone?this.value:this.value.clone())},Ac.prototype=Object.assign(Object.create(or.prototype),{constructor:Ac,isInstancedBufferGeometry:!0,copy:function(e){return or.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Rc.prototype=Object.assign(Object.create(Pa.prototype),{constructor:Rc,isInstancedInterleavedBuffer:!0,copy:function(e){return Pa.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Lc.prototype=Object.assign(Object.create(qi.prototype),{constructor:Lc,isInstancedBufferAttribute:!0,copy:function(e){return qi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Pc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,i){var r=i||[];return Oc(e,this,r,t),r.sort(Cc),r},intersectObjects:function(e,t,i){var r=i||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var n=0,a=e.length;n<a;n++)Oc(e[n],this,r,t);return r.sort(Cc),r}}),Object.assign(Ic.prototype,{set:function(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Gt.clamp(t/this.radius,-1,1))),this}}),Object.assign(Nc.prototype,{set:function(e,t,i){return this.radius=e,this.theta=t,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}}),Object.assign(Dc.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Vt;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Vt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Vt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Vt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Vt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Vt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Fc.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Wt),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Wt),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Wt),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(vc=new Wt,gc=new Wt,function(e,t){vc.subVectors(e,this.start),gc.subVectors(this.end,this.start);var i=gc.dot(gc),r=gc.dot(vc)/i;return t&&(r=Gt.clamp(r,0,1)),r}),closestPointToPoint:function(e,t,i){var r=this.closestPointToPointParameter(e,t);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new Wt),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Bc.prototype=Object.create(Gi.prototype),Bc.prototype.constructor=Bc,Bc.prototype.isImmediateRenderObject=!0,Uc.prototype=Object.create(Ha.prototype),Uc.prototype.constructor=Uc,Uc.prototype.update=function(){var e=new Wt,t=new Wt,i=new Xt;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,c=0,u=0,f=l.length;u<f;u++)for(var h=l[u],d=0,p=h.vertexNormals.length;d<p;d++){var m=s[h[r[d]]],v=h.vertexNormals[d];e.copy(m).applyMatrix4(n),t.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(c,e.x,e.y,e.z),c+=1,a.setXYZ(c,t.x,t.y,t.z),c+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(c=0,d=0,p=g.count;d<p;d++)e.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),t.set(y.getX(d),y.getY(d),y.getZ(d)),t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(c,e.x,e.y,e.z),c+=1,a.setXYZ(c,t.x,t.y,t.z),c+=1}a.needsUpdate=!0}}(),zc.prototype=Object.create(Gi.prototype),zc.prototype.constructor=zc,zc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},zc.prototype.update=function(){var e=new Wt;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,i=t*Math.tan(this.light.angle);this.cone.scale.set(i,i,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Hc.prototype=Object.create(Ha.prototype),Hc.prototype.constructor=Hc,Hc.prototype.updateMatrixWorld=function(){var e=new Wt,t=new bi,i=new bi;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<n.length;s++){var c=n[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(i,c.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(i,c.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}a.getAttribute("position").needsUpdate=!0,Gi.prototype.updateMatrixWorld.call(this,r)}}(),Gc.prototype=Object.create(Pr.prototype),Gc.prototype.constructor=Gc,Gc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Gc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Vc.prototype=Object.create(za.prototype),Vc.prototype.constructor=Vc,Vc.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Vc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},jc.prototype=Object.create(Gi.prototype),jc.prototype.constructor=jc,jc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},jc.prototype.update=function(){var e=new Wt,t=new Ai,i=new Ai;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");t.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?t:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Wc.prototype=Object.create(Pr.prototype),Wc.prototype.constructor=Wc,Wc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Wc.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Xc.prototype=Object.assign(Object.create(Ha.prototype),{constructor:Xc,copy:function(e){return Ha.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),qc.prototype=Object.create(Ha.prototype),qc.prototype.constructor=qc,Yc.prototype=Object.create(za.prototype),Yc.prototype.constructor=Yc,Yc.prototype.update=function(){var e,t,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=Gt.degToRad(i.panner.coneInnerAngle),s=Gt.degToRad(i.panner.coneOuterAngle),l=o/2,c=s/2,u=0,f=0,h=this.geometry,d=h.attributes.position;function p(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(u,0,0,0),f++,e=i;e<n;e+=s)t=u+f,d.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),d.setXYZ(t+1,Math.sin(Math.min(e+s,n))*r,0,Math.cos(Math.min(e+s,n))*r),d.setXYZ(t+2,0,0,0),f+=3;h.addGroup(u,f,o),u+=f,f=0}h.clearGroups(),p(-c,-l,a,0),p(-l,l,n,1),p(l,c,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},Yc.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Jc.prototype=Object.create(Ha.prototype),Jc.prototype.constructor=Jc,Jc.prototype.update=function(){var e=new Wt,t=new Wt,i=new Xt;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,c=0,u=s.length;c<u;c++){var f=s[c],h=f.normal;e.copy(o[f.a]).add(o[f.b]).add(o[f.c]).divideScalar(3).applyMatrix4(r),t.copy(h).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),n.setXYZ(l,e.x,e.y,e.z),l+=1,n.setXYZ(l,t.x,t.y,t.z),l+=1}n.needsUpdate=!0}}(),Zc.prototype=Object.create(Gi.prototype),Zc.prototype.constructor=Zc,Zc.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Zc.prototype.update=function(){var e=new Wt,t=new Wt,i=new Wt;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=i.length()}}(),Kc.prototype=Object.create(Ha.prototype),Kc.prototype.constructor=Kc,Kc.prototype.update=function(){var e,t,i=new Wt,r=new da;function n(n,a,o,s){i.set(a,o,s).unproject(r);var l=t[n];if(void 0!==l)for(var c=e.getAttribute("position"),u=0,f=l.length;u<f;u++)c.setXYZ(l[u],i.x,i.y,i.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Qc.prototype=Object.create(Ha.prototype),Qc.prototype.constructor=Qc,Qc.prototype.update=function(){var e=new mi;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var i=e.min,r=e.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Qc.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Qc.prototype.copy=function(e){return Ha.prototype.copy.call(this,e),this.object=e.object,this},Qc.prototype.clone=function(){return(new this.constructor).copy(this)},$c.prototype=Object.create(Ha.prototype),$c.prototype.constructor=$c,$c.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Gi.prototype.updateMatrixWorld.call(this,e))},eu.prototype=Object.create(za.prototype),eu.prototype.constructor=eu,eu.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?b:y,this.lookAt(this.plane.normal),Gi.prototype.updateMatrixWorld.call(this,e)},tu.prototype=Object.create(Gi.prototype),tu.prototype.constructor=tu,tu.prototype.setDirection=(_c=new Wt,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(_c.set(e.z,0,-e.x).normalize(),wc=Math.acos(e.y),this.quaternion.setFromAxisAngle(_c,wc))}),tu.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},tu.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},tu.prototype.copy=function(e){return Gi.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},tu.prototype.clone=function(){return(new this.constructor).copy(this)},iu.prototype=Object.create(Ha.prototype),iu.prototype.constructor=iu;var nu=0,au=1;function ou(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function su(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function lu(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ja(e,t)}function cu(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ia(e)}function uu(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ja(e,t)}function fu(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Va(e)}function hu(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Va(e)}function du(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Va(e)}function pu(e,t,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Wt(e,t,i)}function mu(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new qi(e,t).setDynamic(!0)}function vu(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Yi(e,t)}function gu(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ji(e,t)}function yu(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Zi(e,t)}function bu(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ki(e,t)}function wu(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Qi(e,t)}function _u(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new $i(e,t)}function xu(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new er(e,t)}function Eu(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new tr(e,t)}function Mu(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ir(e,t)}function Su(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),el.call(this,e),this.type="catmullrom",this.closed=!0}function Tu(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),el.call(this,e),this.type="catmullrom"}function ku(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),el.call(this,e),this.type="catmullrom"}function Au(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new iu(e)}function Ru(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Qc(e,t)}function Lu(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ha(new ts(e.geometry),new Ua({color:void 0!==t?t:16777215}))}function Pu(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ha(new Ja(e.geometry),new Ua({color:void 0!==t?t:16777215}))}function Cu(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Us(e)}function Ou(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Gs(e)}Xs.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Xs.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(hl.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Xi,i=0,r=e.length;i<r;i++){var n=e[i];t.vertices.push(new Wt(n.x,n.y,n.z||0))}return t}}),Object.assign(dl.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Su.prototype=Object.create(el.prototype),Tu.prototype=Object.create(el.prototype),ku.prototype=Object.create(el.prototype),Object.assign(ku.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Xc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Hc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(jl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kl.extractUrlBase(e)}}),Object.assign(Ll.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Dc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(mi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Fc.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Gt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Gt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Gt.ceilPowerOfTwo(e)}}),Object.assign(Xt.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(bi.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new Wt),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,i,r,n,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,i,n,a)}}),gi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},jt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ar.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Rr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Rr,{barycoordFromPoint:function(e,t,i,r,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Rr.getBarycoord(e,t,i,r,n)},normal:function(e,t,i,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Rr.getNormal(e,t,i,r)}}),Object.assign(pl.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new zo(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Qo(this,e)}}),Object.assign(Vt.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Wt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ui.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Xi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Gi.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Gi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Na.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Fa.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Da.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Xs.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),pa.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ml.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(qi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(or.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(or.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Ho.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(kc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(hr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ai}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===_}}}),Object.defineProperties(ds.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(kr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ka.prototype,{clearTarget:function(e,t,i,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,i,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")}}),Object.defineProperties(ka.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(la.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(di.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(fi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Sa.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),rc.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Xl).load(e,function(e){t.setBuffer(e)}),this},ac.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ec.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Iu={merge:function(e,t,i){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,i)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Nu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Du(){console.error("THREE.CanvasRenderer has been removed")}function Fu(){console.error("THREE.JSONLoader has been removed.")}si.crossOrigin=void 0,si.loadTexture=function(e,t,i,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var n=new Ws;n.setCrossOrigin(this.crossOrigin);var a=n.load(e,i,void 0,r);return t&&(a.mapping=t),a},si.loadTextureCube=function(e,t,i,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var n=new js;n.setCrossOrigin(this.crossOrigin);var a=n.load(e,i,void 0,r);return t&&(a.mapping=t),a},si.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},si.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Bu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Uu(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(5),n=i(6);class a{constructor(e){this.parameters=Object.assign({},{sourceType:"webcam",sourceUrl:null,sourceWidth:640,sourceHeight:480,displayWidth:640,displayHeight:480},e),this.domElement=null,this.ready=!1}init(e,t){const i=this,{sourceType:r}=this.parameters,n={image:()=>i.initSourceImage(e,t),video:()=>i.initSourceVideo(e,t),webcam:()=>this.initSourceWebcam(e,t)};if(r in n){const e=n[r]();this.domElement=e,this.domElement.style.position="absolute",this.domElement.style.top="0",this.domElement.style.left="0",this.domElement.style.zIndex="-2",this.render()}}render(){document.body.appendChild(this.domElement),this.ready=!0}initSourceImage(e){const t=document.createElement("img");t.src=this.parameters.sourceUrl,t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=`${this.parameters.displayWidth}px`,t.style.height=`${this.parameters.displayHeight}px`;const i=setInterval(()=>{t.naturalWidth&&(e(),clearInterval(i))},20);return t}initSourceVideo(e){const t=document.createElement("video");t.src=this.parameters.sourceUrl,t.style.objectFit="initial",t.autoplay=!0,t.webkitPlaysinline=!0,t.controls=!1,t.loop=!0,t.muted=!0,document.body.addEventListener("click",function e(){document.body.removeEventListener("click",e),t.play()}),t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var i=setInterval(()=>{t.videoWidth&&(e(),clearInterval(i))},20);return t}initSourceWebcam(e,t){const i=this;t=t||(e=>alert(`Webcam Error\nName:${e.name}\nMessage:${e.message}`));const r=document.createElement("video");if(r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.setAttribute("playsinline",""),r.style.width=this.parameters.displayWidth+"px",r.style.height=this.parameters.displayHeight+"px",void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.enumerateDevices||void 0===navigator.mediaDevices.getUserMedia){if(void 0===navigator.mediaDevices)var n="navigator.mediaDevices";else if(void 0===navigator.mediaDevices.enumerateDevices)n="navigator.mediaDevices.enumerateDevices";else if(void 0===navigator.mediaDevices.getUserMedia)n="navigator.mediaDevices.getUserMedia";else console.assert(!1);return t({name:"",message:"WebRTC issue-! "+n+" not present in your browser"}),null}return navigator.mediaDevices.enumerateDevices().then(function(n){var a={audio:!1,video:{facingMode:"environment",width:{ideal:i.parameters.sourceWidth},height:{ideal:i.parameters.sourceHeight}}};navigator.mediaDevices.getUserMedia(a).then(function(t){r.srcObject=t,document.body.addEventListener("click",function(){r.play()});var i=setInterval(function(){r.videoWidth&&(e(),clearInterval(i))},20)}).catch(function(e){t({name:e.name,message:e.message})})}).catch(function(e){t({message:e.message})}),r}hasMobileTorch(){var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream==!1)return!1;void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var t=e.getVideoTracks()[0];return void 0!==t.getCapabilities&&!!t.getCapabilities().torch}toggleMobileTorch(){console.assert(!0===this.hasMobileTorch());var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream!=!1){void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var t=e.getVideoTracks()[0];t.getCapabilities().torch?(this._currentTorchStatus=!1===this._currentTorchStatus,t.applyConstraints({advanced:[{torch:this._currentTorchStatus}]}).catch(function(e){console.log(e)})):alert("no mobile torch is available on your camera")}else alert("enabling mobile torch is available only on webcam")}domElementWidth(){return parseInt(this.domElement.style.width)}domElementHeight(){return parseInt(this.domElement.style.height)}onResizeElement(){const e=window.innerWidth,t=window.innerHeight;if(console.assert(0===arguments.length),"IMG"===this.domElement.nodeName)var i=this.domElement.naturalWidth,r=this.domElement.naturalHeight;else if("VIDEO"===this.domElement.nodeName)i=this.domElement.videoWidth,r=this.domElement.videoHeight;else console.assert(!1);var n=i/r;if(e/t<n){var a=n*t;this.domElement.style.width=a+"px",this.domElement.style.marginLeft=-(a-e)/2+"px",this.domElement.style.height=t+"px",this.domElement.style.marginTop="0px"}else{var o=1/(n/e);this.domElement.style.height=o+"px",this.domElement.style.marginTop=-(o-t)/2+"px",this.domElement.style.width=e+"px",this.domElement.style.marginLeft="0px"}}copyElementSizeTo(e){window.innerWidth>window.innerHeight?(e.style.width=this.domElement.style.width,e.style.height=this.domElement.style.height,e.style.marginLeft=this.domElement.style.marginLeft,e.style.marginTop=this.domElement.style.marginTop):(e.style.height=this.domElement.style.height,e.style.width=4*parseInt(e.style.height)/3+"px",e.style.marginLeft=(window.innerWidth-parseInt(e.style.width))/2+"px",e.style.marginTop=0)}copySizeTo(){console.warn("obsolete function arToolkitSource.copySizeTo. Use arToolkitSource.copyElementSizeTo"),this.copyElementSizeTo.apply(this,arguments)}onResize(){if(3!==arguments.length)return console.warn("obsolete function arToolkitSource.onResize. Use arToolkitSource.onResizeElement"),this.onResizeElement.apply(this,arguments);var e=arToolkitContext.parameters.trackingBackend;"artoolkit"===e?(this.onResizeElement(),!1===!!renderer.domElement.dataset.aframeCanvas&&this.copyElementSizeTo(renderer.domElement),null!==arToolkitContext.arController&&this.copyElementSizeTo(arToolkitContext.arController.canvas)):"aruco"===e?(this.onResizeElement(),this.copyElementSizeTo(renderer.domElement),this.copyElementSizeTo(arToolkitContext.arucoContext.canvas)):"tango"===e?renderer.setSize(window.innerWidth,window.innerHeight):console.assert(!1,"unhandled trackingBackend "+e);if("artoolkit"===e)null!==arToolkitContext.arController&&camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());else if("aruco"===e)camera.aspect=renderer.domElement.width/renderer.domElement.height,camera.updateProjectionMatrix();else if("tango"===e){var t=arToolkitContext._tangoContext.vrDisplay;t&&"Tango VR Device"===t.displayName&&THREE.WebAR.resizeVRSeeThroughCamera(t,camera)}else console.assert(!1,"unhandled trackingBackend "+e)}}var o=o||{};const s=function(e){this.id=o.ArBaseControls.id++,this.object3d=e,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1};s.id=0,Object.assign(s.prototype,r.EventDispatcher.prototype),s.prototype.update=function(){console.assert(!1,"you need to implement your own update")},s.prototype.name=function(){return console.assert(!1,"you need to implement your own .name()"),"Not yet implemented - name()"},o.ArBaseControls=s;const l=function(e,t,i){var r=this;s.call(this,t),this.context=e,this.parameters={size:1,type:"unknown",patternUrl:null,barcodeValue:null,changeMatrixMode:"modelViewMatrix",minConfidence:.6};var n=["pattern","barcode","unknown"];console.assert(-1!==n.indexOf(this.parameters.type),"illegal value",this.parameters.type);n=["modelViewMatrix","cameraTransformMatrix"];console.assert(-1!==n.indexOf(this.parameters.changeMatrixMode),"illegal value",this.parameters.changeMatrixMode),this.object3d=t,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1,function(e){if(void 0===e)return;for(var t in e){var i=e[t];if(void 0!==i){var n=r.parameters[t];void 0!==n?r.parameters[t]=i:console.warn("THREEx.ArMarkerControls: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArMarkerControls: '"+t+"' parameter is undefined.")}}(i),e.addMarker(this),"artoolkit"===r.context.parameters.trackingBackend?this._initArtoolkit():"aruco"===r.context.parameters.trackingBackend?this._arucoPosit=new POS.Posit(this.parameters.size,r.context.arucoContext.canvas.width):"tango"===r.context.parameters.trackingBackend?this._initTango():console.assert(!1)};(l.prototype=Object.create(s.prototype)).constructor=l,l.prototype.dispose=function(){this.context.removeMarker(this)},l.prototype.updateWithModelViewMatrix=function(e){var t=this.object3d;if(t.visible=!0,"artoolkit"===this.context.parameters.trackingBackend){var i=(new r.Matrix4).copy(this.context._artoolkitProjectionAxisTransformMatrix);i.multiply(e),e.copy(i)}else"aruco"===this.context.parameters.trackingBackend||"tango"===this.context.parameters.trackingBackend||console.assert(!1);if("tango"!==this.context.parameters.trackingBackend){var n=(new r.Matrix4).makeRotationX(Math.PI/2);e.multiply(n)}"modelViewMatrix"===this.parameters.changeMatrixMode?t.matrix.copy(e):"cameraTransformMatrix"===this.parameters.changeMatrixMode?t.matrix.getInverse(e):console.assert(!1),t.matrix.decompose(t.position,t.quaternion,t.scale),this.dispatchEvent({type:"markerFound"})},l.prototype.name=function(){var e="";(e+=this.parameters.type,"pattern"===this.parameters.type)?e+=" - "+this.parameters.patternUrl.replace(/^.*\//g,""):"barcode"===this.parameters.type?e+=" - "+this.parameters.barcodeValue:console.assert(!1,"no .name() implemented for this marker controls");return e},l.prototype._initArtoolkit=function(){var e=this,t=null,i=setInterval(function(){null!==e.context.arController&&(clearInterval(i),i=null,function(){var i=e.context.arController;console.assert(null!==i),"pattern"===e.parameters.type?i.loadMarker(e.parameters.patternUrl,function(r){t=r,i.trackPatternMarkerId(t,e.parameters.size)}):"barcode"===e.parameters.type?(t=e.parameters.barcodeValue,i.trackBarcodeMarkerId(t,e.parameters.size)):"unknown"===e.parameters.type?t=null:console.log(!1,"invalid marker type",e.parameters.type);i.addEventListener("getMarker",function(i){if(i.data.type===artoolkit.PATTERN_MARKER&&"pattern"===e.parameters.type){if(null===t)return;i.data.marker.idPatt===t&&n(i)}else if(i.data.type===artoolkit.BARCODE_MARKER&&"barcode"===e.parameters.type){if(null===t)return;i.data.marker.idMatrix===t&&n(i)}else i.data.type===artoolkit.UNKNOWN_MARKER&&"unknown"===e.parameters.type&&n(i)})}())},20);return;function n(t){if(!(t.data.type===artoolkit.PATTERN_MARKER&&t.data.marker.cfPatt<e.parameters.minConfidence||t.data.type===artoolkit.BARCODE_MARKER&&t.data.marker.cfMatt<e.parameters.minConfidence)){var i=(new r.Matrix4).fromArray(t.data.matrix);e.updateWithModelViewMatrix(i)}}},l.prototype._initAruco=function(){this._arucoPosit=new POS.Posit(this.parameters.size,_this.context.arucoContext.canvas.width)},l.prototype._initTango=function(){console.log("init tango ArMarkerControls")};const c=function(e){this.arucoContext=e,this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.arucoContext.canvas.width,this.canvasElement.height=this.arucoContext.canvas.height};c.prototype.setSize=function(e,t){this.canvasElement.width!==e&&(this.canvasElement.width=e),this.canvasElement.height!==t&&(this.canvasElement.height=t)},c.prototype.clear=function(){var e=this.canvasElement;e.getContext("2d").clearRect(0,0,e.width,e.height)},c.prototype.drawContoursContours=function(){var e=this.arucoContext.detector.contours,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(e){return e?"magenta":"blue"})},c.prototype.drawContoursPolys=function(){var e=this.arucoContext.detector.polys,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(){return"green"})},c.prototype.drawContoursCandidates=function(){var e=this.arucoContext.detector.candidates,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(){return"red"})},c.prototype.drawContours=function(e,t,i,r,n,a){var o,s,l,c=e.length,u=this.canvasElement.getContext("2d");for(u.save();c--;){for(s=e[c],u.strokeStyle=a(s.hole),u.beginPath(),o=0;o<s.length;++o)l=s[o],u.moveTo(t+l.x,i+l.y),l=s[(o+1)%s.length],u.lineTo(t+l.x,i+l.y);u.stroke(),u.closePath()}u.restore()},c.prototype.drawDetectorGrey=function(){var e=arucoContext.detector.grey;this.drawCVImage(e)},c.prototype.drawDetectorThreshold=function(){var e=arucoContext.detector.thres;this.drawCVImage(e)},c.prototype.drawCVImage=function(e){this.arucoContext.detector;var t=this.canvasElement,i=t.getContext("2d"),r=i.createImageData(t.width,t.height);this.copyCVImage2ImageData(e,r),i.putImageData(r,0,0)},c.prototype.copyCVImage2ImageData=function(e,t){for(var i=e.data.length,r=4*i+3;i--;)t.data[r-=4]=255,t.data[r-1]=t.data[r-2]=t.data[r-3]=e.data[i];return t},c.prototype.drawVideo=function(e){var t=this.canvasElement;t.getContext("2d").drawImage(e,0,0,t.width,t.height)},c.prototype.drawMarkerIDs=function(e){var t,i,r,n,a,o,s=this.canvasElement.getContext("2d");for(s.save(),s.strokeStyle="blue",s.lineWidth=1,a=0;a!==e.length;++a){for(t=e[a].corners,r=1/0,n=1/0,o=0;o!==t.length;++o)i=t[o],r=Math.min(r,i.x),n=Math.min(n,i.y);s.strokeText(e[a].id,r,n)}s.restore()},c.prototype.drawMarkerCorners=function(e){var t,i,r,n,a=this.canvasElement.getContext("2d");for(a.save(),a.lineWidth=3,r=0;r<e.length;++r){for(t=e[r].corners,a.strokeStyle="red",a.beginPath(),n=0;n<t.length;++n)i=t[n],a.moveTo(i.x,i.y),i=t[(n+1)%t.length],a.lineTo(i.x,i.y);a.stroke(),a.closePath(),a.strokeStyle="green",a.strokeRect(t[0].x-2,t[0].y-2,4,4)}a.restore()};const u=function(e){e=e||{},this.parameters={debug:void 0!==e.debug&&e.debug,canvasWidth:void 0!==e.canvasWidth?e.canvasWidth:640,canvasHeight:void 0!==e.canvasHeight?e.canvasHeight:480},this.canvas=document.createElement("canvas"),this.detector=new AR.Detector,this.debug=null,1==e.debug&&(this.debug=new c(this)),this.setSize(this.parameters.canvasWidth,this.parameters.canvasHeight)};u.prototype.setSize=function(e,t){this.canvas.width=e,this.canvas.height=t,null!==this.debug&&this.debug.setSize(e,t)},u.prototype.detect=function(e){var t=this.canvas,i=t.getContext("2d");i.drawImage(e,0,0,t.width,t.height);var r=i.getImageData(0,0,t.width,t.height);return this.detector.detect(r)},u.prototype.updateObject3D=function(e,t,i,r){for(var n=r.corners,a=this.canvas,o=new Array(n.length),s=0;s<n.length;++s){var l=n[s];o[s]={x:l.x-a.width/2,y:-l.y+a.height/2}}var c=t.pose(o),u=c.bestRotation,f=c.bestTranslation;e.position.x=f[0],e.position.y=f[1],e.position.z=-f[2],e.rotation.x=-Math.asin(-u[1][2]),e.rotation.y=-Math.atan2(u[0][2],u[2][2]),e.rotation.z=Math.atan2(u[1][0],u[1][1]),e.scale.x=i,e.scale.y=i,e.scale.z=i};const f=function(e){var t=this;t._updatedAt=null,this.parameters={trackingBackend:"artoolkit",debug:!1,detectionMode:"mono",matrixCodeType:"3x3",cameraParametersUrl:f.baseURL+"parameters/camera_para.dat",maxDetectionRate:60,canvasWidth:640,canvasHeight:480,patternRatio:.5,imageSmoothingEnabled:!1},console.assert(-1!==["artoolkit","aruco","tango"].indexOf(this.parameters.trackingBackend),"invalid parameter trackingBackend",this.parameters.trackingBackend),console.assert(-1!==["color","color_and_matrix","mono","mono_and_matrix"].indexOf(this.parameters.detectionMode),"invalid parameter detectionMode",this.parameters.detectionMode),this.arController=null,this.arucoContext=null,t.initialized=!1,this._arMarkersControls=[],function(e){if(void 0===e)return;for(var i in e){var r=e[i];if(void 0!==r){var n=t.parameters[i];void 0!==n?t.parameters[i]=r:console.warn("ArToolkitContext: '"+i+"' is not a property of this material.")}else console.warn("ArToolkitContext: '"+i+"' parameter is undefined.")}}(e)};Object.assign(f.prototype,r.EventDispatcher.prototype),f.baseURL="https://jeromeetienne.github.io/AR.js/three.js/",f.REVISION="1.6.0",f.createDefaultCamera=function(e){if(console.assert(!1,"use ARjs.Utils.createDefaultCamera instead"),"artoolkit"===e)var t=new r.Camera;else if("aruco"===e)t=new r.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else if("tango"===e)t=new r.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else console.assert(!1);return t},f.prototype.init=function(e){var t=this;return void("artoolkit"===this.parameters.trackingBackend?this._initArtoolkit(i):"aruco"===this.parameters.trackingBackend?this._initAruco(i):"tango"===this.parameters.trackingBackend?this._initTango(i):console.assert(!1));function i(){t.dispatchEvent({type:"initialized"}),t.initialized=!0,e&&e()}},f.prototype.update=function(e){if("artoolkit"===this.parameters.trackingBackend&&null===this.arController)return!1;var t=performance.now();return!(null!==this._updatedAt&&t-this._updatedAt<1e3/this.parameters.maxDetectionRate)&&(this._updatedAt=t,this._arMarkersControls.forEach(function(e){e.object3d.visible=!1}),"artoolkit"===this.parameters.trackingBackend?this._updateArtoolkit(e):"aruco"===this.parameters.trackingBackend?this._updateAruco(e):"tango"===this.parameters.trackingBackend?this._updateTango(e):console.assert(!1),this.dispatchEvent({type:"sourceProcessed"}),!0)},f.prototype.addMarker=function(e){console.assert(e instanceof l),this._arMarkersControls.push(e)},f.prototype.removeMarker=function(e){console.assert(e instanceof l);var t=this.arMarkerControlss.indexOf(artoolkitMarker);console.assert(t!=t),this._arMarkersControls.splice(t,1)},f.prototype._initArtoolkit=function(e){var t=this;this._artoolkitProjectionAxisTransformMatrix=new r.Matrix4,this._artoolkitProjectionAxisTransformMatrix.multiply((new r.Matrix4).makeRotationY(Math.PI)),this._artoolkitProjectionAxisTransformMatrix.multiply((new r.Matrix4).makeRotationZ(Math.PI));var i=new n.ARCameraParam(t.parameters.cameraParametersUrl,function(){var r=new n.ARController(t.parameters.canvasWidth,t.parameters.canvasHeight,i);t.arController=r,r.ctx.mozImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,r.ctx.webkitImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,r.ctx.msImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,r.ctx.imageSmoothingEnabled=t.parameters.imageSmoothingEnabled,!0===t.parameters.debug&&(r.debugSetup(),r.canvas.style.position="absolute",r.canvas.style.top="0px",r.canvas.style.opacity="0.6",r.canvas.style.pointerEvents="none",r.canvas.style.zIndex="-1");var a={color:n.artoolkit.AR_TEMPLATE_MATCHING_COLOR,color_and_matrix:n.artoolkit.AR_TEMPLATE_MATCHING_COLOR_AND_MATRIX,mono:n.artoolkit.AR_TEMPLATE_MATCHING_MONO,mono_and_matrix:n.artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX}[t.parameters.detectionMode];console.assert(void 0!==a),r.setPatternDetectionMode(a);var o={"3x3":n.artoolkit.AR_MATRIX_CODE_3x3,"3x3_HAMMING63":n.artoolkit.AR_MATRIX_CODE_3x3_HAMMING63,"3x3_PARITY65":n.artoolkit.AR_MATRIX_CODE_3x3_PARITY65,"4x4":n.artoolkit.AR_MATRIX_CODE_4x4,"4x4_BCH_13_9_3":n.artoolkit.AR_MATRIX_CODE_4x4_BCH_13_9_3,"4x4_BCH_13_5_5":n.artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5}[t.parameters.matrixCodeType];console.assert(void 0!==o),r.setMatrixCodeType(o),r.setPattRatio(t.parameters.patternRatio),e()});return this},f.prototype.getProjectionMatrix=function(e){console.assert("artoolkit"===this.parameters.trackingBackend),console.assert(this.arController,"arController MUST be initialized to call this function");var t=this.arController.getCameraMatrix(),i=(new r.Matrix4).fromArray(t);return i.multiply(this._artoolkitProjectionAxisTransformMatrix),i},f.prototype._updateArtoolkit=function(e){this.arController.process(e)},f.prototype._initAruco=function(e){this.arucoContext=new u,this.arucoContext.canvas.width=this.parameters.canvasWidth,this.arucoContext.canvas.height=this.parameters.canvasHeight;var t=this.arucoContext.canvas.getContext("2d");t.webkitImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,t.msImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,t.imageSmoothingEnabled=this.parameters.imageSmoothingEnabled,setTimeout(function(){e()},0)},f.prototype._updateAruco=function(e){var t=this,i=this._arMarkersControls;this.arucoContext.detect(e).forEach(function(e){for(var n=null,a=0;a<i.length;a++)if(console.assert("barcode"===i[a].parameters.type),i[a].parameters.barcodeValue===e.id){n=i[a];break}if(null!==n){var o=new r.Object3D;t.arucoContext.updateObject3D(o,n._arucoPosit,n.parameters.size,e),o.updateMatrix(),n.updateWithModelViewMatrix(o.matrix)}})},f.prototype._initTango=function(e){var t=this;navigator.getVRDisplays||(navigator.getVRDevices?alert("Your browser supports WebVR but not the latest version. See <a href='http://webvr.info'>webvr.info</a> for more info."):alert("Your browser does not support WebVR. See <a href='http://webvr.info'>webvr.info</a> for assistance.")),this._tangoContext={vrDisplay:null,vrPointCloud:null,frameData:new VRFrameData},navigator.getVRDisplays().then(function(i){0===i.length&&alert("no vrDisplays available");var n=t._tangoContext.vrDisplay=i[0];console.log("vrDisplays.displayName :",n.displayName),"Tango VR Device"===n.displayName&&(t._tangoContext.vrPointCloud=new r.WebAR.VRPointCloud(n,!0)),e()})},f.prototype._updateTango=function(e){this._arMarkersControls,this._tangoContext;var t=this._tangoContext.vrDisplay;if(null!==t){if("Tango VR Device"===t.displayName){this._tangoContext.vrPointCloud.update(!0,0,!0)}if(0!==this._arMarkersControls.length){var i=this._arMarkersControls[0],n=this._tangoContext.frameData;if(t.getFrameData(n),null!==n.pose.position&&null!==n.pose.orientation){var a=(new r.Vector3).fromArray(n.pose.position),o=(new r.Quaternion).fromArray(n.pose.orientation),s=new r.Vector3(1,1,1),l=(new r.Matrix4).compose(a,o,s),c=new r.Matrix4;c.getInverse(l),i.updateWithModelViewMatrix(c)}}}};const h=function(e,t){var i=this;s.call(this,e),this.object3d.visible=!1,this._lastLerpStepAt=null,this._visibleStartedAt=null,this._unvisibleStartedAt=null,t=t||{},this.parameters={lerpPosition:.8,lerpQuaternion:.2,lerpScale:.7,lerpStepDelay:1/60,minVisibleDelay:0,minUnvisibleDelay:.2},function(e){if(void 0===e)return;for(var t in e){var r=e[t];if(void 0!==r){var n=i.parameters[t];void 0!==n?i.parameters[t]=r:console.warn("THREEx.ArSmoothedControls: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArSmoothedControls: '"+t+"' parameter is undefined.")}}(t)};(h.prototype=Object.create(s.prototype)).constructor=h,h.prototype.update=function(e){var t=this.object3d,i=this.parameters,r=t.visible,n=performance.now()/1e3;(!1===e.visible&&(this._visibleStartedAt=null),!0===e.visible&&(this._unvisibleStartedAt=null),!0===e.visible&&null===this._visibleStartedAt&&(this._visibleStartedAt=n),!1===e.visible&&null===this._unvisibleStartedAt&&(this._unvisibleStartedAt=n),!1===r&&!0===e.visible)&&(n-this._visibleStartedAt>=this.parameters.minVisibleDelay&&(t.visible=!0,t.position.copy(e.position),t.quaternion.copy(e.quaternion),t.scale.copy(e.scale)));!0===r&&!1===e.visible&&(n-this._unvisibleStartedAt>=this.parameters.minUnvisibleDelay&&(t.visible=!1));if(null===this._lastLerpStepAt)s(),this._lastLerpStepAt=n;else for(var a=Math.floor((n-this._lastLerpStepAt)/this.parameters.lerpStepDelay),o=0;o<a;o++)s(),this._lastLerpStepAt+=this.parameters.lerpStepDelay;return this.object3d.updateMatrix(),!1===r&&!0===t.visible&&this.dispatchEvent({type:"becameVisible"}),void(!0===r&&!1===t.visible&&this.dispatchEvent({type:"becameUnVisible"}));function s(){t.position.lerp(e.position,i.lerpPosition),t.quaternion.slerp(e.quaternion,i.lerpQuaternion),t.scale.lerp(e.scale,i.lerpScale)}};const d=f,p=l,m=h;t.ArToolkitSource=(e=>(e=>a)()),t.ArToolkitContext=d,t.ArMarkerControls=p,t.ArSmoothedControls=m},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t,i){var r=i(0);r.OrbitControls=function(e,t){var i,n,a,o,s;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.MOUSE.LEFT,MIDDLE:r.MOUSE.MIDDLE,RIGHT:r.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(c),l.update(),d=h.NONE},this.update=(i=new r.Vector3,n=(new r.Quaternion).setFromUnitVectors(e.up,new r.Vector3(0,1,0)),a=n.clone().inverse(),o=new r.Vector3,s=new r.Quaternion,function(){var e=l.object.position;return i.copy(e).sub(l.target),i.applyQuaternion(n),m.setFromVector3(i),l.autoRotate&&d===h.NONE&&L(2*Math.PI/60/60*l.autoRotateSpeed),m.theta+=v.theta,m.phi+=v.phi,m.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,m.theta)),m.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=g,m.radius=Math.max(l.minDistance,Math.min(l.maxDistance,m.radius)),l.target.add(y),i.setFromSpherical(m),i.applyQuaternion(a),e.copy(l.target).add(i),l.object.lookAt(l.target),!0===l.enableDamping?(v.theta*=1-l.dampingFactor,v.phi*=1-l.dampingFactor,y.multiplyScalar(1-l.dampingFactor)):(v.set(0,0,0),y.set(0,0,0)),g=1,!!(b||o.distanceToSquared(l.object.position)>p||8*(1-s.dot(l.object.quaternion))>p)&&(l.dispatchEvent(c),o.copy(l.object.position),s.copy(l.object.quaternion),b=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",q,!1),l.domElement.removeEventListener("mousedown",U,!1),l.domElement.removeEventListener("wheel",G,!1),l.domElement.removeEventListener("touchstart",j,!1),l.domElement.removeEventListener("touchend",X,!1),l.domElement.removeEventListener("touchmove",W,!1),document.removeEventListener("mousemove",z,!1),document.removeEventListener("mouseup",H,!1),window.removeEventListener("keydown",V,!1)};var l=this,c={type:"change"},u={type:"start"},f={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},d=h.NONE,p=1e-6,m=new r.Spherical,v=new r.Spherical,g=1,y=new r.Vector3,b=!1,w=new r.Vector2,_=new r.Vector2,x=new r.Vector2,E=new r.Vector2,M=new r.Vector2,S=new r.Vector2,T=new r.Vector2,k=new r.Vector2,A=new r.Vector2;function R(){return Math.pow(.95,l.zoomSpeed)}function L(e){v.theta-=e}function P(e){v.phi-=e}var C,O=(C=new r.Vector3,function(e,t){C.setFromMatrixColumn(t,0),C.multiplyScalar(-e),y.add(C)}),I=function(){var e=new r.Vector3;return function(t,i){!0===l.screenSpacePanning?e.setFromMatrixColumn(i,1):(e.setFromMatrixColumn(i,0),e.crossVectors(l.object.up,e)),e.multiplyScalar(t),y.add(e)}}(),N=function(){var e=new r.Vector3;return function(t,i){var r=l.domElement===document?l.domElement.body:l.domElement;if(l.object.isPerspectiveCamera){var n=l.object.position;e.copy(n).sub(l.target);var a=e.length();a*=Math.tan(l.object.fov/2*Math.PI/180),O(2*t*a/r.clientHeight,l.object.matrix),I(2*i*a/r.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(O(t*(l.object.right-l.object.left)/l.object.zoom/r.clientWidth,l.object.matrix),I(i*(l.object.top-l.object.bottom)/l.object.zoom/r.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function D(e){l.object.isPerspectiveCamera?g/=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function F(e){l.object.isPerspectiveCamera?g*=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function B(e){E.set(e.clientX,e.clientY)}function U(e){if(!1!==l.enabled){switch(e.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),e.button){case l.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enablePan)return;B(e),d=h.PAN}else{if(!1===l.enableRotate)return;!function(e){w.set(e.clientX,e.clientY)}(e),d=h.ROTATE}break;case l.mouseButtons.MIDDLE:if(!1===l.enableZoom)return;!function(e){T.set(e.clientX,e.clientY)}(e),d=h.DOLLY;break;case l.mouseButtons.RIGHT:if(!1===l.enablePan)return;B(e),d=h.PAN}d!==h.NONE&&(document.addEventListener("mousemove",z,!1),document.addEventListener("mouseup",H,!1),l.dispatchEvent(u))}}function z(e){if(!1!==l.enabled)switch(e.preventDefault(),d){case h.ROTATE:if(!1===l.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),x.subVectors(_,w).multiplyScalar(l.rotateSpeed);var t=l.domElement===document?l.domElement.body:l.domElement;L(2*Math.PI*x.x/t.clientHeight),P(2*Math.PI*x.y/t.clientHeight),w.copy(_),l.update()}(e);break;case h.DOLLY:if(!1===l.enableZoom)return;!function(e){k.set(e.clientX,e.clientY),A.subVectors(k,T),A.y>0?D(R()):A.y<0&&F(R()),T.copy(k),l.update()}(e);break;case h.PAN:if(!1===l.enablePan)return;!function(e){M.set(e.clientX,e.clientY),S.subVectors(M,E).multiplyScalar(l.panSpeed),N(S.x,S.y),E.copy(M),l.update()}(e)}}function H(e){!1!==l.enabled&&(document.removeEventListener("mousemove",z,!1),document.removeEventListener("mouseup",H,!1),l.dispatchEvent(f),d=h.NONE)}function G(e){!1===l.enabled||!1===l.enableZoom||d!==h.NONE&&d!==h.ROTATE||(e.preventDefault(),e.stopPropagation(),l.dispatchEvent(u),function(e){e.deltaY<0?F(R()):e.deltaY>0&&D(R()),l.update()}(e),l.dispatchEvent(f))}function V(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){var t=!1;switch(e.keyCode){case l.keys.UP:N(0,l.keyPanSpeed),t=!0;break;case l.keys.BOTTOM:N(0,-l.keyPanSpeed),t=!0;break;case l.keys.LEFT:N(l.keyPanSpeed,0),t=!0;break;case l.keys.RIGHT:N(-l.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),l.update())}(e)}function j(e){if(!1!==l.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===l.enableRotate)return;!function(e){w.set(e.touches[0].pageX,e.touches[0].pageY)}(e),d=h.TOUCH_ROTATE;break;case 2:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){if(l.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+i*i);T.set(0,r)}if(l.enablePan){var n=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(n,a)}}(e),d=h.TOUCH_DOLLY_PAN;break;default:d=h.NONE}d!==h.NONE&&l.dispatchEvent(u)}}function W(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===l.enableRotate)return;if(d!==h.TOUCH_ROTATE)return;!function(e){_.set(e.touches[0].pageX,e.touches[0].pageY),x.subVectors(_,w).multiplyScalar(l.rotateSpeed);var t=l.domElement===document?l.domElement.body:l.domElement;L(2*Math.PI*x.x/t.clientHeight),P(2*Math.PI*x.y/t.clientHeight),w.copy(_),l.update()}(e);break;case 2:if(!1===l.enableZoom&&!1===l.enablePan)return;if(d!==h.TOUCH_DOLLY_PAN)return;!function(e){if(l.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+i*i);k.set(0,r),A.set(0,Math.pow(k.y/T.y,l.zoomSpeed)),D(A.y),T.copy(k)}if(l.enablePan){var n=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);M.set(n,a),S.subVectors(M,E).multiplyScalar(l.panSpeed),N(S.x,S.y),E.copy(M)}l.update()}(e);break;default:d=h.NONE}}function X(e){!1!==l.enabled&&(l.dispatchEvent(f),d=h.NONE)}function q(e){!1!==l.enabled&&e.preventDefault()}l.domElement.addEventListener("contextmenu",q,!1),l.domElement.addEventListener("mousedown",U,!1),l.domElement.addEventListener("wheel",G,!1),l.domElement.addEventListener("touchstart",j,!1),l.domElement.addEventListener("touchend",X,!1),l.domElement.addEventListener("touchmove",W,!1),window.addEventListener("keydown",V,!1),this.update()},r.OrbitControls.prototype=Object.create(r.EventDispatcher.prototype),r.OrbitControls.prototype.constructor=r.OrbitControls,Object.defineProperties(r.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),e.exports=t.default=r.OrbitControls},function(e,t,i){"use strict";function r(){}i.r(t),i.d(t,"WebGLRenderTargetCube",function(){return ci}),i.d(t,"WebGLRenderTarget",function(){return li}),i.d(t,"WebGLRenderer",function(){return la}),i.d(t,"ShaderLib",function(){return xi}),i.d(t,"UniformsLib",function(){return _i}),i.d(t,"UniformsUtils",function(){return gi}),i.d(t,"ShaderChunk",function(){return vi}),i.d(t,"FogExp2",function(){return ca}),i.d(t,"Fog",function(){return ua}),i.d(t,"Scene",function(){return fa}),i.d(t,"Sprite",function(){return ma}),i.d(t,"LOD",function(){return va}),i.d(t,"SkinnedMesh",function(){return ba}),i.d(t,"Skeleton",function(){return ga}),i.d(t,"Bone",function(){return ya}),i.d(t,"Mesh",function(){return _r}),i.d(t,"LineSegments",function(){return xa}),i.d(t,"LineLoop",function(){return Ea}),i.d(t,"Line",function(){return _a}),i.d(t,"Points",function(){return Sa}),i.d(t,"Group",function(){return ra}),i.d(t,"VideoTexture",function(){return Ta}),i.d(t,"DataTexture",function(){return ui}),i.d(t,"CompressedTexture",function(){return ka}),i.d(t,"CubeTexture",function(){return Or}),i.d(t,"CanvasTexture",function(){return Aa}),i.d(t,"DepthTexture",function(){return Ra}),i.d(t,"Texture",function(){return oi}),i.d(t,"CompressedTextureLoader",function(){return as}),i.d(t,"DataTextureLoader",function(){return os}),i.d(t,"CubeTextureLoader",function(){return ls}),i.d(t,"TextureLoader",function(){return cs}),i.d(t,"ObjectLoader",function(){return pl}),i.d(t,"MaterialLoader",function(){return nl}),i.d(t,"BufferGeometryLoader",function(){return al}),i.d(t,"DefaultLoadingManager",function(){return is}),i.d(t,"LoadingManager",function(){return ts}),i.d(t,"JSONLoader",function(){return dl}),i.d(t,"ImageLoader",function(){return ss}),i.d(t,"ImageBitmapLoader",function(){return bl}),i.d(t,"FontLoader",function(){return El}),i.d(t,"FileLoader",function(){return ns}),i.d(t,"Loader",function(){return fl}),i.d(t,"LoaderUtils",function(){return hl}),i.d(t,"Cache",function(){return es}),i.d(t,"AudioLoader",function(){return Nl}),i.d(t,"SpotLightShadow",function(){return Ds}),i.d(t,"SpotLight",function(){return Fs}),i.d(t,"PointLight",function(){return Bs}),i.d(t,"RectAreaLight",function(){return Gs}),i.d(t,"HemisphereLight",function(){return Is}),i.d(t,"DirectionalLightShadow",function(){return Us}),i.d(t,"DirectionalLight",function(){return zs}),i.d(t,"AmbientLight",function(){return Hs}),i.d(t,"LightShadow",function(){return Ns}),i.d(t,"Light",function(){return Os}),i.d(t,"StereoCamera",function(){return Dl}),i.d(t,"PerspectiveCamera",function(){return na}),i.d(t,"OrthographicCamera",function(){return Ii}),i.d(t,"CubeCamera",function(){return Fl}),i.d(t,"ArrayCamera",function(){return aa}),i.d(t,"Camera",function(){return Oi}),i.d(t,"AudioListener",function(){return Bl}),i.d(t,"PositionalAudio",function(){return zl}),i.d(t,"AudioContext",function(){return Il}),i.d(t,"AudioAnalyser",function(){return Hl}),i.d(t,"Audio",function(){return Ul}),i.d(t,"VectorKeyframeTrack",function(){return tl}),i.d(t,"StringKeyframeTrack",function(){return el}),i.d(t,"QuaternionKeyframeTrack",function(){return $s}),i.d(t,"NumberKeyframeTrack",function(){return Ks}),i.d(t,"ColorKeyframeTrack",function(){return Zs}),i.d(t,"BooleanKeyframeTrack",function(){return Js}),i.d(t,"PropertyMixer",function(){return Gl}),i.d(t,"PropertyBinding",function(){return ac}),i.d(t,"KeyframeTrack",function(){return Ys}),i.d(t,"AnimationUtils",function(){return Vs}),i.d(t,"AnimationObjectGroup",function(){return oc}),i.d(t,"AnimationMixer",function(){return lc}),i.d(t,"AnimationClip",function(){return il}),i.d(t,"Uniform",function(){return cc}),i.d(t,"InstancedBufferGeometry",function(){return uc}),i.d(t,"BufferGeometry",function(){return $i}),i.d(t,"Geometry",function(){return Ui}),i.d(t,"InterleavedBufferAttribute",function(){return da}),i.d(t,"InstancedInterleavedBuffer",function(){return fc}),i.d(t,"InterleavedBuffer",function(){return ha}),i.d(t,"InstancedBufferAttribute",function(){return hc}),i.d(t,"Face3",function(){return Ni}),i.d(t,"Object3D",function(){return Ci}),i.d(t,"Raycaster",function(){return dc}),i.d(t,"Layers",function(){return Ti}),i.d(t,"EventDispatcher",function(){return r}),i.d(t,"Clock",function(){return vc}),i.d(t,"QuaternionLinearInterpolant",function(){return Qs}),i.d(t,"LinearInterpolant",function(){return Xs}),i.d(t,"DiscreteInterpolant",function(){return qs}),i.d(t,"CubicInterpolant",function(){return Ws}),i.d(t,"Interpolant",function(){return js}),i.d(t,"Triangle",function(){return wr}),i.d(t,"Math",function(){return Yt}),i.d(t,"Spherical",function(){return gc}),i.d(t,"Cylindrical",function(){return yc}),i.d(t,"Plane",function(){return di}),i.d(t,"Frustum",function(){return pi}),i.d(t,"Sphere",function(){return hi}),i.d(t,"Ray",function(){return br}),i.d(t,"Matrix4",function(){return Zt}),i.d(t,"Matrix3",function(){return $t}),i.d(t,"Box3",function(){return fi}),i.d(t,"Box2",function(){return bc}),i.d(t,"Line3",function(){return wc}),i.d(t,"Euler",function(){return Si}),i.d(t,"Vector4",function(){return si}),i.d(t,"Vector3",function(){return Qt}),i.d(t,"Vector2",function(){return Jt}),i.d(t,"Quaternion",function(){return Kt}),i.d(t,"Color",function(){return bi}),i.d(t,"ImmediateRenderObject",function(){return _c}),i.d(t,"VertexNormalsHelper",function(){return xc}),i.d(t,"SpotLightHelper",function(){return Ec}),i.d(t,"SkeletonHelper",function(){return Mc}),i.d(t,"PointLightHelper",function(){return Sc}),i.d(t,"RectAreaLightHelper",function(){return Tc}),i.d(t,"HemisphereLightHelper",function(){return kc}),i.d(t,"GridHelper",function(){return Ac}),i.d(t,"PolarGridHelper",function(){return Rc}),i.d(t,"FaceNormalsHelper",function(){return Lc}),i.d(t,"DirectionalLightHelper",function(){return Pc}),i.d(t,"CameraHelper",function(){return Cc}),i.d(t,"BoxHelper",function(){return Oc}),i.d(t,"Box3Helper",function(){return Ic}),i.d(t,"PlaneHelper",function(){return Nc}),i.d(t,"ArrowHelper",function(){return Dc}),i.d(t,"AxesHelper",function(){return Fc}),i.d(t,"Shape",function(){return Cs}),i.d(t,"Path",function(){return Ps}),i.d(t,"ShapePath",function(){return wl}),i.d(t,"Font",function(){return _l}),i.d(t,"CurvePath",function(){return Ls}),i.d(t,"Curve",function(){return us}),i.d(t,"ImageUtils",function(){return ni}),i.d(t,"ShapeUtils",function(){return yo}),i.d(t,"WebGLUtils",function(){return ia}),i.d(t,"WireframeGeometry",function(){return La}),i.d(t,"ParametricGeometry",function(){return Pa}),i.d(t,"ParametricBufferGeometry",function(){return Ca}),i.d(t,"TetrahedronGeometry",function(){return Na}),i.d(t,"TetrahedronBufferGeometry",function(){return Da}),i.d(t,"OctahedronGeometry",function(){return Fa}),i.d(t,"OctahedronBufferGeometry",function(){return Ba}),i.d(t,"IcosahedronGeometry",function(){return Ua}),i.d(t,"IcosahedronBufferGeometry",function(){return za}),i.d(t,"DodecahedronGeometry",function(){return Ha}),i.d(t,"DodecahedronBufferGeometry",function(){return Ga}),i.d(t,"PolyhedronGeometry",function(){return Oa}),i.d(t,"PolyhedronBufferGeometry",function(){return Ia}),i.d(t,"TubeGeometry",function(){return Va}),i.d(t,"TubeBufferGeometry",function(){return ja}),i.d(t,"TorusKnotGeometry",function(){return Wa}),i.d(t,"TorusKnotBufferGeometry",function(){return Xa}),i.d(t,"TorusGeometry",function(){return qa}),i.d(t,"TorusBufferGeometry",function(){return Ya}),i.d(t,"TextGeometry",function(){return So}),i.d(t,"TextBufferGeometry",function(){return To}),i.d(t,"SphereGeometry",function(){return ko}),i.d(t,"SphereBufferGeometry",function(){return Ao}),i.d(t,"RingGeometry",function(){return Ro}),i.d(t,"RingBufferGeometry",function(){return Lo}),i.d(t,"PlaneGeometry",function(){return ir}),i.d(t,"PlaneBufferGeometry",function(){return rr}),i.d(t,"LatheGeometry",function(){return Po}),i.d(t,"LatheBufferGeometry",function(){return Co}),i.d(t,"ShapeGeometry",function(){return Oo}),i.d(t,"ShapeBufferGeometry",function(){return Io}),i.d(t,"ExtrudeGeometry",function(){return _o}),i.d(t,"ExtrudeBufferGeometry",function(){return xo}),i.d(t,"EdgesGeometry",function(){return Do}),i.d(t,"ConeGeometry",function(){return Uo}),i.d(t,"ConeBufferGeometry",function(){return zo}),i.d(t,"CylinderGeometry",function(){return Fo}),i.d(t,"CylinderBufferGeometry",function(){return Bo}),i.d(t,"CircleGeometry",function(){return Ho}),i.d(t,"CircleBufferGeometry",function(){return Go}),i.d(t,"BoxGeometry",function(){return er}),i.d(t,"BoxBufferGeometry",function(){return tr}),i.d(t,"ShadowMaterial",function(){return jo}),i.d(t,"SpriteMaterial",function(){return pa}),i.d(t,"RawShaderMaterial",function(){return Wo}),i.d(t,"ShaderMaterial",function(){return yr}),i.d(t,"PointsMaterial",function(){return Ma}),i.d(t,"MeshPhysicalMaterial",function(){return qo}),i.d(t,"MeshStandardMaterial",function(){return Xo}),i.d(t,"MeshPhongMaterial",function(){return Yo}),i.d(t,"MeshToonMaterial",function(){return Jo}),i.d(t,"MeshNormalMaterial",function(){return Zo}),i.d(t,"MeshLambertMaterial",function(){return Ko}),i.d(t,"MeshDepthMaterial",function(){return Kn}),i.d(t,"MeshDistanceMaterial",function(){return Qn}),i.d(t,"MeshBasicMaterial",function(){return gr}),i.d(t,"LineDashedMaterial",function(){return Qo}),i.d(t,"LineBasicMaterial",function(){return wa}),i.d(t,"Material",function(){return vr}),i.d(t,"Float64BufferAttribute",function(){return Ji}),i.d(t,"Float32BufferAttribute",function(){return Yi}),i.d(t,"Uint32BufferAttribute",function(){return qi}),i.d(t,"Int32BufferAttribute",function(){return Xi}),i.d(t,"Uint16BufferAttribute",function(){return Wi}),i.d(t,"Int16BufferAttribute",function(){return ji}),i.d(t,"Uint8ClampedBufferAttribute",function(){return Vi}),i.d(t,"Uint8BufferAttribute",function(){return Gi}),i.d(t,"Int8BufferAttribute",function(){return Hi}),i.d(t,"BufferAttribute",function(){return zi}),i.d(t,"ArcCurve",function(){return hs}),i.d(t,"CatmullRomCurve3",function(){return ys}),i.d(t,"CubicBezierCurve",function(){return xs}),i.d(t,"CubicBezierCurve3",function(){return Es}),i.d(t,"EllipseCurve",function(){return fs}),i.d(t,"LineCurve",function(){return Ms}),i.d(t,"LineCurve3",function(){return Ss}),i.d(t,"QuadraticBezierCurve",function(){return Ts}),i.d(t,"QuadraticBezierCurve3",function(){return ks}),i.d(t,"SplineCurve",function(){return As}),i.d(t,"REVISION",function(){return m}),i.d(t,"MOUSE",function(){return v}),i.d(t,"CullFaceNone",function(){return g}),i.d(t,"CullFaceBack",function(){return y}),i.d(t,"CullFaceFront",function(){return b}),i.d(t,"CullFaceFrontBack",function(){return w}),i.d(t,"FrontFaceDirectionCW",function(){return _}),i.d(t,"FrontFaceDirectionCCW",function(){return x}),i.d(t,"BasicShadowMap",function(){return E}),i.d(t,"PCFShadowMap",function(){return M}),i.d(t,"PCFSoftShadowMap",function(){return S}),i.d(t,"FrontSide",function(){return T}),i.d(t,"BackSide",function(){return k}),i.d(t,"DoubleSide",function(){return A}),i.d(t,"FlatShading",function(){return R}),i.d(t,"SmoothShading",function(){return L}),i.d(t,"NoColors",function(){return P}),i.d(t,"FaceColors",function(){return C}),i.d(t,"VertexColors",function(){return O}),i.d(t,"NoBlending",function(){return I}),i.d(t,"NormalBlending",function(){return N}),i.d(t,"AdditiveBlending",function(){return D}),i.d(t,"SubtractiveBlending",function(){return F}),i.d(t,"MultiplyBlending",function(){return B}),i.d(t,"CustomBlending",function(){return U}),i.d(t,"AddEquation",function(){return z}),i.d(t,"SubtractEquation",function(){return H}),i.d(t,"ReverseSubtractEquation",function(){return G}),i.d(t,"MinEquation",function(){return V}),i.d(t,"MaxEquation",function(){return j}),i.d(t,"ZeroFactor",function(){return W}),i.d(t,"OneFactor",function(){return X}),i.d(t,"SrcColorFactor",function(){return q}),i.d(t,"OneMinusSrcColorFactor",function(){return Y}),i.d(t,"SrcAlphaFactor",function(){return J}),i.d(t,"OneMinusSrcAlphaFactor",function(){return Z}),i.d(t,"DstAlphaFactor",function(){return K}),i.d(t,"OneMinusDstAlphaFactor",function(){return Q}),i.d(t,"DstColorFactor",function(){return $}),i.d(t,"OneMinusDstColorFactor",function(){return ee}),i.d(t,"SrcAlphaSaturateFactor",function(){return te}),i.d(t,"NeverDepth",function(){return ie}),i.d(t,"AlwaysDepth",function(){return re}),i.d(t,"LessDepth",function(){return ne}),i.d(t,"LessEqualDepth",function(){return ae}),i.d(t,"EqualDepth",function(){return oe}),i.d(t,"GreaterEqualDepth",function(){return se}),i.d(t,"GreaterDepth",function(){return le}),i.d(t,"NotEqualDepth",function(){return ce}),i.d(t,"MultiplyOperation",function(){return ue}),i.d(t,"MixOperation",function(){return fe}),i.d(t,"AddOperation",function(){return he}),i.d(t,"NoToneMapping",function(){return de}),i.d(t,"LinearToneMapping",function(){return pe}),i.d(t,"ReinhardToneMapping",function(){return me}),i.d(t,"Uncharted2ToneMapping",function(){return ve}),i.d(t,"CineonToneMapping",function(){return ge}),i.d(t,"UVMapping",function(){return ye}),i.d(t,"CubeReflectionMapping",function(){return be}),i.d(t,"CubeRefractionMapping",function(){return we}),i.d(t,"EquirectangularReflectionMapping",function(){return _e}),i.d(t,"EquirectangularRefractionMapping",function(){return xe}),i.d(t,"SphericalReflectionMapping",function(){return Ee}),i.d(t,"CubeUVReflectionMapping",function(){return Me}),i.d(t,"CubeUVRefractionMapping",function(){return Se}),i.d(t,"RepeatWrapping",function(){return Te}),i.d(t,"ClampToEdgeWrapping",function(){return ke}),i.d(t,"MirroredRepeatWrapping",function(){return Ae}),i.d(t,"NearestFilter",function(){return Re}),i.d(t,"NearestMipMapNearestFilter",function(){return Le}),i.d(t,"NearestMipMapLinearFilter",function(){return Pe}),i.d(t,"LinearFilter",function(){return Ce}),i.d(t,"LinearMipMapNearestFilter",function(){return Oe}),i.d(t,"LinearMipMapLinearFilter",function(){return Ie}),i.d(t,"UnsignedByteType",function(){return Ne}),i.d(t,"ByteType",function(){return De}),i.d(t,"ShortType",function(){return Fe}),i.d(t,"UnsignedShortType",function(){return Be}),i.d(t,"IntType",function(){return Ue}),i.d(t,"UnsignedIntType",function(){return ze}),i.d(t,"FloatType",function(){return He}),i.d(t,"HalfFloatType",function(){return Ge}),i.d(t,"UnsignedShort4444Type",function(){return Ve}),i.d(t,"UnsignedShort5551Type",function(){return je}),i.d(t,"UnsignedShort565Type",function(){return We}),i.d(t,"UnsignedInt248Type",function(){return Xe}),i.d(t,"AlphaFormat",function(){return qe}),i.d(t,"RGBFormat",function(){return Ye}),i.d(t,"RGBAFormat",function(){return Je}),i.d(t,"LuminanceFormat",function(){return Ze}),i.d(t,"LuminanceAlphaFormat",function(){return Ke}),i.d(t,"RGBEFormat",function(){return Qe}),i.d(t,"DepthFormat",function(){return $e}),i.d(t,"DepthStencilFormat",function(){return et}),i.d(t,"RGB_S3TC_DXT1_Format",function(){return tt}),i.d(t,"RGBA_S3TC_DXT1_Format",function(){return it}),i.d(t,"RGBA_S3TC_DXT3_Format",function(){return rt}),i.d(t,"RGBA_S3TC_DXT5_Format",function(){return nt}),i.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return at}),i.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return ot}),i.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return st}),i.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return lt}),i.d(t,"RGB_ETC1_Format",function(){return ct}),i.d(t,"RGBA_ASTC_4x4_Format",function(){return ut}),i.d(t,"RGBA_ASTC_5x4_Format",function(){return ft}),i.d(t,"RGBA_ASTC_5x5_Format",function(){return ht}),i.d(t,"RGBA_ASTC_6x5_Format",function(){return dt}),i.d(t,"RGBA_ASTC_6x6_Format",function(){return pt}),i.d(t,"RGBA_ASTC_8x5_Format",function(){return mt}),i.d(t,"RGBA_ASTC_8x6_Format",function(){return vt}),i.d(t,"RGBA_ASTC_8x8_Format",function(){return gt}),i.d(t,"RGBA_ASTC_10x5_Format",function(){return yt}),i.d(t,"RGBA_ASTC_10x6_Format",function(){return bt}),i.d(t,"RGBA_ASTC_10x8_Format",function(){return wt}),i.d(t,"RGBA_ASTC_10x10_Format",function(){return _t}),i.d(t,"RGBA_ASTC_12x10_Format",function(){return xt}),i.d(t,"RGBA_ASTC_12x12_Format",function(){return Et}),i.d(t,"LoopOnce",function(){return Mt}),i.d(t,"LoopRepeat",function(){return St}),i.d(t,"LoopPingPong",function(){return Tt}),i.d(t,"InterpolateDiscrete",function(){return kt}),i.d(t,"InterpolateLinear",function(){return At}),i.d(t,"InterpolateSmooth",function(){return Rt}),i.d(t,"ZeroCurvatureEnding",function(){return Lt}),i.d(t,"ZeroSlopeEnding",function(){return Pt}),i.d(t,"WrapAroundEnding",function(){return Ct}),i.d(t,"TrianglesDrawMode",function(){return Ot}),i.d(t,"TriangleStripDrawMode",function(){return It}),i.d(t,"TriangleFanDrawMode",function(){return Nt}),i.d(t,"LinearEncoding",function(){return Dt}),i.d(t,"sRGBEncoding",function(){return Ft}),i.d(t,"GammaEncoding",function(){return Bt}),i.d(t,"RGBEEncoding",function(){return Ut}),i.d(t,"LogLuvEncoding",function(){return zt}),i.d(t,"RGBM7Encoding",function(){return Ht}),i.d(t,"RGBM16Encoding",function(){return Gt}),i.d(t,"RGBDEncoding",function(){return Vt}),i.d(t,"BasicDepthPacking",function(){return jt}),i.d(t,"RGBADepthPacking",function(){return Wt}),i.d(t,"TangentSpaceNormalMap",function(){return Xt}),i.d(t,"ObjectSpaceNormalMap",function(){return qt}),i.d(t,"CubeGeometry",function(){return er}),i.d(t,"Face4",function(){return Bc}),i.d(t,"LineStrip",function(){return Uc}),i.d(t,"LinePieces",function(){return zc}),i.d(t,"MeshFaceMaterial",function(){return Hc}),i.d(t,"MultiMaterial",function(){return Gc}),i.d(t,"PointCloud",function(){return Vc}),i.d(t,"Particle",function(){return jc}),i.d(t,"ParticleSystem",function(){return Wc}),i.d(t,"PointCloudMaterial",function(){return Xc}),i.d(t,"ParticleBasicMaterial",function(){return qc}),i.d(t,"ParticleSystemMaterial",function(){return Yc}),i.d(t,"Vertex",function(){return Jc}),i.d(t,"DynamicBufferAttribute",function(){return Zc}),i.d(t,"Int8Attribute",function(){return Kc}),i.d(t,"Uint8Attribute",function(){return Qc}),i.d(t,"Uint8ClampedAttribute",function(){return $c}),i.d(t,"Int16Attribute",function(){return eu}),i.d(t,"Uint16Attribute",function(){return tu}),i.d(t,"Int32Attribute",function(){return iu}),i.d(t,"Uint32Attribute",function(){return ru}),i.d(t,"Float32Attribute",function(){return nu}),i.d(t,"Float64Attribute",function(){return au}),i.d(t,"ClosedSplineCurve3",function(){return ou}),i.d(t,"SplineCurve3",function(){return su}),i.d(t,"Spline",function(){return lu}),i.d(t,"AxisHelper",function(){return cu}),i.d(t,"BoundingBoxHelper",function(){return uu}),i.d(t,"EdgesHelper",function(){return fu}),i.d(t,"WireframeHelper",function(){return hu}),i.d(t,"XHRLoader",function(){return du}),i.d(t,"BinaryTextureLoader",function(){return pu}),i.d(t,"GeometryUtils",function(){return mu}),i.d(t,"Projector",function(){return vu}),i.d(t,"CanvasRenderer",function(){return gu}),i.d(t,"SceneUtils",function(){return yu}),i.d(t,"LensFlare",function(){return bu}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners[e];if(void 0!==i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=t.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,e)}}}});var n,a,o,s,l,c,u,f,h,d,p,m="95",v={LEFT:0,MIDDLE:1,RIGHT:2},g=0,y=1,b=2,w=3,_=0,x=1,E=0,M=1,S=2,T=0,k=1,A=2,R=1,L=2,P=0,C=1,O=2,I=0,N=1,D=2,F=3,B=4,U=5,z=100,H=101,G=102,V=103,j=104,W=200,X=201,q=202,Y=203,J=204,Z=205,K=206,Q=207,$=208,ee=209,te=210,ie=0,re=1,ne=2,ae=3,oe=4,se=5,le=6,ce=7,ue=0,fe=1,he=2,de=0,pe=1,me=2,ve=3,ge=4,ye=300,be=301,we=302,_e=303,xe=304,Ee=305,Me=306,Se=307,Te=1e3,ke=1001,Ae=1002,Re=1003,Le=1004,Pe=1005,Ce=1006,Oe=1007,Ie=1008,Ne=1009,De=1010,Fe=1011,Be=1012,Ue=1013,ze=1014,He=1015,Ge=1016,Ve=1017,je=1018,We=1019,Xe=1020,qe=1021,Ye=1022,Je=1023,Ze=1024,Ke=1025,Qe=Je,$e=1026,et=1027,tt=33776,it=33777,rt=33778,nt=33779,at=35840,ot=35841,st=35842,lt=35843,ct=36196,ut=37808,ft=37809,ht=37810,dt=37811,pt=37812,mt=37813,vt=37814,gt=37815,yt=37816,bt=37817,wt=37818,_t=37819,xt=37820,Et=37821,Mt=2200,St=2201,Tt=2202,kt=2300,At=2301,Rt=2302,Lt=2400,Pt=2401,Ct=2402,Ot=0,It=1,Nt=2,Dt=3e3,Ft=3001,Bt=3007,Ut=3002,zt=3003,Ht=3004,Gt=3005,Vt=3006,jt=3200,Wt=3201,Xt=0,qt=1,Yt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&i]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&n]+e[n>>8&255]+e[n>>16&255]+e[n>>24&255]).toUpperCase()}}(),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)},lerp:function(e,t,i){return(1-i)*e+i*t},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Yt.DEG2RAD},radToDeg:function(e){return e*Yt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Jt(e,t){this.x=e||0,this.y=t||0}function Zt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Kt(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==r?r:1}function Qt(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0}function $t(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Jt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Jt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(n=new Jt,a=new Jt,function(e,t){return n.set(e,e),a.set(t,t),this.clamp(n,a)}),clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=this.x-e.x,a=this.y-e.y;return this.x=n*i-a*r+e.x,this.y=n*r+a*i+e.y,this}}),Object.assign(Zt.prototype,{isMatrix4:!0,set:function(e,t,i,r,n,a,o,s,l,c,u,f,h,d,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=f,v[3]=h,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Zt).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:(d=new Qt,function(e){var t=this.elements,i=e.elements,r=1/d.setFromMatrixColumn(e,0).length(),n=1/d.setFromMatrixColumn(e,1).length(),a=1/d.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*n,t[5]=i[5]*n,t[6]=i[6]*n,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=e.x,r=e.y,n=e.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),l=Math.sin(r),c=Math.cos(n),u=Math.sin(n);if("XYZ"===e.order){var f=a*c,h=a*u,d=o*c,p=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=h+d*l,t[5]=f-p*l,t[9]=-o*s,t[2]=p-f*l,t[6]=d+h*l,t[10]=a*s}else if("YXZ"===e.order){var m=s*c,v=s*u,g=l*c,y=l*u;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){m=s*c,v=s*u,g=l*c,y=l*u;t[0]=m-y*o,t[4]=-a*u,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*c,t[9]=y-m*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){f=a*c,h=a*u,d=o*c,p=o*u;t[0]=s*c,t[4]=d*l-h,t[8]=f*l+p,t[1]=s*u,t[5]=p*l+f,t[9]=h*l-d,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var b=a*s,w=a*l,_=o*s,x=o*l;t[0]=s*c,t[4]=x-b*u,t[8]=_*u+w,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=w*u+_,t[10]=b-x*u}else if("XZY"===e.order){b=a*s,w=a*l,_=o*s,x=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=b*u+x,t[5]=a*c,t[9]=w*u-_,t[2]=_*u-w,t[6]=o*c,t[10]=x*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(f=new Qt(0,0,0),h=new Qt(1,1,1),function(e){return this.compose(f,e,h)}),lookAt:(l=new Qt,c=new Qt,u=new Qt,function(e,t,i){var r=this.elements;return u.subVectors(e,t),0===u.lengthSq()&&(u.z=1),u.normalize(),l.crossVectors(i,u),0===l.lengthSq()&&(1===Math.abs(i.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),l.crossVectors(i,u)),l.normalize(),c.crossVectors(u,l),r[0]=l.x,r[4]=c.x,r[8]=u.x,r[1]=l.y,r[5]=c.y,r[9]=u.y,r[2]=l.z,r[6]=c.z,r[10]=u.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,n=this.elements,a=i[0],o=i[4],s=i[8],l=i[12],c=i[1],u=i[5],f=i[9],h=i[13],d=i[2],p=i[6],m=i[10],v=i[14],g=i[3],y=i[7],b=i[11],w=i[15],_=r[0],x=r[4],E=r[8],M=r[12],S=r[1],T=r[5],k=r[9],A=r[13],R=r[2],L=r[6],P=r[10],C=r[14],O=r[3],I=r[7],N=r[11],D=r[15];return n[0]=a*_+o*S+s*R+l*O,n[4]=a*x+o*T+s*L+l*I,n[8]=a*E+o*k+s*P+l*N,n[12]=a*M+o*A+s*C+l*D,n[1]=c*_+u*S+f*R+h*O,n[5]=c*x+u*T+f*L+h*I,n[9]=c*E+u*k+f*P+h*N,n[13]=c*M+u*A+f*C+h*D,n[2]=d*_+p*S+m*R+v*O,n[6]=d*x+p*T+m*L+v*I,n[10]=d*E+p*k+m*P+v*N,n[14]=d*M+p*A+m*C+v*D,n[3]=g*_+y*S+b*R+w*O,n[7]=g*x+y*T+b*L+w*I,n[11]=g*E+y*k+b*P+w*N,n[15]=g*M+y*A+b*C+w*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new Qt;return function(t){for(var i=0,r=t.count;i<r;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix4(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],i=e[4],r=e[8],n=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],f=e[10],h=e[14];return e[3]*(+n*s*u-r*l*u-n*o*f+i*l*f+r*o*h-i*s*h)+e[7]*(+t*s*h-t*l*f+n*a*f-r*a*h+r*l*c-n*s*c)+e[11]*(+t*l*u-t*o*h-n*a*u+i*a*h+n*o*c-i*l*c)+e[15]*(-r*o*c-t*s*u+t*o*f+r*a*u-i*a*f+i*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,r=e.elements,n=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],w=d*y*f-g*p*f+g*u*m-c*y*m-d*u*b+c*p*b,_=v*p*f-h*y*f-v*u*m+l*y*m+h*u*b-l*p*b,x=h*g*f-v*d*f+v*c*m-l*g*m-h*c*b+l*d*b,E=v*d*u-h*g*u-v*c*p+l*g*p+h*c*y-l*d*y,M=n*w+a*_+o*x+s*E;if(0===M){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return i[0]=w*T,i[1]=(g*p*s-d*y*s-g*o*m+a*y*m+d*o*b-a*p*b)*T,i[2]=(c*y*s-g*u*s+g*o*f-a*y*f-c*o*b+a*u*b)*T,i[3]=(d*u*s-c*p*s-d*o*f+a*p*f+c*o*m-a*u*m)*T,i[4]=_*T,i[5]=(h*y*s-v*p*s+v*o*m-n*y*m-h*o*b+n*p*b)*T,i[6]=(v*u*s-l*y*s-v*o*f+n*y*f+l*o*b-n*u*b)*T,i[7]=(l*p*s-h*u*s+h*o*f-n*p*f-l*o*m+n*u*m)*T,i[8]=x*T,i[9]=(v*d*s-h*g*s-v*a*m+n*g*m+h*a*b-n*d*b)*T,i[10]=(l*g*s-v*c*s+v*a*f-n*g*f-l*a*b+n*c*b)*T,i[11]=(h*c*s-l*d*s-h*a*f+n*d*f+l*a*m-n*c*m)*T,i[12]=E*T,i[13]=(h*g*o-v*d*o+v*a*p-n*g*p-h*a*y+n*d*y)*T,i[14]=(v*c*o-l*g*o-v*a*u+n*g*u+l*a*y-n*c*y)*T,i[15]=(l*d*o-h*c*o+h*a*u-n*d*u-l*a*p+n*c*p)*T,this},scale:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z;return t[0]*=i,t[4]*=r,t[8]*=n,t[1]*=i,t[5]*=r,t[9]*=n,t[2]*=i,t[6]*=r,t[10]*=n,t[3]*=i,t[7]*=r,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=1-i,a=e.x,o=e.y,s=e.z,l=n*a,c=n*o;return this.set(l*a+i,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+i,c*s-r*a,0,l*s-r*o,c*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,i){var r=this.elements,n=t._x,a=t._y,o=t._z,s=t._w,l=n+n,c=a+a,u=o+o,f=n*l,h=n*c,d=n*u,p=a*c,m=a*u,v=o*u,g=s*l,y=s*c,b=s*u,w=i.x,_=i.y,x=i.z;return r[0]=(1-(p+v))*w,r[1]=(h+b)*w,r[2]=(d-y)*w,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(f+v))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(d+y)*x,r[9]=(m-g)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:(o=new Qt,s=new Zt,function(e,t,i){var r=this.elements,n=o.set(r[0],r[1],r[2]).length(),a=o.set(r[4],r[5],r[6]).length(),l=o.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),e.x=r[12],e.y=r[13],e.z=r[14],s.copy(this);var c=1/n,u=1/a,f=1/l;return s.elements[0]*=c,s.elements[1]*=c,s.elements[2]*=c,s.elements[4]*=u,s.elements[5]*=u,s.elements[6]*=u,s.elements[8]*=f,s.elements[9]*=f,s.elements[10]*=f,t.setFromRotationMatrix(s),i.x=n,i.y=a,i.z=l,this}),makePerspective:function(e,t,i,r,n,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*n/(t-e),l=2*n/(i-r),c=(t+e)/(t-e),u=(i+r)/(i-r),f=-(a+n)/(a-n),h=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,i,r,n,a){var o=this.elements,s=1/(t-e),l=1/(i-r),c=1/(a-n),u=(t+e)*s,f=(i+r)*l,h=(a+n)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<16;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}),Object.assign(Kt,{slerp:function(e,t,i,r){return i.copy(e).slerp(t,r)},slerpFlat:function(e,t,i,r,n,a,o){var s=i[r+0],l=i[r+1],c=i[r+2],u=i[r+3],f=n[a+0],h=n[a+1],d=n[a+2],p=n[a+3];if(u!==p||s!==f||l!==h||c!==d){var m=1-o,v=s*f+l*h+c*d+u*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,v*g);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*g;if(s=s*m+f*_,l=l*m+h*_,c=c*m+d*_,u=u*m+p*_,m===1-o){var x=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=x,l*=x,c*=x,u*=x}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(Kt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(Kt.prototype,{set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=e._x,r=e._y,n=e._z,a=e.order,o=Math.cos,s=Math.sin,l=o(i/2),c=o(r/2),u=o(n/2),f=s(i/2),h=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=f*c*u+l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u-f*h*d):"YXZ"===a?(this._x=f*c*u+l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u+f*h*d):"ZXY"===a?(this._x=f*c*u-l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u-f*h*d):"ZYX"===a?(this._x=f*c*u-l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u+f*h*d):"YZX"===a?(this._x=f*c*u+l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u-f*h*d):"XZY"===a&&(this._x=f*c*u-l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u+f*h*d),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],l=i[9],c=i[2],u=i[6],f=i[10],h=r+s+f;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(u-l)*t,this._y=(a-c)*t,this._z=(o-n)*t):r>s&&r>f?(t=2*Math.sqrt(1+r-s-f),this._w=(u-l)/t,this._x=.25*t,this._y=(n+o)/t,this._z=(a+c)/t):s>f?(t=2*Math.sqrt(1+s-r-f),this._w=(a-c)/t,this._x=(n+o)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+f-r-s),this._w=(o-n)/t,this._x=(a+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new Qt;return function(i,r){return void 0===t&&(t=new Qt),(e=i.dot(r)+1)<1e-6?(e=0,Math.abs(i.x)>Math.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(Yt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var i=this.angleTo(e);if(0===i)return this;var r=Math.min(1,t/i);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var i=e._x,r=e._y,n=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=i*c+a*o+r*l-n*s,this._y=r*c+a*s+n*o-i*l,this._z=n*c+a*l+i*s-r*o,this._w=a*c-i*o-r*s-n*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*e._w+i*e._x+r*e._y+n*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*i+t*this._x,this._y=l*r+t*this._y,this._z=l*n+t*this._z,this.normalize()}var c=Math.sqrt(s),u=Math.atan2(c,o),f=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=n*f+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Qt.prototype,{isVector3:!0,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(p=new Kt,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(p.setFromEuler(e))}),applyAxisAngle:function(){var e=new Kt;return function(t,i){return this.applyQuaternion(e.setFromAxisAngle(t,i))}}(),applyMatrix3:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements,a=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*i,c=s*i+o*t-n*r,u=s*r+n*i-a*t,f=-n*t-a*i-o*r;return this.x=l*s+f*-n+c*-o-u*-a,this.y=c*s+f*-a+u*-n-l*-o,this.z=u*s+f*-o+l*-a-c*-n,this},project:function(){var e=new Zt;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new Zt;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r,this.y=n[1]*t+n[5]*i+n[9]*r,this.z=n[2]*t+n[6]*i+n[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new Qt,t=new Qt;return function(i,r){return e.set(i,i,i),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var i=e.x,r=e.y,n=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new Qt;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new Qt;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Yt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign($t.prototype,{isMatrix3:!0,set:function(e,t,i,r,n,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=n,c[5]=s,c[6]=i,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new Qt;return function(t){for(var i=0,r=t.count;i<r;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix3(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,n=this.elements,a=i[0],o=i[3],s=i[6],l=i[1],c=i[4],u=i[7],f=i[2],h=i[5],d=i[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],w=r[2],_=r[5],x=r[8];return n[0]=a*p+o*g+s*w,n[3]=a*m+o*y+s*_,n[6]=a*v+o*b+s*x,n[1]=l*p+c*g+u*w,n[4]=l*m+c*y+u*_,n[7]=l*v+c*b+u*x,n[2]=f*p+h*g+d*w,n[5]=f*m+h*y+d*_,n[8]=f*v+h*b+d*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-i*n*c+i*o*s+r*n*l-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=e.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],f=i[7],h=i[8],d=h*l-c*f,p=c*u-h*s,m=f*s-l*u,v=n*d+a*p+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*f-h*a)*y,r[2]=(c*a-o*l)*y,r[3]=p*y,r[4]=(h*n-o*u)*y,r[5]=(o*s-c*n)*y,r[6]=m*y,r[7]=(a*u-f*n)*y,r[8]=(l*n-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,i,r,n,a,o){var s=Math.cos(n),l=Math.sin(n);this.set(i*s,i*l,-i*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1)},scale:function(e,t){var i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this},rotate:function(e){var t=Math.cos(e),i=Math.sin(e),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*n+i*s,r[3]=t*a+i*l,r[6]=t*o+i*c,r[1]=-i*n+t*s,r[4]=-i*a+t*l,r[7]=-i*o+t*c,this},translate:function(e,t){var i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this},equals:function(e){for(var t=this.elements,i=e.elements,r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<9;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}});var ei,ti,ii,ri,ni={getDataURL:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{"undefined"!=typeof OffscreenCanvas?t=new OffscreenCanvas(e.width,e.height):((t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height);var i=t.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},ai=0;function oi(e,t,i,r,n,a,o,s,l,c){Object.defineProperty(this,"id",{value:ai++}),this.uuid=Yt.generateUUID(),this.name="",this.image=void 0!==e?e:oi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:oi.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:ke,this.wrapT=void 0!==r?r:ke,this.magFilter=void 0!==n?n:Ce,this.minFilter=void 0!==a?a:Ie,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Je,this.type=void 0!==s?s:Ne,this.offset=new Jt(0,0),this.repeat=new Jt(1,1),this.center=new Jt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:Dt,this.version=0,this.onUpdate=null}function si(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1}function li(e,t,i){this.width=e,this.height=t,this.scissor=new si(0,0,e,t),this.scissorTest=!1,this.viewport=new si(0,0,e,t),void 0===(i=i||{}).minFilter&&(i.minFilter=Ce),this.texture=new oi(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0===i.generateMipmaps||i.generateMipmaps,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function ci(e,t,i){li.call(this,e,t,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function ui(e,t,i,r,n,a,o,s,l,c,u,f){oi.call(this,null,a,o,s,l,c,r,n,u,f),this.image={data:e,width:t,height:i},this.magFilter=void 0!==l?l:Re,this.minFilter=void 0!==c?c:Re,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function fi(e,t){this.min=void 0!==e?e:new Qt(1/0,1/0,1/0),this.max=void 0!==t?t:new Qt(-1/0,-1/0,-1/0)}function hi(e,t){this.center=void 0!==e?e:new Qt,this.radius=void 0!==t?t:0}function di(e,t){this.normal=void 0!==e?e:new Qt(1,0,0),this.constant=void 0!==t?t:0}function pi(e,t,i,r,n,a){this.planes=[void 0!==e?e:new di,void 0!==t?t:new di,void 0!==i?i:new di,void 0!==r?r:new di,void 0!==n?n:new di,void 0!==a?a:new di]}oi.DEFAULT_IMAGE=void 0,oi.DEFAULT_MAPPING=ye,oi.prototype=Object.assign(Object.create(r.prototype),{constructor:oi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Yt.generateUUID()),!t&&void 0===e.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(ni.getDataURL(r[a]))}else n=ni.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return t||(e.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===ye){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Te:e.x=e.x-Math.floor(e.x);break;case ke:e.x=e.x<0?0:1;break;case Ae:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Te:e.y=e.y-Math.floor(e.y);break;case ke:e.y=e.y<0?0:1;break;case Ae:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(oi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(si.prototype,{isVector4:!0,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,n,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],f=a[9],h=a[2],d=a[6],p=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+h)<.1&&Math.abs(f+d)<.1&&Math.abs(o+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,v=(u+1)/2,g=(p+1)/2,y=(s+c)/4,b=(l+h)/4,w=(f+d)/4;return m>v&&m>g?m<.01?(i=0,r=.707106781,n=.707106781):(r=y/(i=Math.sqrt(m)),n=b/i):v>g?v<.01?(i=.707106781,r=0,n=.707106781):(i=y/(r=Math.sqrt(v)),n=w/r):g<.01?(i=.707106781,r=.707106781,n=0):(i=b/(n=Math.sqrt(g)),r=w/n),this.set(i,r,n,t),this}var _=Math.sqrt((d-f)*(d-f)+(l-h)*(l-h)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(d-f)/_,this.y=(l-h)/_,this.z=(c-s)/_,this.w=Math.acos((o+u+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new si,t=new si),e.set(i,i,i,i),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),li.prototype=Object.assign(Object.create(r.prototype),{constructor:li,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ci.prototype=Object.create(li.prototype),ci.prototype.constructor=ci,ci.prototype.isWebGLRenderTargetCube=!0,ui.prototype=Object.create(oi.prototype),ui.prototype.constructor=ui,ui.prototype.isDataTexture=!0,Object.assign(fi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],f=e[s+2];c<t&&(t=c),u<i&&(i=u),f<r&&(r=f),c>n&&(n=c),u>a&&(a=u),f>o&&(o=f)}return this.min.set(t,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),f=e.getZ(s);c<t&&(t=c),u<i&&(i=u),f<r&&(r=f),c>n&&(n=c),u>a&&(a=u),f>o&&(o=f)}return this.min.set(t,i,r),this.max.set(n,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Qt;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Qt),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Qt),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,i,r=new Qt;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(t=0,i=o.length;t<i;t++)r.copy(o[t]),r.applyMatrix4(n.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(t=0,i=s.count;t<i;t++)r.fromBufferAttribute(s,t).applyMatrix4(n.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(n),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Qt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(ei=new Qt,function(e){return this.clampPoint(e.center,ei),ei.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=e.constant&&i>=e.constant},intersectsTriangle:function(){var e=new Qt,t=new Qt,i=new Qt,r=new Qt,n=new Qt,a=new Qt,o=new Qt,s=new Qt,l=new Qt,c=new Qt;function u(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),c=e.dot(o),u=t.dot(o),f=i.dot(o);if(Math.max(-Math.max(c,u,f),Math.min(c,u,f))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),e.subVectors(o.a,s),t.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(t,e),n.subVectors(i,t),a.subVectors(e,i);var f=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!u(f)&&(!!u(f=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(r,n),u(f=[c.x,c.y,c.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Qt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Qt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new Qt;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new hi),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){if(this.isEmpty())return this;var t=e.elements,i=t[0]*this.min.x,r=t[1]*this.min.x,n=t[2]*this.min.x,a=t[0]*this.max.x,o=t[1]*this.max.x,s=t[2]*this.max.x,l=t[4]*this.min.y,c=t[5]*this.min.y,u=t[6]*this.min.y,f=t[4]*this.max.y,h=t[5]*this.max.y,d=t[6]*this.max.y,p=t[8]*this.min.z,m=t[9]*this.min.z,v=t[10]*this.min.z,g=t[8]*this.max.z,y=t[9]*this.max.z,b=t[10]*this.max.z;return this.min.x=Math.min(i,a)+Math.min(l,f)+Math.min(p,g)+t[12],this.min.y=Math.min(r,o)+Math.min(c,h)+Math.min(m,y)+t[13],this.min.z=Math.min(n,s)+Math.min(u,d)+Math.min(v,b)+t[14],this.max.x=Math.max(i,a)+Math.max(l,f)+Math.max(p,g)+t[12],this.max.y=Math.max(r,o)+Math.max(c,h)+Math.max(m,y)+t[13],this.max.z=Math.max(n,s)+Math.max(u,d)+Math.max(v,b)+t[14],this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(hi.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(ti=new fi,function(e,t){var i=this.center;void 0!==t?i.copy(t):ti.setFromPoints(e).getCenter(i);for(var r=0,n=0,a=e.length;n<a;n++)r=Math.max(r,i.distanceToSquared(e[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Qt),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new fi),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(di.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new Qt,t=new Qt;return function(i,r,n){var a=e.subVectors(n,r).cross(t.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Qt),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new Qt;return function(t,i){void 0===i&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new Qt);var r=t.delta(e),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(t.start)?i.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Qt),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new Qt,t=new $t;return function(i,r){var n=r||t.getNormalMatrix(i),a=this.coplanarPoint(e).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(pi.prototype,{set:function(e,t,i,r,n,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],l=i[5],c=i[6],u=i[7],f=i[8],h=i[9],d=i[10],p=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return t[0].setComponents(o-r,u-s,p-f,y-m).normalize(),t[1].setComponents(o+r,u+s,p+f,y+m).normalize(),t[2].setComponents(o+n,u+l,p+h,y+v).normalize(),t[3].setComponents(o-n,u-l,p-h,y-v).normalize(),t[4].setComponents(o-a,u-c,p-d,y-g).normalize(),t[5].setComponents(o+a,u+c,p+d,y+g).normalize(),this},intersectsObject:(ri=new hi,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ri.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ri)}),intersectsSprite:function(){var e=new hi;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,i=e.center,r=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(i)<r)return!1}return!0},intersectsBox:(ii=new Qt,function(e){for(var t=this.planes,i=0;i<6;i++){var r=t[i];if(ii.x=r.normal.x>0?e.max.x:e.min.x,ii.y=r.normal.y>0?e.max.y:e.min.y,ii.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ii)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}});var mi,vi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},gi={merge:function(e){for(var t={},i=0;i<e.length;i++){var r=this.clone(e[i]);for(var n in r)t[n]=r[n]}return t},clone:function(e){var t={};for(var i in e)for(var r in t[i]={},e[i]){var n=e[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?t[i][r]=n.clone():Array.isArray(n)?t[i][r]=n.slice():t[i][r]=n}return t}},yi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bi(e,t,i){return void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}Object.assign(bi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(){function e(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}return function(t,i,r){if(t=Yt.euclideanModulo(t,1),i=Yt.clamp(i,0,1),r=Yt.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=e(a,n,t+1/3),this.g=e(a,n,t),this.b=e(a,n,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,l)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,u=(c=i[1]).length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(c=yi[e])?this.setHex(c):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),l=(s+o)/2;if(s===o)t=0,i=0;else{var c=o-s;switch(i=l<=.5?c/(o+s):c/(2-o-s),o){case r:t=(n-a)/c+(n<a?6:0);break;case n:t=(a-r)/c+2;break;case a:t=(r-n)/c+4}t/=6}return e.h=t,e.s=i,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(mi={},function(e,t,i){return this.getHSL(mi),mi.h+=e,mi.s+=t,mi.l+=i,this.setHSL(mi.h,mi.s,mi.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var wi,_i={common:{diffuse:{value:new bi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new $t},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Jt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bi(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new bi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new $t}},sprite:{diffuse:{value:new bi(15658734)},opacity:{value:1},center:{value:new Jt(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new $t}}},xi={basic:{uniforms:gi.merge([_i.common,_i.specularmap,_i.envmap,_i.aomap,_i.lightmap,_i.fog]),vertexShader:vi.meshbasic_vert,fragmentShader:vi.meshbasic_frag},lambert:{uniforms:gi.merge([_i.common,_i.specularmap,_i.envmap,_i.aomap,_i.lightmap,_i.emissivemap,_i.fog,_i.lights,{emissive:{value:new bi(0)}}]),vertexShader:vi.meshlambert_vert,fragmentShader:vi.meshlambert_frag},phong:{uniforms:gi.merge([_i.common,_i.specularmap,_i.envmap,_i.aomap,_i.lightmap,_i.emissivemap,_i.bumpmap,_i.normalmap,_i.displacementmap,_i.gradientmap,_i.fog,_i.lights,{emissive:{value:new bi(0)},specular:{value:new bi(1118481)},shininess:{value:30}}]),vertexShader:vi.meshphong_vert,fragmentShader:vi.meshphong_frag},standard:{uniforms:gi.merge([_i.common,_i.envmap,_i.aomap,_i.lightmap,_i.emissivemap,_i.bumpmap,_i.normalmap,_i.displacementmap,_i.roughnessmap,_i.metalnessmap,_i.fog,_i.lights,{emissive:{value:new bi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:vi.meshphysical_vert,fragmentShader:vi.meshphysical_frag},points:{uniforms:gi.merge([_i.points,_i.fog]),vertexShader:vi.points_vert,fragmentShader:vi.points_frag},dashed:{uniforms:gi.merge([_i.common,_i.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vi.linedashed_vert,fragmentShader:vi.linedashed_frag},depth:{uniforms:gi.merge([_i.common,_i.displacementmap]),vertexShader:vi.depth_vert,fragmentShader:vi.depth_frag},normal:{uniforms:gi.merge([_i.common,_i.bumpmap,_i.normalmap,_i.displacementmap,{opacity:{value:1}}]),vertexShader:vi.normal_vert,fragmentShader:vi.normal_frag},sprite:{uniforms:gi.merge([_i.sprite,_i.fog]),vertexShader:vi.sprite_vert,fragmentShader:vi.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vi.cube_vert,fragmentShader:vi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vi.equirect_vert,fragmentShader:vi.equirect_frag},distanceRGBA:{uniforms:gi.merge([_i.common,_i.displacementmap,{referencePosition:{value:new Qt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vi.distanceRGBA_vert,fragmentShader:vi.distanceRGBA_frag},shadow:{uniforms:gi.merge([_i.lights,_i.fog,{color:{value:new bi(0)},opacity:{value:1}}]),vertexShader:vi.shadow_vert,fragmentShader:vi.shadow_frag}};function Ei(){var e=null,t=!1,i=null;function r(n,a){!1!==t&&(i(n,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==i&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){i=e},setContext:function(t){e=t}}}function Mi(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=t.get(i);r&&(e.deleteBuffer(r.buffer),t.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=t.get(i);void 0===n?t.set(i,function(t,i){var r=t.array,n=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,a=e.createBuffer();e.bindBuffer(i,a),e.bufferData(i,r,n),t.onUploadCallback();var o=e.FLOAT;return r instanceof Float32Array?o=e.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=e.UNSIGNED_SHORT:r instanceof Int16Array?o=e.SHORT:r instanceof Uint32Array?o=e.UNSIGNED_INT:r instanceof Int32Array?o=e.INT:r instanceof Int8Array?o=e.BYTE:r instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(i,r)):n.version<i.version&&(function(t,i,r){var n=i.array,a=i.updateRange;e.bindBuffer(r,t),!1===i.dynamic?e.bufferData(r,n,e.STATIC_DRAW):-1===a.count?e.bufferSubData(r,0,n):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function Si(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._order=r||Si.DefaultOrder}function Ti(){this.mask=1}xi.physical={uniforms:gi.merge([xi.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:vi.meshphysical_vert,fragmentShader:vi.meshphysical_frag},Si.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Si.DefaultOrder="XYZ",Object.defineProperties(Si.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Si.prototype,{isEuler:!0,set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var r=Yt.clamp,n=e.elements,a=n[0],o=n[4],s=n[8],l=n[1],c=n[5],u=n[9],f=n[2],h=n[6],d=n[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===t?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new Zt;return function(t,i,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,i,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(wi=new Kt,function(e){return wi.setFromEuler(this),this.setFromQuaternion(wi,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Qt(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Ti.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var ki,Ai,Ri,Li,Pi=0;function Ci(){Object.defineProperty(this,"id",{value:Pi++}),this.uuid=Yt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ci.DefaultUp.clone();var e=new Qt,t=new Si,i=new Kt,r=new Qt(1,1,1);t.onChange(function(){i.setFromEuler(t,!1)}),i.onChange(function(){t.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new Zt},normalMatrix:{value:new $t}}),this.matrix=new Zt,this.matrixWorld=new Zt,this.matrixAutoUpdate=Ci.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ti,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Oi(){Ci.call(this),this.type="Camera",this.matrixWorldInverse=new Zt,this.projectionMatrix=new Zt}function Ii(e,t,i,r,n,a){Oi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Ni(e,t,i,r,n,a){this.a=e,this.b=t,this.c=i,this.normal=r&&r.isVector3?r:new Qt,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new bi,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}Ci.DefaultUp=new Qt(0,1,0),Ci.DefaultMatrixAutoUpdate=!0,Ci.prototype=Object.assign(Object.create(r.prototype),{constructor:Ci,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(Li=new Kt,function(e,t){return Li.setFromAxisAngle(e,t),this.quaternion.multiply(Li),this}),rotateOnWorldAxis:function(){var e=new Kt;return function(t,i){return e.setFromAxisAngle(t,i),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new Qt(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new Qt(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new Qt(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new Qt;return function(t,i){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(i)),this}}(),translateX:function(){var e=new Qt(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new Qt(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new Qt(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Ri=new Zt,function(e){return e.applyMatrix4(Ri.getInverse(this.matrixWorld))}),lookAt:function(){var e=new Zt,t=new Qt;return function(i,r,n){i.isVector3?t.copy(i):t.set(i,r,n),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var i=this.children.indexOf(e);return-1!==i&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(e,t);if(void 0!==n)return n}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Qt),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(ki=new Qt,Ai=new Qt,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Kt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ki,e,Ai),e}),getWorldScale:function(){var e=new Qt,t=new Kt;return function(i){return void 0===i&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),i=new Qt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,i),i}}(),getWorldDirection:function(){var e=new Kt;return function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Qt),this.getWorldQuaternion(e),t.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)},toJSON:function(e){var t=void 0===e||"string"==typeof e,i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(t,i){return void 0===t[i.uuid]&&(t[i.uuid]=i.toJSON(e)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=n(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];n(e.shapes,c)}else n(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,l=this.material.length;s<l;s++)u.push(n(e.materials,this.material[s]));r.material=u}else r.material=n(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var f=m(e.geometries),h=m(e.materials),d=m(e.textures),p=m(e.images);o=m(e.shapes);f.length>0&&(i.geometries=f),h.length>0&&(i.materials=h),d.length>0&&(i.textures=d),p.length>0&&(i.images=p),o.length>0&&(i.shapes=o)}return i.object=r,i;function m(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var i=0;i<e.children.length;i++){var r=e.children[i];this.add(r.clone())}return this}}),Oi.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Oi,isCamera:!0,copy:function(e,t){return Ci.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new Kt;return function(t){return void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Qt),this.getWorldQuaternion(e),t.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){Ci.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ii.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Ii,isOrthographicCamera:!0,copy:function(e,t){return Oi.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-e,a=i+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;a=(n+=u*(this.view.offsetX/l))+u*(this.view.width/l),s=(o-=f*(this.view.offsetY/c))-f*(this.view.height/c)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far)},toJSON:function(e){var t=Ci.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(Ni.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Di,Fi,Bi=0;function Ui(){Object.defineProperty(this,"id",{value:Bi+=2}),this.uuid=Yt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function zi(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Hi(e,t,i){zi.call(this,new Int8Array(e),t,i)}function Gi(e,t,i){zi.call(this,new Uint8Array(e),t,i)}function Vi(e,t,i){zi.call(this,new Uint8ClampedArray(e),t,i)}function ji(e,t,i){zi.call(this,new Int16Array(e),t,i)}function Wi(e,t,i){zi.call(this,new Uint16Array(e),t,i)}function Xi(e,t,i){zi.call(this,new Int32Array(e),t,i)}function qi(e,t,i){zi.call(this,new Uint32Array(e),t,i)}function Yi(e,t,i){zi.call(this,new Float32Array(e),t,i)}function Ji(e,t,i){zi.call(this,new Float64Array(e),t,i)}function Zi(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ki(e){if(0===e.length)return-1/0;for(var t=e[0],i=1,r=e.length;i<r;++i)e[i]>t&&(t=e[i]);return t}Ui.prototype=Object.assign(Object.create(r.prototype),{constructor:Ui,isGeometry:!0,applyMatrix:function(e){for(var t=(new $t).getNormalMatrix(e),i=0,r=this.vertices.length;i<r;i++){this.vertices[i].applyMatrix4(e)}for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(t).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new Zt;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Zt;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Zt;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Zt;return function(t,i,r){return e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e=new Zt;return function(t,i,r){return e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:(Fi=new Ci,function(e){Fi.lookAt(e),Fi.updateMatrix(),this.applyMatrix(Fi.matrix)}),fromBufferGeometry:function(e){var t=this,i=null!==e.index?e.index.array:void 0,r=e.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=[],u=[],f=[],h=0,d=0;h<n.length;h+=3,d+=2)t.vertices.push(new Qt(n[h],n[h+1],n[h+2])),void 0!==a&&c.push(new Qt(a[h],a[h+1],a[h+2])),void 0!==o&&t.colors.push(new bi(o[h],o[h+1],o[h+2])),void 0!==s&&u.push(new Jt(s[d],s[d+1])),void 0!==l&&f.push(new Jt(l[d],l[d+1]));function p(e,i,r,n){var h=new Ni(e,i,r,void 0!==a?[c[e].clone(),c[i].clone(),c[r].clone()]:[],void 0!==o?[t.colors[e].clone(),t.colors[i].clone(),t.colors[r].clone()]:[],n);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([u[e].clone(),u[i].clone(),u[r].clone()]),void 0!==l&&t.faceVertexUvs[1].push([f[e].clone(),f[i].clone(),f[r].clone()])}var m=e.groups;if(m.length>0)for(h=0;h<m.length;h++)for(var v=m[h],g=v.start,y=(d=g,g+v.count);d<y;d+=3)void 0!==i?p(i[d],i[d+1],i[d+2],v.materialIndex):p(d,d+1,d+2,v.materialIndex);else if(void 0!==i)for(h=0;h<i.length;h+=3)p(i[h],i[h+1],i[h+2]);else for(h=0;h<n.length/3;h+=3)p(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(Di=new Qt,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Di).negate(),this.translate(Di.x,Di.y,Di.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,r=new Zt;return r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new Qt,t=new Qt,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),n.normal.copy(e)}},computeVertexNormals:function(e){var t,i,r,n,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)o[t]=new Qt;if(e){var s,l,c,u=new Qt,f=new Qt;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c],u.subVectors(c,l),f.subVectors(s,l),u.cross(f),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,i=this.vertices.length;t<i;t++)o[t].normalize();for(r=0,n=this.faces.length;r<n;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,i;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(i=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var a=new Ui;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)l=new Qt,c={a:new Qt,b:new Qt,c:new Qt},o.push(l),s.push(c)}var l,c,u=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],l=u.faceNormals[i],c=u.vertexNormals[i],l.copy(n.normal),c.a.copy(n.vertexNormals[0]),c.b.copy(n.vertexNormals[1]),c.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new fi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new hi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e&&e.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],u=e.faceVertexUvs[0],f=this.colors,h=e.colors;void 0===i&&(i=0),void 0!==t&&(r=(new $t).getNormalMatrix(t));for(var d=0,p=o.length;d<p;d++){var m=o[d].clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(d=0,p=h.length;d<p;d++)f.push(h[d].clone());for(d=0,p=l.length;d<p;d++){var v,g,y,b=l[d],w=b.vertexNormals,_=b.vertexColors;(v=new Ni(b.a+n,b.b+n,b.c+n)).normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var x=0,E=w.length;x<E;x++)g=w[x].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(b.color);for(x=0,E=_.length;x<E;x++)y=_[x],v.vertexColors.push(y.clone());v.materialIndex=b.materialIndex+i,s.push(v)}for(d=0,p=u.length;d<p;d++){var M=u[d],S=[];if(void 0!==M){for(x=0,E=M.length;x<E;x++)S.push(M[x].clone());c.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,i,r,n,a,o,s,l={},c=[],u=[],f=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)e=this.vertices[i],void 0===l[t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f)]?(l[t]=i,c.push(this.vertices[i]),u[i]=c.length-1):u[i]=u[l[t]];var h=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=u[n.a],n.b=u[n.b],n.c=u[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){h.push(i);break}}for(i=h.length-1;i>=0;i--){var p=h[i];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,i=e.length;t<i;t++){var r=e[t];this.vertices.push(new Qt(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,i=0;i<t;i++)e[i]._id=i;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(n=[]);for(i=0;i<t;i++){var s=e[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],l={},c=[],u={},f=[],h={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],p=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=E(b,0,0),b=E(b,1,!0),b=E(b,2,!1),b=E(b,3,p),b=E(b,4,m),b=E(b,5,v),b=E(b,6,g),b=E(b,7,y),o.push(b),o.push(d.a,d.b,d.c),o.push(d.materialIndex),p){var w=this.faceVertexUvs[0][n];o.push(T(w[0]),T(w[1]),T(w[2]))}if(m&&o.push(M(d.normal)),v){var _=d.vertexNormals;o.push(M(_[0]),M(_[1]),M(_[2]))}if(g&&o.push(S(d.color)),y){var x=d.vertexColors;o.push(S(x[0]),S(x[1]),S(x[2]))}}function E(e,t,i){return i?e|1<<t:e&~(1<<t)}function M(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]?l[t]:(l[t]=s.length/3,s.push(e.x,e.y,e.z),l[t])}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]?u[t]:(u[t]=c.length,c.push(e.getHex()),u[t])}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),f.length>0&&(e.data.uvs=[f]),e.data.faces=o,e},clone:function(){return(new Ui).copy(this)},copy:function(e){var t,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,i=s.length;t<i;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,i=l.length;t<i;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,i=c.length;t<i;t++)this.faces.push(c[t].clone());for(t=0,i=e.faceVertexUvs.length;t<i;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,n=u.length;r<n;r++){var f=u[r],h=[];for(a=0,o=f.length;a<o;a++){var d=f[a];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,i=p.length;t<i;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,n=p[t].vertices.length;r<n;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,n=p[t].normals.length;r<n;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,i=v.length;t<i;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,n=v[t].vertexNormals.length;r<n;r++){var y=v[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,n=v[t].faceNormals.length;r<n;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var w=e.skinWeights;for(t=0,i=w.length;t<i;t++)this.skinWeights.push(w[t].clone());var _=e.skinIndices;for(t=0,i=_.length;t<i;t++)this.skinIndices.push(_[t].clone());var x=e.lineDistances;for(t=0,i=x.length;t<i;t++)this.lineDistances.push(x[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=e.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(zi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(zi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[e+r]=t.array[i+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new bi),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Jt),t[i++]=a.x,t[i++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Qt),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new si),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this},setXYZW:function(e,t,i,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=n,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Hi.prototype=Object.create(zi.prototype),Hi.prototype.constructor=Hi,Gi.prototype=Object.create(zi.prototype),Gi.prototype.constructor=Gi,Vi.prototype=Object.create(zi.prototype),Vi.prototype.constructor=Vi,ji.prototype=Object.create(zi.prototype),ji.prototype.constructor=ji,Wi.prototype=Object.create(zi.prototype),Wi.prototype.constructor=Wi,Xi.prototype=Object.create(zi.prototype),Xi.prototype.constructor=Xi,qi.prototype=Object.create(zi.prototype),qi.prototype.constructor=qi,Yi.prototype=Object.create(zi.prototype),Yi.prototype.constructor=Yi,Ji.prototype=Object.create(zi.prototype),Ji.prototype.constructor=Ji,Object.assign(Zi.prototype,{computeGroups:function(e){for(var t,i=[],r=void 0,n=e.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,i.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,i.push(t)),this.groups=i},fromGeometry:function(e){var t,i=e.faces,r=e.vertices,n=e.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var c=0;c<l;c++)t[c]=[];this.morphTargets.position=t}var u,f=e.morphNormals,h=f.length;if(h>0){u=[];for(c=0;c<h;c++)u[c]=[];this.morphTargets.normal=u}var d=e.skinIndices,p=e.skinWeights,m=d.length===r.length,v=p.length===r.length;r.length>0&&0===i.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(c=0;c<i.length;c++){var g=i[c];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var w,_=g.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var x=g.color;this.colors.push(x,x,x)}if(!0===a)void 0!==(w=n[0][c])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Jt,new Jt,new Jt));if(!0===o)void 0!==(w=n[1][c])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Jt,new Jt,new Jt));for(var E=0;E<l;E++){var M=s[E].vertices;t[E].push(M[g.a],M[g.b],M[g.c])}for(E=0;E<h;E++){var S=f[E].vertexNormals[c];u[E].push(S.a,S.b,S.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Qi=1;function $i(){Object.defineProperty(this,"id",{value:Qi+=2}),this.uuid=Yt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function er(e,t,i,r,n,a){Ui.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new tr(e,t,i,r,n,a)),this.mergeVertices()}function tr(e,t,i,r,n,a){$i.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;e=e||1,t=t||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],l=[],c=[],u=[],f=0,h=0;function d(e,t,i,r,n,a,d,p,m,v,g){var y,b,w=a/m,_=d/v,x=a/2,E=d/2,M=p/2,S=m+1,T=v+1,k=0,A=0,R=new Qt;for(b=0;b<T;b++){var L=b*_-E;for(y=0;y<S;y++){var P=y*w-x;R[e]=P*r,R[t]=L*n,R[i]=M,l.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[i]=p>0?1:-1,c.push(R.x,R.y,R.z),u.push(y/m),u.push(1-b/v),k+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var C=f+y+S*b,O=f+y+S*(b+1),I=f+(y+1)+S*(b+1),N=f+(y+1)+S*b;s.push(C,O,N),s.push(O,I,N),A+=6}o.addGroup(h,A,g),h+=A,f+=k}d("z","y","x",-1,-1,i,t,e,a,n,0),d("z","y","x",1,-1,i,t,-e,a,n,1),d("x","z","y",1,1,e,i,t,r,a,2),d("x","z","y",1,-1,e,i,-t,r,a,3),d("x","y","z",1,-1,e,t,i,r,n,4),d("x","y","z",-1,-1,e,t,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new Yi(l,3)),this.addAttribute("normal",new Yi(c,3)),this.addAttribute("uv",new Yi(u,2))}function ir(e,t,i,r){Ui.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new rr(e,t,i,r)),this.mergeVertices()}function rr(e,t,i,r){$i.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};var n,a,o=(e=e||1)/2,s=(t=t||1)/2,l=Math.floor(i)||1,c=Math.floor(r)||1,u=l+1,f=c+1,h=e/l,d=t/c,p=[],m=[],v=[],g=[];for(a=0;a<f;a++){var y=a*d-s;for(n=0;n<u;n++){var b=n*h-o;m.push(b,-y,0),v.push(0,0,1),g.push(n/l),g.push(1-a/c)}}for(a=0;a<c;a++)for(n=0;n<l;n++){var w=n+u*a,_=n+u*(a+1),x=n+1+u*(a+1),E=n+1+u*a;p.push(w,_,E),p.push(_,x,E)}this.setIndex(p),this.addAttribute("position",new Yi(m,3)),this.addAttribute("normal",new Yi(v,3)),this.addAttribute("uv",new Yi(g,2))}$i.prototype=Object.assign(Object.create(r.prototype),{constructor:$i,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Ki(e)>65535?qi:Wi)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new zi(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new $t).getNormalMatrix(e).applyToBufferAttribute(i),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new Zt;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Zt;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Zt;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Zt;return function(t,i,r){return e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e=new Zt;return function(t,i,r){return e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Ci;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new Qt;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var i=new Yi(3*t.vertices.length,3),r=new Yi(3*t.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var n=new Yi(t.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i];t.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new Yi(t,3)),this},updateFromObject:function(e){var t,i=e.geometry;if(e.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(i.vertices),t.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(i.normals),t.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(i.colors),t.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(i.uvs),t.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(i.lineDistances),t.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(e.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Zi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new zi(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var i=new Float32Array(3*e.normals.length);this.addAttribute("normal",new zi(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new zi(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var n=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new zi(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new zi(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[o],c=0,u=l.length;c<u;c++){var f=l[c],h=new Yi(3*f.length,3);s.push(h.copyVector3sArray(f))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var d=new Yi(4*e.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Yi(4*e.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new fi);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new fi,t=new Qt;return function(){null===this.boundingSphere&&(this.boundingSphere=new hi);var i=this.attributes.position;if(i){var r=this.boundingSphere.center;e.setFromBufferAttribute(i),e.getCenter(r);for(var n=0,a=0,o=i.count;a<o;a++)t.x=i.getX(a),t.y=i.getY(a),t.z=i.getZ(a),n=Math.max(n,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,i=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new zi(new Float32Array(r.length),3));else for(var n=t.normal.array,a=0,o=n.length;a<o;a++)n[a]=0;var s,l,c,u=t.normal.array,f=new Qt,h=new Qt,d=new Qt,p=new Qt,m=new Qt;if(e){var v=e.array;0===i.length&&this.addGroup(0,v.length);for(var g=0,y=i.length;g<y;++g){var b=i[g],w=b.start;for(a=w,o=w+b.count;a<o;a+=3)s=3*v[a+0],l=3*v[a+1],c=3*v[a+2],f.fromArray(r,s),h.fromArray(r,l),d.fromArray(r,c),p.subVectors(d,h),m.subVectors(f,h),p.cross(m),u[s]+=p.x,u[s+1]+=p.y,u[s+2]+=p.z,u[l]+=p.x,u[l+1]+=p.y,u[l+2]+=p.z,u[c]+=p.x,u[c+1]+=p.y,u[c+2]+=p.z}}else for(a=0,o=r.length;a<o;a+=9)f.fromArray(r,a),h.fromArray(r,a+3),d.fromArray(r,a+6),p.subVectors(d,h),m.subVectors(f,h),p.cross(m),u[a]=p.x,u[a+1]=p.y,u[a+2]=p.z,u[a+3]=p.x,u[a+4]=p.y,u[a+5]=p.z,u[a+6]=p.x,u[a+7]=p.y,u[a+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var r in i)if(void 0!==e.attributes[r])for(var n=i[r].array,a=e.attributes[r],o=a.array,s=0,l=a.itemSize*t;s<o.length;s++,l++)n[l]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new Qt;return function(){for(var t=this.attributes.normal,i=0,r=t.count;i<r;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.normalize(),t.setXYZ(i,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new $i,t=this.index.array,i=this.attributes;for(var r in i){for(var n=i[r],a=n.array,o=n.itemSize,s=new a.constructor(t.length*o),l=0,c=0,u=0,f=t.length;u<f;u++){l=t[u]*o;for(var h=0;h<o;h++)s[c++]=a[l++]}e.addAttribute(r,new zi(s,o))}var d=this.groups;for(u=0,f=d.length;u<f;u++){var p=d[u];e.addGroup(p.start,p.count,p.materialIndex)}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var n=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:n}}var a=this.attributes;for(var i in a){var o=a[i];n=Array.prototype.slice.call(o.array);e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:n,normalized:o.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new $i).copy(this)},copy:function(e){var t,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var l=[],c=s[t];for(i=0,r=c.length;i<r;i++)l.push(c[i].clone());this.morphAttributes[t]=l}var u=e.groups;for(i=0,r=u.length;i<r;i++){var f=u[i];this.addGroup(f.start,f.count,f.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),er.prototype=Object.create(Ui.prototype),er.prototype.constructor=er,tr.prototype=Object.create($i.prototype),tr.prototype.constructor=tr,ir.prototype=Object.create(Ui.prototype),ir.prototype.constructor=ir,rr.prototype=Object.create($i.prototype),rr.prototype.constructor=rr;var nr,ar,or,sr,lr,cr,ur,fr,hr,dr,pr,mr=0;function vr(){Object.defineProperty(this,"id",{value:mr++}),this.uuid=Yt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=N,this.side=T,this.flatShading=!1,this.vertexColors=P,this.opacity=1,this.transparent=!1,this.blendSrc=J,this.blendDst=Z,this.blendEquation=z,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ae,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function gr(e){vr.call(this),this.type="MeshBasicMaterial",this.color=new bi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ue,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function yr(e){vr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function br(e,t){this.origin=void 0!==e?e:new Qt,this.direction=void 0!==t?t:new Qt}function wr(e,t,i){this.a=void 0!==e?e:new Qt,this.b=void 0!==t?t:new Qt,this.c=void 0!==i?i:new Qt}function _r(e,t){Ci.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new $i,this.material=void 0!==t?t:new gr({color:16777215*Math.random()}),this.drawMode=Ot,this.updateMorphTargets()}function xr(e,t,i,r){var n,a,o,s=new bi(0),l=0;function c(e,i){t.buffers.color.setClear(e.r,e.g,e.b,i,r)}return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),c(s,l=void 0!==t?t:1)},getClearAlpha:function(){return l},setClearAlpha:function(e){c(s,l=e)},render:function(t,r,u,f){var h=r.background;null===h?c(s,l):h&&h.isColor&&(c(h,1),f=!0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&h.isCubeTexture?(void 0===o&&((o=new _r(new tr(1,1,1),new yr({uniforms:xi.cube.uniforms,vertexShader:xi.cube.vertexShader,fragmentShader:xi.cube.fragmentShader,side:k,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,i){this.matrixWorld.copyPosition(i.matrixWorld)},i.update(o)),o.material.uniforms.tCube.value=h,t.push(o,o.geometry,o.material,0,null)):h&&h.isTexture&&(void 0===n&&(n=new Ii(-1,1,1,-1,0,1),a=new _r(new rr(2,2),new gr({depthTest:!1,depthWrite:!1,fog:!1})),i.update(a)),a.material.map=h,e.renderBufferDirect(n,null,a.geometry,a.material,a,null))}}}function Er(e,t,i,r){var n;this.setMode=function(e){n=e},this.render=function(t,r){e.drawArrays(n,t,r),i.update(r,n)},this.renderInstances=function(a,o,s){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Mr(e,t,i){var r;function n(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===i.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=u>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=t.get("EXT_texture_filter_anisotropic");return r=null!==i?e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function Sr(){var e=this,t=null,i=0,r=!1,n=!1,a=new di,o=new $t,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(t,i,r,n){var l=null!==t?t.length:0,c=null;if(0!==l){if(c=s.value,!0!==n||null===c){var u=r+4*l,f=i.matrixWorldInverse;o.getNormalMatrix(f),(null===c||c.length<u)&&(c=new Float32Array(u));for(var h=0,d=r;h!==l;++h,d+=4)a.copy(t[h]).applyMatrix4(f,o),a.normal.toArray(c,d),c[d+3]=a.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var o=0!==e.length||n||0!==i||r;return r=n,t=c(e,a,0),i=e.length,o},this.beginShadows=function(){n=!0,c(null)},this.endShadows=function(){n=!1,l()},this.setState=function(e,a,o,u,f,h){if(!r||null===e||0===e.length||n&&!o)n?c(null):l();else{var d=n?0:i,p=4*d,m=f.clippingState||null;s.value=m,m=c(e,u,p,h);for(var v=0;v!==p;++v)m[v]=t[v];f.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Tr(e){var t={};return{get:function(i){if(void 0!==t[i])return t[i];var r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),t[i]=r,r}}}function kr(e,t,i){var r={},n={};function a(e){var o=e.target,s=r[o.id];for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);o.removeEventListener("dispose",a),delete r[o.id];var c=n[s.id];c&&(t.remove(c),delete n[s.id]),i.memory.geometries--}return{get:function(e,t){var n=r[t.id];return n||(t.addEventListener("dispose",a),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new $i).setFromObject(e)),n=t._bufferGeometry),r[t.id]=n,i.memory.geometries++,n)},update:function(i){var r=i.index,n=i.attributes;for(var a in null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER),n)t.update(n[a],e.ARRAY_BUFFER);var o=i.morphAttributes;for(var a in o)for(var s=o[a],l=0,c=s.length;l<c;l++)t.update(s[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(i){var r=n[i.id];if(r)return r;var a,o=[],s=i.index,l=i.attributes;if(null!==s)for(var c=0,u=(a=s.array).length;c<u;c+=3){var f=a[c+0],h=a[c+1],d=a[c+2];o.push(f,h,h,d,d,f)}else for(c=0,u=(a=l.position.array).length/3-1;c<u;c+=3)f=c+0,h=c+1,d=c+2,o.push(f,h,h,d,d,f);return r=new(Ki(o)>65535?qi:Wi)(o,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),n[i.id]=r,r}}}function Ar(e,t,i,r){var n,a,o;this.setMode=function(e){n=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(n,r,a,t*o),i.update(r,n)},this.renderInstances=function(s,l,c){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,c,a,l*o,s.maxInstancedCount),i.update(c,n,s.maxInstancedCount)}}function Rr(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(i,r,n){switch(n=n||1,t.calls++,r){case e.TRIANGLES:t.triangles+=n*(i/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:t.triangles+=n*(i-2);break;case e.LINES:t.lines+=n*(i/2);break;case e.LINE_STRIP:t.lines+=n*(i-1);break;case e.LINE_LOOP:t.lines+=n*i;break;case e.POINTS:t.points+=n*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Lr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Pr(e){var t={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,l=s.length,c=t[n.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[n.id]=c}var f=a.morphTargets&&n.morphAttributes.position,h=a.morphNormals&&n.morphAttributes.normal;for(u=0;u<l;u++)0!==(d=c[u])[1]&&(f&&n.removeAttribute("morphTarget"+u),h&&n.removeAttribute("morphNormal"+u));for(u=0;u<l;u++)(d=c[u])[0]=u,d[1]=s[u];for(c.sort(Lr),u=0;u<8;u++){var d;if(d=c[u]){var p=d[0],m=d[1];if(m){f&&n.addAttribute("morphTarget"+u,f[p]),h&&n.addAttribute("morphNormal"+u,h[p]),i[u]=m;continue}}i[u]=0}o.getUniforms().setValue(e,"morphTargetInfluences",i)}}}function Cr(e,t){var i={};return{update:function(r){var n=t.render.frame,a=r.geometry,o=e.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),e.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function Or(e,t,i,r,n,a,o,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:be,oi.call(this,e,t,i,r,n,a,o,s,l,c),this.flipY=!1}vr.prototype=Object.assign(Object.create(r.prototype),{constructor:vr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]="overdraw"===t?Number(i):i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===R;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==N&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==T&&(i.side=this.side),this.vertexColors!==P&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),t){var n=r(e.textures),a=r(e.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,i=null;if(null!==t){var r=t.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=t[n].clone()}return this.clippingPlanes=i,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),gr.prototype=Object.create(vr.prototype),gr.prototype.constructor=gr,gr.prototype.isMeshBasicMaterial=!0,gr.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},yr.prototype=Object.create(vr.prototype),yr.prototype.constructor=yr,yr.prototype.isShaderMaterial=!0,yr.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gi.clone(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},yr.prototype.toJSON=function(e){var t=vr.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(br.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Qt),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new Qt;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Qt),t.subVectors(e,this.origin);var i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new Qt;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(ar=new Qt,or=new Qt,sr=new Qt,function(e,t,i,r){ar.copy(e).add(t).multiplyScalar(.5),or.copy(t).sub(e).normalize(),sr.copy(this.origin).sub(ar);var n,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(or),u=sr.dot(this.direction),f=-sr.dot(or),h=sr.lengthSq(),d=Math.abs(1-c*c);if(d>0)if(a=c*u-f,s=l*d,(n=c*f-u)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(n*=p)*(n+c*(a*=p)+2*u)+a*(c*n+a+2*f)+h}else a=l,o=-(n=Math.max(0,-(c*a+u)))*n+a*(a+2*f)+h;else a=-l,o=-(n=Math.max(0,-(c*a+u)))*n+a*(a+2*f)+h;else a<=-s?o=-(n=Math.max(0,-(-c*l+u)))*n+(a=n>0?-l:Math.min(Math.max(-l,-f),l))*(a+2*f)+h:a<=s?(n=0,o=(a=Math.min(Math.max(-l,-f),l))*(a+2*f)+h):o=-(n=Math.max(0,-(c*l+u)))*n+(a=n>0?l:Math.min(Math.max(-l,-f),l))*(a+2*f)+h;else a=c>0?-l:l,o=-(n=Math.max(0,-(c*a+u)))*n+a*(a+2*f)+h;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(or).multiplyScalar(a).add(ar),o}),intersectSphere:function(){var e=new Qt;return function(t,i){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),n=e.dot(e)-r*r,a=t.radius*t.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var i,r,n,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,f=this.origin;return l>=0?(i=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(i=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),c>=0?(n=(e.min.y-f.y)*c,a=(e.max.y-f.y)*c):(n=(e.max.y-f.y)*c,a=(e.min.y-f.y)*c),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),u>=0?(o=(e.min.z-f.z)*u,s=(e.max.z-f.z)*u):(o=(e.max.z-f.z)*u,s=(e.min.z-f.z)*u),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,t)))},intersectsBox:(nr=new Qt,function(e){return null!==this.intersectBox(e,nr)}),intersectTriangle:function(){var e=new Qt,t=new Qt,i=new Qt,r=new Qt;return function(n,a,o,s,l){t.subVectors(a,n),i.subVectors(o,n),r.crossVectors(t,i);var c,u=this.direction.dot(r);if(u>0){if(s)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,n);var f=c*this.direction.dot(i.crossVectors(e,i));if(f<0)return null;var h=c*this.direction.dot(t.cross(e));if(h<0)return null;if(f+h>u)return null;var d=-c*e.dot(r);return d<0?null:this.at(d/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(wr,{getNormal:(lr=new Qt,function(e,t,i,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Qt),r.subVectors(i,t),lr.subVectors(e,t),r.cross(lr);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var e=new Qt,t=new Qt,i=new Qt;return function(r,n,a,o,s){e.subVectors(o,n),t.subVectors(a,n),i.subVectors(r,n);var l=e.dot(e),c=e.dot(t),u=e.dot(i),f=t.dot(t),h=t.dot(i),d=l*f-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Qt),0===d)return s.set(-2,-1,-1);var p=1/d,m=(f*u-c*h)*p,v=(l*h-c*u)*p;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var e=new Qt;return function(t,i,r,n){return wr.getBarycoord(t,i,r,n,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}()}),Object.assign(wr.prototype,{set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new Qt,t=new Qt;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Qt),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return wr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Qt),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return wr.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return wr.containsPoint(e,this.a,this.b,this.c)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(cr=new Qt,ur=new Qt,fr=new Qt,hr=new Qt,dr=new Qt,pr=new Qt,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Qt);var i,r,n=this.a,a=this.b,o=this.c;cr.subVectors(a,n),ur.subVectors(o,n),hr.subVectors(e,n);var s=cr.dot(hr),l=ur.dot(hr);if(s<=0&&l<=0)return t.copy(n);dr.subVectors(e,a);var c=cr.dot(dr),u=ur.dot(dr);if(c>=0&&u<=c)return t.copy(a);var f=s*u-c*l;if(f<=0&&s>=0&&c<=0)return i=s/(s-c),t.copy(n).addScaledVector(cr,i);pr.subVectors(e,o);var h=cr.dot(pr),d=ur.dot(pr);if(d>=0&&h<=d)return t.copy(o);var p=h*l-s*d;if(p<=0&&l>=0&&d<=0)return r=l/(l-d),t.copy(n).addScaledVector(ur,r);var m=c*d-h*u;if(m<=0&&u-c>=0&&h-d>=0)return fr.subVectors(o,a),r=(u-c)/(u-c+(h-d)),t.copy(a).addScaledVector(fr,r);var v=1/(m+p+f);return i=p*v,r=f*v,t.copy(n).addScaledVector(cr,i).addScaledVector(ur,r)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),_r.prototype=Object.assign(Object.create(Ci.prototype),{constructor:_r,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Ci.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=Object.keys(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)i=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)i=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}},raycast:function(){var e=new Zt,t=new br,i=new hi,r=new Qt,n=new Qt,a=new Qt,o=new Qt,s=new Qt,l=new Qt,c=new Jt,u=new Jt,f=new Jt,h=new Qt,d=new Qt,p=new Qt;function m(e,t,i,r,n,a,o){return wr.getBarycoord(e,t,i,r,h),n.multiplyScalar(h.x),a.multiplyScalar(h.y),o.multiplyScalar(h.z),n.add(a).add(o),n.clone()}function v(e,t,i,r,n,a,o,s){if(null===(t.side===k?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,t.side!==A,s)))return null;p.copy(s),p.applyMatrix4(e.matrixWorld);var l=i.ray.origin.distanceTo(p);return l<i.near||l>i.far?null:{distance:l,point:p.clone(),object:e}}function g(e,t,i,o,s,l,h,p,g){r.fromBufferAttribute(s,h),n.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g);var y=v(e,t,i,o,r,n,a,d);if(y){l&&(c.fromBufferAttribute(l,h),u.fromBufferAttribute(l,p),f.fromBufferAttribute(l,g),y.uv=m(d,r,n,a,c,u,f));var b=new Ni(h,p,g);wr.getNormal(r,n,a,b.normal),y.face=b}return y}return function(h,p){var y,b=this.geometry,w=this.material,_=this.matrixWorld;if(void 0!==w&&(null===b.boundingSphere&&b.computeBoundingSphere(),i.copy(b.boundingSphere),i.applyMatrix4(_),!1!==h.ray.intersectsSphere(i)&&(e.getInverse(_),t.copy(h.ray).applyMatrix4(e),null===b.boundingBox||!1!==t.intersectsBox(b.boundingBox))))if(b.isBufferGeometry){var x,E,M,S,T,k,A,R,L,P=b.index,C=b.attributes.position,O=b.attributes.uv,I=b.groups,N=b.drawRange;if(null!==P)if(Array.isArray(w))for(S=0,k=I.length;S<k;S++)for(L=w[(R=I[S]).materialIndex],T=Math.max(R.start,N.start),A=Math.min(R.start+R.count,N.start+N.count);T<A;T+=3)x=P.getX(T),E=P.getX(T+1),M=P.getX(T+2),(y=g(this,L,h,t,C,O,x,E,M))&&(y.faceIndex=Math.floor(T/3),p.push(y));else for(S=Math.max(0,N.start),k=Math.min(P.count,N.start+N.count);S<k;S+=3)x=P.getX(S),E=P.getX(S+1),M=P.getX(S+2),(y=g(this,w,h,t,C,O,x,E,M))&&(y.faceIndex=Math.floor(S/3),p.push(y));else if(void 0!==C)if(Array.isArray(w))for(S=0,k=I.length;S<k;S++)for(L=w[(R=I[S]).materialIndex],T=Math.max(R.start,N.start),A=Math.min(R.start+R.count,N.start+N.count);T<A;T+=3)(y=g(this,L,h,t,C,O,x=T,E=T+1,M=T+2))&&(y.faceIndex=Math.floor(T/3),p.push(y));else for(S=Math.max(0,N.start),k=Math.min(C.count,N.start+N.count);S<k;S+=3)(y=g(this,w,h,t,C,O,x=S,E=S+1,M=S+2))&&(y.faceIndex=Math.floor(S/3),p.push(y))}else if(b.isGeometry){var D,F,B,U,z=Array.isArray(w),H=b.vertices,G=b.faces,V=b.faceVertexUvs[0];V.length>0&&(U=V);for(var j=0,W=G.length;j<W;j++){var X=G[j],q=z?w[X.materialIndex]:w;if(void 0!==q){if(D=H[X.a],F=H[X.b],B=H[X.c],!0===q.morphTargets){var Y=b.morphTargets,J=this.morphTargetInfluences;r.set(0,0,0),n.set(0,0,0),a.set(0,0,0);for(var Z=0,K=Y.length;Z<K;Z++){var Q=J[Z];if(0!==Q){var $=Y[Z].vertices;r.addScaledVector(o.subVectors($[X.a],D),Q),n.addScaledVector(s.subVectors($[X.b],F),Q),a.addScaledVector(l.subVectors($[X.c],B),Q)}}r.add(D),n.add(F),a.add(B),D=r,F=n,B=a}if(y=v(this,q,h,t,D,F,B,d)){if(U&&U[j]){var ee=U[j];c.copy(ee[0]),u.copy(ee[1]),f.copy(ee[2]),y.uv=m(d,D,F,B,c,u,f)}y.face=X,y.faceIndex=j,p.push(y)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Or.prototype=Object.create(oi.prototype),Or.prototype.constructor=Or,Or.prototype.isCubeTexture=!0,Object.defineProperty(Or.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Ir=new oi,Nr=new Or;function Dr(){this.seq=[],this.map={}}var Fr=[],Br=[],Ur=new Float32Array(16),zr=new Float32Array(9),Hr=new Float32Array(4);function Gr(e,t,i){var r=e[0];if(r<=0||r>0)return e;var n=t*i,a=Fr[n];if(void 0===a&&(a=new Float32Array(n),Fr[n]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=i,e[o].toArray(a,s)}return a}function Vr(e,t){if(e.length!==t.length)return!1;for(var i=0,r=e.length;i<r;i++)if(e[i]!==t[i])return!1;return!0}function jr(e,t){for(var i=0,r=t.length;i<r;i++)e[i]=t[i]}function Wr(e,t){var i=Br[t];void 0===i&&(i=new Int32Array(t),Br[t]=i);for(var r=0;r!==t;++r)i[r]=e.allocTextureUnit();return i}function Xr(e,t){var i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function qr(e,t){var i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function Yr(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Vr(i,t))return;e.uniform2fv(this.addr,t),jr(i,t)}}function Jr(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(void 0!==t.r)i[0]===t.r&&i[1]===t.g&&i[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Vr(i,t))return;e.uniform3fv(this.addr,t),jr(i,t)}}function Zr(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Vr(i,t))return;e.uniform4fv(this.addr,t),jr(i,t)}}function Kr(e,t){var i=this.cache,r=t.elements;if(void 0===r){if(Vr(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),jr(i,t)}else{if(Vr(i,r))return;Hr.set(r),e.uniformMatrix2fv(this.addr,!1,Hr),jr(i,r)}}function Qr(e,t){var i=this.cache,r=t.elements;if(void 0===r){if(Vr(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),jr(i,t)}else{if(Vr(i,r))return;zr.set(r),e.uniformMatrix3fv(this.addr,!1,zr),jr(i,r)}}function $r(e,t){var i=this.cache,r=t.elements;if(void 0===r){if(Vr(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),jr(i,t)}else{if(Vr(i,r))return;Ur.set(r),e.uniformMatrix4fv(this.addr,!1,Ur),jr(i,r)}}function en(e,t,i){var r=this.cache,n=i.allocTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTexture2D(t||Ir,n)}function tn(e,t,i){var r=this.cache,n=i.allocTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTextureCube(t||Nr,n)}function rn(e,t){var i=this.cache;Vr(i,t)||(e.uniform2iv(this.addr,t),jr(i,t))}function nn(e,t){var i=this.cache;Vr(i,t)||(e.uniform3iv(this.addr,t),jr(i,t))}function an(e,t){var i=this.cache;Vr(i,t)||(e.uniform4iv(this.addr,t),jr(i,t))}function on(e,t){var i=this.cache;Vr(i,t)||(e.uniform1fv(this.addr,t),jr(i,t))}function sn(e,t){var i=this.cache;Vr(i,t)||(e.uniform1iv(this.addr,t),jr(i,t))}function ln(e,t){var i=this.cache,r=Gr(t,this.size,2);Vr(i,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function cn(e,t){var i=this.cache,r=Gr(t,this.size,3);Vr(i,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function un(e,t){var i=this.cache,r=Gr(t,this.size,4);Vr(i,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function fn(e,t){var i=this.cache,r=Gr(t,this.size,4);Vr(i,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function hn(e,t){var i=this.cache,r=Gr(t,this.size,9);Vr(i,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function dn(e,t){var i=this.cache,r=Gr(t,this.size,16);Vr(i,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function pn(e,t,i){var r=this.cache,n=t.length,a=Wr(i,n);!1===Vr(r,a)&&(e.uniform1iv(this.addr,a),jr(r,a));for(var o=0;o!==n;++o)i.setTexture2D(t[o]||Ir,a[o])}function mn(e,t,i){var r=this.cache,n=t.length,a=Wr(i,n);!1===Vr(r,a)&&(e.uniform1iv(this.addr,a),jr(r,a));for(var o=0;o!==n;++o)i.setTextureCube(t[o]||Nr,a[o])}function vn(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Xr;case 35664:return Yr;case 35665:return Jr;case 35666:return Zr;case 35674:return Kr;case 35675:return Qr;case 35676:return $r;case 35678:case 36198:return en;case 35680:return tn;case 5124:case 35670:return qr;case 35667:case 35671:return rn;case 35668:case 35672:return nn;case 35669:case 35673:return an}}(t.type)}function gn(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return on;case 35664:return ln;case 35665:return cn;case 35666:return un;case 35674:return fn;case 35675:return hn;case 35676:return dn;case 35678:return pn;case 35680:return mn;case 5124:case 35670:return sn;case 35667:case 35671:return rn;case 35668:case 35672:return nn;case 35669:case 35673:return an}}(t.type)}function yn(e){this.id=e,Dr.call(this)}gn.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),jr(t,e)},yn.prototype.setValue=function(e,t,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(e,t[o.id],i)}};var bn=/([\w\d_]+)(\])?(\[|\.)?/g;function wn(e,t){e.seq.push(t),e.map[t.id]=t}function _n(e,t,i){var r=e.name,n=r.length;for(bn.lastIndex=0;;){var a=bn.exec(r),o=bn.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===n){wn(i,void 0===c?new vn(s,e,t):new gn(s,e,t));break}var u=i.map[s];void 0===u&&wn(i,u=new yn(s)),i=u}}function xn(e,t,i){Dr.call(this),this.renderer=i;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;++n){var a=e.getActiveUniform(t,n);_n(a,e.getUniformLocation(t,a.name),this)}}function En(e,t,i){var r=e.createShader(t);return e.shaderSource(r,i),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),i=0;i<t.length;i++)t[i]=i+1+": "+t[i];return t.join("\n")}(i)),r}xn.prototype.setValue=function(e,t,i){var r=this.map[t];void 0!==r&&r.setValue(e,i,this.renderer)},xn.prototype.setOptional=function(e,t,i){var r=t[i];void 0!==r&&this.setValue(e,i,r)},xn.upload=function(e,t,i,r){for(var n=0,a=t.length;n!==a;++n){var o=t[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},xn.seqWithValue=function(e,t){for(var i=[],r=0,n=e.length;r!==n;++r){var a=e[r];a.id in t&&i.push(a)}return i};var Mn=0;function Sn(e){switch(e){case Dt:return["Linear","( value )"];case Ft:return["sRGB","( value )"];case Ut:return["RGBE","( value )"];case Ht:return["RGBM","( value, 7.0 )"];case Gt:return["RGBM","( value, 16.0 )"];case Vt:return["RGBD","( value, 256.0 )"];case Bt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Tn(e,t){var i=Sn(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function kn(e,t){var i;switch(t){case pe:i="Linear";break;case me:i="Reinhard";break;case ve:i="Uncharted2";break;case ge:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function An(e){return""!==e}function Rn(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Ln(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Pn(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,t){var i=vi[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return Pn(i)})}function Cn(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,i,r){for(var n="",a=parseInt(t);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n})}function On(e,t,i,r,n,a,o){var s=e.context,l=r.defines,c=n.vertexShader,u=n.fragmentShader,f="SHADOWMAP_TYPE_BASIC";a.shadowMapType===M?f="SHADOWMAP_TYPE_PCF":a.shadowMapType===S&&(f="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case be:case we:h="ENVMAP_TYPE_CUBE";break;case Me:case Se:h="ENVMAP_TYPE_CUBE_UV";break;case _e:case xe:h="ENVMAP_TYPE_EQUIREC";break;case Ee:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case we:case xe:d="ENVMAP_MODE_REFRACTION"}switch(r.combine){case ue:p="ENVMAP_BLENDING_MULTIPLY";break;case fe:p="ENVMAP_BLENDING_MIX";break;case he:p="ENVMAP_BLENDING_ADD"}}var m,v,g,y,b,w=e.gammaFactor>0?e.gammaFactor:1,_=o.isWebGL2?"":function(e,t,i){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(An).join("\n")}(r.extensions,a,t),x=function(e){var t=[];for(var i in e){var r=e[i];!1!==r&&t.push("#define "+i+" "+r)}return t.join("\n")}(l),E=s.createProgram();if(r.isRawShaderMaterial?((m=[x].filter(An).join("\n")).length>0&&(m+="\n"),(v=[_,x].filter(An).join("\n")).length>0&&(v+="\n")):(m=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,x,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+w,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+f:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(An).join("\n"),v=[_,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,x,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+w,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+f:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==de?"#define TONE_MAPPING":"",a.toneMapping!==de?vi.tonemapping_pars_fragment:"",a.toneMapping!==de?kn("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?vi.encodings_pars_fragment:"",a.mapEncoding?Tn("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?Tn("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Tn("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(g="linearToOutputTexel",y=a.outputEncoding,b=Sn(y),"vec4 "+g+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(An).join("\n")),c=Ln(c=Rn(c=Pn(c),a),a),u=Ln(u=Rn(u=Pn(u),a),a),c=Cn(c),u=Cn(u),o.isWebGL2&&!r.isRawShaderMaterial){var T=!1,k=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==c.match(k)&&null!==u.match(k)&&(T=!0,c=c.replace(k,""),u=u.replace(k,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#version 300 es\n","#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v}var A=m+c,R=v+u,L=En(s,s.VERTEX_SHADER,A),P=En(s,s.FRAGMENT_SHADER,R);s.attachShader(E,L),s.attachShader(E,P),void 0!==r.index0AttributeName?s.bindAttribLocation(E,0,r.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(E,0,"position"),s.linkProgram(E);var C,O,I=s.getProgramInfoLog(E).trim(),N=s.getShaderInfoLog(L).trim(),D=s.getShaderInfoLog(P).trim(),F=!0,B=!0;return!1===s.getProgramParameter(E,s.LINK_STATUS)?(F=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(E,s.VALIDATE_STATUS),"gl.getProgramInfoLog",I,N,D)):""!==I?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",I):""!==N&&""!==D||(B=!1),B&&(this.diagnostics={runnable:F,material:r,programLog:I,vertexShader:{log:N,prefix:m},fragmentShader:{log:D,prefix:v}}),s.deleteShader(L),s.deleteShader(P),this.getUniforms=function(){return void 0===C&&(C=new xn(s,E,e)),C},this.getAttributes=function(){return void 0===O&&(O=function(e,t){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var a=e.getActiveAttrib(t,n).name;i[a]=e.getAttribLocation(t,a)}return i}(s,E)),O},this.destroy=function(){s.deleteProgram(E),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=n.name,this.id=Mn++,this.code=i,this.usedTimes=1,this.program=E,this.vertexShader=L,this.fragmentShader=P,this}function In(e,t,i){var r=[],n={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(e,t){var i;return e?e.isTexture?i=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=e.texture.encoding):i=Dt,i===Dt&&t&&(i=Bt),i}this.getParameters=function(t,r,a,s,l,c,u){var f=n[t.type],h=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(i.floatVertexTextures)return 1024;var r=i.maxVertexUniforms,n=Math.floor((r-20)/4),a=Math.min(n,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(u):0,d=i.precision;null!==t.precision&&(d=i.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",d,"instead.");var p=e.getRenderTarget();return{shaderID:f,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:o(p?p.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:o(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:o(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Me||t.envMap.mapping===Se),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:o(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===qt,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:i.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&a.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===A,flipSided:t.side===k,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);for(var o=0;o<a.length;o++)r.push(i[a[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.join()},this.acquireProgram=function(n,a,o,s){for(var l,c=0,u=r.length;c<u;c++){var f=r[c];if(f.code===s){++(l=f).usedTimes;break}}return void 0===l&&(l=new On(e,t,s,n,a,o,i),r.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Nn(){var e=new WeakMap;return{get:function(t){var i=e.get(t);return void 0===i&&(i={},e.set(t,i)),i},remove:function(t){e.delete(t)},update:function(t,i,r){e.get(t)[i]=r},dispose:function(){e=new WeakMap}}}function Dn(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Fn(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Bn(){var e=[],t=0,i=[],r=[];return{opaque:i,transparent:r,init:function(){t=0,i.length=0,r.length=0},push:function(n,a,o,s,l){var c=e[t];void 0===c?(c={id:n.id,object:n,geometry:a,material:o,program:o.program,renderOrder:n.renderOrder,z:s,group:l},e[t]=c):(c.id=n.id,c.object=n,c.geometry=a,c.material=o,c.program=o.program,c.renderOrder=n.renderOrder,c.z=s,c.group=l),(!0===o.transparent?r:i).push(c),t++},sort:function(){i.length>1&&i.sort(Dn),r.length>1&&r.sort(Fn)}}}function Un(){var e={};return{get:function(t,i){var r=t.id+","+i.id,n=e[r];return void 0===n&&(n=new Bn,e[r]=n),n},dispose:function(){e={}}}}function zn(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var i;switch(t.type){case"DirectionalLight":i={direction:new Qt,color:new bi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Jt};break;case"SpotLight":i={position:new Qt,direction:new Qt,color:new bi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Jt};break;case"PointLight":i={position:new Qt,color:new bi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Jt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new Qt,skyColor:new bi,groundColor:new bi};break;case"RectAreaLight":i={color:new bi,position:new Qt,halfWidth:new Qt,halfHeight:new Qt}}return e[t.id]=i,i}}}var Hn,Gn,Vn,jn,Wn,Xn,qn=0;function Yn(){var e=new zn,t={id:qn++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new Qt,r=new Zt,n=new Zt;return{setup:function(a,o,s){for(var l=0,c=0,u=0,f=0,h=0,d=0,p=0,m=0,v=s.matrixWorldInverse,g=0,y=a.length;g<y;g++){var b=a[g],w=b.color,_=b.intensity,x=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=w.r*_,c+=w.g*_,u+=w.b*_;else if(b.isDirectionalLight){if((S=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),S.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),S.shadow=b.castShadow,b.castShadow){var M=b.shadow;S.shadowBias=M.bias,S.shadowRadius=M.radius,S.shadowMapSize=M.mapSize}t.directionalShadowMap[f]=E,t.directionalShadowMatrix[f]=b.shadow.matrix,t.directional[f]=S,f++}else if(b.isSpotLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(v),S.color.copy(w).multiplyScalar(_),S.distance=x,S.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),S.coneCos=Math.cos(b.angle),S.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(M=b.shadow,S.shadowBias=M.bias,S.shadowRadius=M.radius,S.shadowMapSize=M.mapSize),t.spotShadowMap[d]=E,t.spotShadowMatrix[d]=b.shadow.matrix,t.spot[d]=S,d++;else if(b.isRectAreaLight)(S=e.get(b)).color.copy(w).multiplyScalar(_),S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(v),n.identity(),r.copy(b.matrixWorld),r.premultiply(v),n.extractRotation(r),S.halfWidth.set(.5*b.width,0,0),S.halfHeight.set(0,.5*b.height,0),S.halfWidth.applyMatrix4(n),S.halfHeight.applyMatrix4(n),t.rectArea[p]=S,p++;else if(b.isPointLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(v),S.color.copy(b.color).multiplyScalar(b.intensity),S.distance=b.distance,S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(M=b.shadow,S.shadowBias=M.bias,S.shadowRadius=M.radius,S.shadowMapSize=M.mapSize,S.shadowCameraNear=M.camera.near,S.shadowCameraFar=M.camera.far),t.pointShadowMap[h]=E,t.pointShadowMatrix[h]=b.shadow.matrix,t.point[h]=S,h++;else if(b.isHemisphereLight){var S;(S=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(v),S.direction.normalize(),S.skyColor.copy(b.color).multiplyScalar(_),S.groundColor.copy(b.groundColor).multiplyScalar(_),t.hemi[m]=S,m++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=f,t.spot.length=d,t.rectArea.length=p,t.point.length=h,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=f,t.hash.pointLength=h,t.hash.spotLength=d,t.hash.rectAreaLength=p,t.hash.hemiLength=m,t.hash.shadowsLength=o.length},state:t}}function Jn(){var e=new Yn,t=[],i=[];return{init:function(){t.length=0,i.length=0},state:{lightsArray:t,shadowsArray:i,lights:e},setupLights:function(r){e.setup(t,i,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){i.push(e)}}}function Zn(){var e={};return{get:function(t,i){var r;return void 0===e[t.id]?(r=new Jn,e[t.id]={},e[t.id][i.id]=r):void 0===e[t.id][i.id]?(r=new Jn,e[t.id][i.id]=r):r=e[t.id][i.id],r},dispose:function(){e={}}}}function Kn(e){vr.call(this),this.type="MeshDepthMaterial",this.depthPacking=jt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Qn(e){vr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Qt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function $n(e,t,i){for(var r=new pi,n=new Zt,a=new Jt,o=new Jt(i,i),s=new Qt,l=new Qt,c=1,u=2,f=1+(c|u),h=new Array(f),d=new Array(f),p={},m={0:k,1:T,2:A},v=[new Qt(1,0,0),new Qt(-1,0,0),new Qt(0,0,1),new Qt(0,0,-1),new Qt(0,1,0),new Qt(0,-1,0)],g=[new Qt(0,1,0),new Qt(0,1,0),new Qt(0,1,0),new Qt(0,1,0),new Qt(0,0,1),new Qt(0,0,-1)],y=[new si,new si,new si,new si,new si,new si],b=0;b!==f;++b){var w=0!=(b&c),_=0!=(b&u),x=new Kn({depthPacking:Wt,morphTargets:w,skinning:_});h[b]=x;var E=new Qn({morphTargets:w,skinning:_});d[b]=E}var S=this;function R(t,i,r,n,a,o){var s=t.geometry,l=null,f=h,v=t.customDepthMaterial;if(r&&(f=d,v=t.customDistanceMaterial),v)l=v;else{var g=!1;i.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===i.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var y=t.isSkinnedMesh&&i.skinning,b=0;g&&(b|=c),y&&(b|=u),l=f[b]}if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var w=l.uuid,_=i.uuid,x=p[w];void 0===x&&(x={},p[w]=x);var E=x[_];void 0===E&&(E=l.clone(),x[_]=E),l=E}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=null!=i.shadowSide?i.shadowSide:m[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(n),l.nearDistance=a,l.farDistance=o),l}function L(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=t.update(i),c=i.material;if(Array.isArray(c))for(var u=s.groups,f=0,h=u.length;f<h;f++){var d=u[f],p=c[d.materialIndex];if(p&&p.visible){var m=R(i,p,o,l,a.near,a.far);e.renderBufferDirect(a,null,s,m,i,d)}}else if(c.visible){m=R(i,c,o,l,a.near,a.far);e.renderBufferDirect(a,null,s,m,i,null)}}for(var v=i.children,g=0,y=v.length;g<y;g++)L(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=M,this.render=function(t,i,c){if(!1!==S.enabled&&(!1!==S.autoUpdate||!1!==S.needsUpdate)&&0!==t.length){var u,f=e.context,h=e.state;h.disable(f.BLEND),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var m=t[d],b=m.shadow,w=m&&m.isPointLight;if(void 0!==b){var _=b.camera;if(a.copy(b.mapSize),a.min(o),w){var x=a.x,E=a.y;y[0].set(2*x,E,x,E),y[1].set(0,E,x,E),y[2].set(3*x,E,x,E),y[3].set(x,E,x,E),y[4].set(3*x,0,x,E),y[5].set(x,0,x,E),a.x*=4,a.y*=2}if(null===b.map){var M={minFilter:Re,magFilter:Re,format:Je};b.map=new li(a.x,a.y,M),b.map.texture.name=m.name+".shadowMap",_.updateProjectionMatrix()}b.isSpotLightShadow&&b.update(m);var T=b.map,k=b.matrix;l.setFromMatrixPosition(m.matrixWorld),_.position.copy(l),w?(u=6,k.makeTranslation(-l.x,-l.y,-l.z)):(u=1,s.setFromMatrixPosition(m.target.matrixWorld),_.lookAt(s),_.updateMatrixWorld(),k.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),k.multiply(_.projectionMatrix),k.multiply(_.matrixWorldInverse)),e.setRenderTarget(T),e.clear();for(var A=0;A<u;A++){if(w){s.copy(_.position),s.add(v[A]),_.up.copy(g[A]),_.lookAt(s),_.updateMatrixWorld();var R=y[A];h.viewport(R)}n.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),r.setFromMatrix(n),L(i,c,_,w)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}S.needsUpdate=!1}}}function ea(e,t,i,r){var n=new function(){var t=!1,i=new si,r=null,n=new si(0,0,0,0);return{setMask:function(i){r===i||t||(e.colorMask(i,i,i,i),r=i)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),i.set(t,r,a,o),!1===n.equals(i)&&(e.clearColor(t,r,a,o),n.copy(i))},reset:function(){t=!1,r=null,n.set(-1,0,0,0)}}},a=new function(){var t=!1,i=null,r=null,n=null;return{setTest:function(t){t?J(e.DEPTH_TEST):Z(e.DEPTH_TEST)},setMask:function(r){i===r||t||(e.depthMask(r),i=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case ie:e.depthFunc(e.NEVER);break;case re:e.depthFunc(e.ALWAYS);break;case ne:e.depthFunc(e.LESS);break;case ae:e.depthFunc(e.LEQUAL);break;case oe:e.depthFunc(e.EQUAL);break;case se:e.depthFunc(e.GEQUAL);break;case le:e.depthFunc(e.GREATER);break;case ce:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){n!==t&&(e.clearDepth(t),n=t)},reset:function(){t=!1,i=null,r=null,n=null}}},o=new function(){var t=!1,i=null,r=null,n=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(t){t?J(e.STENCIL_TEST):Z(e.STENCIL_TEST)},setMask:function(r){i===r||t||(e.stencilMask(r),i=r)},setFunc:function(t,i,o){r===t&&n===i&&a===o||(e.stencilFunc(t,i,o),r=t,n=i,a=o)},setOp:function(t,i,r){o===t&&s===i&&l===r||(e.stencilOp(t,i,r),o=t,s=i,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,i=null,r=null,n=null,a=null,o=null,s=null,l=null,c=null}}},s=e.getParameter(e.MAX_VERTEX_ATTRIBS),l=new Uint8Array(s),c=new Uint8Array(s),u=new Uint8Array(s),f={},h=null,d=null,p=null,m=null,v=null,w=null,_=null,x=null,E=null,M=!1,S=null,T=null,R=null,L=null,P=null,C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),O=!1,z=0,H=e.getParameter(e.VERSION);-1!==H.indexOf("WebGL")?(z=parseFloat(/^WebGL\ ([0-9])/.exec(H)[1]),O=z>=1):-1!==H.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(H)[1]),O=z>=2);var G=null,V={},j=new si,W=new si;function X(t,i,r){var n=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<r;o++)e.texImage2D(i+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n);return a}var q={};function Y(i,n){(l[i]=1,0===c[i]&&(e.enableVertexAttribArray(i),c[i]=1),u[i]!==n)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),u[i]=n)}function J(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function Z(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}function K(t,r,n,a,o,s,l,c){if(t!==I?J(e.BLEND):Z(e.BLEND),t!==U){if(t!==p||c!==M)switch(t){case D:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case F:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case B:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}m=null,v=null,w=null,_=null,x=null,E=null}else o=o||r,s=s||n,l=l||a,r===m&&o===_||(e.blendEquationSeparate(i.convert(r),i.convert(o)),m=r,_=o),n===v&&a===w&&s===x&&l===E||(e.blendFuncSeparate(i.convert(n),i.convert(a),i.convert(s),i.convert(l)),v=n,w=a,x=s,E=l);p=t,M=c}function Q(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function $(t){t!==g?(J(e.CULL_FACE),t!==T&&(t===y?e.cullFace(e.BACK):t===b?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Z(e.CULL_FACE),T=t}function ee(t,i,r){t?(J(e.POLYGON_OFFSET_FILL),L===i&&P===r||(e.polygonOffset(i,r),L=i,P=r)):Z(e.POLYGON_OFFSET_FILL)}function te(t){void 0===t&&(t=e.TEXTURE0+C-1),G!==t&&(e.activeTexture(t),G=t)}return q[e.TEXTURE_2D]=X(e.TEXTURE_2D,e.TEXTURE_2D,1),q[e.TEXTURE_CUBE_MAP]=X(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),n.setClear(0,0,0,1),a.setClear(1),o.setClear(0),J(e.DEPTH_TEST),a.setFunc(ae),Q(!1),$(y),J(e.CULL_FACE),J(e.BLEND),K(N),{buffers:{color:n,depth:a,stencil:o},initAttributes:function(){for(var e=0,t=l.length;e<t;e++)l[e]=0},enableAttribute:function(e){Y(e,0)},enableAttributeAndDivisor:Y,disableUnusedAttributes:function(){for(var t=0,i=c.length;t!==i;++t)c[t]!==l[t]&&(e.disableVertexAttribArray(t),c[t]=0)},enable:J,disable:Z,getCompressedTextureFormats:function(){if(null===h&&(h=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var i=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<i.length;r++)h.push(i[r]);return h},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:K,setMaterial:function(t,i){t.side===A?Z(e.CULL_FACE):J(e.CULL_FACE);var r=t.side===k;i&&(r=!r),Q(r),t.blending===N&&!1===t.transparent?K(I):K(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),n.setMask(t.colorWrite),ee(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:Q,setCullFace:$,setLineWidth:function(t){t!==R&&(O&&e.lineWidth(t),R=t)},setPolygonOffset:ee,setScissorTest:function(t){t?J(e.SCISSOR_TEST):Z(e.SCISSOR_TEST)},activeTexture:te,bindTexture:function(t,i){null===G&&te();var r=V[G];void 0===r&&(r={type:void 0,texture:void 0},V[G]=r),r.type===t&&r.texture===i||(e.bindTexture(t,i||q[t]),r.type=t,r.texture=i)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===j.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),j.copy(t))},viewport:function(t){!1===W.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),W.copy(t))},reset:function(){for(var t=0;t<c.length;t++)1===c[t]&&(e.disableVertexAttribArray(t),c[t]=0);f={},h=null,G=null,V={},d=null,p=null,S=null,T=null,n.reset(),a.reset(),o.reset()}}}function ta(e,t,i,r,n,a,o){var s,l={};function c(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");var i=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(e.width*i),r.height=Math.floor(e.height*i),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height),r}return e}function u(e){return Yt.isPowerOfTwo(e.width)&&Yt.isPowerOfTwo(e.height)}function f(e,t){return e.generateMipmaps&&t&&e.minFilter!==Re&&e.minFilter!==Ce}function h(t,i,n,a){e.generateMipmap(t),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function d(t,i){if(!n.isWebGL2)return t;if(t===e.RGB){if(i===e.FLOAT)return e.RGB32F;if(i===e.HALF_FLOAT)return e.RGB16F;if(i===e.UNSIGNED_BYTE)return e.RGB8}if(t===e.RGBA){if(i===e.FLOAT)return e.RGBA32F;if(i===e.HALF_FLOAT)return e.RGBA16F;if(i===e.UNSIGNED_BYTE)return e.RGBA8}return t}function p(t){return t===Re||t===Le||t===Pe?e.NEAREST:e.LINEAR}function m(t){var i=t.target;i.removeEventListener("dispose",m),function(t){var i=r.get(t);if(t.image&&i.__image__webglTextureCube)e.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)return;e.deleteTexture(i.__webglTexture)}r.remove(t)}(i),i.isVideoTexture&&delete l[i.id],o.memory.textures--}function v(t){var i=t.target;i.removeEventListener("dispose",v),function(t){var i=r.get(t),n=r.get(t.texture);if(!t)return;void 0!==n.__webglTexture&&e.deleteTexture(n.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[a]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(i),o.memory.textures--}function g(t,p){var v=r.get(t);if(t.isVideoTexture&&function(e){var t=e.id,i=o.render.frame;l[t]!==i&&(l[t]=i,e.update())}(t),t.version>0&&v.__version!==t.version){var g=t.image;if(void 0===g)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==g.complete)return void function(t,r,l){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",m),t.__webglTexture=e.createTexture(),o.memory.textures++);i.activeTexture(e.TEXTURE0+l),i.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var p=c(r.image,n.maxTextureSize);(function(e){return!n.isWebGL2&&(e.wrapS!==ke||e.wrapT!==ke||e.minFilter!==Re&&e.minFilter!==Ce)})(r)&&!1===u(p)&&(p=function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=Yt.floorPowerOfTwo(e.width),s.height=Yt.floorPowerOfTwo(e.height),s.getContext("2d").drawImage(e,0,0,s.width,s.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+s.width+"x"+s.height),s):e}(p));var v=u(p),g=a.convert(r.format),b=a.convert(r.type),w=d(g,b);y(e.TEXTURE_2D,r,v);var _,x=r.mipmaps;if(r.isDepthTexture){if(w=e.DEPTH_COMPONENT,r.type===He){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");w=e.DEPTH_COMPONENT32F}else n.isWebGL2&&(w=e.DEPTH_COMPONENT16);r.format===$e&&w===e.DEPTH_COMPONENT&&r.type!==Be&&r.type!==ze&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Be,b=a.convert(r.type)),r.format===et&&(w=e.DEPTH_STENCIL,r.type!==Xe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Xe,b=a.convert(r.type))),i.texImage2D(e.TEXTURE_2D,0,w,p.width,p.height,0,g,b,null)}else if(r.isDataTexture)if(x.length>0&&v){for(var E=0,M=x.length;E<M;E++)_=x[E],i.texImage2D(e.TEXTURE_2D,E,w,_.width,_.height,0,g,b,_.data);r.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else i.texImage2D(e.TEXTURE_2D,0,w,p.width,p.height,0,g,b,p.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var E=0,M=x.length;E<M;E++)_=x[E],r.format!==Je&&r.format!==Ye?i.getCompressedTextureFormats().indexOf(g)>-1?i.compressedTexImage2D(e.TEXTURE_2D,E,w,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(e.TEXTURE_2D,E,w,_.width,_.height,0,g,b,_.data);t.__maxMipLevel=x.length-1}else if(x.length>0&&v){for(var E=0,M=x.length;E<M;E++)_=x[E],i.texImage2D(e.TEXTURE_2D,E,w,g,b,_);r.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else i.texImage2D(e.TEXTURE_2D,0,w,g,b,p),t.__maxMipLevel=0;f(r,v)&&h(e.TEXTURE_2D,r,p.width,p.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(v,t,p);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(e.TEXTURE0+p),i.bindTexture(e.TEXTURE_2D,v.__webglTexture)}function y(i,o,s){var l;if(s?(e.texParameteri(i,e.TEXTURE_WRAP_S,a.convert(o.wrapS)),e.texParameteri(i,e.TEXTURE_WRAP_T,a.convert(o.wrapT)),e.texParameteri(i,e.TEXTURE_MAG_FILTER,a.convert(o.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,a.convert(o.minFilter))):(e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o.wrapS===ke&&o.wrapT===ke||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(i,e.TEXTURE_MAG_FILTER,p(o.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,p(o.minFilter)),o.minFilter!==Re&&o.minFilter!==Ce&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===He&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ge&&null===(n.isWebGL2||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function b(t,n,o,s){var l=a.convert(n.texture.format),c=a.convert(n.texture.type),u=d(l,c);i.texImage2D(s,0,u,n.width,n.height,0,l,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,s,r.get(n.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function w(t,i){e.bindRenderbuffer(e.RENDERBUFFER,t),i.depthBuffer&&!i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):i.depthBuffer&&i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,i.width,i.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function _(t){var i=r.get(t),n=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),g(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===$e)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,n,0);else{if(i.depthTexture.format!==et)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,n,0)}}(i.__webglFramebuffer,t)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),w(i.__webglDepthbuffer[a],t)}else e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),w(i.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}this.setTexture2D=g,this.setTextureCube=function(t,s){var l=r.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",m),l.__image__webglTextureCube=e.createTexture(),o.memory.textures++),i.activeTexture(e.TEXTURE0+s),i.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var p=t&&t.isCompressedTexture,v=t.image[0]&&t.image[0].isDataTexture,g=[],b=0;b<6;b++)g[b]=p||v?v?t.image[b].image:t.image[b]:c(t.image[b],n.maxCubemapSize);var w=g[0],_=u(w),x=a.convert(t.format),E=a.convert(t.type),M=d(x,E);for(y(e.TEXTURE_CUBE_MAP,t,_),b=0;b<6;b++)if(p)for(var S,T=g[b].mipmaps,k=0,A=T.length;k<A;k++)S=T[k],t.format!==Je&&t.format!==Ye?i.getCompressedTextureFormats().indexOf(x)>-1?i.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+b,k,M,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+b,k,M,S.width,S.height,0,x,E,S.data);else v?i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,M,g[b].width,g[b].height,0,x,E,g[b].data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,M,x,E,g[b]);l.__maxMipLevel=p?T.length-1:0,f(t,_)&&h(e.TEXTURE_CUBE_MAP,t,w.width,w.height),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else i.activeTexture(e.TEXTURE0+s),i.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,n){i.activeTexture(e.TEXTURE0+n),i.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var n=r.get(t),a=r.get(t.texture);t.addEventListener("dispose",v),a.__webglTexture=e.createTexture(),o.memory.textures++;var s=!0===t.isWebGLRenderTargetCube,l=u(t);if(s){n.__webglFramebuffer=[];for(var c=0;c<6;c++)n.__webglFramebuffer[c]=e.createFramebuffer()}else n.__webglFramebuffer=e.createFramebuffer();if(s){for(i.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture),y(e.TEXTURE_CUBE_MAP,t.texture,l),c=0;c<6;c++)b(n.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);f(t.texture,l)&&h(e.TEXTURE_CUBE_MAP,t.texture,t.width,t.height),i.bindTexture(e.TEXTURE_CUBE_MAP,null)}else i.bindTexture(e.TEXTURE_2D,a.__webglTexture),y(e.TEXTURE_2D,t.texture,l),b(n.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),f(t.texture,l)&&h(e.TEXTURE_2D,t.texture,t.width,t.height),i.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&_(t)},this.updateRenderTargetMipmap=function(t){var n=t.texture;if(f(n,u(t))){var a=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(n).__webglTexture;i.bindTexture(a,o),h(a,n,t.width,t.height),i.bindTexture(a,null)}}}function ia(e,t,i){return{convert:function(r){var n;if(r===Te)return e.REPEAT;if(r===ke)return e.CLAMP_TO_EDGE;if(r===Ae)return e.MIRRORED_REPEAT;if(r===Re)return e.NEAREST;if(r===Le)return e.NEAREST_MIPMAP_NEAREST;if(r===Pe)return e.NEAREST_MIPMAP_LINEAR;if(r===Ce)return e.LINEAR;if(r===Oe)return e.LINEAR_MIPMAP_NEAREST;if(r===Ie)return e.LINEAR_MIPMAP_LINEAR;if(r===Ne)return e.UNSIGNED_BYTE;if(r===Ve)return e.UNSIGNED_SHORT_4_4_4_4;if(r===je)return e.UNSIGNED_SHORT_5_5_5_1;if(r===We)return e.UNSIGNED_SHORT_5_6_5;if(r===De)return e.BYTE;if(r===Fe)return e.SHORT;if(r===Be)return e.UNSIGNED_SHORT;if(r===Ue)return e.INT;if(r===ze)return e.UNSIGNED_INT;if(r===He)return e.FLOAT;if(r===Ge){if(i.isWebGL2)return e.HALF_FLOAT;if(null!==(n=t.get("OES_texture_half_float")))return n.HALF_FLOAT_OES}if(r===qe)return e.ALPHA;if(r===Ye)return e.RGB;if(r===Je)return e.RGBA;if(r===Ze)return e.LUMINANCE;if(r===Ke)return e.LUMINANCE_ALPHA;if(r===$e)return e.DEPTH_COMPONENT;if(r===et)return e.DEPTH_STENCIL;if(r===z)return e.FUNC_ADD;if(r===H)return e.FUNC_SUBTRACT;if(r===G)return e.FUNC_REVERSE_SUBTRACT;if(r===W)return e.ZERO;if(r===X)return e.ONE;if(r===q)return e.SRC_COLOR;if(r===Y)return e.ONE_MINUS_SRC_COLOR;if(r===J)return e.SRC_ALPHA;if(r===Z)return e.ONE_MINUS_SRC_ALPHA;if(r===K)return e.DST_ALPHA;if(r===Q)return e.ONE_MINUS_DST_ALPHA;if(r===$)return e.DST_COLOR;if(r===ee)return e.ONE_MINUS_DST_COLOR;if(r===te)return e.SRC_ALPHA_SATURATE;if((r===tt||r===it||r===rt||r===nt)&&null!==(n=t.get("WEBGL_compressed_texture_s3tc"))){if(r===tt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===it)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===rt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===nt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((r===at||r===ot||r===st||r===lt)&&null!==(n=t.get("WEBGL_compressed_texture_pvrtc"))){if(r===at)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ot)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===st)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===lt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===ct&&null!==(n=t.get("WEBGL_compressed_texture_etc1")))return n.COMPRESSED_RGB_ETC1_WEBGL;if((r===ut||r===ft||r===ht||r===dt||r===pt||r===mt||r===vt||r===gt||r===yt||r===bt||r===wt||r===_t||r===xt||r===Et)&&null!==(n=t.get("WEBGL_compressed_texture_astc")))return r;if(r===V||r===j){if(i.isWebGL2){if(r===V)return e.MIN;if(r===j)return e.MAX}if(null!==(n=t.get("EXT_blend_minmax"))){if(r===V)return n.MIN_EXT;if(r===j)return n.MAX_EXT}}if(r===Xe){if(i.isWebGL2)return e.UNSIGNED_INT_24_8;if(null!==(n=t.get("WEBGL_depth_texture")))return n.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ra(){Ci.call(this),this.type="Group"}function na(e,t,i,r){Oi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function aa(e){na.call(this),this.cameras=e||[]}function oa(e){var t=this,i=null,r=null,n=null,a=[],o=new Zt,s=new Zt;"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",g,!1));var l=new Zt,c=new Kt,u=new Qt,f=new na;f.bounds=new si(0,0,.5,1),f.layers.enable(1);var h=new na;h.bounds=new si(.5,0,.5,1),h.layers.enable(2);var d,p,m=new aa([f,h]);function v(){return null!==i&&!0===i.isPresenting}function g(){if(v()){var r=i.getEyeParameters("left"),n=r.renderWidth,a=r.renderHeight;p=e.getPixelRatio(),d=e.getSize(),e.setDrawingBufferSize(2*n,a,1),w.start()}else t.enabled&&(e.setDrawingBufferSize(d.width,d.height,p),w.stop())}m.layers.enable(1),m.layers.enable(2);var y=[];function b(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=t.length;i<n;i++){var a=t[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===e)return a;r++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(e){var t=a[e];return void 0===t&&((t=new ra).matrixAutoUpdate=!1,t.visible=!1,a[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),w.setContext(e)},this.setPoseTarget=function(e){void 0!==e&&(n=e)},this.getCamera=function(e){if(null===i)return e.position.set(0,t.userHeight,0),e;i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(r);var d=i.stageParameters;d?o.fromArray(d.sittingToStandingTransform):o.makeTranslation(0,t.userHeight,0);var p=r.pose,v=null!==n?n:e;if(v.matrix.copy(o),v.matrix.decompose(v.position,v.quaternion,v.scale),null!==p.orientation&&(c.fromArray(p.orientation),v.quaternion.multiply(c)),null!==p.position&&(c.setFromRotationMatrix(o),u.fromArray(p.position),u.applyQuaternion(c),v.position.add(u)),v.updateMatrixWorld(),!1===i.isPresenting)return e;f.near=e.near,h.near=e.near,f.far=e.far,h.far=e.far,m.matrixWorld.copy(e.matrixWorld),m.matrixWorldInverse.copy(e.matrixWorldInverse),f.matrixWorldInverse.fromArray(r.leftViewMatrix),h.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),f.matrixWorldInverse.multiply(s),h.matrixWorldInverse.multiply(s);var g=v.parent;null!==g&&(l.getInverse(g.matrixWorld),f.matrixWorldInverse.multiply(l),h.matrixWorldInverse.multiply(l)),f.matrixWorld.getInverse(f.matrixWorldInverse),h.matrixWorld.getInverse(h.matrixWorldInverse),f.projectionMatrix.fromArray(r.leftProjectionMatrix),h.projectionMatrix.fromArray(r.rightProjectionMatrix),m.projectionMatrix.copy(f.projectionMatrix);var w=i.getLayers();if(w.length){var _=w[0];null!==_.leftBounds&&4===_.leftBounds.length&&f.bounds.fromArray(_.leftBounds),null!==_.rightBounds&&4===_.rightBounds.length&&h.bounds.fromArray(_.rightBounds)}return function(){for(var e=0;e<a.length;e++){var t=a[e],i=b(e);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var n="Daydream Controller"===i.id?0:1;y[e]!==i.buttons[n].pressed&&(y[e]=i.buttons[n].pressed,!0===y[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),m},this.getStandingMatrix=function(){return o},this.isPresenting=v;var w=new Ei;this.setAnimationLoop=function(e){w.setAnimationLoop(e)},this.submitFrame=function(){v()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",g)}}function sa(e){var t=e.context,i=null,r=null,n=null,a=null,o=[],s=[];function l(){return null!==r&&null!==n}var c=new na;c.layers.enable(1),c.viewport=new si;var u=new na;u.layers.enable(2),u.viewport=new si;var f=new aa([c,u]);function h(e){var t=o[s.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function d(){e.setFramebuffer(null),v.stop()}function p(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}f.layers.enable(1),f.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new ra).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setSession=function(i,a){null!==(r=i)&&(r.addEventListener("select",h),r.addEventListener("selectstart",h),r.addEventListener("selectend",h),r.addEventListener("end",d),r.baseLayer=new XRWebGLLayer(r,t),r.requestFrameOfReference(a.frameOfReferenceType).then(function(t){n=t,e.setFramebuffer(r.baseLayer.framebuffer),v.setContext(r),v.start()}),s=r.getInputSources(),r.addEventListener("inputsourceschange",function(){s=r.getInputSources(),console.log(s)}))},this.getCamera=function(e){if(l()){var t=e.parent,i=f.cameras;p(f,t);for(var r=0;r<i.length;r++)p(i[r],t);e.matrixWorld.copy(f.matrixWorld);for(var n=e.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return f}return e},this.isPresenting=l;var m=null;var v=new Ei;v.setAnimationLoop(function(e,t){if(null!==(a=t.getDevicePose(n)))for(var i=r.baseLayer,l=t.views,c=0;c<l.length;c++){var u=l[c],h=i.getViewport(u),d=a.getViewMatrix(u),p=f.cameras[c];p.matrix.fromArray(d).getInverse(p.matrix),p.projectionMatrix.fromArray(u.projectionMatrix),p.viewport.set(h.x,h.y,h.width,h.height),0===c&&(f.matrix.copy(p.matrix),f.projectionMatrix.copy(p.projectionMatrix))}for(c=0;c<o.length;c++){var v=o[c],g=s[c];if(g){var y=t.getInputPose(g,n);if(null!==y){v.matrix.elements=y.pointerMatrix,v.matrix.decompose(v.position,v.rotation,v.scale),v.visible=!0;continue}}v.visible=!1}m&&m(e)}),this.setAnimationLoop=function(e){m=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function la(e){console.log("THREE.WebGLRenderer",m);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,n=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=null,f=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pe,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var h,d,p,v,g,y,b,w,_,x,E,M,S,T,A,R,L,P,C=this,O=!1,I=null,N=null,D=null,F=-1,B={geometry:null,program:null,wireframe:!1},U=null,z=null,H=new si,G=new si,V=null,j=0,W=t.width,X=t.height,q=1,Y=new si(0,0,W,X),J=new si(0,0,W,X),Z=!1,K=new pi,Q=new Sr,$=!1,ee=!1,te=new Zt,ie=new Qt;function re(){return null===N?q:1}try{var ne={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c};if(t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",ce,!1),null===(h=i||t.getContext("webgl",ne)||t.getContext("experimental-webgl",ne)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===h.getShaderPrecisionFormat&&(h.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}function ae(){d=new Tr(h),(p=new Mr(h,d,e)).isWebGL2||(d.get("WEBGL_depth_texture"),d.get("OES_texture_float"),d.get("OES_texture_half_float"),d.get("OES_texture_half_float_linear"),d.get("OES_standard_derivatives"),d.get("OES_element_index_uint"),d.get("ANGLE_instanced_arrays")),d.get("OES_texture_float_linear"),P=new ia(h,d,p),(v=new ea(h,d,P,p)).scissor(G.copy(J).multiplyScalar(q)),v.viewport(H.copy(Y).multiplyScalar(q)),g=new Rr(h),y=new Nn,b=new ta(h,d,v,y,p,P,g),w=new Mi(h),_=new kr(h,w,g),x=new Cr(_,g),A=new Pr(h),E=new In(C,d,p),M=new Un,S=new Zn,T=new xr(C,v,x,s),R=new Er(h,d,g,p),L=new Ar(h,d,g,p),g.programs=E.programs,C.context=h,C.capabilities=p,C.extensions=d,C.properties=y,C.renderLists=M,C.state=v,C.info=g}ae();var oe="xr"in navigator?new sa(C):new oa(C);this.vr=oe;var se=new $n(C,x,p.maxTextureSize);function le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,ae()}function ue(e){var t=e.target;t.removeEventListener("dispose",ue),function(e){fe(e),y.remove(e)}(t)}function fe(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&E.releaseProgram(t)}this.shadowMap=se,this.getContext=function(){return h},this.getContextAttributes=function(){return h.getContextAttributes()},this.forceContextLoss=function(){var e=d.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=d.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(e){void 0!==e&&(q=e,this.setSize(W,X,!1))},this.getSize=function(){return{width:W,height:X}},this.setSize=function(e,i,r){oe.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=e,X=i,t.width=e*q,t.height=i*q,!1!==r&&(t.style.width=e+"px",t.style.height=i+"px"),this.setViewport(0,0,e,i))},this.getDrawingBufferSize=function(){return{width:W*q,height:X*q}},this.setDrawingBufferSize=function(e,i,r){W=e,X=i,q=r,t.width=e*r,t.height=i*r,this.setViewport(0,0,e,i)},this.getCurrentViewport=function(){return H},this.setViewport=function(e,t,i,r){Y.set(e,X-t-r,i,r),v.viewport(H.copy(Y).multiplyScalar(q))},this.setScissor=function(e,t,i,r){J.set(e,X-t-r,i,r),v.scissor(G.copy(J).multiplyScalar(q))},this.setScissorTest=function(e){v.setScissorTest(Z=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,i){var r=0;(void 0===e||e)&&(r|=h.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=h.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=h.STENCIL_BUFFER_BIT),h.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,i,r){this.setRenderTarget(e),this.clear(t,i,r)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",ce,!1),M.dispose(),S.dispose(),y.dispose(),x.dispose(),oe.dispose(),me.stop()},this.renderBufferImmediate=function(e,t){v.initAttributes();var i=y.get(e);e.hasPositions&&!i.position&&(i.position=h.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=h.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=h.createBuffer()),e.hasColors&&!i.color&&(i.color=h.createBuffer());var r=t.getAttributes();e.hasPositions&&(h.bindBuffer(h.ARRAY_BUFFER,i.position),h.bufferData(h.ARRAY_BUFFER,e.positionArray,h.DYNAMIC_DRAW),v.enableAttribute(r.position),h.vertexAttribPointer(r.position,3,h.FLOAT,!1,0,0)),e.hasNormals&&(h.bindBuffer(h.ARRAY_BUFFER,i.normal),h.bufferData(h.ARRAY_BUFFER,e.normalArray,h.DYNAMIC_DRAW),v.enableAttribute(r.normal),h.vertexAttribPointer(r.normal,3,h.FLOAT,!1,0,0)),e.hasUvs&&(h.bindBuffer(h.ARRAY_BUFFER,i.uv),h.bufferData(h.ARRAY_BUFFER,e.uvArray,h.DYNAMIC_DRAW),v.enableAttribute(r.uv),h.vertexAttribPointer(r.uv,2,h.FLOAT,!1,0,0)),e.hasColors&&(h.bindBuffer(h.ARRAY_BUFFER,i.color),h.bufferData(h.ARRAY_BUFFER,e.colorArray,h.DYNAMIC_DRAW),v.enableAttribute(r.color),h.vertexAttribPointer(r.color,3,h.FLOAT,!1,0,0)),v.disableUnusedAttributes(),h.drawArrays(h.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,r,n,a){var o=n.isMesh&&n.normalMatrix.determinant()<0;v.setMaterial(r,o);var s=be(e,t,r,n),l=!1;B.geometry===i.id&&B.program===s.id&&B.wireframe===(!0===r.wireframe)||(B.geometry=i.id,B.program=s.id,B.wireframe=!0===r.wireframe,l=!0),n.morphTargetInfluences&&(A.update(n,i,r,s),l=!0);var c,u=i.index,f=i.attributes.position,m=1;!0===r.wireframe&&(u=_.getWireframeAttribute(i),m=2);var g=R;null!==u&&(c=w.get(u),(g=L).setIndex(c)),l&&(!function(e,t,i){if(i&&i.isInstancedBufferGeometry&!p.isWebGL2&&null===d.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v.initAttributes();var r=i.attributes,n=t.getAttributes(),a=e.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var l=r[o];if(void 0!==l){var c=l.normalized,u=l.itemSize,f=w.get(l);if(void 0===f)continue;var m=f.buffer,g=f.type,y=f.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,_=b.stride,x=l.offset;b&&b.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,b.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=b.meshPerAttribute*b.count)):v.enableAttribute(s),h.bindBuffer(h.ARRAY_BUFFER,m),h.vertexAttribPointer(s,u,g,c,_*y,x*y)}else l.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=l.meshPerAttribute*l.count)):v.enableAttribute(s),h.bindBuffer(h.ARRAY_BUFFER,m),h.vertexAttribPointer(s,u,g,c,0,0)}else if(void 0!==a){var E=a[o];if(void 0!==E)switch(E.length){case 2:h.vertexAttrib2fv(s,E);break;case 3:h.vertexAttrib3fv(s,E);break;case 4:h.vertexAttrib4fv(s,E);break;default:h.vertexAttrib1fv(s,E)}}}}v.disableUnusedAttributes()}(r,s,i),null!==u&&h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,c.buffer));var y=1/0;null!==u?y=u.count:void 0!==f&&(y=f.count);var b=i.drawRange.start*m,x=i.drawRange.count*m,E=null!==a?a.start*m:0,M=null!==a?a.count*m:1/0,S=Math.max(b,E),T=Math.min(y,b+x,E+M)-1,k=Math.max(0,T-S+1);if(0!==k){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*re()),g.setMode(h.LINES);else switch(n.drawMode){case Ot:g.setMode(h.TRIANGLES);break;case It:g.setMode(h.TRIANGLE_STRIP);break;case Nt:g.setMode(h.TRIANGLE_FAN)}else if(n.isLine){var P=r.linewidth;void 0===P&&(P=1),v.setLineWidth(P*re()),n.isLineSegments?g.setMode(h.LINES):n.isLineLoop?g.setMode(h.LINE_LOOP):g.setMode(h.LINE_STRIP)}else n.isPoints?g.setMode(h.POINTS):n.isSprite&&g.setMode(h.TRIANGLES);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,S,k):g.render(S,k)}},this.compile=function(e,t){(f=S.get(e,t)).init(),e.traverse(function(e){e.isLight&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))}),f.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var i=0;i<t.material.length;i++)ye(t.material[i],e.fog,t);else ye(t.material,e.fog,t)})};var he=null;var de,me=new Ei;function ve(e,t,i,r){for(var n=0,a=e.length;n<a;n++){var o=e[n],s=o.object,l=o.geometry,c=void 0===r?o.material:r,u=o.group;if(i.isArrayCamera){z=i;for(var f=i.cameras,h=0,d=f.length;h<d;h++){var p=f[h];if(s.layers.test(p.layers)){if("viewport"in p)v.viewport(H.copy(p.viewport));else{var m=p.bounds,g=m.x*W,y=m.y*X,b=m.z*W,w=m.w*X;v.viewport(H.set(g,y,b,w).multiplyScalar(q))}ge(s,t,p,l,c,u)}}}else z=null,ge(s,t,i,l,c,u)}}function ge(e,t,i,r,n,a){if(e.onBeforeRender(C,t,i,r,n,a),f=S.get(t,z||i),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){v.setMaterial(n);var o=be(i,t.fog,n,e);B.geometry=null,B.program=null,B.wireframe=!1,function(e,t){e.render(function(e){C.renderBufferImmediate(e,t)})}(e,o)}else C.renderBufferDirect(i,t.fog,r,n,e,a);e.onAfterRender(C,t,i,r,n,a),f=S.get(t,z||i)}function ye(e,t,i){var r=y.get(e),n=f.state.lights,a=f.state.shadowsArray,o=r.lightsHash,s=n.state.hash,l=E.getParameters(e,n.state,a,t,Q.numPlanes,Q.numIntersection,i),c=E.getProgramCode(e,l),u=r.program,h=!0;if(void 0===u)e.addEventListener("dispose",ue);else if(u.code!==c)fe(e);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,h=!1;else{if(void 0!==l.shaderID)return;h=!1}if(h){if(l.shaderID){var d=xi[l.shaderID];r.shader={name:e.type,uniforms:gi.clone(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,C),c=E.getProgramCode(e,l),u=E.acquireProgram(e,r.shader,l,c),r.program=u,e.program=u}var p=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<C.maxMorphTargets;m++)p["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<C.maxMorphNormals;m++)p["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Q.numPlanes,r.numIntersection=Q.numIntersection,v.clippingPlanes=Q.uniform),r.fog=t,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,e.lights&&(v.ambientLightColor.value=n.state.ambient,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),b=xn.seqWithValue(g.seq,v);r.uniformsList=b}function be(e,t,i,r){j=0;var n=y.get(i),a=f.state.lights,o=n.lightsHash,s=a.state.hash;if($&&(ee||e!==U)){var l=e===U&&i.id===F;Q.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,e,n,l)}!1===i.needsUpdate&&(void 0===n.program?i.needsUpdate=!0:i.fog&&n.fog!==t?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===Q.numPlanes&&n.numIntersection===Q.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(ye(i,t,r),i.needsUpdate=!1);var c,u,d=!1,m=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(d=!0,m=!0,g=!0),i.id!==F&&(F=i.id,m=!0),d||e!==U){if(w.setValue(h,"projectionMatrix",e.projectionMatrix),p.logarithmicDepthBuffer&&w.setValue(h,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==(z||e)&&(U=z||e,m=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var x=w.map.cameraPosition;void 0!==x&&x.setValue(h,ie.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(h,"viewMatrix",e.matrixWorldInverse)}if(i.skinning){w.setOptional(h,r,"bindMatrix"),w.setOptional(h,r,"bindMatrixInverse");var E=r.skeleton;if(E){var M=E.bones;if(p.floatVertexTextures){if(void 0===E.boneTexture){var S=Math.sqrt(4*M.length);S=Yt.ceilPowerOfTwo(S),S=Math.max(S,4);var T=new Float32Array(S*S*4);T.set(E.boneMatrices);var A=new ui(T,S,S,Je,He);A.needsUpdate=!0,E.boneMatrices=T,E.boneTexture=A,E.boneTextureSize=S}w.setValue(h,"boneTexture",E.boneTexture),w.setValue(h,"boneTextureSize",E.boneTextureSize)}else w.setOptional(h,E,"boneMatrices")}}return m&&(w.setValue(h,"toneMappingExposure",C.toneMappingExposure),w.setValue(h,"toneMappingWhitePoint",C.toneMappingWhitePoint),i.lights&&(u=g,(c=_).ambientLightColor.needsUpdate=u,c.directionalLights.needsUpdate=u,c.pointLights.needsUpdate=u,c.spotLights.needsUpdate=u,c.rectAreaLights.needsUpdate=u,c.hemisphereLights.needsUpdate=u),t&&i.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(_,t),i.isMeshBasicMaterial?we(_,i):i.isMeshLambertMaterial?(we(_,i),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(we(_,i),i.isMeshToonMaterial?function(e,t){_e(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(_,i):_e(_,i)):i.isMeshStandardMaterial?(we(_,i),i.isMeshPhysicalMaterial?function(e,t){xe(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(_,i):xe(_,i)):i.isMeshDepthMaterial?(we(_,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(we(_,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(_,i)):i.isMeshNormalMaterial?(we(_,i),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===k&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===k&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(_,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(_,i)):i.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*q,e.scale.value=.5*X,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,i):i.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value=i.color,_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=_i.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=_i.LTC_2),xn.upload(h,n.uniformsList,_,C)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(xn.upload(h,n.uniformsList,_,C),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(h,"center",r.center),w.setValue(h,"modelViewMatrix",r.modelViewMatrix),w.setValue(h,"normalMatrix",r.normalMatrix),w.setValue(h,"modelMatrix",r.matrixWorld),b}function we(e,t){var i;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.roughnessMap?i=t.roughnessMap:t.metalnessMap?i=t.metalnessMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function _e(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===k&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===k&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function xe(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===k&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===k&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}me.setAnimationLoop(function(e){oe.isPresenting()||he&&he(e)}),"undefined"!=typeof window&&me.setContext(window),this.setAnimationLoop=function(e){he=e,oe.setAnimationLoop(e),me.start()},this.render=function(e,t,i,r){if(t&&t.isCamera){if(!O){B.geometry=null,B.program=null,B.wireframe=!1,F=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),oe.enabled&&(t=oe.getCamera(t)),(f=S.get(e,t)).init(),e.onBeforeRender(C,e,t,i),te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),K.setFromMatrix(te),ee=this.localClippingEnabled,$=Q.init(this.clippingPlanes,ee,t),(u=M.get(e,t)).init(),function e(t,i,r){if(!1===t.visible)return;var n=t.layers.test(i.layers);if(n)if(t.isLight)f.pushLight(t),t.castShadow&&f.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||K.intersectsSprite(t)){r&&ie.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var a=x.update(t),o=t.material;u.push(t,a,o,ie.z,null)}}else if(t.isImmediateRenderObject)r&&ie.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te),u.push(t,null,t.material,ie.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||K.intersectsObject(t))){r&&ie.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var a=x.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,l=0,c=s.length;l<c;l++){var h=s[l],d=o[h.materialIndex];d&&d.visible&&u.push(t,a,d,ie.z,h)}else o.visible&&u.push(t,a,o,ie.z,null)}var p=t.children;for(var l=0,c=p.length;l<c;l++)e(p[l],i,r)}(e,t,C.sortObjects),!0===C.sortObjects&&u.sort(),$&&Q.beginShadows();var n=f.state.shadowsArray;se.render(n,e,t),f.setupLights(t),$&&Q.endShadows(),this.info.autoReset&&this.info.reset(),void 0===i&&(i=null),this.setRenderTarget(i),T.render(u,e,t,r);var a=u.opaque,o=u.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&ve(a,e,t,s),o.length&&ve(o,e,t,s)}else a.length&&ve(a,e,t),o.length&&ve(o,e,t);i&&b.updateRenderTargetMipmap(i),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),e.onAfterRender(C,e,t),oe.enabled&&oe.submitFrame(),u=null,f=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=j;return e>=p.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+p.maxTextures),j+=1,e},this.setTexture2D=(de=!1,function(e,t){e&&e.isWebGLRenderTarget&&(de||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),de=!0),e=e.texture),b.setTexture2D(e,t)}),this.setTexture=function(){var e=!1;return function(t,i){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),b.setTexture2D(t,i)}}(),this.setTextureCube=function(){var e=!1;return function(t,i){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?b.setTextureCube(t,i):b.setTextureCubeDynamic(t,i)}}(),this.setFramebuffer=function(e){I=e},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e){N=e,e&&void 0===y.get(e).__webglFramebuffer&&b.setupRenderTarget(e);var t=I,i=!1;if(e){var r=y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],i=!0):t=r,H.copy(e.viewport),G.copy(e.scissor),V=e.scissorTest}else H.copy(Y).multiplyScalar(q),G.copy(J).multiplyScalar(q),V=Z;if(D!==t&&(h.bindFramebuffer(h.FRAMEBUFFER,t),D=t),v.viewport(H),v.scissor(G),v.setScissorTest(V),i){var n=y.get(e.texture);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,n.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,i,r,n,a){if(e&&e.isWebGLRenderTarget){var o=y.get(e).__webglFramebuffer;if(o){var s=!1;o!==D&&(h.bindFramebuffer(h.FRAMEBUFFER,o),s=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==Je&&P.convert(c)!==h.getParameter(h.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===Ne||P.convert(u)===h.getParameter(h.IMPLEMENTATION_COLOR_READ_TYPE)||u===He&&(p.isWebGL2||d.get("OES_texture_float")||d.get("WEBGL_color_buffer_float"))||u===Ge&&(p.isWebGL2?d.get("EXT_color_buffer_float"):d.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");h.checkFramebufferStatus(h.FRAMEBUFFER)===h.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&i>=0&&i<=e.height-n&&h.readPixels(t,i,r,n,P.convert(c),P.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&h.bindFramebuffer(h.FRAMEBUFFER,D)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,i){var r=t.image.width,n=t.image.height,a=P.convert(t.format);this.setTexture2D(t,0),h.copyTexImage2D(h.TEXTURE_2D,i||0,a,e.x,e.y,r,n,0)},this.copyTextureToTexture=function(e,t,i,r){var n=t.image.width,a=t.image.height,o=P.convert(i.format),s=P.convert(i.type);this.setTexture2D(i,0),t.isDataTexture?h.texSubImage2D(h.TEXTURE_2D,r||0,e.x,e.y,n,a,o,s,t.image.data):h.texSubImage2D(h.TEXTURE_2D,r||0,e.x,e.y,o,s,t.image)}}function ca(e,t){this.name="",this.color=new bi(e),this.density=void 0!==t?t:25e-5}function ua(e,t,i){this.name="",this.color=new bi(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3}function fa(){Ci.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function ha(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function da(e,t,i,r){this.data=e,this.itemSize=t,this.offset=i,this.normalized=!0===r}function pa(e){vr.call(this),this.type="SpriteMaterial",this.color=new bi(16777215),this.map=null,this.rotation=0,this.lights=!1,this.transparent=!0,this.setValues(e)}function ma(e){if(Ci.call(this),this.type="Sprite",void 0===Hn){Hn=new $i;var t=new ha(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Hn.setIndex([0,1,2,0,2,3]),Hn.addAttribute("position",new da(t,3,0,!1)),Hn.addAttribute("uv",new da(t,2,3,!1))}this.geometry=Hn,this.material=void 0!==e?e:new pa,this.center=new Jt(.5,.5)}function va(){Ci.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ga(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Zt)}}function ya(){Ci.call(this),this.type="Bone"}function ba(e,t){_r.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Zt,this.bindMatrixInverse=new Zt;var i=new ga(this.initBones());this.bind(i,this.matrixWorld),this.normalizeSkinWeights()}function wa(e){vr.call(this),this.type="LineBasicMaterial",this.color=new bi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function _a(e,t,i){1===i&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ci.call(this),this.type="Line",this.geometry=void 0!==e?e:new $i,this.material=void 0!==t?t:new wa({color:16777215*Math.random()})}function xa(e,t){_a.call(this,e,t),this.type="LineSegments"}function Ea(e,t){_a.call(this,e,t),this.type="LineLoop"}function Ma(e){vr.call(this),this.type="PointsMaterial",this.color=new bi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Sa(e,t){Ci.call(this),this.type="Points",this.geometry=void 0!==e?e:new $i,this.material=void 0!==t?t:new Ma({color:16777215*Math.random()})}function Ta(e,t,i,r,n,a,o,s,l){oi.call(this,e,t,i,r,n,a,o,s,l),this.generateMipmaps=!1}function ka(e,t,i,r,n,a,o,s,l,c,u,f){oi.call(this,null,a,o,s,l,c,r,n,u,f),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Aa(e,t,i,r,n,a,o,s,l){oi.call(this,e,t,i,r,n,a,o,s,l),this.needsUpdate=!0}function Ra(e,t,i,r,n,a,o,s,l,c){if((c=void 0!==c?c:$e)!==$e&&c!==et)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&c===$e&&(i=Be),void 0===i&&c===et&&(i=Xe),oi.call(this,null,r,n,a,o,s,c,i,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Re,this.minFilter=void 0!==s?s:Re,this.flipY=!1,this.generateMipmaps=!1}function La(e){$i.call(this),this.type="WireframeGeometry";var t,i,r,n,a,o,s,l,c,u,f=[],h=[0,0],d={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var v=m[t];for(i=0;i<3;i++)s=v[p[i]],l=v[p[(i+1)%3]],h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===d[c=h[0]+","+h[1]]&&(d[c]={index1:h[0],index2:h[1]})}for(c in d)o=d[c],u=e.vertices[o.index1],f.push(u.x,u.y,u.z),u=e.vertices[o.index2],f.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var g,y,b,w,_,x,E;if(u=new Qt,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),n=0,a=b.length;n<a;++n)for(t=_=(w=b[n]).start,r=_+w.count;t<r;t+=3)for(i=0;i<3;i++)s=y.getX(t+i),l=y.getX(t+(i+1)%3),h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===d[c=h[0]+","+h[1]]&&(d[c]={index1:h[0],index2:h[1]});for(c in d)o=d[c],u.fromBufferAttribute(g,o.index1),f.push(u.x,u.y,u.z),u.fromBufferAttribute(g,o.index2),f.push(u.x,u.y,u.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(i=0;i<3;i++)x=3*t+i,u.fromBufferAttribute(g,x),f.push(u.x,u.y,u.z),E=3*t+(i+1)%3,u.fromBufferAttribute(g,E),f.push(u.x,u.y,u.z)}this.addAttribute("position",new Yi(f,3))}function Pa(e,t,i){Ui.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i},this.fromBufferGeometry(new Ca(e,t,i)),this.mergeVertices()}function Ca(e,t,i){$i.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:i};var r,n,a=[],o=[],s=[],l=[],c=new Qt,u=new Qt,f=new Qt,h=new Qt,d=new Qt;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=t+1;for(r=0;r<=i;r++){var m=r/i;for(n=0;n<=t;n++){var v=n/t;e(v,m,u),o.push(u.x,u.y,u.z),v-1e-5>=0?(e(v-1e-5,m,f),h.subVectors(u,f)):(e(v+1e-5,m,f),h.subVectors(f,u)),m-1e-5>=0?(e(v,m-1e-5,f),d.subVectors(u,f)):(e(v,m+1e-5,f),d.subVectors(f,u)),c.crossVectors(h,d).normalize(),s.push(c.x,c.y,c.z),l.push(v,m)}}for(r=0;r<i;r++)for(n=0;n<t;n++){var g=r*p+n,y=r*p+n+1,b=(r+1)*p+n+1,w=(r+1)*p+n;a.push(g,y,w),a.push(y,b,w)}this.setIndex(a),this.addAttribute("position",new Yi(o,3)),this.addAttribute("normal",new Yi(s,3)),this.addAttribute("uv",new Yi(l,2))}function Oa(e,t,i,r){Ui.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},this.fromBufferGeometry(new Ia(e,t,i,r)),this.mergeVertices()}function Ia(e,t,i,r){$i.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},i=i||1;var n=[],a=[];function o(e,t,i,r){var n,a,o=Math.pow(2,r),l=[];for(n=0;n<=o;n++){l[n]=[];var c=e.clone().lerp(i,n/o),u=t.clone().lerp(i,n/o),f=o-n;for(a=0;a<=f;a++)l[n][a]=0===a&&n===o?c:c.clone().lerp(u,a/f)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var h=Math.floor(a/2);a%2==0?(s(l[n][h+1]),s(l[n+1][h]),s(l[n][h])):(s(l[n][h+1]),s(l[n+1][h+1]),s(l[n+1][h]))}}function s(e){n.push(e.x,e.y,e.z)}function l(t,i){var r=3*t;i.x=e[r+0],i.y=e[r+1],i.z=e[r+2]}function c(e,t,i,r){r<0&&1===e.x&&(a[t]=e.x-1),0===i.x&&0===i.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var i=new Qt,r=new Qt,n=new Qt,a=0;a<t.length;a+=3)l(t[a+0],i),l(t[a+1],r),l(t[a+2],n),o(i,r,n,e)}(r=r||0),function(e){for(var t=new Qt,i=0;i<n.length;i+=3)t.x=n[i+0],t.y=n[i+1],t.z=n[i+2],t.normalize().multiplyScalar(e),n[i+0]=t.x,n[i+1]=t.y,n[i+2]=t.z}(i),function(){for(var e=new Qt,t=0;t<n.length;t+=3){e.x=n[t+0],e.y=n[t+1],e.z=n[t+2];var i=u(e)/2/Math.PI+.5,r=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(i,1-r)}var o;(function(){for(var e=new Qt,t=new Qt,i=new Qt,r=new Qt,o=new Jt,s=new Jt,l=new Jt,f=0,h=0;f<n.length;f+=9,h+=6){e.set(n[f+0],n[f+1],n[f+2]),t.set(n[f+3],n[f+4],n[f+5]),i.set(n[f+6],n[f+7],n[f+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),r.copy(e).add(t).add(i).divideScalar(3);var d=u(r);c(o,h+0,e,d),c(s,h+2,t,d),c(l,h+4,i,d)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],i=a[e+2],r=a[e+4],n=Math.max(t,i,r),o=Math.min(t,i,r);n>.9&&o<.1&&(t<.2&&(a[e+0]+=1),i<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.addAttribute("position",new Yi(n,3)),this.addAttribute("normal",new Yi(n.slice(),3)),this.addAttribute("uv",new Yi(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Na(e,t){Ui.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Da(e,t)),this.mergeVertices()}function Da(e,t){Ia.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Fa(e,t){Ui.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ba(e,t)),this.mergeVertices()}function Ba(e,t){Ia.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ua(e,t){Ui.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new za(e,t)),this.mergeVertices()}function za(e,t){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];Ia.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ha(e,t){Ui.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ga(e,t)),this.mergeVertices()}function Ga(e,t){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];Ia.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Va(e,t,i,r,n,a){Ui.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:n},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new ja(e,t,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function ja(e,t,i,r,n){$i.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:n},t=t||64,i=i||1,r=r||8,n=n||!1;var a=e.computeFrenetFrames(t,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new Qt,c=new Qt,u=new Jt,f=new Qt,h=[],d=[],p=[],m=[];function v(n){f=e.getPointAt(n/t,f);var o=a.normals[n],u=a.binormals[n];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),v=-Math.cos(p);c.x=v*o.x+m*u.x,c.y=v*o.y+m*u.y,c.z=v*o.z+m*u.z,c.normalize(),d.push(c.x,c.y,c.z),l.x=f.x+i*c.x,l.y=f.y+i*c.y,l.z=f.z+i*c.z,h.push(l.x,l.y,l.z)}}!function(){for(o=0;o<t;o++)v(o);v(!1===n?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=r;s++)u.x=o/t,u.y=s/r,p.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=r;o++){var e=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(e,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Yi(h,3)),this.addAttribute("normal",new Yi(d,3)),this.addAttribute("uv",new Yi(p,2))}function Wa(e,t,i,r,n,a,o){Ui.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Xa(e,t,i,r,n,a)),this.mergeVertices()}function Xa(e,t,i,r,n,a){$i.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a},e=e||1,t=t||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,l=[],c=[],u=[],f=[],h=new Qt,d=new Qt,p=new Qt,m=new Qt,v=new Qt,g=new Qt,y=new Qt;for(o=0;o<=i;++o){var b=o/i*n*Math.PI*2;for(k(b,n,a,e,p),k(b+.01,n,a,e,m),g.subVectors(m,p),y.addVectors(m,p),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var w=s/r*Math.PI*2,_=-t*Math.cos(w),x=t*Math.sin(w);h.x=p.x+(_*y.x+x*v.x),h.y=p.y+(_*y.y+x*v.y),h.z=p.z+(_*y.z+x*v.z),c.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),u.push(d.x,d.y,d.z),f.push(o/i),f.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var E=(r+1)*(s-1)+(o-1),M=(r+1)*s+(o-1),S=(r+1)*s+o,T=(r+1)*(s-1)+o;l.push(E,M,T),l.push(M,S,T)}function k(e,t,i,r,n){var a=Math.cos(e),o=Math.sin(e),s=i/t*e,l=Math.cos(s);n.x=r*(2+l)*.5*a,n.y=r*(2+l)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new Yi(c,3)),this.addAttribute("normal",new Yi(u,3)),this.addAttribute("uv",new Yi(f,2))}function qa(e,t,i,r,n){Ui.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new Ya(e,t,i,r,n)),this.mergeVertices()}function Ya(e,t,i,r,n){$i.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n},e=e||1,t=t||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],l=[],c=[],u=[],f=new Qt,h=new Qt,d=new Qt;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var p=o/r*n,m=a/i*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),l.push(h.x,h.y,h.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),d.subVectors(h,f).normalize(),c.push(d.x,d.y,d.z),u.push(o/r),u.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,b=(r+1)*a+o;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute("position",new Yi(l,3)),this.addAttribute("normal",new Yi(c,3)),this.addAttribute("uv",new Yi(u,2))}Kn.prototype=Object.create(vr.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isMeshDepthMaterial=!0,Kn.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Qn.prototype=Object.create(vr.prototype),Qn.prototype.constructor=Qn,Qn.prototype.isMeshDistanceMaterial=!0,Qn.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},ra.prototype=Object.assign(Object.create(Ci.prototype),{constructor:ra,isGroup:!0}),na.prototype=Object.assign(Object.create(Oi.prototype),{constructor:na,isPerspectiveCamera:!0,copy:function(e,t){return Oi.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Yt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Yt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Yt.RAD2DEG*Math.atan(Math.tan(.5*Yt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,r,n,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Yt.DEG2RAD*this.fov)/this.zoom,i=2*t,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,t-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var l=this.filmOffset;0!==l&&(n+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,t,t-i,e,this.far)},toJSON:function(e){var t=Ci.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),aa.prototype=Object.assign(Object.create(na.prototype),{constructor:aa,isArrayCamera:!0}),ca.prototype.isFogExp2=!0,ca.prototype.clone=function(){return new ca(this.color,this.density)},ca.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},ua.prototype.isFog=!0,ua.prototype.clone=function(){return new ua(this.color,this.near,this.far)},ua.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},fa.prototype=Object.assign(Object.create(Ci.prototype),{constructor:fa,copy:function(e,t){return Ci.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Ci.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Object.defineProperty(ha.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ha.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var r=0,n=this.stride;r<n;r++)this.array[e+r]=t.array[i+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(da.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(da.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this},setXYZW:function(e,t,i,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=n,this}}),pa.prototype=Object.create(vr.prototype),pa.prototype.constructor=pa,pa.prototype.isSpriteMaterial=!0,pa.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},ma.prototype=Object.assign(Object.create(Ci.prototype),{constructor:ma,isSprite:!0,raycast:function(){var e=new Qt,t=new Qt,i=new Qt,r=new Jt,n=new Jt,a=new Zt,o=new Qt,s=new Qt,l=new Qt;function c(e,t,i,o,s,l){r.subVectors(e,i).addScalar(.5).multiply(o),void 0!==s?(n.x=l*r.x-s*r.y,n.y=s*r.x+l*r.y):n.copy(r),e.copy(t),e.x+=n.x,e.y+=n.y,e.applyMatrix4(a)}return function(r,n){t.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var u,f,h=this.material.rotation;0!==h&&(f=Math.cos(h),u=Math.sin(h));var d=this.center;c(o.set(-.5,-.5,0),i,d,t,u,f),c(s.set(.5,-.5,0),i,d,t,u,f),c(l.set(.5,.5,0),i,d,t,u,f);var p=r.ray.intersectTriangle(o,s,l,!1,e);if(null!==p||(c(s.set(-.5,.5,0),i,d,t,u,f),null!==(p=r.ray.intersectTriangle(o,l,s,!1,e)))){var m=r.ray.origin.distanceTo(e);m<r.near||m>r.far||n.push({distance:m,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Ci.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),va.prototype=Object.assign(Object.create(Ci.prototype),{constructor:va,copy:function(e){Ci.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,r=t.length;i<r;i++){var n=t[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,r=0;r<i.length&&!(t<i[r].distance);r++);i.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object},raycast:(Gn=new Qt,function(e,t){Gn.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(Gn);this.getObjectForDistance(i).raycast(e,t)}),update:function(){var e=new Qt,t=new Qt;return function(i){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var n=e.distanceTo(t);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(e){var t=Ci.prototype.toJSON.call(this,e);t.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Object.assign(ga.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new Zt;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},pose:function(){var e,t,i;for(t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(Vn=new Zt,jn=new Zt,function(){for(var e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=e.length;n<a;n++){var o=e[n]?e[n].matrixWorld:jn;Vn.multiplyMatrices(o,t[n]),Vn.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new ga(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,i=this.bones.length;t<i;t++){var r=this.bones[t];if(r.name===e)return r}}}),ya.prototype=Object.assign(Object.create(Ci.prototype),{constructor:ya,isBone:!0}),ba.prototype=Object.assign(Object.create(_r.prototype),{constructor:ba,isSkinnedMesh:!0,initBones:function(){var e,t,i,r,n=[];if(this.geometry&&void 0!==this.geometry.bones){for(i=0,r=this.geometry.bones.length;i<r;i++)t=this.geometry.bones[i],e=new ya,n.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(i=0,r=this.geometry.bones.length;i<r;i++)-1!==(t=this.geometry.bones[i]).parent&&null!==t.parent&&void 0!==n[t.parent]?n[t.parent].add(n[i]):this.add(n[i])}return this.updateMatrixWorld(!0),n},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var i=this.geometry.skinWeights[t];(e=1/i.manhattanLength())!==1/0?i.multiplyScalar(e):i.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new si,n=this.geometry.attributes.skinWeight;for(t=0;t<n.count;t++)r.x=n.getX(t),r.y=n.getY(t),r.z=n.getZ(t),r.w=n.getW(t),(e=1/r.manhattanLength())!==1/0?r.multiplyScalar(e):r.set(1,0,0,0),n.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){_r.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),wa.prototype=Object.create(vr.prototype),wa.prototype.constructor=wa,wa.prototype.isLineBasicMaterial=!0,wa.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},_a.prototype=Object.assign(Object.create(Ci.prototype),{constructor:_a,isLine:!0,computeLineDistances:(Wn=new Qt,Xn=new Qt,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,i=[0],r=1,n=t.count;r<n;r++)Wn.fromBufferAttribute(t,r-1),Xn.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Wn.distanceTo(Xn);e.addAttribute("lineDistance",new Yi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for((i=e.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var e=new Zt,t=new br,i=new hi;return function(r,n){var a=r.linePrecision,o=a*a,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(l),!1!==r.ray.intersectsSphere(i)){e.getInverse(l),t.copy(r.ray).applyMatrix4(e);var c=new Qt,u=new Qt,f=new Qt,h=new Qt,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var p=s.index,m=s.attributes.position.array;if(null!==p)for(var v=p.array,g=0,y=v.length-1;g<y;g+=d){var b=v[g],w=v[g+1];if(c.fromArray(m,3*b),u.fromArray(m,3*w),!(t.distanceSqToSegment(c,u,h,f)>o))h.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(h))<r.near||E>r.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}else for(g=0,y=m.length/3-1;g<y;g+=d){if(c.fromArray(m,3*g),u.fromArray(m,3*g+3),!(t.distanceSqToSegment(c,u,h,f)>o))h.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(h))<r.near||E>r.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else if(s.isGeometry){var _=s.vertices,x=_.length;for(g=0;g<x-1;g+=d){var E;if(!(t.distanceSqToSegment(_[g],_[g+1],h,f)>o))h.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(h))<r.near||E>r.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),xa.prototype=Object.assign(Object.create(_a.prototype),{constructor:xa,isLineSegments:!0,computeLineDistances:function(){var e=new Qt,t=new Qt;return function(){var i=this.geometry;if(i.isBufferGeometry)if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+e.distanceTo(t);i.addAttribute("lineDistance",new Yi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)e.copy(s[a]),t.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+e.distanceTo(t)}return this}}()}),Ea.prototype=Object.assign(Object.create(_a.prototype),{constructor:Ea,isLineLoop:!0}),Ma.prototype=Object.create(vr.prototype),Ma.prototype.constructor=Ma,Ma.prototype.isPointsMaterial=!0,Ma.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Sa.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Sa,isPoints:!0,raycast:function(){var e=new Zt,t=new br,i=new hi;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=l,!1!==r.ray.intersectsSphere(i)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,f=new Qt,h=new Qt;if(o.isBufferGeometry){var d=o.index,p=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];f.fromArray(p,3*y),_(f,y)}else{v=0;for(var b=p.length/3;v<b;v++)f.fromArray(p,3*v),_(f,v)}}else{var w=o.vertices;for(v=0,b=w.length;v<b;v++)_(w[v],v)}}function _(e,i){var o=t.distanceSqToPoint(e);if(o<u){t.closestPointToPoint(e,h),h.applyMatrix4(s);var l=r.ray.origin.distanceTo(h);if(l<r.near||l>r.far)return;n.push({distance:l,distanceToRay:Math.sqrt(o),point:h.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ta.prototype=Object.assign(Object.create(oi.prototype),{constructor:Ta,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ka.prototype=Object.create(oi.prototype),ka.prototype.constructor=ka,ka.prototype.isCompressedTexture=!0,Aa.prototype=Object.create(oi.prototype),Aa.prototype.constructor=Aa,Aa.prototype.isCanvasTexture=!0,Ra.prototype=Object.create(oi.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isDepthTexture=!0,La.prototype=Object.create($i.prototype),La.prototype.constructor=La,Pa.prototype=Object.create(Ui.prototype),Pa.prototype.constructor=Pa,Ca.prototype=Object.create($i.prototype),Ca.prototype.constructor=Ca,Oa.prototype=Object.create(Ui.prototype),Oa.prototype.constructor=Oa,Ia.prototype=Object.create($i.prototype),Ia.prototype.constructor=Ia,Na.prototype=Object.create(Ui.prototype),Na.prototype.constructor=Na,Da.prototype=Object.create(Ia.prototype),Da.prototype.constructor=Da,Fa.prototype=Object.create(Ui.prototype),Fa.prototype.constructor=Fa,Ba.prototype=Object.create(Ia.prototype),Ba.prototype.constructor=Ba,Ua.prototype=Object.create(Ui.prototype),Ua.prototype.constructor=Ua,za.prototype=Object.create(Ia.prototype),za.prototype.constructor=za,Ha.prototype=Object.create(Ui.prototype),Ha.prototype.constructor=Ha,Ga.prototype=Object.create(Ia.prototype),Ga.prototype.constructor=Ga,Va.prototype=Object.create(Ui.prototype),Va.prototype.constructor=Va,ja.prototype=Object.create($i.prototype),ja.prototype.constructor=ja,Wa.prototype=Object.create(Ui.prototype),Wa.prototype.constructor=Wa,Xa.prototype=Object.create($i.prototype),Xa.prototype.constructor=Xa,qa.prototype=Object.create(Ui.prototype),qa.prototype.constructor=qa,Ya.prototype=Object.create($i.prototype),Ya.prototype.constructor=Ya;var Ja=function(e,t,i){i=i||2;var r,n,a,o,s,l,c,u=t&&t.length,f=u?t[0]*i:e.length,h=Za(e,0,f,i,!0),d=[];if(!h)return d;if(u&&(h=function(e,t,i,r){var n,a,o,s,l,c=[];for(n=0,a=t.length;n<a;n++)o=t[n]*r,s=n<a-1?t[n+1]*r:e.length,(l=Za(e,o,s,r,!1))===l.next&&(l.steiner=!0),c.push(oo(l));for(c.sort(ro),n=0;n<c.length;n++)no(c[n],i),i=Ka(i,i.next);return i}(e,t,h,i)),e.length>80*i){r=a=e[0],n=o=e[1];for(var p=i;p<f;p+=i)(s=e[p])<r&&(r=s),(l=e[p+1])<n&&(n=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-r,o-n))?1/c:0}return Qa(h,d,i,r,n,c),d};function Za(e,t,i,r,n){var a,o;if(n===function(e,t,i,r){for(var n=0,a=t,o=i-r;a<i;a+=r)n+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return n}(e,t,i,r)>0)for(a=t;a<i;a+=r)o=mo(a,e[a],e[a+1],o);else for(a=i-r;a>=t;a-=r)o=mo(a,e[a],e[a+1],o);return o&&uo(o,o.next)&&(vo(o),o=o.next),o}function Ka(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!uo(r,r.next)&&0!==co(r.prev,r,r.next))r=r.next;else{if(vo(r),(r=t=r.prev)===r.next)break;i=!0}}while(i||r!==t);return t}function Qa(e,t,i,r,n,a,o){if(e){!o&&a&&function(e,t,i,r){var n=e;do{null===n.z&&(n.z=ao(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,a,o,s,l,c=1;do{for(i=e,e=null,a=null,o=0;i;){for(o++,r=i,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,l--),a?a.nextZ=n:e=n,n.prevZ=a,a=n;i=r}a.nextZ=null,c*=2}while(o>1)}(n)}(e,r,n,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?eo(e,r,n,a):$a(e))t.push(s.i/i),t.push(e.i/i),t.push(l.i/i),vo(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?Qa(e=to(e,t,i),t,i,r,n,a,2):2===o&&io(e,t,i,r,n,a):Qa(Ka(e),t,i,r,n,a,1);break}}}function $a(e){var t=e.prev,i=e,r=e.next;if(co(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(so(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&co(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function eo(e,t,i,r){var n=e.prev,a=e,o=e.next;if(co(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,l=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,c=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,u=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,f=ao(s,l,t,i,r),h=ao(c,u,t,i,r),d=e.nextZ;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&so(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&co(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&so(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&co(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function to(e,t,i){var r=e;do{var n=r.prev,a=r.next.next;!uo(n,a)&&fo(n,r,r.next,a)&&ho(n,a)&&ho(a,n)&&(t.push(n.i/i),t.push(r.i/i),t.push(a.i/i),vo(r),vo(r.next),r=e=a),r=r.next}while(r!==e);return r}function io(e,t,i,r,n,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&lo(o,s)){var l=po(o,s);return o=Ka(o,o.next),l=Ka(l,l.next),Qa(o,t,i,r,n,a),void Qa(l,t,i,r,n,a)}s=s.next}o=o.next}while(o!==e)}function ro(e,t){return e.x-t.x}function no(e,t){if(t=function(e,t){var i,r=t,n=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===o)return i.prev;var l,c=i,u=i.x,f=i.y,h=1/0;r=i.next;for(;r!==c;)n>=r.x&&r.x>=u&&n!==r.x&&so(a<f?n:o,a,u,f,a<f?o:n,a,r.x,r.y)&&((l=Math.abs(a-r.y)/(n-r.x))<h||l===h&&r.x>i.x)&&ho(r,e)&&(i=r,h=l),r=r.next;return i}(e,t)){var i=po(t,e);Ka(i,i.next)}}function ao(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function oo(e){var t=e,i=e;do{t.x<i.x&&(i=t),t=t.next}while(t!==e);return i}function so(e,t,i,r,n,a,o,s){return(n-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(i-o)*(t-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function lo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&fo(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&ho(e,t)&&ho(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(e,t)}function co(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function uo(e,t){return e.x===t.x&&e.y===t.y}function fo(e,t,i,r){return!!(uo(e,t)&&uo(i,r)||uo(e,r)&&uo(i,t))||co(e,t,i)>0!=co(e,t,r)>0&&co(i,r,e)>0!=co(i,r,t)>0}function ho(e,t){return co(e.prev,e,e.next)<0?co(e,t,e.next)>=0&&co(e,e.prev,t)>=0:co(e,t,e.prev)<0||co(e,e.next,t)<0}function po(e,t){var i=new go(e.i,e.x,e.y),r=new go(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function mo(e,t,i,r){var n=new go(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function vo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function go(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var yo={area:function(e){for(var t=e.length,i=0,r=t-1,n=0;n<t;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return.5*i},isClockWise:function(e){return yo.area(e)<0},triangulateShape:function(e,t){var i=[],r=[],n=[];bo(e),wo(i,e);var a=e.length;t.forEach(bo);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,wo(i,t[o]);var s=Ja(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function bo(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function wo(e,t){for(var i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}function _o(e,t){Ui.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new xo(e,t)),this.mergeVertices()}function xo(e,t){$i.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var i=this,r=[],n=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:u-2,h=void 0!==t.bevelSegments?t.bevelSegments:3,d=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:Eo;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var m,v,g,y,b,w,_,x,E=!1;d&&(m=d.getSpacedPoints(s),E=!0,c=!1,v=d.computeFrenetFrames(s,!1),g=new Qt,y=new Qt,b=new Qt),c||(h=0,u=0,f=0);var M=e.extractPoints(o),S=M.shape,T=M.holes;if(!yo.isClockWise(S))for(S=S.reverse(),_=0,x=T.length;_<x;_++)w=T[_],yo.isClockWise(w)&&(T[_]=w.reverse());var k=yo.triangulateShape(S,T),A=S;for(_=0,x=T.length;_<x;_++)w=T[_],S=S.concat(w);function R(e,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(i).add(e)}var L,P,C,O,I,N,D=S.length,F=k.length;function B(e,t,i){var r,n,a,o=e.x-t.x,s=e.y-t.y,l=i.x-e.x,c=i.y-e.y,u=o*o+s*s,f=o*c-s*l;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=t.x-s/h,m=t.y+o/h,v=((i.x-c/d-p)*c-(i.y+l/d-m)*l)/(o*c-s*l),g=(r=p+o*v-e.x)*r+(n=m+s*v-e.y)*n;if(g<=2)return new Jt(r,n);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,n=o,a=Math.sqrt(u)):(r=o,n=s,a=Math.sqrt(u/2))}return new Jt(r/a,n/a)}for(var U=[],z=0,H=A.length,G=H-1,V=z+1;z<H;z++,G++,V++)G===H&&(G=0),V===H&&(V=0),U[z]=B(A[z],A[G],A[V]);var j,W,X=[],q=U.concat();for(_=0,x=T.length;_<x;_++){for(w=T[_],j=[],z=0,G=(H=w.length)-1,V=z+1;z<H;z++,G++,V++)G===H&&(G=0),V===H&&(V=0),j[z]=B(w[z],w[G],w[V]);X.push(j),q=q.concat(j)}for(L=0;L<h;L++){for(C=L/h,O=u*Math.cos(C*Math.PI/2),P=f*Math.sin(C*Math.PI/2),z=0,H=A.length;z<H;z++)J((I=R(A[z],U[z],P)).x,I.y,-O);for(_=0,x=T.length;_<x;_++)for(w=T[_],j=X[_],z=0,H=w.length;z<H;z++)J((I=R(w[z],j[z],P)).x,I.y,-O)}for(P=f,z=0;z<D;z++)I=c?R(S[z],q[z],P):S[z],E?(y.copy(v.normals[0]).multiplyScalar(I.x),g.copy(v.binormals[0]).multiplyScalar(I.y),b.copy(m[0]).add(y).add(g),J(b.x,b.y,b.z)):J(I.x,I.y,0);for(W=1;W<=s;W++)for(z=0;z<D;z++)I=c?R(S[z],q[z],P):S[z],E?(y.copy(v.normals[W]).multiplyScalar(I.x),g.copy(v.binormals[W]).multiplyScalar(I.y),b.copy(m[W]).add(y).add(g),J(b.x,b.y,b.z)):J(I.x,I.y,l/s*W);for(L=h-1;L>=0;L--){for(C=L/h,O=u*Math.cos(C*Math.PI/2),P=f*Math.sin(C*Math.PI/2),z=0,H=A.length;z<H;z++)J((I=R(A[z],U[z],P)).x,I.y,l+O);for(_=0,x=T.length;_<x;_++)for(w=T[_],j=X[_],z=0,H=w.length;z<H;z++)I=R(w[z],j[z],P),E?J(I.x,I.y+m[s-1].y,m[s-1].x+O):J(I.x,I.y,l+O)}function Y(e,t){var i,r;for(z=e.length;--z>=0;){i=z,(r=z-1)<0&&(r=e.length-1);var n=0,a=s+2*h;for(n=0;n<a;n++){var o=D*n,l=D*(n+1);K(t+i+o,t+r+o,t+r+l,t+i+l)}}}function J(e,t,i){a.push(e),a.push(t),a.push(i)}function Z(e,t,n){Q(e),Q(t),Q(n);var a=r.length/3,o=p.generateTopUV(i,r,a-3,a-2,a-1);$(o[0]),$(o[1]),$(o[2])}function K(e,t,n,a){Q(e),Q(t),Q(a),Q(t),Q(n),Q(a);var o=r.length/3,s=p.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function Q(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function $(e){n.push(e.x),n.push(e.y)}!function(){var e=r.length/3;if(c){var t=0,n=D*t;for(z=0;z<F;z++)Z((N=k[z])[2]+n,N[1]+n,N[0]+n);for(n=D*(t=s+2*h),z=0;z<F;z++)Z((N=k[z])[0]+n,N[1]+n,N[2]+n)}else{for(z=0;z<F;z++)Z((N=k[z])[2],N[1],N[0]);for(z=0;z<F;z++)Z((N=k[z])[0]+D*s,N[1]+D*s,N[2]+D*s)}i.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Y(A,t),t+=A.length,_=0,x=T.length;_<x;_++)Y(w=T[_],t),t+=w.length;i.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new Yi(r,3)),this.addAttribute("uv",new Yi(n,2)),this.computeVertexNormals()}_o.prototype=Object.create(Ui.prototype),_o.prototype.constructor=_o,_o.prototype.toJSON=function(){var e=Ui.prototype.toJSON.call(this);return Mo(this.parameters.shapes,this.parameters.options,e)},xo.prototype=Object.create($i.prototype),xo.prototype.constructor=xo,xo.prototype.toJSON=function(){var e=$i.prototype.toJSON.call(this);return Mo(this.parameters.shapes,this.parameters.options,e)};var Eo={generateTopUV:function(e,t,i,r,n){var a=t[3*i],o=t[3*i+1],s=t[3*r],l=t[3*r+1],c=t[3*n],u=t[3*n+1];return[new Jt(a,o),new Jt(s,l),new Jt(c,u)]},generateSideWallUV:function(e,t,i,r,n,a){var o=t[3*i],s=t[3*i+1],l=t[3*i+2],c=t[3*r],u=t[3*r+1],f=t[3*r+2],h=t[3*n],d=t[3*n+1],p=t[3*n+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-u)<.01?[new Jt(o,1-l),new Jt(c,1-f),new Jt(h,1-p),new Jt(m,1-g)]:[new Jt(s,1-l),new Jt(u,1-f),new Jt(d,1-p),new Jt(v,1-g)]}};function Mo(e,t,i){if(i.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var a=e[r];i.shapes.push(a.uuid)}else i.shapes.push(e.uuid);return void 0!==t.extrudePath&&(i.options.extrudePath=t.extrudePath.toJSON()),i}function So(e,t){Ui.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new To(e,t)),this.mergeVertices()}function To(e,t){var i=(t=t||{}).font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ui;var r=i.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),xo.call(this,r,t),this.type="TextBufferGeometry"}function ko(e,t,i,r,n,a,o){Ui.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Ao(e,t,i,r,n,a,o)),this.mergeVertices()}function Ao(e,t,i,r,n,a,o){$i.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var s,l,c=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),u=0,f=[],h=new Qt,d=new Qt,p=[],m=[],v=[],g=[];for(l=0;l<=i;l++){var y=[],b=l/i;for(s=0;s<=t;s++){var w=s/t;h.x=-e*Math.cos(r+w*n)*Math.sin(a+b*o),h.y=e*Math.cos(a+b*o),h.z=e*Math.sin(r+w*n)*Math.sin(a+b*o),m.push(h.x,h.y,h.z),d.set(h.x,h.y,h.z).normalize(),v.push(d.x,d.y,d.z),g.push(w,1-b),y.push(u++)}f.push(y)}for(l=0;l<i;l++)for(s=0;s<t;s++){var _=f[l][s+1],x=f[l][s],E=f[l+1][s],M=f[l+1][s+1];(0!==l||a>0)&&p.push(_,x,M),(l!==i-1||c<Math.PI)&&p.push(x,E,M)}this.setIndex(p),this.addAttribute("position",new Yi(m,3)),this.addAttribute("normal",new Yi(v,3)),this.addAttribute("uv",new Yi(g,2))}function Ro(e,t,i,r,n,a){Ui.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new Lo(e,t,i,r,n,a)),this.mergeVertices()}function Lo(e,t,i,r,n,a){$i.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},e=e||.5,t=t||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,l,c=[],u=[],f=[],h=[],d=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new Qt,v=new Jt;for(s=0;s<=r;s++){for(l=0;l<=i;l++)o=n+l/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),u.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y);d+=p}for(s=0;s<r;s++){var g=s*(i+1);for(l=0;l<i;l++){var y=o=l+g,b=o+i+1,w=o+i+2,_=o+1;c.push(y,b,_),c.push(b,w,_)}}this.setIndex(c),this.addAttribute("position",new Yi(u,3)),this.addAttribute("normal",new Yi(f,3)),this.addAttribute("uv",new Yi(h,2))}function Po(e,t,i,r){Ui.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},this.fromBufferGeometry(new Co(e,t,i,r)),this.mergeVertices()}function Co(e,t,i,r){$i.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t)||12,i=i||0,r=r||2*Math.PI,r=Yt.clamp(r,0,2*Math.PI);var n,a,o,s=[],l=[],c=[],u=1/t,f=new Qt,h=new Jt;for(a=0;a<=t;a++){var d=i+a*u*r,p=Math.sin(d),m=Math.cos(d);for(o=0;o<=e.length-1;o++)f.x=e[o].x*p,f.y=e[o].y,f.z=e[o].x*m,l.push(f.x,f.y,f.z),h.x=a/t,h.y=o/(e.length-1),c.push(h.x,h.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var v=n=o+a*e.length,g=n+e.length,y=n+e.length+1,b=n+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute("position",new Yi(l,3)),this.addAttribute("uv",new Yi(c,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,_=new Qt,x=new Qt,E=new Qt;for(n=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)_.x=w[o+0],_.y=w[o+1],_.z=w[o+2],x.x=w[n+o+0],x.y=w[n+o+1],x.z=w[n+o+2],E.addVectors(_,x).normalize(),w[o+0]=w[n+o+0]=E.x,w[o+1]=w[n+o+1]=E.y,w[o+2]=w[n+o+2]=E.z}}function Oo(e,t){Ui.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Io(e,t)),this.mergeVertices()}function Io(e,t){$i.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(e))c(e);else for(var l=0;l<e.length;l++)c(e[l]),this.addGroup(o,s,l),o+=s,s=0;function c(e){var o,l,c,u=r.length/3,f=e.extractPoints(t),h=f.shape,d=f.holes;if(!1===yo.isClockWise(h))for(h=h.reverse(),o=0,l=d.length;o<l;o++)c=d[o],!0===yo.isClockWise(c)&&(d[o]=c.reverse());var p=yo.triangulateShape(h,d);for(o=0,l=d.length;o<l;o++)c=d[o],h=h.concat(c);for(o=0,l=h.length;o<l;o++){var m=h[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,l=p.length;o<l;o++){var v=p[o],g=v[0]+u,y=v[1]+u,b=v[2]+u;i.push(g,y,b),s+=3}}this.setIndex(i),this.addAttribute("position",new Yi(r,3)),this.addAttribute("normal",new Yi(n,3)),this.addAttribute("uv",new Yi(a,2))}function No(e,t){if(t.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var n=e[i];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return t}function Do(e,t){$i.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var i,r,n,a,o=[],s=Math.cos(Yt.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(a=new Ui).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var f=a.vertices,h=a.faces,d=0,p=h.length;d<p;d++)for(var m=h[d],v=0;v<3;v++)i=m[u[v]],r=m[u[(v+1)%3]],l[0]=Math.min(i,r),l[1]=Math.max(i,r),void 0===c[n=l[0]+","+l[1]]?c[n]={index1:l[0],index2:l[1],face1:d,face2:void 0}:c[n].face2=d;for(n in c){var g=c[n];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var y=f[g.index1];o.push(y.x,y.y,y.z),y=f[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Yi(o,3))}function Fo(e,t,i,r,n,a,o,s){Ui.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Bo(e,t,i,r,n,a,o,s)),this.mergeVertices()}function Bo(e,t,i,r,n,a,o,s){$i.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var c=[],u=[],f=[],h=[],d=0,p=[],m=i/2,v=0;function g(i){var n,a,p,g=new Jt,y=new Qt,b=0,w=!0===i?e:t,_=!0===i?1:-1;for(a=d,n=1;n<=r;n++)u.push(0,m*_,0),f.push(0,_,0),h.push(.5,.5),d++;for(p=d,n=0;n<=r;n++){var x=n/r*s+o,E=Math.cos(x),M=Math.sin(x);y.x=w*M,y.y=m*_,y.z=w*E,u.push(y.x,y.y,y.z),f.push(0,_,0),g.x=.5*E+.5,g.y=.5*M*_+.5,h.push(g.x,g.y),d++}for(n=0;n<r;n++){var S=a+n,T=p+n;!0===i?c.push(T,T+1,S):c.push(T+1,T,S),b+=3}l.addGroup(v,b,!0===i?1:2),v+=b}!function(){var a,g,y=new Qt,b=new Qt,w=0,_=(t-e)/i;for(g=0;g<=n;g++){var x=[],E=g/n,M=E*(t-e)+e;for(a=0;a<=r;a++){var S=a/r,T=S*s+o,k=Math.sin(T),A=Math.cos(T);b.x=M*k,b.y=-E*i+m,b.z=M*A,u.push(b.x,b.y,b.z),y.set(k,_,A).normalize(),f.push(y.x,y.y,y.z),h.push(S,1-E),x.push(d++)}p.push(x)}for(a=0;a<r;a++)for(g=0;g<n;g++){var R=p[g][a],L=p[g+1][a],P=p[g+1][a+1],C=p[g][a+1];c.push(R,L,C),c.push(L,P,C),w+=6}l.addGroup(v,w,0),v+=w}(),!1===a&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.addAttribute("position",new Yi(u,3)),this.addAttribute("normal",new Yi(f,3)),this.addAttribute("uv",new Yi(h,2))}function Uo(e,t,i,r,n,a,o){Fo.call(this,0,e,t,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function zo(e,t,i,r,n,a,o){Bo.call(this,0,e,t,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Ho(e,t,i,r){Ui.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new Go(e,t,i,r)),this.mergeVertices()}function Go(e,t,i,r){$i.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],l=[],c=[],u=new Qt,f=new Jt;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),a=0,n=3;a<=t;a++,n+=3){var h=i+a/t*r;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),l.push(0,0,1),f.x=(s[n]/e+1)/2,f.y=(s[n+1]/e+1)/2,c.push(f.x,f.y)}for(n=1;n<=t;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new Yi(s,3)),this.addAttribute("normal",new Yi(l,3)),this.addAttribute("uv",new Yi(c,2))}So.prototype=Object.create(Ui.prototype),So.prototype.constructor=So,To.prototype=Object.create(xo.prototype),To.prototype.constructor=To,ko.prototype=Object.create(Ui.prototype),ko.prototype.constructor=ko,Ao.prototype=Object.create($i.prototype),Ao.prototype.constructor=Ao,Ro.prototype=Object.create(Ui.prototype),Ro.prototype.constructor=Ro,Lo.prototype=Object.create($i.prototype),Lo.prototype.constructor=Lo,Po.prototype=Object.create(Ui.prototype),Po.prototype.constructor=Po,Co.prototype=Object.create($i.prototype),Co.prototype.constructor=Co,Oo.prototype=Object.create(Ui.prototype),Oo.prototype.constructor=Oo,Oo.prototype.toJSON=function(){var e=Ui.prototype.toJSON.call(this);return No(this.parameters.shapes,e)},Io.prototype=Object.create($i.prototype),Io.prototype.constructor=Io,Io.prototype.toJSON=function(){var e=$i.prototype.toJSON.call(this);return No(this.parameters.shapes,e)},Do.prototype=Object.create($i.prototype),Do.prototype.constructor=Do,Fo.prototype=Object.create(Ui.prototype),Fo.prototype.constructor=Fo,Bo.prototype=Object.create($i.prototype),Bo.prototype.constructor=Bo,Uo.prototype=Object.create(Fo.prototype),Uo.prototype.constructor=Uo,zo.prototype=Object.create(Bo.prototype),zo.prototype.constructor=zo,Ho.prototype=Object.create(Ui.prototype),Ho.prototype.constructor=Ho,Go.prototype=Object.create($i.prototype),Go.prototype.constructor=Go;var Vo=Object.freeze({WireframeGeometry:La,ParametricGeometry:Pa,ParametricBufferGeometry:Ca,TetrahedronGeometry:Na,TetrahedronBufferGeometry:Da,OctahedronGeometry:Fa,OctahedronBufferGeometry:Ba,IcosahedronGeometry:Ua,IcosahedronBufferGeometry:za,DodecahedronGeometry:Ha,DodecahedronBufferGeometry:Ga,PolyhedronGeometry:Oa,PolyhedronBufferGeometry:Ia,TubeGeometry:Va,TubeBufferGeometry:ja,TorusKnotGeometry:Wa,TorusKnotBufferGeometry:Xa,TorusGeometry:qa,TorusBufferGeometry:Ya,TextGeometry:So,TextBufferGeometry:To,SphereGeometry:ko,SphereBufferGeometry:Ao,RingGeometry:Ro,RingBufferGeometry:Lo,PlaneGeometry:ir,PlaneBufferGeometry:rr,LatheGeometry:Po,LatheBufferGeometry:Co,ShapeGeometry:Oo,ShapeBufferGeometry:Io,ExtrudeGeometry:_o,ExtrudeBufferGeometry:xo,EdgesGeometry:Do,ConeGeometry:Uo,ConeBufferGeometry:zo,CylinderGeometry:Fo,CylinderBufferGeometry:Bo,CircleGeometry:Ho,CircleBufferGeometry:Go,BoxGeometry:er,BoxBufferGeometry:tr});function jo(e){vr.call(this),this.type="ShadowMaterial",this.color=new bi(0),this.transparent=!0,this.setValues(e)}function Wo(e){yr.call(this,e),this.type="RawShaderMaterial"}function Xo(e){vr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function qo(e){Xo.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Yo(e){vr.call(this),this.type="MeshPhongMaterial",this.color=new bi(16777215),this.specular=new bi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ue,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Jo(e){Yo.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Zo(e){vr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ko(e){vr.call(this),this.type="MeshLambertMaterial",this.color=new bi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ue,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Qo(e){wa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}jo.prototype=Object.create(vr.prototype),jo.prototype.constructor=jo,jo.prototype.isShadowMaterial=!0,jo.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this},Wo.prototype=Object.create(yr.prototype),Wo.prototype.constructor=Wo,Wo.prototype.isRawShaderMaterial=!0,Xo.prototype=Object.create(vr.prototype),Xo.prototype.constructor=Xo,Xo.prototype.isMeshStandardMaterial=!0,Xo.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},qo.prototype=Object.create(Xo.prototype),qo.prototype.constructor=qo,qo.prototype.isMeshPhysicalMaterial=!0,qo.prototype.copy=function(e){return Xo.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Yo.prototype=Object.create(vr.prototype),Yo.prototype.constructor=Yo,Yo.prototype.isMeshPhongMaterial=!0,Yo.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Jo.prototype=Object.create(Yo.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isMeshToonMaterial=!0,Jo.prototype.copy=function(e){return Yo.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Zo.prototype=Object.create(vr.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isMeshNormalMaterial=!0,Zo.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ko.prototype=Object.create(vr.prototype),Ko.prototype.constructor=Ko,Ko.prototype.isMeshLambertMaterial=!0,Ko.prototype.copy=function(e){return vr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Qo.prototype=Object.create(wa.prototype),Qo.prototype.constructor=Qo,Qo.prototype.isLineDashedMaterial=!0,Qo.prototype.copy=function(e){return wa.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var $o=Object.freeze({ShadowMaterial:jo,SpriteMaterial:pa,RawShaderMaterial:Wo,ShaderMaterial:yr,PointsMaterial:Ma,MeshPhysicalMaterial:qo,MeshStandardMaterial:Xo,MeshPhongMaterial:Yo,MeshToonMaterial:Jo,MeshNormalMaterial:Zo,MeshLambertMaterial:Ko,MeshDepthMaterial:Kn,MeshDistanceMaterial:Qn,MeshBasicMaterial:gr,LineDashedMaterial:Qo,LineBasicMaterial:wa,Material:vr}),es={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function ts(e,t,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){o++,!1===n&&void 0!==r.onStart&&r.onStart(e,a,o),n=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var is=new ts,rs={};function ns(e){this.manager=void 0!==e?e:is}function as(e){this.manager=void 0!==e?e:is,this._parser=null}function os(e){this.manager=void 0!==e?e:is,this._parser=null}function ss(e){this.manager=void 0!==e?e:is}function ls(e){this.manager=void 0!==e?e:is}function cs(e){this.manager=void 0!==e?e:is}function us(){this.type="Curve",this.arcLengthDivisions=200}function fs(e,t,i,r,n,a,o,s){us.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function hs(e,t,i,r,n,a){fs.call(this,e,t,i,i,r,n,a),this.type="ArcCurve"}function ds(){var e=0,t=0,i=0,r=0;function n(n,a,o,s){e=n,t=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(e,t,i,r,a){n(t,i,a*(i-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,i,r,a,o,s){var l=(t-e)/a-(i-e)/(a+o)+(i-t)/o,c=(i-t)/o-(r-t)/(o+s)+(r-i)/s;n(t,i,l*=o,c*=o)},calc:function(n){var a=n*n;return e+t*n+i*a+r*(a*n)}}}Object.assign(ns.prototype,{load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,a=es.get(e);if(void 0!==a)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;if(void 0===rs[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],c=o[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var u,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var h=new Uint8Array(c.length),d=0;d<c.length;d++)h[d]=c.charCodeAt(d);u="blob"===f?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var p=new DOMParser;u=p.parseFromString(c,s);break;case"json":u=JSON.parse(c);break;default:u=c}window.setTimeout(function(){t&&t(u),n.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){r&&r(t),n.manager.itemEnd(e),n.manager.itemError(e)},0)}}else{rs[e]=[],rs[e].push({onLoad:t,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",function(t){var i=this.response;es.add(e,i);var r=rs[e];if(delete rs[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(i)}n.manager.itemEnd(e)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(t)}n.manager.itemEnd(e),n.manager.itemError(e)}},!1),m.addEventListener("progress",function(t){for(var i=rs[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}},!1),m.addEventListener("error",function(t){var i=rs[e];delete rs[e];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(t)}n.manager.itemEnd(e),n.manager.itemError(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(e),m}rs[e].push({onLoad:t,onProgress:i,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(as.prototype,{load:function(e,t,i,r){var n=this,a=[],o=new ka;o.image=a;var s=new ns(this.manager);function l(l){s.load(e[l],function(e){var i=n._parser(e,!0);a[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(c+=1)&&(1===i.mipmapCount&&(o.minFilter=Ce),o.format=i.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,f=e.length;u<f;++u)l(u);else s.load(e,function(e){var i=n._parser(e,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+l]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Ce),o.format=i.format,o.needsUpdate=!0,t&&t(o)},i,r);return o},setPath:function(e){return this.path=e,this}}),Object.assign(os.prototype,{load:function(e,t,i,r){var n=this,a=new ui,o=new ns(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var i=n._parser(e);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:ke,a.wrapT=void 0!==i.wrapT?i.wrapT:ke,a.magFilter=void 0!==i.magFilter?i.magFilter:Ce,a.minFilter=void 0!==i.minFilter?i.minFilter:Ie,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Ce),a.needsUpdate=!0,t&&t(a,i))},i,r),a}}),Object.assign(ss.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,a=es.get(e);if(void 0!==a)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),es.add(e,this),t&&t(this),n.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),n.manager.itemEnd(e),n.manager.itemError(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ls.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){var n=new Or,a=new ss(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(e[i],function(e){n.images[i]=e,6===++o&&(n.needsUpdate=!0,t&&t(n))},void 0,r)}for(var l=0;l<e.length;++l)s(l);return n},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(cs.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){var n=new oi,a=new ss(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(i){n.image=i;var r=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);n.format=r?Ye:Je,n.needsUpdate=!0,void 0!==t&&t(n)},i,r),n},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(us.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(n),r.push(a),n=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,r=this.getLengths(),n=0,a=r.length;i=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[n=Math.floor(s+(l-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){l=n;break}l=n-1}if(r[n=l]===i)return n/(a-1);var c=r[n];return(n+(i-c)/(r[n+1]-c))/(a-1)},getTangent:function(e){var t=e-1e-4,i=e+1e-4;t<0&&(t=0),i>1&&(i=1);var r=this.getPoint(t);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var i,r,n,a=new Qt,o=[],s=[],l=[],c=new Qt,u=new Zt;for(i=0;i<=e;i++)r=i/e,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new Qt,l[0]=new Qt;var f=Number.MAX_VALUE,h=Math.abs(o[0].x),d=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=f&&(f=h,a.set(1,0,0)),d<=f&&(f=d,a.set(0,1,0)),p<=f&&a.set(0,0,1),c.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],c),l[0].crossVectors(o[0],s[0]),i=1;i<=e;i++)s[i]=s[i-1].clone(),l[i]=l[i-1].clone(),c.crossVectors(o[i-1],o[i]),c.length()>Number.EPSILON&&(c.normalize(),n=Math.acos(Yt.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(u.makeRotationAxis(c,n))),l[i].crossVectors(o[i],s[i]);if(!0===t)for(n=Math.acos(Yt.clamp(s[0].dot(s[e]),-1,1)),n/=e,o[0].dot(c.crossVectors(s[0],s[e]))>0&&(n=-n),i=1;i<=e;i++)s[i].applyMatrix4(u.makeRotationAxis(o[i],n*i)),l[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),fs.prototype=Object.create(us.prototype),fs.prototype.constructor=fs,fs.prototype.isEllipseCurve=!0,fs.prototype.getPoint=function(e,t){for(var i=t||new Jt,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<Number.EPSILON;n<0;)n+=r;for(;n>r;)n-=r;n<Number.EPSILON&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+e*n,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=s-this.aX,h=l-this.aY;s=f*c-h*u+this.aX,l=f*u+h*c+this.aY}return i.set(s,l)},fs.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},fs.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},fs.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},hs.prototype=Object.create(fs.prototype),hs.prototype.constructor=hs,hs.prototype.isArcCurve=!0;var ps=new Qt,ms=new ds,vs=new ds,gs=new ds;function ys(e,t,i,r){us.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=i||"centripetal",this.tension=r||.5}function bs(e,t,i,r,n){var a=.5*(r-t),o=.5*(n-i),s=e*e;return(2*i-2*r+a+o)*(e*s)+(-3*i+3*r-2*a-o)*s+a*e+i}function ws(e,t,i,r){return function(e,t){var i=1-e;return i*i*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,i)+function(e,t){return e*e*t}(e,r)}function _s(e,t,i,r,n){return function(e,t){var i=1-e;return i*i*i*t}(e,t)+function(e,t){var i=1-e;return 3*i*i*e*t}(e,i)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,n)}function xs(e,t,i,r){us.call(this),this.type="CubicBezierCurve",this.v0=e||new Jt,this.v1=t||new Jt,this.v2=i||new Jt,this.v3=r||new Jt}function Es(e,t,i,r){us.call(this),this.type="CubicBezierCurve3",this.v0=e||new Qt,this.v1=t||new Qt,this.v2=i||new Qt,this.v3=r||new Qt}function Ms(e,t){us.call(this),this.type="LineCurve",this.v1=e||new Jt,this.v2=t||new Jt}function Ss(e,t){us.call(this),this.type="LineCurve3",this.v1=e||new Qt,this.v2=t||new Qt}function Ts(e,t,i){us.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Jt,this.v1=t||new Jt,this.v2=i||new Jt}function ks(e,t,i){us.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Qt,this.v1=t||new Qt,this.v2=i||new Qt}function As(e){us.call(this),this.type="SplineCurve",this.points=e||[]}ys.prototype=Object.create(us.prototype),ys.prototype.constructor=ys,ys.prototype.isCatmullRomCurve3=!0,ys.prototype.getPoint=function(e,t){var i,r,n,a,o=t||new Qt,s=this.points,l=s.length,c=(l-(this.closed?0:1))*e,u=Math.floor(c),f=c-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/l)+1)*l:0===f&&u===l-1&&(u=l-2,f=1),this.closed||u>0?i=s[(u-1)%l]:(ps.subVectors(s[0],s[1]).add(s[0]),i=ps),r=s[u%l],n=s[(u+1)%l],this.closed||u+2<l?a=s[(u+2)%l]:(ps.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=ps),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(n),h),m=Math.pow(n.distanceToSquared(a),h);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),ms.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,p,m),vs.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,p,m),gs.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,p,m)}else"catmullrom"===this.curveType&&(ms.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),vs.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),gs.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(ms.calc(f),vs.calc(f),gs.calc(f)),o},ys.prototype.copy=function(e){us.prototype.copy.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},ys.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},ys.prototype.fromJSON=function(e){us.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Qt).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},xs.prototype=Object.create(us.prototype),xs.prototype.constructor=xs,xs.prototype.isCubicBezierCurve=!0,xs.prototype.getPoint=function(e,t){var i=t||new Jt,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(_s(e,r.x,n.x,a.x,o.x),_s(e,r.y,n.y,a.y,o.y)),i},xs.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},xs.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},xs.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Es.prototype=Object.create(us.prototype),Es.prototype.constructor=Es,Es.prototype.isCubicBezierCurve3=!0,Es.prototype.getPoint=function(e,t){var i=t||new Qt,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(_s(e,r.x,n.x,a.x,o.x),_s(e,r.y,n.y,a.y,o.y),_s(e,r.z,n.z,a.z,o.z)),i},Es.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Es.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Es.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ms.prototype=Object.create(us.prototype),Ms.prototype.constructor=Ms,Ms.prototype.isLineCurve=!0,Ms.prototype.getPoint=function(e,t){var i=t||new Jt;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i},Ms.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ms.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Ms.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ms.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ms.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ss.prototype=Object.create(us.prototype),Ss.prototype.constructor=Ss,Ss.prototype.isLineCurve3=!0,Ss.prototype.getPoint=function(e,t){var i=t||new Qt;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i},Ss.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ss.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ss.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ss.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ts.prototype=Object.create(us.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isQuadraticBezierCurve=!0,Ts.prototype.getPoint=function(e,t){var i=t||new Jt,r=this.v0,n=this.v1,a=this.v2;return i.set(ws(e,r.x,n.x,a.x),ws(e,r.y,n.y,a.y)),i},Ts.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ts.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ts.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ks.prototype=Object.create(us.prototype),ks.prototype.constructor=ks,ks.prototype.isQuadraticBezierCurve3=!0,ks.prototype.getPoint=function(e,t){var i=t||new Qt,r=this.v0,n=this.v1,a=this.v2;return i.set(ws(e,r.x,n.x,a.x),ws(e,r.y,n.y,a.y),ws(e,r.z,n.z,a.z)),i},ks.prototype.copy=function(e){return us.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ks.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ks.prototype.fromJSON=function(e){return us.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},As.prototype=Object.create(us.prototype),As.prototype.constructor=As,As.prototype.isSplineCurve=!0,As.prototype.getPoint=function(e,t){var i=t||new Jt,r=this.points,n=(r.length-1)*e,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return i.set(bs(o,s.x,l.x,c.x,u.x),bs(o,s.y,l.y,c.y,u.y)),i},As.prototype.copy=function(e){us.prototype.copy.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this},As.prototype.toJSON=function(){var e=us.prototype.toJSON.call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e},As.prototype.fromJSON=function(e){us.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Jt).fromArray(r))}return this};var Rs=Object.freeze({ArcCurve:hs,CatmullRomCurve3:ys,CubicBezierCurve:xs,CubicBezierCurve3:Es,EllipseCurve:fs,LineCurve:Ms,LineCurve3:Ss,QuadraticBezierCurve:Ts,QuadraticBezierCurve3:ks,SplineCurve:As});function Ls(){us.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ps(e){Ls.call(this),this.type="Path",this.currentPoint=new Jt,e&&this.setFromPoints(e)}function Cs(e){Ps.call(this,e),this.uuid=Yt.generateUUID(),this.type="Shape",this.holes=[]}function Os(e,t){Ci.call(this),this.type="Light",this.color=new bi(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Is(e,t,i){Os.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ci.DefaultUp),this.updateMatrix(),this.groundColor=new bi(t)}function Ns(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Jt(512,512),this.map=null,this.matrix=new Zt}function Ds(){Ns.call(this,new na(50,1,.5,500))}function Fs(e,t,i,r,n,a){Os.call(this,e,t),this.type="SpotLight",this.position.copy(Ci.DefaultUp),this.updateMatrix(),this.target=new Ci,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new Ds}function Bs(e,t,i,r){Os.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new Ns(new na(90,1,.5,500))}function Us(){Ns.call(this,new Ii(-5,5,5,-5,.5,500))}function zs(e,t){Os.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ci.DefaultUp),this.updateMatrix(),this.target=new Ci,this.shadow=new Us}function Hs(e,t){Os.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Gs(e,t,i,r){Os.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}Ls.prototype=Object.assign(Object.create(us.prototype),{constructor:Ls,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ms(t,e))},getPoint:function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=t){var n=i[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];t&&t.equals(c)||(i.push(c),t=c)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(e){us.prototype.copy.call(this,e),this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=us.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,i=this.curves.length;t<i;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){us.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push((new Rs[r.type]).fromJSON(r))}return this}}),Ps.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Ps,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var i=new Ms(this.currentPoint.clone(),new Jt(e,t));this.curves.push(i),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,i,r){var n=new Ts(this.currentPoint.clone(),new Jt(e,t),new Jt(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(e,t,i,r,n,a){var o=new xs(this.currentPoint.clone(),new Jt(e,t),new Jt(i,r),new Jt(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(e){var t=new As([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,i,r,n,a)},absarc:function(e,t,i,r,n,a){this.absellipse(e,t,i,i,r,n,a)},ellipse:function(e,t,i,r,n,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,i,r,n,a,o,s)},absellipse:function(e,t,i,r,n,a,o,s){var l=new fs(e,t,i,r,n,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return Ls.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Ls.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Ls.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Cs.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Cs,getPointsHoles:function(e){for(var t=[],i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ps.prototype.copy.call(this,e),this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Ps.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,i=this.holes.length;t<i;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Ps.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push((new Ps).fromJSON(r))}return this}}),Os.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Os,isLight:!0,copy:function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Ci.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Is.prototype=Object.assign(Object.create(Os.prototype),{constructor:Is,isHemisphereLight:!0,copy:function(e){return Os.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ns.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ds.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Ds,isSpotLightShadow:!0,update:function(e){var t=this.camera,i=2*Yt.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,n=e.distance||t.far;i===t.fov&&r===t.aspect&&n===t.far||(t.fov=i,t.aspect=r,t.far=n,t.updateProjectionMatrix())}}),Fs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Fs,isSpotLight:!0,copy:function(e){return Os.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Bs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Bs,isPointLight:!0,copy:function(e){return Os.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Us.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Us}),zs.prototype=Object.assign(Object.create(Os.prototype),{constructor:zs,isDirectionalLight:!0,copy:function(e){return Os.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Hs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Hs,isAmbientLight:!0}),Gs.prototype=Object.assign(Object.create(Os.prototype),{constructor:Gs,isRectAreaLight:!0,copy:function(e){return Os.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Os.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Vs={arraySlice:function(e,t,i){return Vs.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==i?i:e.length)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,i=new Array(t),r=0;r!==t;++r)i[r]=r;return i.sort(function(t,i){return e[t]-e[i]}),i},sortedArray:function(e,t,i){for(var r=e.length,n=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*t,l=0;l!==t;++l)n[o++]=e[s+l];return n},flattenJSON:function(e,t,i,r){for(var n=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),i.push.apply(i,o)),a=e[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(i,i.length)),a=e[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),i.push(o)),a=e[n++]}while(void 0!==a)}}};function js(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i}function Ws(e,t,i,r){js.call(this,e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Xs(e,t,i,r){js.call(this,e,t,i,r)}function qs(e,t,i,r){js.call(this,e,t,i,r)}function Ys(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vs.convertArray(t,this.TimeBufferType),this.values=Vs.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Js(e,t,i){Ys.call(this,e,t,i)}function Zs(e,t,i,r){Ys.call(this,e,t,i,r)}function Ks(e,t,i,r){Ys.call(this,e,t,i,r)}function Qs(e,t,i,r){js.call(this,e,t,i,r)}function $s(e,t,i,r){Ys.call(this,e,t,i,r)}function el(e,t,i,r){Ys.call(this,e,t,i,r)}function tl(e,t,i,r){Ys.call(this,e,t,i,r)}function il(e,t,i){this.name=e,this.tracks=i,this.duration=void 0!==t?t:-1,this.uuid=Yt.generateUUID(),this.duration<0&&this.resetDuration()}function rl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ks;case"vector":case"vector2":case"vector3":case"vector4":return tl;case"color":return Zs;case"quaternion":return $s;case"bool":case"boolean":return Js;case"string":return el}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var i=[],r=[];Vs.flattenJSON(e.keys,i,r,"value"),e.times=i,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function nl(e){this.manager=void 0!==e?e:is,this.textures={}}function al(e){this.manager=void 0!==e?e:is}Object.assign(js.prototype,{evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,r=t[i],n=t[i-1];e:{t:{var a;i:{r:if(!(e<r)){for(var o=i+2;;){if(void 0===r){if(e<n)break r;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,n)}if(i===o)break;if(n=r,e<(r=t[++i]))break t}a=t.length;break i}if(e>=n)break e;var s=t[1];e<s&&(i=2,n=s);for(o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===o)break;if(r=n,e>=(n=t[--i-1]))break t}a=i,i=0}for(;i<a;){var l=i+a>>>1;e<t[l]?a=l:i=l+1}if(r=t[i],void 0===(n=t[i-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,n,e)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=e*r,a=0;a!==r;++a)t[a]=i[n+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(js.prototype,{beforeStart_:js.prototype.copySampleValue_,afterEnd_:js.prototype.copySampleValue_}),Ws.prototype=Object.assign(Object.create(js.prototype),{constructor:Ws,DefaultSettings_:{endingStart:Lt,endingEnd:Lt},intervalChanged_:function(e,t,i){var r=this.parameterPositions,n=e-2,a=e+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Pt:n=e,o=2*t-i;break;case Ct:o=t+r[n=r.length-2]-r[n+1];break;default:n=e,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Pt:a=e,s=2*i-t;break;case Ct:a=1,s=i+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(i-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-i),this._offsetPrev=n*c,this._offsetNext=a*c},interpolate_:function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(i-t)/(r-t),p=d*d,m=p*d,v=-f*m+2*f*p-f*d,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,b=h*m-h*p,w=0;w!==o;++w)n[w]=v*a[c+w]+g*a[l+w]+y*a[s+w]+b*a[u+w];return n}}),Xs.prototype=Object.assign(Object.create(js.prototype),{constructor:Xs,interpolate_:function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(i-t)/(r-t),u=1-c,f=0;f!==o;++f)n[f]=a[l+f]*u+a[s+f]*c;return n}}),qs.prototype=Object.assign(Object.create(js.prototype),{constructor:qs,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Ys,{toJSON:function(e){var t,i=e.constructor;if(void 0!==i.toJSON)t=i.toJSON(e);else{t={name:e.name,times:Vs.convertArray(e.times,Array),values:Vs.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Ys.prototype,{constructor:Ys,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:At,InterpolantFactoryMethodDiscrete:function(e){return new qs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Xs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ws(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case kt:t=this.InterpolantFactoryMethodDiscrete;break;case At:t=this.InterpolantFactoryMethodLinear;break;case Rt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return kt;case this.InterpolantFactoryMethodLinear:return At;case this.InterpolantFactoryMethodSmooth:return Rt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,r=t.length;i!==r;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,r=t.length;i!==r;++i)t[i]*=e;return this},trim:function(e,t){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<e;)++n;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Vs.arraySlice(i,n,a),this.values=Vs.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var i=this.times,r=this.values,n=i.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Vs.isTypedArray(r)){o=0;for(var l=r.length;o!==l;++o){var c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,i=this.getValueSize(),r=this.getInterpolation()===Rt,n=1,a=e.length-1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var c=o*i,u=c-i,f=c+i,h=0;h!==i;++h){var d=t[c+h];if(d!==t[u+h]||d!==t[f+h]){s=!0;break}}if(s){if(o!==n){e[n]=e[o];var p=o*i,m=n*i;for(h=0;h!==i;++h)t[m+h]=t[p+h]}++n}}if(a>0){e[n]=e[a];for(p=a*i,m=n*i,h=0;h!==i;++h)t[m+h]=t[p+h];++n}return n!==e.length&&(this.times=Vs.arraySlice(e,0,n),this.values=Vs.arraySlice(t,0,n*i)),this}}),Js.prototype=Object.assign(Object.create(Ys.prototype),{constructor:Js,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:kt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zs.prototype=Object.assign(Object.create(Ys.prototype),{constructor:Zs,ValueTypeName:"color"}),Ks.prototype=Object.assign(Object.create(Ys.prototype),{constructor:Ks,ValueTypeName:"number"}),Qs.prototype=Object.assign(Object.create(js.prototype),{constructor:Qs,interpolate_:function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(i-t)/(r-t),c=s+o;s!==c;s+=4)Kt.slerpFlat(n,0,a,s-o,a,s,l);return n}}),$s.prototype=Object.assign(Object.create(Ys.prototype),{constructor:$s,ValueTypeName:"quaternion",DefaultInterpolation:At,InterpolantFactoryMethodLinear:function(e){return new Qs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),el.prototype=Object.assign(Object.create(Ys.prototype),{constructor:el,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:kt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),tl.prototype=Object.assign(Object.create(Ys.prototype),{constructor:tl,ValueTypeName:"vector"}),Object.assign(il,{parse:function(e){for(var t=[],i=e.tracks,r=1/(e.fps||1),n=0,a=i.length;n!==a;++n)t.push(rl(i[n]).scale(r));return new il(e.name,e.duration,t)},toJSON:function(e){for(var t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},n=0,a=i.length;n!==a;++n)t.push(Ys.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(e,t,i,r){for(var n=t.length,a=[],o=0;o<n;o++){var s=[],l=[];s.push((o+n-1)%n,o,(o+1)%n),l.push(0,1,0);var c=Vs.getKeyframeOrder(s);s=Vs.sortedArray(s,1,c),l=Vs.sortedArray(l,1,c),r||0!==s[0]||(s.push(n),l.push(l[0])),a.push(new Ks(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/i))}return new il(e,-1,a)},findByName:function(e,t){var i=e;if(!Array.isArray(e)){var r=e;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null},CreateClipsFromMorphTargetSequences:function(e,t,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(n);if(l&&l.length>1){var c=r[f=l[1]];c||(r[f]=c=[]),c.push(s)}}var u=[];for(var f in r)u.push(il.CreateFromMorphTargetSequence(f,r[f],t,i));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(e,t,i,r,n){if(0!==i.length){var a=[],o=[];Vs.flattenJSON(i,a,o,r),0!==a.length&&n.push(new e(t,a,o))}},r=[],n=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},f=0;f<c.length;f++)if(c[f].morphTargets)for(var h=0;h<c[f].morphTargets.length;h++)u[c[f].morphTargets[h]]=-1;for(var d in u){var p=[],m=[];for(h=0;h!==c[f].morphTargets.length;++h){var v=c[f];p.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ks(".morphTargetInfluence["+d+"]",p,m))}a=u.length*(o||1)}else{var g=".bones["+t[l].name+"]";i(tl,g+".position",c,"pos",r),i($s,g+".quaternion",c,"rot",r),i(tl,g+".scale",c,"scl",r)}}return 0===r.length?null:new il(n,a,r)}}),Object.assign(il.prototype,{resetDuration:function(){for(var e=0,t=0,i=this.tracks.length;t!==i;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(nl.prototype,{load:function(e,t,i,r){var n=this;new ns(n.manager).load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function i(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new $o[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=i(e.map)),void 0!==e.alphaMap&&(r.alphaMap=i(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=i(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=i(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var n=e.normalScale;!1===Array.isArray(n)&&(n=[n,n]),r.normalScale=(new Jt).fromArray(n)}return void 0!==e.displacementMap&&(r.displacementMap=i(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=i(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=i(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=i(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=i(e.specularMap)),void 0!==e.envMap&&(r.envMap=i(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=i(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=i(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=i(e.gradientMap)),r}}),Object.assign(al.prototype,{load:function(e,t,i,r){var n=this;new ns(n.manager).load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},parse:function(e){var t=new $i,i=e.data.index;if(void 0!==i){var r=new ul[i.type](i.array);t.setIndex(new zi(r,1))}var n=e.data.attributes;for(var a in n){var o=n[a];r=new ul[o.type](o.array);t.addAttribute(a,new zi(r,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var l=0,c=s.length;l!==c;++l){var u=s[l];t.addGroup(u.start,u.count,u.materialIndex)}var f=e.data.boundingSphere;if(void 0!==f){var h=new Qt;void 0!==f.center&&h.fromArray(f.center),t.boundingSphere=new hi(h,f.radius)}return t}});var ol,sl,ll,cl,ul={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function fl(){}fl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,r=t.length;i<r;i+=2){var n=t[i],a=t[i+1];if(n.test(e))return a}return null}},Object.assign(fl.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,i){for(var r=[],n=0;n<e.length;++n)r[n]=this.createMaterial(e[n],t,i);return r},createMaterial:(ol={NoBlending:I,NormalBlending:N,AdditiveBlending:D,SubtractiveBlending:F,MultiplyBlending:B,CustomBlending:U},sl=new bi,ll=new cs,cl=new nl,function(e,t,i){var r={};function n(e,n,a,o,s){var l,c=t+e,u=fl.Handlers.get(c);null!==u?l=u.load(c):(ll.setCrossOrigin(i),l=ll.load(c)),void 0!==n&&(l.repeat.fromArray(n),1!==n[0]&&(l.wrapS=Te),1!==n[1]&&(l.wrapT=Te)),void 0!==a&&l.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(l.wrapS=Te),"mirror"===o[0]&&(l.wrapS=Ae),"repeat"===o[1]&&(l.wrapT=Te),"mirror"===o[1]&&(l.wrapT=Ae)),void 0!==s&&(l.anisotropy=s);var f=Yt.generateUUID();return r[f]=l,f}var a={uuid:Yt.generateUUID(),type:"MeshLambertMaterial"};for(var o in e){var s=e[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":a.name=s;break;case"blending":a.blending=ol[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",o,"is no longer supported.");break;case"colorDiffuse":a.color=sl.fromArray(s).getHex();break;case"colorSpecular":a.specular=sl.fromArray(s).getHex();break;case"colorEmissive":a.emissive=sl.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":a.emissiveMap=n(s,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":a.lightMap=n(s,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":a.aoMap=n(s,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":a.bumpMap=n(s,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":a.normalMap=n(s,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":a.specularMap=n(s,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":a.metalnessMap=n(s,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":a.roughnessMap=n(s,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":a.alphaMap=n(s,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":a.side=k;break;case"doubleSided":a.side=A;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=O),"face"===s&&(a.vertexColors=C);break;default:console.error("THREE.Loader.createMaterial: Unsupported",o,s)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),cl.setTextures(r),cl.parse(a)})});var hl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function dl(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:is,this.withCredentials=!1}function pl(e){this.manager=void 0!==e?e:is,this.texturePath=""}Object.assign(dl.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){var n=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:hl.extractUrlBase(e),o=new ns(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,function(i){var r=JSON.parse(i),o=r.metadata;if(void 0!==o){var s=o.type;if(void 0!==s&&"object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.")}var l=n.parse(r,a);t(l.geometry,l.materials)},i,r)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setTexturePath:function(e){return this.texturePath=e,this},parse:function(){return function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var i=new Ui;return function(e,t){function i(e,t){return e&1<<t}var r,n,a,o,s,l,c,u,f,h,d,p,m,v,g,y,b,w,_,x,E,M,S,T,k,A=e.faces,R=e.vertices,L=e.normals,P=e.colors,C=e.scale,O=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&O++;for(r=0;r<O;r++)t.faceVertexUvs[r]=[]}for(o=0,s=R.length;o<s;)(w=new Qt).x=R[o++]*C,w.y=R[o++]*C,w.z=R[o++]*C,t.vertices.push(w);for(o=0,s=A.length;o<s;)if(d=i(h=A[o++],0),p=i(h,1),m=i(h,3),v=i(h,4),g=i(h,5),y=i(h,6),b=i(h,7),d){if((x=new Ni).a=A[o],x.b=A[o+1],x.c=A[o+3],(E=new Ni).a=A[o+1],E.b=A[o+2],E.c=A[o+3],o+=4,p&&(f=A[o++],x.materialIndex=f,E.materialIndex=f),a=t.faces.length,m)for(r=0;r<O;r++)for(T=e.uvs[r],t.faceVertexUvs[r][a]=[],t.faceVertexUvs[r][a+1]=[],n=0;n<4;n++)k=new Jt(T[2*(u=A[o++])],T[2*u+1]),2!==n&&t.faceVertexUvs[r][a].push(k),0!==n&&t.faceVertexUvs[r][a+1].push(k);if(v&&(c=3*A[o++],x.normal.set(L[c++],L[c++],L[c]),E.normal.copy(x.normal)),g)for(r=0;r<4;r++)c=3*A[o++],S=new Qt(L[c++],L[c++],L[c]),2!==r&&x.vertexNormals.push(S),0!==r&&E.vertexNormals.push(S);if(y&&(M=P[l=A[o++]],x.color.setHex(M),E.color.setHex(M)),b)for(r=0;r<4;r++)M=P[l=A[o++]],2!==r&&x.vertexColors.push(new bi(M)),0!==r&&E.vertexColors.push(new bi(M));t.faces.push(x),t.faces.push(E)}else{if((_=new Ni).a=A[o++],_.b=A[o++],_.c=A[o++],p&&(f=A[o++],_.materialIndex=f),a=t.faces.length,m)for(r=0;r<O;r++)for(T=e.uvs[r],t.faceVertexUvs[r][a]=[],n=0;n<3;n++)k=new Jt(T[2*(u=A[o++])],T[2*u+1]),t.faceVertexUvs[r][a].push(k);if(v&&(c=3*A[o++],_.normal.set(L[c++],L[c++],L[c])),g)for(r=0;r<3;r++)c=3*A[o++],S=new Qt(L[c++],L[c++],L[c]),_.vertexNormals.push(S);if(y&&(l=A[o++],_.color.setHex(P[l])),b)for(r=0;r<3;r++)l=A[o++],_.vertexColors.push(new bi(P[l]));t.faces.push(_)}}(e,i),function(e,t){var i=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,n=e.skinWeights.length;r<n;r+=i){var a=e.skinWeights[r],o=i>1?e.skinWeights[r+1]:0,s=i>2?e.skinWeights[r+2]:0,l=i>3?e.skinWeights[r+3]:0;t.skinWeights.push(new si(a,o,s,l))}if(e.skinIndices)for(r=0,n=e.skinIndices.length;r<n;r+=i){var c=e.skinIndices[r],u=i>1?e.skinIndices[r+1]:0,f=i>2?e.skinIndices[r+2]:0,h=i>3?e.skinIndices[r+3]:0;t.skinIndices.push(new si(c,u,f,h))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,i),function(e,t){var i=e.scale;if(void 0!==e.morphTargets)for(var r=0,n=e.morphTargets.length;r<n;r++){t.morphTargets[r]={},t.morphTargets[r].name=e.morphTargets[r].name,t.morphTargets[r].vertices=[];for(var a=t.morphTargets[r].vertices,o=e.morphTargets[r].vertices,s=0,l=o.length;s<l;s+=3){var c=new Qt;c.x=o[s]*i,c.y=o[s+1]*i,c.z=o[s+2]*i,a.push(c)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=t.faces,f=e.morphColors[0].colors;for(r=0,n=u.length;r<n;r++)u[r].color.fromArray(f,3*r)}}(e,i),function(e,t){var i=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var n=0;n<r.length;n++){var a=il.parseAnimation(r[n],t.bones);a&&i.push(a)}if(t.morphTargets){var o=il.CreateClipsFromMorphTargetSequences(t.morphTargets,10);i=i.concat(o)}i.length>0&&(t.animations=i)}(e,i),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:i}:{geometry:i,materials:fl.prototype.initMaterials(e.materials,t,this.crossOrigin)}}}()}),Object.assign(pl.prototype,{crossOrigin:"anonymous",load:function(e,t,i,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var n=this;new ns(n.manager).load(e,function(i){var a=null;try{a=JSON.parse(i)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?n.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.")},i,r)},setTexturePath:function(e){return this.texturePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var i=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,i),n=this.parseImages(e.images,function(){void 0!==t&&t(s)}),a=this.parseTextures(e.textures,n),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var i=0,r=e.length;i<r;i++){var n=(new Cs).fromJSON(e[i]);t[n.uuid]=n}return t},parseGeometries:function(e,t){var i={};if(void 0!==e)for(var r=new dl,n=new al,a=0,o=e.length;a<o;a++){var s,l=e[a];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Vo[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Vo[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Vo[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Vo[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Vo[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Vo[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Vo[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Vo[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Vo[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Vo[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Vo[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Vo[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],u=0,f=l.shapes.length;u<f;u++){var h=t[l.shapes[u]];c.push(h)}s=new Vo[l.type](c,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],u=0,f=l.shapes.length;u<f;u++){h=t[l.shapes[u]];c.push(h)}var d=l.options.extrudePath;void 0!==d&&(l.options.extrudePath=(new Rs[d.type]).fromJSON(d)),s=new Vo[l.type](c,l.options);break;case"BufferGeometry":s=n.parse(l);break;case"Geometry":s=r.parse(l,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),i[l.uuid]=s}return i},parseMaterials:function(e,t){var i={};if(void 0!==e){var r=new nl;r.setTextures(t);for(var n=0,a=e.length;n<a;n++){var o=e[n];if("MultiMaterial"===o.type){for(var s=[],l=0;l<o.materials.length;l++)s.push(r.parse(o.materials[l]));i[o.uuid]=s}else i[o.uuid]=r.parse(o)}}return i},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i],n=il.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),t.push(n)}return t},parseImages:function(e,t){var i=this,r={};function n(e){return i.manager.itemStart(e),a.load(e,function(){i.manager.itemEnd(e)},void 0,function(){i.manager.itemEnd(e),i.manager.itemError(e)})}if(void 0!==e&&e.length>0){var a=new ss(new ts(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(var u=0,f=c.length;u<f;u++){var h=c[u],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.texturePath+h;r[l.uuid].push(n(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;r[l.uuid]=n(d)}}}return r},parseTextures:function(e,t){function i(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var n=0,a=e.length;n<a;n++){var o,s=e[n];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(t[s.image])?new Or(t[s.image]):new oi(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,vl)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],gl),o.wrapT=i(s.wrap[1],gl)),void 0!==s.format&&(o.format=s.format),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,yl)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,yl)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),r[s.uuid]=o}return r},parseObject:function(e,t,i){var r;function n(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];void 0===i[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(i[a])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}switch(e.type){case"Scene":r=new fa,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new bi(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new ua(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new ca(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new na(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Ii(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Hs(e.color,e.intensity);break;case"DirectionalLight":r=new zs(e.color,e.intensity);break;case"PointLight":r=new Bs(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Gs(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Fs(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Is(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=n(e.geometry),s=a(e.material);r=o.bones&&o.bones.length>0?new ba(o,s):new _r(o,s);break;case"LOD":r=new va;break;case"Line":r=new _a(n(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new Ea(n(e.geometry),a(e.material));break;case"LineSegments":r=new xa(n(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new Sa(n(e.geometry),a(e.material));break;case"Sprite":r=new ma(a(e.material));break;case"Group":r=new ra;break;default:r=new Ci}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,c=0;c<l.length;c++)r.add(this.parseObject(l[c],t,i));if("LOD"===e.type)for(var u=e.levels,f=0;f<u.length;f++){var h=u[f],d=r.getObjectByProperty("uuid",h.object);void 0!==d&&r.addLevel(d,h.distance)}return r}});var ml,vl={UVMapping:ye,CubeReflectionMapping:be,CubeRefractionMapping:we,EquirectangularReflectionMapping:_e,EquirectangularRefractionMapping:xe,SphericalReflectionMapping:Ee,CubeUVReflectionMapping:Me,CubeUVRefractionMapping:Se},gl={RepeatWrapping:Te,ClampToEdgeWrapping:ke,MirroredRepeatWrapping:Ae},yl={NearestFilter:Re,NearestMipMapNearestFilter:Le,NearestMipMapLinearFilter:Pe,LinearFilter:Ce,LinearMipMapNearestFilter:Oe,LinearMipMapLinearFilter:Ie};function bl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:is,this.options=void 0}function wl(){this.type="ShapePath",this.color=new bi,this.subPaths=[],this.currentPath=null}function _l(e){this.type="Font",this.data=e}function xl(e,t,i,r,n){var a=n.glyphs[e]||n.glyphs["?"];if(a){var o,s,l,c,u,f,h,d,p=new wl;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+i,s=m[v++]*t+r,p.moveTo(o,s);break;case"l":o=m[v++]*t+i,s=m[v++]*t+r,p.lineTo(o,s);break;case"q":l=m[v++]*t+i,c=m[v++]*t+r,u=m[v++]*t+i,f=m[v++]*t+r,p.quadraticCurveTo(u,f,l,c);break;case"b":l=m[v++]*t+i,c=m[v++]*t+r,u=m[v++]*t+i,f=m[v++]*t+r,h=m[v++]*t+i,d=m[v++]*t+r,p.bezierCurveTo(u,f,h,d,l,c)}}return{offsetX:a.ha*t,path:p}}}function El(e){this.manager=void 0!==e?e:is}bl.prototype={constructor:bl,setOptions:function(e){return this.options=e,this},load:function(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,a=es.get(e);if(void 0!==a)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,n.options)}).then(function(i){es.add(e,i),t&&t(i),n.manager.itemEnd(e)}).catch(function(t){r&&r(t),n.manager.itemEnd(e),n.manager.itemError(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(wl.prototype,{moveTo:function(e,t){this.currentPath=new Ps,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,i,r){this.currentPath.quadraticCurveTo(e,t,i,r)},bezierCurveTo:function(e,t,i,r,n,a){this.currentPath.bezierCurveTo(e,t,i,r,n,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function i(e){for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i],a=new Cs;a.curves=n.curves,t.push(a)}return t}function r(e,t){for(var i=t.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=t[n],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[a],l=-l,s=t[n],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n=yo.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return i(a);var o,s,l,c=[];if(1===a.length)return s=a[0],(l=new Cs).curves=s.curves,c.push(l),c;var u=!n(a[0].getPoints());u=e?!u:u;var f,h,d=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=n(f=(s=a[g]).getPoints()),(o=e?!o:o)?(!u&&p[v]&&v++,p[v]={s:new Cs,p:f},p[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!p[0])return i(a);if(p.length>1){for(var b=!1,w=[],_=0,x=p.length;_<x;_++)d[_]=[];for(_=0,x=p.length;_<x;_++)for(var E=m[_],M=0;M<E.length;M++){for(var S=E[M],T=!0,k=0;k<p.length;k++)r(S.p,p[k].p)&&(_!==k&&w.push({froms:_,tos:k,hole:M}),T?(T=!1,d[k].push(S)):b=!0);T&&d[_].push(S)}w.length>0&&(b||(m=d))}g=0;for(var A=p.length;g<A;g++){l=p[g].s,c.push(l);for(var R=0,L=(h=m[g]).length;R<L;R++)l.holes.push(h[R].h)}return c}}),Object.assign(_l.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var i=[],r=function(e,t,i){for(var r=Array.from?Array.from(e):String(e).split(""),n=t/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],s=0,l=0,c=0;c<r.length;c++){var u=r[c];if("\n"===u)s=0,l-=a;else{var f=xl(u,n,s,l,i);s+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),Object.assign(El.prototype,{load:function(e,t,i,r){var n=this,a=new ns(this.manager);a.setPath(this.path),a.load(e,function(e){var i;try{i=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(e.substring(65,e.length-2))}var r=n.parse(i);t&&t(r)},i,r)},parse:function(e){return new _l(e)},setPath:function(e){return this.path=e,this}});var Ml,Sl,Tl,kl,Al,Rl,Ll,Pl,Cl,Ol,Il={getContext:function(){return void 0===ml&&(ml=new(window.AudioContext||window.webkitAudioContext)),ml},setContext:function(e){ml=e}};function Nl(e){this.manager=void 0!==e?e:is}function Dl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new na,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new na,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Fl(e,t,i){Ci.call(this),this.type="CubeCamera";var r=new na(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new Qt(1,0,0)),this.add(r);var n=new na(90,1,e,t);n.up.set(0,-1,0),n.lookAt(new Qt(-1,0,0)),this.add(n);var a=new na(90,1,e,t);a.up.set(0,0,1),a.lookAt(new Qt(0,1,0)),this.add(a);var o=new na(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new Qt(0,-1,0)),this.add(o);var s=new na(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new Qt(0,0,1)),this.add(s);var l=new na(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new Qt(0,0,-1)),this.add(l);var c={format:Ye,magFilter:Ce,minFilter:Ce};this.renderTarget=new ci(i,i,c),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,c=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,r,i),i.activeCubeFace=1,e.render(t,n,i),i.activeCubeFace=2,e.render(t,a,i),i.activeCubeFace=3,e.render(t,o,i),i.activeCubeFace=4,e.render(t,s,i),i.texture.generateMipmaps=c,i.activeCubeFace=5,e.render(t,l,i),e.setRenderTarget(null)},this.clear=function(e,t,i,r){for(var n=this.renderTarget,a=0;a<6;a++)n.activeCubeFace=a,e.setRenderTarget(n),e.clear(t,i,r);e.setRenderTarget(null)}}function Bl(){Ci.call(this),this.type="AudioListener",this.context=Il.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Ul(e){Ci.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function zl(e){Ul.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Hl(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Gl(e,t,i){this.binding=e,this.valueSize=i;var r,n=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Nl.prototype,{load:function(e,t,i,r){var n=new ns(this.manager);n.setResponseType("arraybuffer"),n.load(e,function(e){var i=e.slice(0);Il.getContext().decodeAudioData(i,function(e){t(e)})},i,r)}}),Object.assign(Dl.prototype,{update:(Cl=new Zt,Ol=new Zt,function(e){if(Ml!==this||Sl!==e.focus||Tl!==e.fov||kl!==e.aspect*this.aspect||Al!==e.near||Rl!==e.far||Ll!==e.zoom||Pl!==this.eyeSep){Ml=this,Sl=e.focus,Tl=e.fov,kl=e.aspect*this.aspect,Al=e.near,Rl=e.far,Ll=e.zoom;var t,i,r=e.projectionMatrix.clone(),n=(Pl=this.eyeSep/2)*Al/Sl,a=Al*Math.tan(Yt.DEG2RAD*Tl*.5)/Ll;Ol.elements[12]=-Pl,Cl.elements[12]=Pl,t=-a*kl+n,i=a*kl+n,r.elements[0]=2*Al/(i-t),r.elements[8]=(i+t)/(i-t),this.cameraL.projectionMatrix.copy(r),t=-a*kl-n,i=a*kl-n,r.elements[0]=2*Al/(i-t),r.elements[8]=(i+t)/(i-t),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ol),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Cl)})}),Fl.prototype=Object.create(Ci.prototype),Fl.prototype.constructor=Fl,Bl.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Bl,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new Qt,t=new Kt,i=new Qt,r=new Qt;return function(n){Ci.prototype.updateMatrixWorld.call(this,n);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(e,t,i),r.set(0,0,-1).applyQuaternion(t),a.positionX?(a.positionX.setValueAtTime(e.x,this.context.currentTime),a.positionY.setValueAtTime(e.y,this.context.currentTime),a.positionZ.setValueAtTime(e.z,this.context.currentTime),a.forwardX.setValueAtTime(r.x,this.context.currentTime),a.forwardY.setValueAtTime(r.y,this.context.currentTime),a.forwardZ.setValueAtTime(r.z,this.context.currentTime),a.upX.setValueAtTime(o.x,this.context.currentTime),a.upY.setValueAtTime(o.y,this.context.currentTime),a.upZ.setValueAtTime(o.z,this.context.currentTime)):(a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,o.x,o.y,o.z))}}()}),Ul.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Ul,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),zl.prototype=Object.assign(Object.create(Ul.prototype),{constructor:zl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var e=new Qt,t=new Kt,i=new Qt,r=new Qt;return function(n){Ci.prototype.updateMatrixWorld.call(this,n);var a=this.panner;this.matrixWorld.decompose(e,t,i),r.set(0,0,1).applyQuaternion(t),a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z)}}()}),Object.assign(Hl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),i=0;i<t.length;i++)e+=t[i];return e/t.length}}),Object.assign(Gl.prototype,{accumulate:function(e,t){var i=this.buffer,r=this.valueSize,n=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,i=this.buffer,r=e*t+t,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*t;this._mixBufferRegion(i,r,o,1-n,t)}for(var s=t,l=t+t;s!==l;++s)if(i[s]!==i[s+t]){a.setValue(i,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,i=this.valueSize,r=3*i;e.getValue(t,r);for(var n=i,a=r;n!==a;++n)t[n]=t[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)e[t+a]=e[i+a]},_slerp:function(e,t,i,r){Kt.slerpFlat(e,t,e,t,e,i,r)},_lerp:function(e,t,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=t+o;e[s]=e[s]*a+e[i+o]*r}}});var Vl,jl,Wl,Xl,ql,Yl,Jl,Zl,Kl,Ql,$l,ec,tc,ic,rc;function nc(e,t,i){var r=i||ac.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function ac(e,t,i){this.path=t,this.parsedPath=i||ac.parseTrackName(t),this.node=ac.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function oc(){this.uuid=Yt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,i=arguments.length;t!==i;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function sc(e,t,i){this._mixer=e,this._clip=t,this._localRoot=i||null;for(var r=t.tracks,n=r.length,a=new Array(n),o={endingStart:Lt,endingEnd:Lt},s=0;s!==n;++s){var l=r[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=St,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function lc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function cc(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function uc(){$i.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function fc(e,t,i){ha.call(this,e,t),this.meshPerAttribute=i||1}function hc(e,t,i){zi.call(this,e,t),this.meshPerAttribute=i||1}function dc(e,t,i,r){this.ray=new br(e,t),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function pc(e,t){return e.distance-t.distance}function mc(e,t,i,r){if(!1!==e.visible&&(e.raycast(t,i),!0===r))for(var n=e.children,a=0,o=n.length;a<o;a++)mc(n[a],t,i,!0)}function vc(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function gc(e,t,i){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this}function yc(e,t,i){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==i?i:0,this}function bc(e,t){this.min=void 0!==e?e:new Jt(1/0,1/0),this.max=void 0!==t?t:new Jt(-1/0,-1/0)}function wc(e,t){this.start=void 0!==e?e:new Qt,this.end=void 0!==t?t:new Qt}function _c(e){Ci.call(this),this.material=e,this.render=function(){}}function xc(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new $i,c=new Yi(2*o*3,3);l.addAttribute("position",c),xa.call(this,l,new wa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ec(e,t){Ci.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var i=new $i,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new Yi(r,3));var l=new wa({fog:!1});this.cone=new xa(i,l),this.add(this.cone),this.update()}function Mc(e){for(var t=function e(t){var i=[];t&&t.isBone&&i.push(t);for(var r=0;r<t.children.length;r++)i.push.apply(i,e(t.children[r]));return i}(e),i=new $i,r=[],n=[],a=new bi(0,0,1),o=new bi(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new Yi(r,3)),i.addAttribute("color",new Yi(n,3));var c=new wa({vertexColors:O,depthTest:!1,depthWrite:!1,transparent:!0});xa.call(this,i,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Sc(e,t,i){this.light=e,this.light.updateMatrixWorld(),this.color=i;var r=new Ao(t,4,2),n=new gr({wireframe:!0,fog:!1});_r.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Tc(e,t){Ci.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var i=new wa({fog:!1}),r=new $i;r.addAttribute("position",new zi(new Float32Array(15),3)),this.line=new _a(r,i),this.add(this.line),this.update()}function kc(e,t,i){Ci.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new Ba(t);r.rotateY(.5*Math.PI),this.material=new gr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=O);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new zi(a,3)),this.add(new _r(r,this.material)),this.update()}function Ac(e,t,i,r){e=e||10,t=t||10,i=new bi(void 0!==i?i:4473924),r=new bi(void 0!==r?r:8947848);for(var n=t/2,a=e/t,o=e/2,s=[],l=[],c=0,u=0,f=-o;c<=t;c++,f+=a){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);var h=c===n?i:r;h.toArray(l,u),u+=3,h.toArray(l,u),u+=3,h.toArray(l,u),u+=3,h.toArray(l,u),u+=3}var d=new $i;d.addAttribute("position",new Yi(s,3)),d.addAttribute("color",new Yi(l,3));var p=new wa({vertexColors:O});xa.call(this,d,p)}function Rc(e,t,i,r,n,a){e=e||10,t=t||16,i=i||8,r=r||64,n=new bi(void 0!==n?n:4473924),a=new bi(void 0!==a?a:8947848);var o,s,l,c,u,f,h,d=[],p=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),o=Math.sin(l)*e,s=Math.cos(l)*e,d.push(0,0,0),d.push(o,0,s),h=1&c?n:a,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(c=0;c<=i;c++)for(h=1&c?n:a,f=e-e/i*c,u=0;u<r;u++)l=u/r*(2*Math.PI),o=Math.sin(l)*f,s=Math.cos(l)*f,d.push(o,0,s),p.push(h.r,h.g,h.b),l=(u+1)/r*(2*Math.PI),o=Math.sin(l)*f,s=Math.cos(l)*f,d.push(o,0,s),p.push(h.r,h.g,h.b);var m=new $i;m.addAttribute("position",new Yi(d,3)),m.addAttribute("color",new Yi(p,3));var v=new wa({vertexColors:O});xa.call(this,m,v)}function Lc(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new $i,c=new Yi(2*o*3,3);l.addAttribute("position",c),xa.call(this,l,new wa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Pc(e,t,i){Ci.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===t&&(t=1);var r=new $i;r.addAttribute("position",new Yi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var n=new wa({fog:!1});this.lightPlane=new _a(r,n),this.add(this.lightPlane),(r=new $i).addAttribute("position",new Yi([0,0,0,0,0,1],3)),this.targetLine=new _a(r,n),this.add(this.targetLine),this.update()}function Cc(e){var t=new $i,i=new wa({color:16777215,vertexColors:C}),r=[],n=[],a={},o=new bi(16755200),s=new bi(16711680),l=new bi(43775),c=new bi(16777215),u=new bi(3355443);function f(e,t,i){h(e,i),h(t,i)}function h(e,t){r.push(0,0,0),n.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}f("n1","n2",o),f("n2","n4",o),f("n4","n3",o),f("n3","n1",o),f("f1","f2",o),f("f2","f4",o),f("f4","f3",o),f("f3","f1",o),f("n1","f1",o),f("n2","f2",o),f("n3","f3",o),f("n4","f4",o),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",l),f("u2","u3",l),f("u3","u1",l),f("c","t",c),f("p","c",u),f("cn1","cn2",u),f("cn3","cn4",u),f("cf1","cf2",u),f("cf3","cf4",u),t.addAttribute("position",new Yi(r,3)),t.addAttribute("color",new Yi(n,3)),xa.call(this,t,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Oc(e,t){this.object=e,void 0===t&&(t=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new $i;n.setIndex(new zi(i,1)),n.addAttribute("position",new zi(r,3)),xa.call(this,n,new wa({color:t})),this.matrixAutoUpdate=!1,this.update()}function Ic(e,t){this.type="Box3Helper",this.box=e;var i=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new $i;n.setIndex(new zi(r,1)),n.addAttribute("position",new Yi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),xa.call(this,n,new wa({color:i})),this.geometry.computeBoundingSphere()}function Nc(e,t,i){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==i?i:16776960,n=new $i;n.addAttribute("position",new Yi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),_a.call(this,n,new wa({color:r}));var a=new $i;a.addAttribute("position",new Yi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new _r(a,new gr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Dc(e,t,i,r,n,a){Ci.call(this),void 0===r&&(r=16776960),void 0===i&&(i=1),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===ec&&((ec=new $i).addAttribute("position",new Yi([0,0,0,0,1,0],3)),(tc=new Bo(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new _a(ec,new wa({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _r(tc,new gr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,n,a)}function Fc(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new $i;i.addAttribute("position",new Yi(t,3)),i.addAttribute("color",new Yi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new wa({vertexColors:O});xa.call(this,i,r)}function Bc(e,t,i,r,n,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ni(e,t,i,n,a,o)}Object.assign(nc.prototype,{getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}),Object.assign(ac,{Composite:nc,create:function(e,t,i){return e&&e.isAnimationObjectGroup?new ac.Composite(e,t,i):new ac(e,t,i)},sanitizeNodeName:(Kl=new RegExp("[\\[\\]\\.:\\/]","g"),function(e){return e.replace(/\s/g,"_").replace(Kl,"")}),parseTrackName:(Vl="[^\\[\\]\\.:\\/]",jl="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Wl=/((?:WC+[\/:])*)/.source.replace("WC",Vl),Xl=/(WCOD+)?/.source.replace("WCOD",jl),ql=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Vl),Yl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Vl),Jl=new RegExp("^"+Wl+Xl+ql+Yl+"$"),Zl=["material","materials","bones"],function(e){var t=Jl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==Zl.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var i=e.skeleton.getBoneByName(t);if(void 0!==i)return i}if(e.children){var r=function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.name===t||n.uuid===t)return n;var a=r(n.children);if(a)return a}return null},n=r(e.children);if(n)return n}return null}}),Object.assign(ac.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)e[t++]=i[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=e[t++]},function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,r=t.propertyName,n=t.propertyIndex;if(e||(e=ac.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var a=t.objectIndex;switch(i){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[i]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===n){n=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ac.prototype,{_getValue_unbound:ac.prototype.getValue,_setValue_unbound:ac.prototype.setValue}),Object.assign(oc.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var f=arguments[c],h=f.uuid,d=r[h];if(void 0===d){d=t++,r[h]=d,e.push(f);for(var p=0,m=s;p!==m;++p)o[p].push(new ac(f,n[p],a[p]))}else if(d<i){l=e[d];var v=--i,g=e[v];r[g.uuid]=d,e[d]=g,r[h]=v,e[v]=f;for(p=0,m=s;p!==m;++p){var y=o[p],b=y[v],w=y[d];y[d]=b,void 0===w&&(w=new ac(f,n[p],a[p])),y[v]=w}}else e[d]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=i},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=i[l];if(void 0!==c&&c>=t){var u=t++,f=e[u];i[f.uuid]=c,e[c]=f,i[l]=u,e[u]=s;for(var h=0,d=n;h!==d;++h){var p=r[h],m=p[u],v=p[c];p[c]=m,p[u]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,c=r[l];if(void 0!==c)if(delete r[l],c<i){var u=--i,f=e[u],h=e[g=--t];r[f.uuid]=c,e[c]=f,r[h.uuid]=u,e[u]=h,e.pop();for(var d=0,p=a;d!==p;++d){var m=(y=n[d])[u],v=y[g];y[c]=m,y[u]=v,y.pop()}}else{var g;r[(h=e[g=--t]).uuid]=c,e[c]=h,e.pop();for(d=0,p=a;d!==p;++d){var y;(y=n[d])[c]=y[g],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,r=i[e],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=n.length,i[e]=r,a.push(e),o.push(t),n.push(u);for(var f=c,h=s.length;f!==h;++f){var d=s[f];u[f]=new ac(d,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),Object.assign(sc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){var r=this._clip.duration,n=e._clip.duration,a=n/r,o=r/n;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=n,s[1]=n+i,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(e-n)*i;if(a<0||0===i)return;this._startTime=null,t=i*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,i=this._clip.duration,r=this.loop,n=this._loopCount,a=r===Tt;if(0===e)return-1===n?t:a&&1==(1&n)?i-t:t;if(r===Mt){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=i)t=i;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===n&&(e>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=i||t<0){var o=Math.floor(t/i);t-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&n))return this.time=t,i-t}return this.time=t,t},_setEndings:function(e,t,i){var r=this._interpolantSettings;i?(r.endingStart=Pt,r.endingEnd=Pt):(r.endingStart=e?this.zeroSlopeAtStart?Pt:Lt:Ct,r.endingEnd=t?this.zeroSlopeAtEnd?Pt:Lt:Ct)},_scheduleFading:function(e,t,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=t,o[1]=n+e,s[1]=i,this}}),lc.prototype=Object.assign(Object.create(r.prototype),{constructor:lc,_bindAction:function(e,t){var i=e._localRoot||this._root,r=e._clip.tracks,n=r.length,a=e._propertyBindings,o=e._interpolants,s=i.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==n;++u){var f=r[u],h=f.name,d=c[h];if(void 0!==d)a[u]=d;else{if(void 0!==(d=a[u])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[u].binding.parsedPath;++(d=new Gl(ac.create(i,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),a[u]=d}o[u].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,t)}for(var n=e._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,r=t.length;i!==r;++i){var n=t[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var r=this._actions,n=this._actionsByClip,a=n[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;var n=e._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,r=t.length;i!==r;++i){var n=t[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_addInactiveBinding:function(e,t,i){var r=this._bindingsByRootAndName,n=r[t],a=this._bindings;void 0===n&&(n={},r[t]=n),n[i]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[n];e:{for(var c in o)break e;delete a[r]}},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return void 0===i&&((i=new Xs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=i),i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,n=t[r];e.__cacheIndex=r,t[r]=e,n.__cacheIndex=i,t[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var i=t||this._root,r=i.uuid,n="string"==typeof e?il.findByName(i,e):e,a=null!==n?n.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var c=new sc(this,n,t);return this._bindAction(c,s),this._addInactiveAction(c,a,r),c},existingAction:function(e,t){var i=t||this._root,r=i.uuid,n="string"==typeof e?il.findByName(i,e):e,a=n?n.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==t;++n)e[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,i=this._nActiveActions,r=this.time+=e,n=Math.sign(e),a=this._accuIndex^=1,o=0;o!==i;++o){t[o]._update(r,e,n,a)}var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),cc.prototype.clone=function(){return new cc(void 0===this.value.clone?this.value:this.value.clone())},uc.prototype=Object.assign(Object.create($i.prototype),{constructor:uc,isInstancedBufferGeometry:!0,copy:function(e){return $i.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),fc.prototype=Object.assign(Object.create(ha.prototype),{constructor:fc,isInstancedInterleavedBuffer:!0,copy:function(e){return ha.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),hc.prototype=Object.assign(Object.create(zi.prototype),{constructor:hc,isInstancedBufferAttribute:!0,copy:function(e){return zi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(dc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,i){var r=i||[];return mc(e,this,r,t),r.sort(pc),r},intersectObjects:function(e,t,i){var r=i||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var n=0,a=e.length;n<a;n++)mc(e[n],this,r,t);return r.sort(pc),r}}),Object.assign(vc.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(gc.prototype,{set:function(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Yt.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(yc.prototype,{set:function(e,t,i){return this.radius=e,this.theta=t,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),Object.assign(bc.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Jt;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Jt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Jt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Jt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Jt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Jt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(wc.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Qt),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Qt),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Qt),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(Ql=new Qt,$l=new Qt,function(e,t){Ql.subVectors(e,this.start),$l.subVectors(this.end,this.start);var i=$l.dot($l),r=$l.dot(Ql)/i;return t&&(r=Yt.clamp(r,0,1)),r}),closestPointToPoint:function(e,t,i){var r=this.closestPointToPointParameter(e,t);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new Qt),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),_c.prototype=Object.create(Ci.prototype),_c.prototype.constructor=_c,_c.prototype.isImmediateRenderObject=!0,xc.prototype=Object.create(xa.prototype),xc.prototype.constructor=xc,xc.prototype.update=function(){var e=new Qt,t=new Qt,i=new $t;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,c=0,u=0,f=l.length;u<f;u++)for(var h=l[u],d=0,p=h.vertexNormals.length;d<p;d++){var m=s[h[r[d]]],v=h.vertexNormals[d];e.copy(m).applyMatrix4(n),t.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(c,e.x,e.y,e.z),c+=1,a.setXYZ(c,t.x,t.y,t.z),c+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(c=0,d=0,p=g.count;d<p;d++)e.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),t.set(y.getX(d),y.getY(d),y.getZ(d)),t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(c,e.x,e.y,e.z),c+=1,a.setXYZ(c,t.x,t.y,t.z),c+=1}a.needsUpdate=!0}}(),Ec.prototype=Object.create(Ci.prototype),Ec.prototype.constructor=Ec,Ec.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ec.prototype.update=function(){var e=new Qt,t=new Qt;return function(){this.light.updateMatrixWorld();var i=this.light.distance?this.light.distance:1e3,r=i*Math.tan(this.light.angle);this.cone.scale.set(r,r,i),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Mc.prototype=Object.create(xa.prototype),Mc.prototype.constructor=Mc,Mc.prototype.updateMatrixWorld=function(){var e=new Qt,t=new Zt,i=new Zt;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<n.length;s++){var c=n[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(i,c.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(i,c.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}a.getAttribute("position").needsUpdate=!0,Ci.prototype.updateMatrixWorld.call(this,r)}}(),Sc.prototype=Object.create(_r.prototype),Sc.prototype.constructor=Sc,Sc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Sc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Tc.prototype=Object.create(Ci.prototype),Tc.prototype.constructor=Tc,Tc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Tc.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,i=this.line.geometry.attributes.position,r=i.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,i.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},kc.prototype=Object.create(Ci.prototype),kc.prototype.constructor=kc,kc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},kc.prototype.update=function(){var e=new Qt,t=new bi,i=new bi;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");t.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?t:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Ac.prototype=Object.create(xa.prototype),Ac.prototype.constructor=Ac,Rc.prototype=Object.create(xa.prototype),Rc.prototype.constructor=Rc,Lc.prototype=Object.create(xa.prototype),Lc.prototype.constructor=Lc,Lc.prototype.update=function(){var e=new Qt,t=new Qt,i=new $t;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,c=0,u=s.length;c<u;c++){var f=s[c],h=f.normal;e.copy(o[f.a]).add(o[f.b]).add(o[f.c]).divideScalar(3).applyMatrix4(r),t.copy(h).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),n.setXYZ(l,e.x,e.y,e.z),l+=1,n.setXYZ(l,t.x,t.y,t.z),l+=1}n.needsUpdate=!0}}(),Pc.prototype=Object.create(Ci.prototype),Pc.prototype.constructor=Pc,Pc.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Pc.prototype.update=function(){var e=new Qt,t=new Qt,i=new Qt;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(t,e),this.lightPlane.lookAt(i),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(i),this.targetLine.scale.z=i.length()}}(),Cc.prototype=Object.create(xa.prototype),Cc.prototype.constructor=Cc,Cc.prototype.update=function(){var e,t,i=new Qt,r=new Oi;function n(n,a,o,s){i.set(a,o,s).unproject(r);var l=t[n];if(void 0!==l)for(var c=e.getAttribute("position"),u=0,f=l.length;u<f;u++)c.setXYZ(l[u],i.x,i.y,i.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Oc.prototype=Object.create(xa.prototype),Oc.prototype.constructor=Oc,Oc.prototype.update=function(){var e=new fi;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var i=e.min,r=e.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Oc.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Ic.prototype=Object.create(xa.prototype),Ic.prototype.constructor=Ic,Ic.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Ci.prototype.updateMatrixWorld.call(this,e))},Nc.prototype=Object.create(_a.prototype),Nc.prototype.constructor=Nc,Nc.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?k:T,this.lookAt(this.plane.normal),Ci.prototype.updateMatrixWorld.call(this,e)},Dc.prototype=Object.create(Ci.prototype),Dc.prototype.constructor=Dc,Dc.prototype.setDirection=(rc=new Qt,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(rc.set(e.z,0,-e.x).normalize(),ic=Math.acos(e.y),this.quaternion.setFromAxisAngle(rc,ic))}),Dc.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},Dc.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Fc.prototype=Object.create(xa.prototype),Fc.prototype.constructor=Fc;var Uc=0,zc=1;function Hc(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Gc(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Vc(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Sa(e,t)}function jc(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ma(e)}function Wc(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Sa(e,t)}function Xc(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ma(e)}function qc(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ma(e)}function Yc(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ma(e)}function Jc(e,t,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Qt(e,t,i)}function Zc(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new zi(e,t).setDynamic(!0)}function Kc(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Hi(e,t)}function Qc(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Gi(e,t)}function $c(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Vi(e,t)}function eu(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ji(e,t)}function tu(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Wi(e,t)}function iu(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Xi(e,t)}function ru(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new qi(e,t)}function nu(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Yi(e,t)}function au(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ji(e,t)}function ou(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ys.call(this,e),this.type="catmullrom",this.closed=!0}function su(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ys.call(this,e),this.type="catmullrom"}function lu(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ys.call(this,e),this.type="catmullrom"}function cu(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Fc(e)}function uu(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Oc(e,t)}function fu(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xa(new Do(e.geometry),new wa({color:void 0!==t?t:16777215}))}function hu(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xa(new La(e.geometry),new wa({color:void 0!==t?t:16777215}))}function du(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ns(e)}function pu(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new os(e)}us.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(us.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Ls.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Ui,i=0,r=e.length;i<r;i++){var n=e[i];t.vertices.push(new Qt(n.x,n.y,n.z||0))}return t}}),Object.assign(Ps.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),ou.prototype=Object.create(ys.prototype),su.prototype=Object.create(ys.prototype),lu.prototype=Object.create(ys.prototype),Object.assign(lu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Ac.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Mc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(fl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),hl.extractUrlBase(e)}}),Object.assign(bc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(fi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),wc.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Yt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Yt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Yt.ceilPowerOfTwo(e)}}),Object.assign($t.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Zt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new Qt),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,i,r,n,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,i,n,a)}}),di.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Kt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(br.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(wr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(wr,{barycoordFromPoint:function(e,t,i,r,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),wr.getBarycoord(e,t,i,r,n)},normal:function(e,t,i,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),wr.getNormal(e,t,i,r)}}),Object.assign(Cs.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new _o(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Oo(this,e)}}),Object.assign(Jt.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Qt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(si.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ui.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Ci.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Ci.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(va.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ga.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(us.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),na.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Os.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(zi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign($i.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties($i.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(xo.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(cc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(vr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new bi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===R}}}),Object.defineProperties(Yo.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(yr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(la.prototype,{animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(la.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties($n.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(li.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(oa.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Ul.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Nl).load(e,function(e){t.setBuffer(e)}),this},Hl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Fl.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var mu={merge:function(e,t,i){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,i)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function vu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function gu(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}ni.crossOrigin=void 0,ni.loadTexture=function(e,t,i,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var n=new cs;n.setCrossOrigin(this.crossOrigin);var a=n.load(e,i,void 0,r);return t&&(a.mapping=t),a},ni.loadTextureCube=function(e,t,i,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var n=new ls;n.setCrossOrigin(this.crossOrigin);var a=n.load(e,i,void 0,r);return t&&(a.mapping=t),a},ni.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ni.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var yu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function bu(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},function(e,t,i){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}r(i(7)),r(i(10))},function(e,t,i){!function(){"use strict";var e=function(e,t,i){var n=e,a=t;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var o=e;i=t,n=o.videoWidth||o.width,a=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.videoWidth=n,this.videoHeight=a,"string"==typeof i){var s=this;this.cameraParam=new r(i,function(){s._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=i,this._initialize()};e.prototype.dispose=function(){for(var e in n.teardown(this.id),this)this[e]=null},e.prototype.process=function(e){this.detectMarker(e);var t,i,r=this.getMarkerNum();for(t in this.patternMarkers)(i=this.patternMarkers[t]).inPrevious=i.inCurrent,i.inCurrent=!1;for(t in this.barcodeMarkers)(i=this.barcodeMarkers[t]).inPrevious=i.inCurrent,i.inCurrent=!1;for(var a=0;a<r;a++){var o=this.getMarker(a),s=n.UNKNOWN_MARKER,l=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||-1===o.idMatrix)?(l=this.trackPatternMarkerId(o.idPatt),s=n.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(a,o.dirPatt)):o.idMatrix>-1&&(l=this.trackBarcodeMarkerId(o.idMatrix),s=n.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(a,o.dirMatrix)),s!==n.UNKNOWN_MARKER&&l.inPrevious?this.getTransMatSquareCont(a,l.markerWidth,l.matrix,l.matrix):this.getTransMatSquare(a,l.markerWidth,l.matrix),l.inCurrent=!0,this.transMatToGLMat(l.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:a,type:s,marker:o,matrix:this.transform_mat}})}var c=this.getMultiMarkerCount();for(a=0;a<c;a++){var u=this.getMultiMarkerPatternCount(a);l=!1;n.getTransMatMultiSquareRobust(this.id,a),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var f=0;f<u;f++){if((h=this.getMultiEachMarker(a,f)).visible>=0){l=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:a,matrix:this.transform_mat}});break}}if(l)for(f=0;f<u;f++){var h=this.getMultiEachMarker(a,f);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:a,markerIndex:f,marker:h,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},e.prototype.trackPatternMarkerId=function(e,t){var i=this.patternMarkers[e];return i||(this.patternMarkers[e]=i={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(i.markerWidth=t),i},e.prototype.trackBarcodeMarkerId=function(e,t){var i=this.barcodeMarkers[e];return i||(this.barcodeMarkers[e]=i={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(i.markerWidth=t),i},e.prototype.getMultiMarkerCount=function(){return n.getMultiMarkerCount(this.id)},e.prototype.getMultiMarkerPatternCount=function(e){return n.getMultiMarkerNum(this.id,e)},e.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var i=this.listeners[e].indexOf(t);i>-1&&this.listeners[e].splice(i,1)}},e.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var i=0;i<t.length;i++)t[i].call(this,e)},e.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},e.prototype.loadMarker=function(e,t,i){return n.addMarker(this.id,e,t,i)},e.prototype.loadMultiMarker=function(e,t,i){return n.addMultiMarker(this.id,e,t,i)},e.prototype.getTransMatSquare=function(e,t,i){return n.getTransMatSquare(this.id,e,t),i.set(this.marker_transform_mat),i},e.prototype.getTransMatSquareCont=function(e,t,i,r){return this.marker_transform_mat.set(i),n.getTransMatSquareCont(this.id,e,t),r.set(this.marker_transform_mat),r},e.prototype.getTransMatMultiSquare=function(e,t){return n.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},e.prototype.getTransMatMultiSquareRobust=function(e,t){return n.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},e.prototype.transMatToGLMat=function(e,t,i){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,null!=i&&0!==i&&(t[12]*=i,t[13]*=i,t[14]*=i),t},e.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?n.detectMarker(this.id):-99},e.prototype.getMarkerNum=function(){return n.getMarkerNum(this.id)},e.prototype.getMarker=function(e){if(0===n.getMarker(this.id,e))return n.markerInfo},e.prototype.setMarkerInfoVertex=function(e,t){for(var i=0;i<t.length;i++)this.marker_transform_mat[2*i+0]=t[i][0],this.marker_transform_mat[2*i+1]=t[i][1];return n.setMarkerInfoVertex(this.id,e)},e.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.getMultiEachMarker=function(e,t){if(0===n.getMultiEachMarker(this.id,e,t))return n.multiEachMarkerInfo},e.prototype.getTransformationMatrix=function(){return this.transform_mat},e.prototype.getCameraMatrix=function(){return this.camera_mat},e.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},e.prototype.setDebugMode=function(e){return n.setDebugMode(this.id,e)},e.prototype.getDebugMode=function(){return n.getDebugMode(this.id)},e.prototype.getProcessingImage=function(){return n.getProcessingImage(this.id)},e.prototype.setLogLevel=function(e){return n.setLogLevel(e)},e.prototype.getLogLevel=function(){return n.getLogLevel()},e.prototype.setMarkerInfoDir=function(e,t){return n.setMarkerInfoDir(this.id,e,t)},e.prototype.setProjectionNearPlane=function(e){return n.setProjectionNearPlane(this.id,e)},e.prototype.getProjectionNearPlane=function(){return n.getProjectionNearPlane(this.id)},e.prototype.setProjectionFarPlane=function(e){return n.setProjectionFarPlane(this.id,e)},e.prototype.getProjectionFarPlane=function(){return n.getProjectionFarPlane(this.id)},e.prototype.setThresholdMode=function(e){return n.setThresholdMode(this.id,e)},e.prototype.getThresholdMode=function(){return n.getThresholdMode(this.id)},e.prototype.setThreshold=function(e){return n.setThreshold(this.id,e)},e.prototype.getThreshold=function(){return n.getThreshold(this.id)},e.prototype.setPatternDetectionMode=function(e){return n.setPatternDetectionMode(this.id,e)},e.prototype.getPatternDetectionMode=function(){return n.getPatternDetectionMode(this.id)},e.prototype.setMatrixCodeType=function(e){return n.setMatrixCodeType(this.id,e)},e.prototype.getMatrixCodeType=function(){return n.getMatrixCodeType(this.id)},e.prototype.setLabelingMode=function(e){return n.setLabelingMode(this.id,e)},e.prototype.getLabelingMode=function(){return n.getLabelingMode(this.id)},e.prototype.setPattRatio=function(e){return n.setPattRatio(this.id,e)},e.prototype.getPattRatio=function(){return n.getPattRatio(this.id)},e.prototype.setImageProcMode=function(e){return n.setImageProcMode(this.id,e)},e.prototype.getImageProcMode=function(){return n.getImageProcMode(this.id)},e.prototype.debugDraw=function(){var e=new Uint8ClampedArray(p.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var i=this.getMarkerNum(),r=0;r<i;r++)this._debugMarker(this.getMarker(r))},e.prototype._initialize=function(){this.id=n.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=n.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(p.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(p.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(p.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},e.prototype._copyImageToHeap=function(e){e||(e=this.image),this.ctx.save(),"portrait"===this.orientation?(this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width)):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height),this.ctx.restore();var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data;return!!this.dataHeap&&(this.dataHeap.set(t),!0)},e.prototype._debugMarker=function(e){var t,i;t=e.vertex;var r=this.ctx;r.strokeStyle="red",r.beginPath(),r.moveTo(t[0][0],t[0][1]),r.lineTo(t[1][0],t[1][1]),r.stroke(),r.beginPath(),r.moveTo(t[2][0],t[2][1]),r.lineTo(t[3][0],t[3][1]),r.stroke(),r.strokeStyle="green",r.beginPath(),r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]),r.stroke(),r.beginPath(),r.moveTo(t[3][0],t[3][1]),r.lineTo(t[0][0],t[0][1]),r.stroke(),i=e.pos,r.beginPath(),r.arc(i[0],i[1],8,0,2*Math.PI),r.fillStyle="red",r.fill()},e.getUserMedia=function(e){var t=e.facingMode||"environment",i=e.onSuccess,r=e.onError||function(e){console.error("ARController.getUserMedia",e)},n=document.createElement("video"),a=function(){0!==this.videoWidth&&i(n)},o=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],l=function(e){o&&(n.play(),n.paused||s.forEach(function(e){window.removeEventListener(e,l,!0)}))};s.forEach(function(e){window.addEventListener(e,l,!0)});var c={},u={};e.width&&(u.width=e.width,"object"==typeof e.width?(e.width.max&&(c.maxWidth=e.width.max),e.width.min&&(c.minWidth=e.width.max)):c.maxWidth=e.width),e.height&&(u.height=e.height,"object"==typeof e.height?(e.height.max&&(c.maxHeight=e.height.max),e.height.min&&(c.minHeight=e.height.max)):c.maxHeight=e.height);var f={mandatory:c};e.cameraConfig&&e.cameraConfig.video&&(f=e.cameraConfig.video),u.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var h={audio:!1,video:f};return navigator.getUserMedia?navigator.getUserMedia(h,function(e){n.addEventListener("loadedmetadata",a,!1),n.src=window.URL.createObjectURL(e),o=!0,l()},r):r("navigator.getUserMedia is not supported on your browser"),n},e.getUserMediaARController=function(t){var i={};for(var n in t)i[n]=t[n];var a=t.onSuccess,o=t.cameraParam;i.onSuccess=function(){new r(o,function(){var i=(t.maxARVideoSize||Math.max(s.videoWidth,s.videoHeight))/Math.max(s.videoWidth,s.videoHeight),r=i*s.videoWidth,n=i*s.videoHeight;if(s.videoWidth<s.videoHeight){var o=r;r=n,n=o}var l=new e(r,n,this);l.image=s,s.videoWidth<s.videoHeight?(l.orientation="portrait",l.videoWidth=s.videoHeight,l.videoHeight=s.videoWidth):(l.orientation="landscape",l.videoWidth=s.videoWidth,l.videoHeight=s.videoHeight),a(l,this)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var s=this.getUserMedia(i);return s};var r=function(e,t,i){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=i,e&&this.load(e)};r.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;n.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(r.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),r.prototype.dispose=function(){-1!==this.id&&n.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var n={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:function(e,t){var i="/camera_param_"+c++,r=function(){var e=p._loadCamera(i);t&&t(e)};"object"==typeof e?u(i,e,r):e.indexOf("\n")>-1?function(e,t,i){for(var r=new Uint8Array(t.length),n=0;n<r.length;n++)r[n]=255&t.charCodeAt(n);u(e,r,i)}(i,e,r):f(e,i,r)},addMarker:function(e,t,i){var r="/marker_"+s++;f(t,r,function(){var t=p._addMarker(e,r);i&&i(t)})},addMultiMarker:function(e,t,i){var r="/multi_marker_"+l++;f(t,r,function(n){var a=function(e){var t=(n=e,String.fromCharCode.apply(String,n)).split("\n"),i=[],r=0;var n;return t.forEach(function(e){if((e=e.trim())&&!e.startsWith("#"))switch(r){case 0:return+e,void(r=1);case 1:e.match(/^\d+$/)||i.push(e);case 2:case 3:case 4:return void r++;case 5:return void(r=1)}}),i}(n);function o(){var t=p._addMultiMarker(e,r),n=p.getMultiMarkerNum(e,t);i&&i(t,n)}if(!a.length)return o();var s=t.split("/").slice(0,-1).join("/");(function e(t,i){var r=t.pop();r?f(r[0],r[1],function(){e(t,i)}):i()})(a=a.map(function(e){return[s+"/"+e,e]}),o)})}},a=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"];function o(){for(var e in a.forEach(function(e){n[e]=p[e]}),p)e.match(/^AR/)&&(n[e]=p[e])}var s=0;var l=0;var c=0;function u(e,t,i){d.writeFile(e,t,{encoding:"binary"}),i(t)}function f(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(e){var n=r.response,a=new Uint8Array(n);u(t,a,i)},r.send()}window.artoolkit=n,window.ARController=e,window.ARCameraParam=r,t.artoolkit=n,t.ARController=e,t.ARCameraParam=r;var h=i(8),d=h.FS,p=h.Module;window.Module=p,window.Module?o():window.Module={onRuntimeInitialized:function(){o()}}}()},function(module,exports,__webpack_require__){(function(__dirname){var Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=__webpack_require__(2),nodePath=__webpack_require__(3);Module.read=function(e,t){e=nodePath.normalize(e);var i=nodeFS.readFileSync(e);return i||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),i=nodeFS.readFileSync(e)),i&&!t&&(i=i.toString()),i},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"==typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,i){return i||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,i){return i&&i.length?(assert(i.length==e.length-1),i.splice||(i=Array.prototype.slice.call(i)),i.splice(0,0,t),assert("dynCall_"+e in Module,"bad function pointer type - no table for sig '"+e+"'"),Module["dynCall_"+e].apply(null,i)):(assert(1==e.length),assert("dynCall_"+e in Module,"bad function pointer type - no table for sig '"+e+"'"),Module["dynCall_"+e].call(null,t))},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var i=Runtime.funcWrappers[t];return i[e]||(i[e]=function(){return Runtime.dynCall(t,e,arguments)}),i[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return assert((0|(STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16))<(0|STACK_MAX)|0),t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+(assert(!staticSealed),e)|0)+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if((DYNAMICTOP=(DYNAMICTOP=DYNAMICTOP+(assert(DYNAMICTOP>0),e)|0)+15&-16)>=TOTAL_MEMORY&&!enlargeMemory())return DYNAMICTOP=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,i){return i?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: "+t)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,i,r){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+i)}}function getValue(e,t,i){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}!function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!=e&&0!==e&&writeStringToMemory(e,t=Runtime.stackAlloc(1+(e.length<<2))),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,i,r,n){var a=getCFunc(e),o=[],s=0;if(assert("array"!==t,'Return type should not be "array".'),r)for(var l=0;l<r.length;l++){var c=toC[i[l]];c?(0===s&&(s=Runtime.stackSave()),o[l]=c(r[l])):o[l]=r[l]}var u=a.apply(null,o);if(n&&n.async||"object"!=typeof EmterpreterAsync||assert(!EmterpreterAsync.state,"cannot start async op with normal JS calling ccall"),n&&n.async&&assert(!t,"async ccalls cannot return values"),"string"===t&&(u=Pointer_stringify(u)),0!==s){if(n&&n.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return u};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return funcstr+="if (typeof EmterpreterAsync === 'object') { assert(!EmterpreterAsync.state, 'cannot start async op with normal JS calling cwrap') }",numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,i,r){var n,a;"number"==typeof e?(n=!0,a=e):(n=!1,a=e.length);var o,s="string"==typeof t?t:null;if(o=i==ALLOC_NONE?r:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===i?ALLOC_STATIC:i](Math.max(a,s?1:t.length)),n){var l;r=o;for(assert(0==(3&o)),l=o+(-4&a);r<l;r+=4)HEAP32[r>>2]=0;for(l=o+a;r<l;)HEAP8[r++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var c,u,f,h=0;h<a;){var d=e[h];"function"==typeof d&&(d=Runtime.getFunctionIndex(d)),0!==(c=s||t[h])?(assert(c,"Must know what type to store in allocate!"),"i64"==c&&(c="i32"),setValue(o+h,d,c),f!==c&&(u=Runtime.getNativeTypeSize(c),f=c),h+=u):h++}return o}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var i,r=0,n=0;assert(e+n<TOTAL_MEMORY),r|=i=HEAPU8[e+n>>0],(0!=i||t)&&(n++,!t||n!=t););t||(t=n);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var i=HEAP8[e++>>0];if(!i)return t;t+=String.fromCharCode(i)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var i,r,n,a,o,s="";;){if(!(i=e[t++]))return s;if(128&i)if(r=63&e[t++],192!=(224&i))if(n=63&e[t++],224==(240&i)?i=(15&i)<<12|r<<6|n:(a=63&e[t++],240==(248&i)?i=(7&i)<<18|r<<12|n<<6|a:(o=63&e[t++],i=248==(252&i)?(3&i)<<24|r<<18|n<<12|a<<6|o:(1&i)<<30|r<<24|n<<18|a<<12|o<<6|63&e[t++])),i<65536)s+=String.fromCharCode(i);else{var l=i-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}else s+=String.fromCharCode((31&i)<<6|r);else s+=String.fromCharCode(i)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,i,r){if(!(r>0))return 0;for(var n=i,a=i+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(i>=a)break;t[i++]=s}else if(s<=2047){if(i+1>=a)break;t[i++]=192|s>>6,t[i++]=128|63&s}else if(s<=65535){if(i+2>=a)break;t[i++]=224|s>>12,t[i++]=128|s>>6&63,t[i++]=128|63&s}else if(s<=2097151){if(i+3>=a)break;t[i++]=240|s>>18,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}else if(s<=67108863){if(i+4>=a)break;t[i++]=248|s>>24,t[i++]=128|s>>18&63,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}else{if(i+5>=a)break;t[i++]=252|s>>30,t[i++]=128|s>>24&63,t[i++]=128|s>>18&63,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}}return t[i]=0,i-n}function stringToUTF8(e,t,i){return assert("number"==typeof i,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),stringToUTF8Array(e,HEAPU8,t,i)}function lengthBytesUTF8(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,i="";;){var r=HEAP16[e+2*t>>1];if(0==r)return i;++t,i+=String.fromCharCode(r)}}function stringToUTF16(e,t,i){if(assert("number"==typeof i,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===i&&(i=2147483647),i<2)return 0;for(var r=t,n=(i-=2)<2*e.length?i/2:e.length,a=0;a<n;++a){var o=e.charCodeAt(a);HEAP16[t>>1]=o,t+=2}return HEAP16[t>>1]=0,t-r}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,i="";;){var r=HEAP32[e+4*t>>2];if(0==r)return i;if(++t,r>=65536){var n=r-65536;i+=String.fromCharCode(55296|n>>10,56320|1023&n)}else i+=String.fromCharCode(r)}}function stringToUTF32(e,t,i){if(assert("number"==typeof i,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===i&&(i=2147483647),i<4)return 0;for(var r=t,n=r+i-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(HEAP32[t>>2]=o,(t+=4)+4>n)break}return HEAP32[t>>2]=0,t-r}function lengthBytesUTF32(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&++i,t+=4}return t}function demangle(e){var t=!!Module.___cxa_demangle;if(t)try{var i=_malloc(e.length);writeStringToMemory(e.substr(1),i);var r=_malloc(4),n=Module.___cxa_demangle(i,0,0,r);if(0===getValue(r,"i32")&&n)return Pointer_stringify(n)}catch(e){}finally{i&&_free(i),r&&_free(r),n&&_free(n)}var a=3,o={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},s=[],l=!0;var c=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}c=function t(i,r,n){r=r||1/0;var c,u="",f=[];if("N"===e[a]){if(c=function(){"K"===e[++a]&&a++;for(var t=[];"E"!==e[a];)if("S"!==e[a])if("C"!==e[a]){var i=parseInt(e.substr(a)),r=i.toString().length;if(!i||!r){a--;break}var n=e.substr(a+r,i);t.push(n),s.push(n),a+=r+i}else t.push(t[t.length-1]),a+=2;else{a++;var o=e.indexOf("_",a),l=e.substring(a,o)||0;t.push(s[l]||"?"),a=o+1}return a++,t}().join("::"),0==--r)return i?[c]:c}else if(("K"===e[a]||l&&"L"===e[a])&&a++,m=parseInt(e.substr(a))){var h=m.toString().length;c=e.substr(a+h,m),a+=h+m}if(l=!1,"I"===e[a]){a++;var d=t(!0);u+=t(!0,1,!0)[0]+" "+c+"<"+d.join(", ")+">"}else u=c;e:for(;a<e.length&&r-- >0;){var p=e[a++];if(p in o)f.push(o[p]);else switch(p){case"P":f.push(t(!0,1,!0)[0]+"*");break;case"R":f.push(t(!0,1,!0)[0]+"&");break;case"L":a++;var m=e.indexOf("E",a)-a;f.push(e.substr(a,m)),a+=m+2;break;case"A":if(m=parseInt(e.substr(a)),a+=m.toString().length,"_"!==e[a])throw"?";a++,f.push(t(!0,1,!0)[0]+" ["+m+"]");break;case"E":break e;default:u+="?"+p;break e}}return n||1!==f.length||"void"!==f[0]||(f=[]),i?(u&&f.push(u+"?"),f):u+"("+f.join(", ")+")"}()}catch(e){c+="?"}return c.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),c}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,byteLength;function enlargeMemory(){assert(DYNAMICTOP>=TOTAL_MEMORY),assert(TOTAL_MEMORY>4);var e=TOTAL_MEMORY,t=Math.pow(2,31);if(DYNAMICTOP>=t)return!1;for(;TOTAL_MEMORY<=DYNAMICTOP;)if(TOTAL_MEMORY<t/2)TOTAL_MEMORY=alignMemoryPage(2*TOTAL_MEMORY);else{var i=TOTAL_MEMORY;if((TOTAL_MEMORY=alignMemoryPage((3*TOTAL_MEMORY+t)/4))<=i)return!1}if((TOTAL_MEMORY=Math.max(TOTAL_MEMORY,16777216))>=t)return!1;Module.printErr("Warning: Enlarging memory arrays, this is not fast! "+[e,TOTAL_MEMORY]);var r=Date.now();try{if(ArrayBuffer.transfer)buffer=ArrayBuffer.transfer(buffer,TOTAL_MEMORY);else{var n=HEAP8;buffer=new ArrayBuffer(TOTAL_MEMORY)}}catch(e){return!1}return!!_emscripten_replace_memory(buffer)&&(Module.buffer=buffer,Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer),ArrayBuffer.transfer||HEAP8.set(n),Module.printErr("enlarged memory arrays from "+e+" to "+TOTAL_MEMORY+", took "+(Date.now()-r)+" ms (has ArrayBuffer.transfer? "+!!ArrayBuffer.transfer+")"),!0)}try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),byteLength(new ArrayBuffer(4))}catch(e){byteLength=function(e){return e.byteLength}}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?Runtime.dynCall("v",i):Runtime.dynCall("vi",i,[t.arg]):i(void 0===t.arg?null:t.arg)}else t()}}totalMemory=Math.max(totalMemory,16777216),totalMemory!==TOTAL_MEMORY&&(Module.printErr("increasing TOTAL_MEMORY to "+totalMemory+" to be compliant with the asm.js spec (and given that TOTAL_STACK="+TOTAL_STACK+")"),TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,i){var r=i>0?i:lengthBytesUTF8(e)+1,n=new Array(r),a=stringToUTF8Array(e,n,0,n.length);return t&&(n.length=a),n}function intArrayToString(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];r>255&&(assert(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+i+" not in 0x00-0xFF."),r&=255),t.push(String.fromCharCode(r))}return t.join("")}function writeStringToMemory(e,t,i){for(var r=intArrayFromString(e,i),n=0;n<r.length;){var a=r[n];HEAP8[t+n>>0]=a,n+=1}}function writeArrayToMemory(e,t){for(var i=0;i<e.length;i++)HEAP8[t++>>0]=e[i]}function writeAsciiToMemory(e,t,i){for(var r=0;r<e.length;++r)assert(e.charCodeAt(r)==e.charCodeAt(r)&255),HEAP8[t++>>0]=e.charCodeAt(r);i||(HEAP8[t>>0]=0)}function unSign(e,t,i){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,i){if(e<=0)return e;var r=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=r&&(t<=32||e>r)&&(e=-2*r+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var i=65535&e,r=65535&t;return i*r+((e>>>16)*r+i*(t>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null,runDependencyTracking={};function getUniqueRunDependency(e){for(var t=e;;){if(!runDependencyTracking[e])return e;e=t+Math.random()}return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),e?(assert(!runDependencyTracking[e]),runDependencyTracking[e]=1,null===runDependencyWatcher&&"undefined"!=typeof setInterval&&(runDependencyWatcher=setInterval(function(){if(ABORT)return clearInterval(runDependencyWatcher),void(runDependencyWatcher=null);var e=!1;for(var t in runDependencyTracking)e||(e=!0,Module.printErr("still waiting on run dependencies:")),Module.printErr("dependency: "+t);e&&Module.printErr("(end of list)")},1e4))):Module.printErr("warning: run dependency added without ID")}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),e?(assert(runDependencyTracking[e]),delete runDependencyTracking[e]):Module.printErr("warning: run dependency removed without ID"),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[function(e,t,i,r){artoolkit.multiEachMarkerInfo||(artoolkit.multiEachMarkerInfo={});var n=artoolkit.multiEachMarkerInfo;n.visible=e,n.pattId=t,n.pattType=i,n.width=r},function(e,t,i,r,n,a,o,s,l,c,u,f,h,d,p,m,v,g,y,b,w,_,x,E,M,S,T,k,A,R,L,P,C){var O=arguments,I=12;artoolkit.markerInfo||(artoolkit.markerInfo={pos:[0,0],line:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertex:[[0,0],[0,0],[0,0],[0,0]]});var N=artoolkit.markerInfo;N.area=e,N.id=t,N.idPatt=i,N.idMatrix=r,N.dir=n,N.dirPatt=a,N.dirMatrix=o,N.cf=s,N.cfPatt=l,N.cfMatrix=c,N.pos[0]=u,N.pos[1]=f,N.line[0][0]=O[I++],N.line[0][1]=O[I++],N.line[0][2]=O[I++],N.line[1][0]=O[I++],N.line[1][1]=O[I++],N.line[1][2]=O[I++],N.line[2][0]=O[I++],N.line[2][1]=O[I++],N.line[2][2]=O[I++],N.line[3][0]=O[I++],N.line[3][1]=O[I++],N.line[3][2]=O[I++],N.vertex[0][0]=O[I++],N.vertex[0][1]=O[I++],N.vertex[1][0]=O[I++],N.vertex[1][1]=O[I++],N.vertex[2][0]=O[I++],N.vertex[2][1]=O[I++],N.vertex[3][0]=O[I++],N.vertex[3][1]=O[I++],N.errorCorrected=O[I++]},function(e,t,i,r,n){artoolkit.frameMalloc||(artoolkit.frameMalloc={});var a=artoolkit.frameMalloc;a.framepointer=t,a.framesize=i,a.camera=r,a.transform=n}];function _emscripten_asm_const_33(e,t,i,r,n,a,o,s,l,c,u,f,h,d,p,m,v,g,y,b,w,_,x,E,M,S,T,k,A,R,L,P,C,O){return ASM_CONSTS[e](t,i,r,n,a,o,s,l,c,u,f,h,d,p,m,v,g,y,b,w,_,x,E,M,S,T,k,A,R,L,P,C,O)}function _emscripten_asm_const_4(e,t,i,r,n){return ASM_CONSTS[e](t,i,r,n)}function _emscripten_asm_const_5(e,t,i,r,n,a){return ASM_CONSTS[e](t,i,r,n,a)}STATIC_BASE=8,STATICTOP=STATIC_BASE+18320,__ATINIT__.push({func:function(){__GLOBAL__sub_I_ARToolKitJS_cpp()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,52,9,0,0,52,42,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,115,42,0,0,52,9,0,0,12,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,52,9,0,0,205,46,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,186,46,0,0,228,8,0,0,155,46,0,0,228,8,0,0,194,45,0,0,228,8,0,0,163,45,0,0,228,8,0,0,132,45,0,0,228,8,0,0,101,45,0,0,228,8,0,0,70,45,0,0,228,8,0,0,225,45,0,0,228,8,0,0,0,46,0,0,228,8,0,0,31,46,0,0,228,8,0,0,62,46,0,0,228,8,0,0,93,46,0,0,228,8,0,0,124,46,0,0,12,9,0,0,75,47,0,0,48,2,0,0,0,0,0,0,228,8,0,0,88,47,0,0,228,8,0,0,101,47,0,0,12,9,0,0,114,47,0,0,56,2,0,0,0,0,0,0,12,9,0,0,147,47,0,0,64,2,0,0,0,0,0,0,12,9,0,0,181,47,0,0,64,2,0,0,0,0,0,0,200,8,0,0,221,47,0,0,200,8,0,0,223,47,0,0,200,8,0,0,225,47,0,0,200,8,0,0,227,47,0,0,200,8,0,0,229,47,0,0,200,8,0,0,231,47,0,0,200,8,0,0,233,47,0,0,200,8,0,0,235,47,0,0,200,8,0,0,237,47,0,0,200,8,0,0,244,53,0,0,200,8,0,0,239,47,0,0,200,8,0,0,241,47,0,0,200,8,0,0,243,47,0,0,12,9,0,0,245,47,0,0,80,2,0,0,0,0,0,0,12,9,0,0,26,48,0,0,80,2,0,0,0,0,0,0,255,15,0,0,6,16,0,0,18,16,0,0,28,16,0,0,255,255,255,255,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,11,0,0,0,5,0,0,0,10,0,0,0,7,0,0,0,14,0,0,0,15,0,0,0,13,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,24,0,0,0,48,0,0,0,96,0,0,0,67,0,0,0,5,0,0,0,10,0,0,0,20,0,0,0,40,0,0,0,80,0,0,0,35,0,0,0,70,0,0,0,15,0,0,0,30,0,0,0,60,0,0,0,120,0,0,0,115,0,0,0,101,0,0,0,73,0,0,0,17,0,0,0,34,0,0,0,68,0,0,0,11,0,0,0,22,0,0,0,44,0,0,0,88,0,0,0,51,0,0,0,102,0,0,0,79,0,0,0,29,0,0,0,58,0,0,0,116,0,0,0,107,0,0,0,85,0,0,0,41,0,0,0,82,0,0,0,39,0,0,0,78,0,0,0,31,0,0,0,62,0,0,0,124,0,0,0,123,0,0,0,117,0,0,0,105,0,0,0,81,0,0,0,33,0,0,0,66,0,0,0,7,0,0,0,14,0,0,0,28,0,0,0,56,0,0,0,112,0,0,0,99,0,0,0,69,0,0,0,9,0,0,0,18,0,0,0,36,0,0,0,72,0,0,0,19,0,0,0,38,0,0,0,76,0,0,0,27,0,0,0,54,0,0,0,108,0,0,0,91,0,0,0,53,0,0,0,106,0,0,0,87,0,0,0,45,0,0,0,90,0,0,0,55,0,0,0,110,0,0,0,95,0,0,0,61,0,0,0,122,0,0,0,119,0,0,0,109,0,0,0,89,0,0,0,49,0,0,0,98,0,0,0,71,0,0,0,13,0,0,0,26,0,0,0,52,0,0,0,104,0,0,0,83,0,0,0,37,0,0,0,74,0,0,0,23,0,0,0,46,0,0,0,92,0,0,0,59,0,0,0,118,0,0,0,111,0,0,0,93,0,0,0,57,0,0,0,114,0,0,0,103,0,0,0,77,0,0,0,25,0,0,0,50,0,0,0,100,0,0,0,75,0,0,0,21,0,0,0,42,0,0,0,84,0,0,0,43,0,0,0,86,0,0,0,47,0,0,0,94,0,0,0,63,0,0,0,126,0,0,0,127,0,0,0,125,0,0,0,121,0,0,0,113,0,0,0,97,0,0,0,65,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,4,0,0,0,2,0,0,0,8,0,0,0,5,0,0,0,10,0,0,0,3,0,0,0,14,0,0,0,9,0,0,0,7,0,0,0,6,0,0,0,13,0,0,0,11,0,0,0,12,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,14,0,0,0,8,0,0,0,56,0,0,0,3,0,0,0,63,0,0,0,15,0,0,0,31,0,0,0,9,0,0,0,90,0,0,0,57,0,0,0,21,0,0,0,4,0,0,0,28,0,0,0,64,0,0,0,67,0,0,0,16,0,0,0,112,0,0,0,32,0,0,0,97,0,0,0,10,0,0,0,108,0,0,0,91,0,0,0,70,0,0,0,58,0,0,0,38,0,0,0,22,0,0,0,47,0,0,0,5,0,0,0,54,0,0,0,29,0,0,0,19,0,0,0,65,0,0,0,95,0,0,0,68,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,113,0,0,0,115,0,0,0,33,0,0,0,77,0,0,0,98,0,0,0,117,0,0,0,11,0,0,0,87,0,0,0,109,0,0,0,35,0,0,0,92,0,0,0,74,0,0,0,71,0,0,0,79,0,0,0,59,0,0,0,104,0,0,0,39,0,0,0,100,0,0,0,23,0,0,0,82,0,0,0,48,0,0,0,119,0,0,0,6,0,0,0,126,0,0,0,55,0,0,0,13,0,0,0,30,0,0,0,62,0,0,0,20,0,0,0,89,0,0,0,66,0,0,0,27,0,0,0,96,0,0,0,111,0,0,0,69,0,0,0,107,0,0,0,46,0,0,0,37,0,0,0,18,0,0,0,53,0,0,0,44,0,0,0,94,0,0,0,114,0,0,0,42,0,0,0,116,0,0,0,76,0,0,0,34,0,0,0,86,0,0,0,78,0,0,0,73,0,0,0,99,0,0,0,103,0,0,0,118,0,0,0,81,0,0,0,12,0,0,0,125,0,0,0,88,0,0,0,61,0,0,0,110,0,0,0,26,0,0,0,36,0,0,0,106,0,0,0,93,0,0,0,52,0,0,0,75,0,0,0,41,0,0,0,72,0,0,0,85,0,0,0,80,0,0,0,102,0,0,0,60,0,0,0,124,0,0,0,105,0,0,0,25,0,0,0,40,0,0,0,51,0,0,0,101,0,0,0,84,0,0,0,24,0,0,0,123,0,0,0,83,0,0,0,50,0,0,0,49,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,136,0,0,0,5,0,0,0,144,0,0,0,6,0,0,0,152,0,0,0,9,0,0,0,176,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,253,255,255,255,254,255,255,255,0,0,0,0,112,2,0,0,168,2,0,0,200,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,0,0,0,0,32,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,96,2,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,80,2,0,0,3,0,0,0,7,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,216,2,0,0,3,0,0,0,8,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,2,0,0,3,0,0,0,9,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,240,10,0,0,96,11,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,0,0,0,113,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,5,0,0,0,105,65,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,5,0,0,0,7,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,211,0,0,0,1,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,121,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,143,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,169,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,187,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,209,0,0,0,69,114,114,111,114,58,32,108,97,98,101,108,105,110,103,32,119,111,114,107,32,111,118,101,114,102,108,111,119,46,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,40,37,100,41,32,114,101,113,117,101,115,116,101,100,46,10,0,85,110,107,110,111,119,110,32,111,114,32,117,110,115,117,112,112,111,114,116,101,100,32,108,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,114,101,113,117,101,115,116,101,100,46,32,83,101,116,32,116,111,32,109,97,110,117,97,108,46,10,0,76,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,46,10,0,77,65,78,85,65,76,0,65,85,84,79,95,77,69,68,73,65,78,0,65,85,84,79,95,79,84,83,85,0,65,85,84,79,95,65,68,65,80,84,73,86,69,65,85,84,79,95,66,82,65,67,75,69,84,73,78,71,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,109,97,114,107,101,114,32,99,111,117,110,116,115,32,45,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,43,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,109,101,100,105,97,110,0,79,116,115,117,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,37,115,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,63,63,63,32,49,10,0,63,63,63,32,50,10,0,63,63,63,32,51,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,112,97,115,115,101,100,32,116,111,32,97,114,73,109,97,103,101,80,114,111,99,72,105,115,116,40,41,46,10,0,0,0,0,1,0,1,1,1,0,2,4,255,255,5,3,1,0,2,255,6,7,255,3,1,2,2,3,2,3,2,3,3,0,255,4,6,7,5,255,1,4,5,4,4,5,5,4,5,7,6,6,6,7,7,7,6,255,2,4,6,7,5,3,255,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,255,255,3,255,5,6,255,255,9,10,255,12,255,255,15,255,17,18,255,20,255,255,23,24,255,255,27,255,29,30,255,255,1,2,255,4,255,255,7,8,255,255,11,255,13,14,255,16,255,255,19,255,21,22,255,255,25,26,255,28,255,255,31,69,114,114,111,114,58,32,117,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,46,10,0,69,114,114,111,114,58,32,78,85,76,76,32,112,97,116,116,72,97,110,100,108,101,46,10,0,69,114,114,111,114,58,32,99,97,110,39,116,32,108,111,97,100,32,112,97,116,116,101,114,110,32,102,114,111,109,32,78,85,76,76,32,98,117,102,102,101,114,46,10,0,69,114,114,111,114,58,32,111,117,116,32,111,102,32,109,101,109,111,114,121,46,10,0,32,9,10,13,0,80,97,116,116,101,114,110,32,68,97,116,97,32,114,101,97,100,32,101,114,114,111,114,33,33,10,0,69,114,114,111,114,32,111,112,101,110,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,114,101,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,46,10,0,114,98,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,115,32,102,105,108,101,32,34,37,115,34,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,102,105,108,101,32,108,101,110,103,116,104,46,0,69,114,114,111,114,58,32,115,117,112,112,108,105,101,100,32,102,105,108,101,32,100,111,101,115,32,110,111,116,32,97,112,112,101,97,114,32,116,111,32,98,101,32,97,110,32,65,82,84,111,111,108,75,105,116,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,114,101,97,100,32,102,114,111,109,32,102,105,108,101,46,0,69,114,114,111,114,58,32,105,99,112,71,101,116,74,95,85,95,88,99,0,69,114,114,111,114,58,32,109,97,108,108,111,99,10,0,69,114,114,111,114,32,49,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,50,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,51,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,52,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,53,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,54,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,55,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,114,0,69,114,114,111,114,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,46,10,0,37,115,37,115,10,0,37,100,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,110,117,109,98,101,114,32,111,102,32,109,97,114,107,101,114,32,99,111,110,102,105,103,115,32,116,111,32,114,101,97,100,46,10,0,79,117,116,32,111,102,32,109,101,109,111,114,121,33,33,10,0,37,108,108,117,37,99,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,112,97,116,116,101,114,110,32,39,37,115,39,32,115,112,101,99,105,102,105,101,100,32,105,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,117,114,97,116,105,111,110,32,119,104,105,108,101,32,105,110,32,98,97,114,99,111,100,101,45,111,110,108,121,32,109,111,100,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,100,105,114,101,99,116,111,114,121,32,110,97,109,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,108,111,97,100,32,112,97,116,116,101,114,110,32,39,37,115,39,46,10,0,37,108,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,112,97,116,116,101,114,110,32,119,105,100,116,104,46,10,0,37,108,102,32,37,108,102,32,37,108,102,32,37,108,102,0,37,102,32,37,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,76,105,110,101,115,32,50,32,45,32,52,32,109,117,115,116,32,98,101,32,109,97,114,107,101,114,32,116,114,97,110,115,102,111,114,109,46,10,0,97,114,103,108,67,97,109,101,114,97,70,114,117,115,116,117,109,40,41,58,32,97,114,80,97,114,97,109,68,101,99,111,109,112,77,97,116,40,41,32,105,110,100,105,99,97,116,101,100,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,46,10,0,108,111,97,100,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,32,37,115,32,102,111,114,32,99,97,109,101,114,97,46,10,0,42,42,42,32,67,97,109,101,114,97,32,80,97,114,97,109,101,116,101,114,32,114,101,115,105,122,101,100,32,102,114,111,109,32,37,100,44,32,37,100,46,32,42,42,42,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,114,97,109,76,84,67,114,101,97,116,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,99,114,101,97,116,105,110,103,32,51,68,32,104,97,110,100,108,101,0,108,111,97,100,77,97,114,107,101,114,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,37,115,46,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,97,114,107,101,114,46,10,0,99,111,110,102,105,103,32,100,97,116,97,32,108,111,97,100,32,101,114,114,111,114,32,33,33,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,117,108,116,105,109,97,114,107,101,114,46,10,0,80,97,116,116,101,114,110,32,100,101,116,101,99,116,105,111,110,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,80,97,116,116,101,114,110,32,114,97,116,105,111,32,115,105,122,101,32,115,101,116,32,116,111,32,37,102,46,10,0,76,97,98,101,108,105,110,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,111,110,46,0,111,102,102,46,0,68,101,98,117,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,10,0,73,109,97,103,101,32,112,114,111,99,46,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,118,105,115,105,98,108,101,39,93,32,61,32,36,48,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,73,100,39,93,32,61,32,36,49,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,84,121,112,101,39,93,32,61,32,36,50,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,119,105,100,116,104,39,93,32,61,32,36,51,59,32,125,0,123,32,118,97,114,32,36,97,32,61,32,97,114,103,117,109,101,110,116,115,59,32,118,97,114,32,105,32,61,32,49,50,59,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,32,112,111,115,58,32,91,48,44,48,93,44,32,108,105,110,101,58,32,91,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,93,44,32,118,101,114,116,101,120,58,32,91,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,93,32,125,41,59,32,125,32,118,97,114,32,109,97,114,107,101,114,73,110,102,111,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,97,114,101,97,34,93,32,61,32,36,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,34,93,32,61,32,36,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,80,97,116,116,34,93,32,61,32,36,50,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,77,97,116,114,105,120,34,93,32,61,32,36,51,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,34,93,32,61,32,36,52,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,80,97,116,116,34,93,32,61,32,36,53,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,77,97,116,114,105,120,34,93,32,61,32,36,54,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,34,93,32,61,32,36,55,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,80,97,116,116,34,93,32,61,32,36,56,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,77,97,116,114,105,120,34,93,32,61,32,36,57,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,48,93,32,61,32,36,49,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,49,93,32,61,32,36,49,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,101,114,114,111,114,67,111,114,114,101,99,116,101,100,34,93,32,61,32,36,97,91,105,43,43,93,59,32,125,0,115,101,116,117,112,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,116,116,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,65,108,108,111,99,97,116,101,100,32,118,105,100,101,111,70,114,97,109,101,83,105,122,101,32,37,100,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,102,114,97,109,101,77,97,108,108,111,99,32,61,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,112,111,105,110,116,101,114,34,93,32,61,32,36,49,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,115,105,122,101,34,93,32,61,32,36,50,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,99,97,109,101,114,97,34,93,32,61,32,36,51,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,116,114,97,110,115,102,111,114,109,34,93,32,61,32,36,52,59,32,125,0,115,101,116,117,112,0,116,101,97,114,100,111,119,110,0,95,97,100,100,77,97,114,107,101,114,0,95,97,100,100,77,117,108,116,105,77,97,114,107,101,114,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,67,111,117,110,116,0,95,108,111,97,100,67,97,109,101,114,97,0,115,101,116,77,97,114,107,101,114,73,110,102,111,68,105,114,0,115,101,116,77,97,114,107,101,114,73,110,102,111,86,101,114,116,101,120,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,67,111,110,116,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,82,111,98,117,115,116,0,100,101,116,101,99,116,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,69,97,99,104,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,0,115,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,80,114,111,99,101,115,115,105,110,103,73,109,97,103,101,0,115,101,116,76,111,103,76,101,118,101,108,0,103,101,116,76,111,103,76,101,118,101,108,0,115,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,115,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,115,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,103,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,115,101,116,84,104,114,101,115,104,111,108,100,0,103,101,116,84,104,114,101,115,104,111,108,100,0,115,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,103,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,115,101,116,80,97,116,116,82,97,116,105,111,0,103,101,116,80,97,116,116,82,97,116,105,111,0,115,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,103,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,115,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,103,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,115,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,103,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,69,82,82,79,82,95,65,82,67,79,78,84,82,79,76,76,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,85,76,84,73,77,65,82,75,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,65,82,75,69,82,95,73,78,68,69,88,95,79,85,84,95,79,70,95,66,79,85,78,68,83,0,65,82,95,68,69,66,85,71,95,68,73,83,65,66,76,69,0,65,82,95,68,69,66,85,71,95,69,78,65,66,76,69,0,65,82,95,68,69,70,65,85,76,84,95,68,69,66,85,71,95,77,79,68,69,0,65,82,95,76,65,66,69,76,73,78,71,95,87,72,73,84,69,95,82,69,71,73,79,78,0,65,82,95,76,65,66,69,76,73,78,71,95,66,76,65,67,75,95,82,69,71,73,79,78,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,77,79,68,69,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,82,65,77,69,95,73,77,65,71,69,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,73,69,76,68,95,73,77,65,71,69,0,65,82,95,68,69,70,65,85,76,84,95,73,77,65,71,69,95,80,82,79,67,95,77,79,68,69,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,68,69,84,69,67,84,73,79,78,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,68,69,70,65,85,76,84,95,80,65,84,84,69,82,78,95,68,69,84,69,67,84,73,79,78,95,77,79,68,69,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,78,79,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,95,86,50,0,65,82,95,68,69,70,65,85,76,84,95,77,65,82,75,69,82,95,69,88,84,82,65,67,84,73,79,78,95,77,79,68,69,0,65,82,95,77,65,88,95,76,79,79,80,95,67,79,85,78,84,0,65,82,95,76,79,79,80,95,66,82,69,65,75,95,84,72,82,69,83,72,0,65,82,95,76,79,71,95,76,69,86,69,76,95,68,69,66,85,71,0,65,82,95,76,79,71,95,76,69,86,69,76,95,73,78,70,79,0,65,82,95,76,79,71,95,76,69,86,69,76,95,87,65,82,78,0,65,82,95,76,79,71,95,76,69,86,69,76,95,69,82,82,79,82,0,65,82,95,76,79,71,95,76,69,86,69,76,95,82,69,76,95,73,78,70,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,72,65,77,77,73,78,71,54,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,80,65,82,73,84,89,54,53,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,57,95,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,53,95,53,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,77,65,78,85,65,76,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,77,69,68,73,65,78,0,65,82,95,76,65,66],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),allocate([69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,79,84,83,85,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,65,68,65,80,84,73,86,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,78,79,78,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,65,84,84,69,82,78,95,69,88,84,82,65,67,84,73,79,78,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,71,69,78,69,82,73,67,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,84,82,65,83,84,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,78,79,84,95,70,79,85,78,68,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,69,68,67,95,70,65,73,76,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,70,73,68,69,78,67,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,95,77,85,76,84,73,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,72,69,85,82,73,83,84,73,67,95,84,82,79,85,66,76,69,83,79,77,69,95,77,65,84,82,73,88,95,67,79,68,69,83,0,118,105,105,102,0,118,105,105,105,0,100,105,105,0,118,105,105,100,0,105,105,0,118,105,105,0,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,105,105,105,105,0,105,105,105,105,105,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,47,119,101,98,119,111,114,107,47,101,109,115,100,107,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,47,119,101,98,119,111,114,107,47,101,109,115,100,107,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,32,40,0,41,0,95,98,108,111,99,107,95,105,110,118,111,107,101,0,105,110,118,111,99,97,116,105,111,110,32,102,117,110,99,116,105,111,110,32,102,111,114,32,98,108,111,99,107,32,105,110,32,0,32,99,111,110,115,116,0,32,118,111,108,97,116,105,108,101,0,32,114,101,115,116,114,105,99,116,0,32,91,0,32,91,93,0,93,0,32,99,111,109,112,108,101,120,0,40,0,44,32,0,32,38,0,32,38,38,0,32,0,32,105,109,97,103,105,110,97,114,121,0,58,58,42,0,38,38,0,111,98,106,99,95,111,98,106,101,99,116,60,0,42,0,105,100,0,38,0,111,98,106,99,112,114,111,116,111,0,60,0,62,0,32,118,101,99,116,111,114,91,0,112,105,120,101,108,32,118,101,99,116,111,114,91,0,100,101,99,108,116,121,112,101,40,0,115,116,100,58,58,97,108,108,111,99,97,116,111,114,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,105,115,116,114,101,97,109,0,115,116,100,58,58,111,115,116,114,101,97,109,0,115,116,100,58,58,105,111,115,116,114,101,97,109,0,115,116,100,0,58,58,0,58,58,115,116,114,105,110,103,32,108,105,116,101,114,97,108,0,115,116,100,58,58,0,126,0,39,117,110,110,97,109,101,100,0,39,108,97,109,98,100,97,39,40,0,111,112,101,114,97,116,111,114,38,38,0,111,112,101,114,97,116,111,114,38,0,111,112,101,114,97,116,111,114,38,61,0,111,112,101,114,97,116,111,114,61,0,111,112,101,114,97,116,111,114,40,41,0,111,112,101,114,97,116,111,114,44,0,111,112,101,114,97,116,111,114,126,0,111,112,101,114,97,116,111,114,32,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,91,93,0,111,112,101,114,97,116,111,114,42,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,0,111,112,101,114,97,116,111,114,47,0,111,112,101,114,97,116,111,114,47,61,0,111,112,101,114,97,116,111,114,94,0,111,112,101,114,97,116,111,114,94,61,0,111,112,101,114,97,116,111,114,61,61,0,111,112,101,114,97,116,111,114,62,61,0,111,112,101,114,97,116,111,114,62,0,111,112,101,114,97,116,111,114,91,93,0,111,112,101,114,97,116,111,114,60,61,0,111,112,101,114,97,116,111,114,34,34,32,0,111,112,101,114,97,116,111,114,60,60,0,111,112,101,114,97,116,111,114,60,60,61,0,111,112,101,114,97,116,111,114,60,0,111,112,101,114,97,116,111,114,45,0,111,112,101,114,97,116,111,114,45,61,0,111,112,101,114,97,116,111,114,42,61,0,111,112,101,114,97,116,111,114,45,45,0,111,112,101,114,97,116,111,114,32,110,101,119,91,93,0,111,112,101,114,97,116,111,114,33,61,0,111,112,101,114,97,116,111,114,33,0,111,112,101,114,97,116,111,114,32,110,101,119,0,111,112,101,114,97,116,111,114,124,124,0,111,112,101,114,97,116,111,114,124,0,111,112,101,114,97,116,111,114,124,61,0,111,112,101,114,97,116,111,114,45,62,42,0,111,112,101,114,97,116,111,114,43,0,111,112,101,114,97,116,111,114,43,61,0,111,112,101,114,97,116,111,114,43,43,0,111,112,101,114,97,116,111,114,45,62,0,111,112,101,114,97,116,111,114,63,0,111,112,101,114,97,116,111,114,37,0,111,112,101,114,97,116,111,114,37,61,0,111,112,101,114,97,116,111,114,62,62,0,111,112,101,114,97,116,111,114,62,62,61,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,44,32,115,116,100,58,58,97,108,108,111,99,97,116,111,114,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,105,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,111,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,105,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,111,115,116,114,101,97,109,0,95,71,76,79,66,65,76,95,95,78,0,40,97,110,111,110,121,109,111,117,115,32,110,97,109,101,115,112,97,99,101,41,0,32,62,0,119,99,104,97,114,95,116,0,102,97,108,115,101,0,116,114,117,101,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,0,117,0,108,0,117,108,0,108,108,0,117,108,108,0,95,95,105,110,116,49,50,56,0,117,110,115,105,103,110,101,100,32,95,95,105,110,116,49,50,56,0,37,97,102,0,37,97,0,37,76,97,76,0,38,61,0,61,0,97,108,105,103,110,111,102,32,40,0,99,111,110,115,116,95,99,97,115,116,60,0,62,40,0,44,0,41,40,0,100,101,108,101,116,101,91,93,32,0,100,121,110,97,109,105,99,95,99,97,115,116,60,0,100,101,108,101,116,101,32,0,46,42,0,47,0,47,61,0,94,0,94,61,0,61,61,0,62,61,0,41,91,0,60,61,0,60,60,0,60,60,61,0,45,0,45,61,0,42,61,0,45,45,0,41,45,45,0,91,93,32,0,41,32,0,33,61,0,33,0,110,111,101,120,99,101,112,116,32,40,0,124,124,0,124,0,124,61,0,45,62,42,0,43,0,43,61,0,43,43,0,41,43,43,0,45,62,0,41,32,63,32,40,0,41,32,58,32,40,0,114,101,105,110,116,101,114,112,114,101,116,95,99,97,115,116,60,0,37,0,37,61,0,62,62,0,62,62,61,0,115,116,97,116,105,99,95,99,97,115,116,60,0,115,105,122,101,111,102,32,40,0,115,105,122,101,111,102,46,46,46,40,0,116,121,112,101,105,100,40,0,116,104,114,111,119,0,116,104,114,111,119,32,0,102,112,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,111,117,116,95,111,102,95,114,97,110,103,101,34,0,95,95,116,104,114,111,119,95,111,117,116,95,111,102,95,114,97,110,103,101,0,118,111,105,100,0,98,111,111,108,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,108,111,110,103,32,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,108,111,110,103,32,100,111,117,98,108,101,0,95,95,102,108,111,97,116,49,50,56,0,46,46,46,0,100,101,99,105,109,97,108,54,52,0,100,101,99,105,109,97,108,49,50,56,0,100,101,99,105,109,97,108,51,50,0,100,101,99,105,109,97,108,49,54,0,99,104,97,114,51,50,95,116,0,99,104,97,114,49,54,95,116,0,97,117,116,111,0,115,116,100,58,58,110,117,108,108,112,116,114,95,116,0,118,116,97,98,108,101,32,102,111,114,32,0,86,84,84,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,110,97,109,101,32,102,111,114,32,0,99,111,118,97,114,105,97,110,116,32,114,101,116,117,114,110,32,116,104,117,110,107,32,116,111,32,0,99,111,110,115,116,114,117,99,116,105,111,110,32,118,116,97,98,108,101,32,102,111,114,32,0,45,105,110,45,0,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,110,111,110,45,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,103,117,97,114,100,32,118,97,114,105,97,98,108,101,32,102,111,114,32,0,114,101,102,101,114,101,110,99,101,32,116,101,109,112,111,114,97,114,121,32,102,111,114,32,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,114,119,97],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+17769);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,t,i,r){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",i,r?Pointer_stringify(r):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);embind_charCodes=e}assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0;function readLatin1String(e){for(var t="",i=e;HEAPU8[i];)t+=embind_charCodes[HEAPU8[i++]];return t}var awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57;function makeLegalFunctionName(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=char_0&&t<=char_9?"_"+e:e}function createNamedFunction(e,t){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function extendError(e,t){var i=createNamedFunction(t,function(e){this.name=t,this.message=e;var i=new Error(e).stack;void 0!==i&&(this.stack=this.toString()+"\n"+i.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},i}var BindingError=void 0;function throwBindingError(e){throw new BindingError(e)}var InternalError=void 0;function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,t,i){function r(t){var r=i(t);r.length!==e.length&&throwInternalError("Mismatched type converter count");for(var n=0;n<e.length;++n)registerType(e[n],r[n])}e.forEach(function(e){typeDependencies[e]=t});var n=new Array(t.length),a=[],o=0;t.forEach(function(e,t){registeredTypes.hasOwnProperty(e)?n[t]=registeredTypes[e]:(a.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){n[t]=registeredTypes[e],++o===a.length&&r(n)}))}),0===a.length&&r(n)}function registerType(e,t,i){if(i=i||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||throwBindingError('type "'+r+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(i.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+r+"' twice")}if(registeredTypes[e]=t,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var n=awaitingDependencies[e];delete awaitingDependencies[e],n.forEach(function(e){e()})}}function __embind_register_void(e,t){registerType(e,{isVoid:!0,name:t=readLatin1String(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){if(EXCEPTIONS.infos[t].adjusted===e)return t}return e},addRef:function(e){e&&EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(EXCEPTIONS.infos[e].refcount=0)}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],i=t.type;if(!i)return 0|(asm.setTempRet0(0),e);var r=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(i);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var n=0;n<r.length;n++)if(r[n]&&Module.___cxa_can_catch(r[n],i,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm.setTempRet0(r[n]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(i),e)}function ___cxa_throw(e,t,i){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:i,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}Module._memset=_memset;var _BDtoILow=!0;function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,t,i,r,n){var a=getShiftFromSize(i);registerType(e,{name:t=readLatin1String(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===i)r=HEAP8;else if(2===i)r=HEAP16;else{if(4!==i)throw new TypeError("Unknown boolean type size: "+t);r=HEAP32}return this.fromWireType(r[e>>a])},destructorFunction:null})}function _abort(){Module.abort()}function _free(){}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,t){registerType(e,{name:t=readLatin1String(t),fromWireType:function(e){for(var t=HEAPU32[e>>2],i=new Array(t),r=0;r<t;++r)i[r]=String.fromCharCode(HEAPU8[e+4+r]);return _free(e),i.join("")},toWireType:function(e,t){function i(e,t){return e[t]}var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array?r=i:t instanceof Int8Array?r=i:"string"==typeof t?r=function(e,t){return e.charCodeAt(t)}:throwBindingError("Cannot pass non-string to std::string");var n=t.length,a=_malloc(4+n);HEAPU32[a>>2]=n;for(var o=0;o<n;++o){var s=r(t,o);s>255&&(_free(a),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[a+4+o]=s}return null!==e&&e.push(_free,a),a},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,t,i){var r,n;i=readLatin1String(i),2===t?(r=function(){return HEAPU16},n=1):4===t&&(r=function(){return HEAPU32},n=2),registerType(e,{name:i,fromWireType:function(e){for(var t=r(),i=HEAPU32[e>>2],a=new Array(i),o=e+4>>n,s=0;s<i;++s)a[s]=String.fromCharCode(t[o+s]);return _free(e),a.join("")},toWireType:function(e,i){var a=r(),o=i.length,s=_malloc(4+o*t);HEAPU32[s>>2]=o;for(var l=s+4>>n,c=0;c<o;++c)a[l+c]=i.charCodeAt(c);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___lock(){}function ___unlock(){}Module._bitshift64Shl=_bitshift64Shl,Module._free=_free,Module._malloc=_malloc;var _emscripten_asm_const_int=!0;Module._i64Add=_i64Add;var _fabs=Math_abs,_sqrt=Math_sqrt;function _embind_repr(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function integerReadValueFromPointer(e,t,i){switch(t){case 0:return i?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return i?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return i?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,t,i,r,n){t=readLatin1String(t),-1===n&&(n=4294967295);var a=getShiftFromSize(i),o=function(e){return e};if(0===r){var s=32-8*i;o=function(e){return e<<s>>>s}}registerType(e,{name:t,fromWireType:o,toWireType:function(e,i){if("number"!=typeof i&&"boolean"!=typeof i)throw new TypeError('Cannot convert "'+_embind_repr(i)+'" to '+this.name);if(i<r||i>n)throw new TypeError('Passing a number "'+_embind_repr(i)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+n+"]!");return 0|i},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(t,a,0!==r),destructorFunction:null})}var emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function __emval_decref(e){e>4&&0==--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,t=5;t<emval_handle_array.length;++t)void 0!==emval_handle_array[t]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[t]={refcount:1,value:e},t}}function __embind_register_emval(e,t){registerType(e,{name:t=readLatin1String(t),fromWireType:function(e){var t=emval_handle_array[e].value;return __emval_decref(e),t},toWireType:function(e,t){return __emval_register(t)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}var _sin=Math_sin;function ___setErrNo(e){return Module.___errno_location?HEAP32[Module.___errno_location()>>2]=e:Module.printErr("failed to set errno from JS"),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}Module._bitshift64Lshr=_bitshift64Lshr;var _llvm_ctlz_i32=!0;function floatReadValueFromPointer(e,t){switch(t){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,t,i){var r=getShiftFromSize(i);registerType(e,{name:t=readLatin1String(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+_embind_repr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(t,r),destructorFunction:null})}var _BDtoIHigh=!0;function _pthread_cleanup_push(e,t){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[t])}),_pthread_cleanup_push.level=__ATEXIT__.length}function new_(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var i=createNamedFunction(e.name||"unknownFunctionName",function(){});i.prototype=e.prototype;var r=new i,n=e.apply(r,t);return n instanceof Object?n:r}function runDestructors(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function craftInvokerFunction(e,t,i,r,n){var a=t.length;a<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==i,s="",l="",c=0;c<a-2;++c)s+=(0!==c?", ":"")+"arg"+c,l+=(0!==c?", ":"")+"arg"+c+"Wired";var u="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n",f=!1;for(c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){f=!0;break}f&&(u+="var destructors = [];\n");var h=f?"destructors":"null",d=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[throwBindingError,r,n,runDestructors,t[0],t[1]];o&&(u+="var thisWired = classParam.toWireType("+h+", this);\n");for(c=0;c<a-2;++c)u+="var arg"+c+"Wired = argType"+c+".toWireType("+h+", arg"+c+"); // "+t[c+2].name+"\n",d.push("argType"+c),p.push(t[c+2]);o&&(l="thisWired"+(l.length>0?", ":"")+l);var m="void"!==t[0].name;if(u+=(m?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",f)u+="runDestructors(destructors);\n";else for(c=o?1:2;c<t.length;++c){var v=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(u+=v+"_dtor("+v+"); // "+t[c].name+"\n",d.push(v+"_dtor"),p.push(t[c].destructorFunction))}return m&&(u+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),u+="}\n",d.push(u),new_(Function,d).apply(null,p)}function ensureOverloadTable(e,t,i){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+i+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function exposePublicSymbol(e,t,i){Module.hasOwnProperty(e)?((void 0===i||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[i])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(i)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+i+")!"),Module[e].overloadTable[i]=t):(Module[e]=t,void 0!==i&&(Module[e].numArguments=i))}function heap32VectorToArray(e,t){for(var i=[],r=0;r<e;r++)i.push(HEAP32[(t>>2)+r]);return i}function replacePublicSymbol(e,t,i){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==i?Module[e].overloadTable[i]=t:Module[e]=t}function requireFunction(e,t){var i;if(e=readLatin1String(e),void 0!==Module["FUNCTION_TABLE_"+e])i=Module["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)i=FUNCTION_TABLE[t];else{var r=asm["dynCall_"+e];void 0===r&&void 0===(r=asm["dynCall_"+e.replace(/f/g,"d")])&&throwBindingError("No dynCall invoker for signature: "+e),i=function(i){for(var r=[],n=1;n<e.length;++n)r.push("a"+n);var a="return function dynCall_"+e+"_"+t+"("+r.join(", ")+") {\n";return a+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",a+="};\n",new Function("dynCall","rawFunction",a)(i,t)}(r)}return"function"!=typeof i&&throwBindingError("unknown function pointer with signature "+e+": "+t),i}var UnboundTypeError=void 0;function getTypeName(e){var t=___getTypeName(e),i=readLatin1String(t);return _free(t),i}function throwUnboundTypeError(e,t){var i=[],r={};throw t.forEach(function e(t){r[t]||registeredTypes[t]||(typeDependencies[t]?typeDependencies[t].forEach(e):(i.push(t),r[t]=!0))}),new UnboundTypeError(e+": "+i.map(getTypeName).join([", "]))}function __embind_register_function(e,t,i,r,n,a){var o=heap32VectorToArray(t,i);e=readLatin1String(e),n=requireFunction(r,n),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",o)},t-1),whenDependentTypesAreResolved([],o,function(i){var r=[i[0],null].concat(i.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,r,null,n,a),t-1),[]})}function __embind_register_constant(e,t,i){e=readLatin1String(e),whenDependentTypesAreResolved([],[t],function(t){return t=t[0],Module[e]=t.fromWireType(i),[]})}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var r=i>=0?arguments[i]:FS.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."},relative:function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var r=i(e.split("/")),n=i(t.split("/")),a=Math.min(r.length,n.length),o=a,s=0;s<a;s++)if(r[s]!==n[s]){o=s;break}var l=[];for(s=o;s<r.length;s++)l.push("..");return(l=l.concat(n.slice(o))).join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==s)break;a++,t[i+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,i,r,n){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[i+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var i,r=new Buffer(256),n=process.stdin.fd,a=!1;try{n=fs.openSync("/dev/stdin","r"),a=!0}catch(e){}i=fs.readSync(n,r,0,256,null),a&&fs.closeSync(n),t=i>0?r.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,i,r){if(FS.isBlkdev(i)||FS.isFIFO(i))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var n=FS.createNode(e,t,i,r);return FS.isDir(n.mode)?(n.node_ops=MEMFS.ops_table.dir.node,n.stream_ops=MEMFS.ops_table.dir.stream,n.contents={}):FS.isFile(n.mode)?(n.node_ops=MEMFS.ops_table.file.node,n.stream_ops=MEMFS.ops_table.file.stream,n.usedBytes=0,n.contents=null):FS.isLink(n.mode)?(n.node_ops=MEMFS.ops_table.link.node,n.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(n.mode)&&(n.node_ops=MEMFS.ops_table.chrdev.node,n.stream_ops=MEMFS.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],i=0;i<e.usedBytes;++i)t.push(e.contents[i]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var i=e.contents?e.contents.buffer.byteLength:0;if(i>=t)return;t=Math.max(t,i*(i<1048576?2:1.125)|0),0!=i&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var i=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,i,r){return MEMFS.createNode(e,t,i,r)},rename:function(e,t,i){if(FS.isDir(e.mode)){var r;try{r=FS.lookupNode(t,i)}catch(e){}if(r)for(var n in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=i,t.contents[i]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var i=FS.lookupNode(e,t);for(var r in i.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var i in e.contents)e.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(e,t,i){var r=MEMFS.createNode(e,t,41471,0);return r.link=i,r},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,i,r,n){var a=e.node.contents;if(n>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-n,r);if(assert(o>=0),o>8&&a.subarray)t.set(a.subarray(n,n+o),i);else for(var s=0;s<o;s++)t[i+s]=a[n+s];return o},write:function(e,t,i,r,n,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return assert(0===n,"canOwn must imply no weird position inside the file"),o.contents=t.subarray(i,i+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===n)return o.contents=new Uint8Array(t.subarray(i,i+r)),o.usedBytes=r,r;if(n+r<=o.usedBytes)return o.contents.set(t.subarray(i,i+r),n),r}if(MEMFS.expandFileStorage(o,n+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(i,i+r),n);else for(var s=0;s<r;s++)o.contents[n+s]=t[i+s];return o.usedBytes=Math.max(o.usedBytes,n+r),r},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&FS.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r},allocate:function(e,t,i){MEMFS.expandFileStorage(e.node,t+i),e.node.usedBytes=Math.max(e.node.usedBytes,t+i)},mmap:function(e,t,i,r,n,a,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,l,c=e.node.contents;if(2&o||c.buffer!==t&&c.buffer!==t.buffer){if((n>0||n+r<e.node.usedBytes)&&(c=c.subarray?c.subarray(n,n+r):Array.prototype.slice.call(c,n,n+r)),l=!0,!(s=_malloc(r)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(c,s)}else l=!1,s=c.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,i,r,n){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&n)return 0;MEMFS.stream_ops.write(e,t,0,r,i,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,i){IDBFS.getLocalSet(e,function(r,n){if(r)return i(r);IDBFS.getRemoteSet(e,function(e,r){if(e)return i(e);var a=t?r:n,o=t?n:r;IDBFS.reconcile(a,o,i)})})},getDB:function(e,t){var i,r=IDBFS.dbs[e];if(r)return t(null,r);try{i=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}i.onupgradeneeded=function(e){var t,i=e.target.result,r=e.target.transaction;(t=i.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):i.createObjectStore(IDBFS.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},i.onsuccess=function(){r=i.result,IDBFS.dbs[e]=r,t(null,r)},i.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){var i={};function r(e){return"."!==e&&".."!==e}function n(e){return function(t){return PATH.join2(e,t)}}for(var a=FS.readdir(e.mountpoint).filter(r).map(n(e.mountpoint));a.length;){var o,s=a.pop();try{o=FS.stat(s)}catch(e){return t(e)}FS.isDir(o.mode)&&a.push.apply(a,FS.readdir(s).filter(r).map(n(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var i={};IDBFS.getDB(e.mountpoint,function(e,r){if(e)return t(e);var n=r.transaction([IDBFS.DB_STORE_NAME],"readonly");n.onerror=function(e){t(this.error),e.preventDefault()},n.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t(null,{type:"remote",db:r,entries:i});i[n.primaryKey]={timestamp:n.key},n.continue()}})},loadLocalEntry:function(e,t){var i,r;try{r=FS.lookupPath(e).node,i=FS.stat(e)}catch(e){return t(e)}return FS.isDir(i.mode)?t(null,{timestamp:i.mtime,mode:i.mode}):FS.isFile(i.mode)?(r.contents=MEMFS.getFileDataAsTypedArray(r),t(null,{timestamp:i.mtime,mode:i.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,i){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return i(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return i(e)}i(null)},removeLocalEntry:function(e,t){try{FS.lookupPath(e);var i=FS.stat(e);FS.isDir(i.mode)?FS.rmdir(e):FS.isFile(i.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,i){var r=e.get(t);r.onsuccess=function(e){i(null,e.target.result)},r.onerror=function(e){i(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,i,r){var n=e.put(i,t);n.onsuccess=function(){r(null)},n.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,i){var r=e.delete(t);r.onsuccess=function(){i(null)},r.onerror=function(e){i(this.error),e.preventDefault()}},reconcile:function(e,t,i){var r=0,n=[];Object.keys(e.entries).forEach(function(i){var a=e.entries[i],o=t.entries[i];(!o||a.timestamp>o.timestamp)&&(n.push(i),r++)});var a=[];if(Object.keys(t.entries).forEach(function(i){t.entries[i];e.entries[i]||(a.push(i),r++)}),!r)return i(null);var o=0,s=("remote"===e.type?e.db:t.db).transaction([IDBFS.DB_STORE_NAME],"readwrite"),l=s.objectStore(IDBFS.DB_STORE_NAME);function c(e){return e?c.errored?void 0:(c.errored=!0,i(e)):++o>=r?i(null):void 0}s.onerror=function(e){c(this.error),e.preventDefault()},n.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(l,e,function(t,i){if(t)return c(t);IDBFS.storeLocalEntry(e,i,c)}):IDBFS.loadLocalEntry(e,function(t,i){if(t)return c(t);IDBFS.storeRemoteEntry(l,e,i,c)})}),a.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,c):IDBFS.removeRemoteEntry(l,e,c)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,i,r){if(!FS.isDir(i)&&!FS.isFile(i)&&!FS.isLink(i))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=FS.createNode(e,t,i);return n.node_ops=NODEFS.node_ops,n.stream_ops=NODEFS.stream_ops,n},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if((e&=-32769)in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,i=NODEFS.realPath(e);try{t=fs.lstatSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var i=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(i,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);fs.utimesSync(i,r,r)}void 0!==t.size&&fs.truncateSync(i,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var i=PATH.join2(NODEFS.realPath(e),t),r=NODEFS.getMode(i);return NODEFS.createNode(e,t,r)},mknod:function(e,t,i,r){var n=NODEFS.createNode(e,t,i,r),a=NODEFS.realPath(n);try{FS.isDir(n.mode)?fs.mkdirSync(a,n.mode):fs.writeFileSync(a,"",{mode:n.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return n},rename:function(e,t,i){var r=NODEFS.realPath(e),n=PATH.join2(NODEFS.realPath(t),i);try{fs.renameSync(r,n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,i){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(i,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,i,r,n){if(0===r)return 0;var a,o=new Buffer(r);try{a=fs.readSync(e.nfd,o,0,r,n)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(a>0)for(var s=0;s<a;s++)t[i+s]=o[s];return a},write:function(e,t,i,r,n){var a,o=new Buffer(t.subarray(i,i+r));try{a=fs.writeSync(e.nfd,o,0,r,n)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return a},llseek:function(e,t,i){var r=t;if(1===i)r+=e.position;else if(2===i&&FS.isFile(e.node.mode))try{r+=fs.fstatSync(e.nfd).size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var t=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),i={};function r(e){for(var r=e.split("/"),n=t,a=0;a<r.length-1;a++){var o=r.slice(0,a+1).join("/");i[o]||(i[o]=WORKERFS.createNode(n,o,WORKERFS.DIR_MODE,0)),n=i[o]}return n}function n(e){var t=e.split("/");return t[t.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(r(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(r(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var i=t.filename.substr(1);WORKERFS.createNode(r(i),n(i),WORKERFS.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),t},createNode:function(e,t,i,r,n,a){var o=FS.createNode(e,t,i);return o.mode=i,o.node_ops=WORKERFS.node_ops,o.stream_ops=WORKERFS.stream_ops,o.timestamp=(a||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),i===WORKERFS.FILE_MODE?(o.size=n.size,o.contents=n):(o.size=4096,o.contents={}),e&&(e.contents[t]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,i,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,t,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,i,r,n){if(n>=e.node.size)return 0;var a=e.node.contents.slice(n,n+r),o=WORKERFS.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),i),a.size},write:function(e,t,i,r,n){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&FS.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=PATH.resolve(FS.cwd(),e)))return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var r in i)void 0===t[r]&&(t[r]=i[r]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var n=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=FS.root,o="/",s=0;s<n.length;s++){var l=s===n.length-1;if(l&&t.parent)break;if(a=FS.lookupNode(a,n[s]),o=PATH.join2(o,n[s]),FS.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var c=0;FS.isLink(a.mode);){var u=FS.readlink(o);if(o=PATH.resolve(PATH.dirname(o),u),a=FS.lookupPath(o,{recurse_count:t.recurse_count}).node,c++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?i+"/"+t:i+t:i}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(e+i>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var i=FS.nameTable[t];i;){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}},lookupNode:function(e,t){var i=FS.mayLookup(e);if(i)throw new FS.ErrnoError(i,e);for(var r=FS.hashName(e.id,t),n=FS.nameTable[r];n;n=n.name_next){var a=n.name;if(n.parent.id===e.id&&a===t)return n}return FS.lookup(e,t)},createNode:function(e,t,i,r){if(!FS.FSNode){FS.FSNode=function(e,t,i,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var n=new FS.FSNode(e,t,i,r);return FS.hashAddNode(n),n},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,i){var r;try{r=FS.lookupNode(e,t)}catch(e){return e.errno}var n=FS.nodePermissions(e,"wx");if(n)return n;if(i){if(!FS.isDir(r.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(r)||FS.getPath(r)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(r.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var i=e;i<=t;i++)if(!FS.streams[i])return i;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,i){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new FS.FSStream;for(var n in e)r[n]=e[n];e=r;var a=FS.nextfd(t,i);return e.fd=a,FS.streams[a]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],i=[e];i.length;){var r=i.pop();t.push(r),i.push.apply(i,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1);var i=FS.getMounts(FS.root.mount),r=0;function n(e){if(e)return n.errored?void 0:(n.errored=!0,t(e));++r>=i.length&&t(null)}i.forEach(function(t){if(!t.type.syncfs)return n(null);t.type.syncfs(t,e,n)})},mount:function(e,t,i){var r,n="/"===i,a=!i;if(n&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!n&&!a){var o=FS.lookupPath(i,{follow_mount:!1});if(i=o.path,r=o.node,FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:t,mountpoint:i,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,n?FS.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=t.node,r=i.mounted,n=FS.getMounts(r);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var i=t.name_next;-1!==n.indexOf(t.mount)&&FS.destroyNode(t),t=i}}),i.mounted=null;var a=i.mount.mounts.indexOf(r);assert(-1!==a),i.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,i){var r=FS.lookupPath(e,{parent:!0}).node,n=PATH.basename(e);if(!n||"."===n||".."===n)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.mayCreate(r,n);if(a)throw new FS.ErrnoError(a);if(!r.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.mknod(r,n,t,i)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,i){return void 0===i&&(i=t,t=438),t|=8192,FS.mknod(e,t,i)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=FS.lookupPath(t,{parent:!0}).node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var r=PATH.basename(t),n=FS.mayCreate(i,r);if(n)throw new FS.ErrnoError(n);if(!i.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.symlink(i,r,e)},rename:function(e,t){var i,r,n=PATH.dirname(e),a=PATH.dirname(t),o=PATH.basename(e),s=PATH.basename(t);try{i=FS.lookupPath(e,{parent:!0}).node,r=FS.lookupPath(t,{parent:!0}).node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!i||!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(i.mount!==r.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var l,c=FS.lookupNode(i,o),u=PATH.relative(e,a);if("."!==u.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if("."!==(u=PATH.relative(t,n)).charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{l=FS.lookupNode(r,s)}catch(e){}if(c!==l){var f=FS.isDir(c.mode),h=FS.mayDelete(i,o,f);if(h)throw new FS.ErrnoError(h);if(h=l?FS.mayDelete(r,s,f):FS.mayCreate(r,s))throw new FS.ErrnoError(h);if(!i.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(c)||l&&FS.isMountpoint(l))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(r!==i&&(h=FS.nodePermissions(i,"w")))throw new FS.ErrnoError(h);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}FS.hashRemoveNode(c);try{i.node_ops.rename(c,r,s)}catch(e){throw e}finally{FS.hashAddNode(c)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(i){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}).node,i=PATH.basename(e),r=FS.lookupNode(t,i),n=FS.mayDelete(t,i,!0);if(n)throw new FS.ErrnoError(n);if(!t.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,i),FS.destroyNode(r);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return t.node_ops.readdir(t)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}).node,i=PATH.basename(e),r=FS.lookupNode(t,i),n=FS.mayDelete(t,i,!1);if(n)throw n===ERRNO_CODES.EISDIR&&(n=ERRNO_CODES.EPERM),new FS.ErrnoError(n);if(!t.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,i),FS.destroyNode(r);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=FS.lookupPath(e).node;if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!t.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var i=FS.lookupPath(e,{follow:!t}).node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!i.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.getattr(i)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,i){var r;"string"==typeof e?r=FS.lookupPath(e,{follow:!i}).node:r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(i.node,t)},chown:function(e,t,i,r){var n;"string"==typeof e?n=FS.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,t,i){FS.chown(e,t,i,!0)},fchown:function(e,t,i){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(r.node,t,i)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i;"string"==typeof e?i=FS.lookupPath(e,{follow:!0}).node:i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(i.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(i.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=FS.nodePermissions(i,"w");if(r)throw new FS.ErrnoError(r);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&i.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(i.node,t)},utime:function(e,t,i){var r=FS.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,i)})},open:function(e,t,i,r,n){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var a;if(i=void 0===i?438:i,i=64&(t="string"==typeof t?FS.modeStringToFlags(t):t)?4095&i|32768:0,"object"==typeof e)a=e;else{e=PATH.normalize(e);try{a=FS.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else a=FS.mknod(e,i,0),o=!0;if(!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(a.mode)&&(t&=-513),65536&t&&!FS.isDir(a.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!o){var s=FS.mayOpen(a,t);if(s)throw new FS.ErrnoError(s)}512&t&&FS.truncate(a,0),t&=-641;var l=FS.createStream({node:a,path:FS.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,n);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var c=0;1!=(2097155&t)&&(c|=FS.tracking.openFlags.READ),0!=(2097155&t)&&(c|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,c)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,i){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read:function(e,t,i,r,n){if(r<0||n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=!0;if(void 0===n)n=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var o=e.stream_ops.read(e,t,i,r,n);return a||(e.position+=o),o},write:function(e,t,i,r,n,a){if(r<0||n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var o=!0;if(void 0===n)n=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,t,i,r,n,a);o||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,i){if(t<0||i<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,i)},mmap:function(e,t,i,r,n,a,o){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,i,r,n,a,o)},msync:function(e,t,i,r,n){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,i,r,n):0},munmap:function(e){return 0},ioctl:function(e,t,i){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,i)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i,r=FS.open(e,t.flags),n=FS.stat(e).size,a=new Uint8Array(n);return FS.read(r,a,0,n,0),"utf8"===t.encoding?i=UTF8ArrayToString(a,0):"binary"===t.encoding&&(i=a),FS.close(r),i},writeFile:function(e,t,i){if((i=i||{}).flags=i.flags||"w",i.encoding=i.encoding||"utf8","utf8"!==i.encoding&&"binary"!==i.encoding)throw new Error('Invalid encoding type "'+i.encoding+'"');var r=FS.open(e,i.flags,i.mode);if("utf8"===i.encoding){var n=new Uint8Array(lengthBytesUTF8(t)+1),a=stringToUTF8Array(t,n,0,n.length);FS.write(r,n,0,a,0,i.canOwn)}else"binary"===i.encoding&&FS.write(r,t,0,t.length,0,i.canOwn);FS.close(r)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var i=FS.nodePermissions(t.node,"x");if(i)throw new FS.ErrnoError(i);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,i,r,n){return r}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),"undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return __webpack_require__(9).randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var i=+t,r=FS.getStream(i);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var i=FS.open("/dev/stderr","w");assert(2===i.fd,"invalid handle for stderr ("+i.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e],this.stack&&(this.stack=demangleAll(this.stack))},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,i){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=i||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var i=FS.streams[t];i&&FS.close(i)}},getMode:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},joinPath:function(e,t){var i=PATH.join.apply(null,e);return t&&"/"==i[0]&&(i=i.substr(1)),i},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var i=FS.analyzePath(e,t);return i.exists?i.object:(___setErrNo(i.error),null)},analyzePath:function(e,t){try{e=(r=FS.lookupPath(e,{follow:!t})).path}catch(e){}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=FS.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=r.path,i.parentObject=r.node,i.name=PATH.basename(e),r=FS.lookupPath(e,{follow:!t}),i.exists=!0,i.path=r.path,i.object=r.node,i.name=r.node.name,i.isRoot="/"===r.path}catch(e){i.error=e.errno}return i},createFolder:function(e,t,i,r){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(i,r);return FS.mkdir(n,a)},createPath:function(e,t,i,r){e="string"==typeof e?e:FS.getPath(e);for(var n=t.split("/").reverse();n.length;){var a=n.pop();if(a){var o=PATH.join2(e,a);try{FS.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,i,r,n){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(r,n);return FS.create(a,o)},createDataFile:function(e,t,i,r,n,a){var o=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,s=FS.getMode(r,n),l=FS.create(o,s);if(i){if("string"==typeof i){for(var c=new Array(i.length),u=0,f=i.length;u<f;++u)c[u]=i.charCodeAt(u);i=c}FS.chmod(l,146|s);var h=FS.open(l,"w");FS.write(h,i,0,i.length,0,a),FS.close(h),FS.chmod(l,s)}return l},createDevice:function(e,t,i,r){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(!!i,!!r);FS.createDevice.major||(FS.createDevice.major=64);var o=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,n,a){for(var o=0,s=0;s<n;s++){var l;try{l=i()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,i,n,a){for(var o=0;o<n;o++)try{r(t[i+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return n&&(e.node.timestamp=Date.now()),o}}),FS.mkdev(n,a,o)},createLink:function(e,t,i,r,n){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,i,r,n){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=1048576;n||(a=r);var o=this;o.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),void 0===o.chunks[e]&&(o.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",i,!1),r!==a&&n.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+i+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):intArrayFromString(n.responseText||"",!0)}(t,n)),void 0===o.chunks[e])throw new Error("doXHR failed!");return o.chunks[e]}),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new a;Object.defineProperty(o,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:o}}else s={isDevice:!1,url:i};var l=FS.createFile(e,t,s,r,n);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var c={};return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];c[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),c.read=function(e,t,i,r,n){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var a=e.node.contents;if(n>=a.length)return 0;var o=Math.min(a.length-n,r);if(assert(o>=0),a.slice)for(var s=0;s<o;s++)t[i+s]=a[n+s];else for(s=0;s<o;s++)t[i+s]=a.get(n+s);return o},l.stream_ops=c,l},createPreloadedFile:function(e,t,i,r,n,a,o,s,l,c){Browser.init();var u=t?PATH.resolve(PATH.join2(e,t)):e,f=getUniqueRunDependency("cp "+u);function h(i){function h(i){c&&c(),s||FS.createDataFile(e,t,i,r,n,l),a&&a(),removeRunDependency(f)}var d=!1;Module.preloadPlugins.forEach(function(e){d||e.canHandle(u)&&(e.handle(i,u,h,function(){o&&o(),removeRunDependency(f)}),d=!0)}),d||h(i)}addRunDependency(f),"string"==typeof i?Browser.asyncLoad(i,function(e){h(e)},o):h(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=FS.indexedDB();try{var n=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=function(){console.log("creating db"),n.result.createObjectStore(FS.DB_STORE_NAME)},n.onsuccess=function(){var r=n.result.transaction([FS.DB_STORE_NAME],"readwrite"),a=r.objectStore(FS.DB_STORE_NAME),o=0,s=0,l=e.length;function c(){0==s?t():i()}e.forEach(function(e){var t=a.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){++o+s==l&&c()},t.onerror=function(){o+ ++s==l&&c()}}),r.onerror=i},n.onerror=i},loadFilesFromDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=FS.indexedDB();try{var n=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return i(e)}n.onupgradeneeded=i,n.onsuccess=function(){var r=n.result;try{var a=r.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void i(e)}var o=a.objectStore(FS.DB_STORE_NAME),s=0,l=0,c=e.length;function u(){0==l?t():i()}e.forEach(function(e){var t=o.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),++s+l==c&&u()},t.onerror=function(){s+ ++l==c&&u()}}),a.onerror=i},n.onerror=i}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var i;if(-100===e)i=FS.cwd();else{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);i=r.path}t=PATH.join2(i,t)}return t},doStat:function(e,t,i){try{var r=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[i>>2]=r.dev,HEAP32[i+4>>2]=0,HEAP32[i+8>>2]=r.ino,HEAP32[i+12>>2]=r.mode,HEAP32[i+16>>2]=r.nlink,HEAP32[i+20>>2]=r.uid,HEAP32[i+24>>2]=r.gid,HEAP32[i+28>>2]=r.rdev,HEAP32[i+32>>2]=0,HEAP32[i+36>>2]=r.size,HEAP32[i+40>>2]=4096,HEAP32[i+44>>2]=r.blocks,HEAP32[i+48>>2]=r.atime.getTime()/1e3|0,HEAP32[i+52>>2]=0,HEAP32[i+56>>2]=r.mtime.getTime()/1e3|0,HEAP32[i+60>>2]=0,HEAP32[i+64>>2]=r.ctime.getTime()/1e3|0,HEAP32[i+68>>2]=0,HEAP32[i+72>>2]=r.ino,0},doMsync:function(e,t,i,r){var n=new Uint8Array(HEAPU8.subarray(e,e+i));FS.msync(t,n,0,i,r)},doMkdir:function(e,t){return"/"===(e=PATH.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,i){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,i),0},doReadlink:function(e,t,i){if(i<=0)return-ERRNO_CODES.EINVAL;var r=FS.readlink(e);return writeStringToMemory(r=r.slice(0,Math.max(0,i)),t,!0),r.length},doAccess:function(e,t){if(-8&t)return-ERRNO_CODES.EINVAL;var i;i=FS.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&FS.nodePermissions(i,r)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,i){var r=FS.getStream(i);return r&&FS.close(r),FS.open(e,t,0,i,i).fd},doReadv:function(e,t,i,r){for(var n=0,a=0;a<i;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.read(e,HEAP8,o,s,r);if(l<0)return-1;if(n+=l,l<s)break}return n},doWritev:function(e,t,i,r){for(var n=0,a=0;a<i;a++){var o=HEAP32[t+8*a>>2],s=HEAP32[t+(8*a+4)>>2],l=FS.write(e,HEAP8,o,s,r);if(l<0)return-1;n+=l}return n},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),i=SYSCALLS.get();if(e&&0===t)return null;var r=__read_sockaddr(t,i);if(r.errno)throw new FS.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall5(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStr(),r=SYSCALLS.get(),n=SYSCALLS.get();return FS.open(i,r,n).fd}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _emscripten_memcpy_big(e,t,i){return HEAPU8.set(HEAPU8.subarray(t,t+i),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD();return FS.close(i),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}Module._memcpy=_memcpy;var _cos=Math_cos;function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var i=DYNAMICTOP;if(0!=e&&!t.alloc(e))return-1>>>0;return i}Module._memmove=_memmove;var _BItoD=!0;function ___syscall54(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 21505:case 21506:return i.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!i.tty)return-ERRNO_CODES.ENOTTY;var n=SYSCALLS.get();return HEAP32[n>>2]=0,0;case 21520:return i.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:n=SYSCALLS.get();return FS.ioctl(i,r,n);default:abort("bad ioctl syscall "+r)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var _ceilf=Math_ceil;function __embind_register_memory_view(e,t,i){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function n(e){var t=HEAPU32,i=t[e>>=2],n=t[e+1];return new r(t.buffer,n,i)}registerType(e,{name:i=readLatin1String(i),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{ignoreDuplicateRegistrations:!0})}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),n=SYSCALLS.get(),a=SYSCALLS.get(),o=SYSCALLS.get(),s=n;return assert(0===r),FS.llseek(i,s,o),HEAP32[a>>2]=i.position,i.getdents&&0===s&&0===o&&(i.getdents=null),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),n=SYSCALLS.get();return SYSCALLS.doWritev(i,r,n)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall221(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD();switch(SYSCALLS.get()){case 0:return(r=SYSCALLS.get())<0?-ERRNO_CODES.EINVAL:FS.open(i.path,i.flags,0,r).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var r=SYSCALLS.get();return i.flags|=r,0;case 12:case 12:r=SYSCALLS.get();return HEAP16[r+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),n=SYSCALLS.get();return SYSCALLS.doReadv(i,r,n)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC);if(embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_emval(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=__webpack_require__(2),NODEJS_PATH=__webpack_require__(3);NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function nullFunc_iiii(e){Module.printErr("Invalid function pointer called with signature 'iiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viiiii(e){Module.printErr("Invalid function pointer called with signature 'viiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_dii(e){Module.printErr("Invalid function pointer called with signature 'dii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_vid(e){Module.printErr("Invalid function pointer called with signature 'vid'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_di(e){Module.printErr("Invalid function pointer called with signature 'di'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_i(e){Module.printErr("Invalid function pointer called with signature 'i'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_vi(e){Module.printErr("Invalid function pointer called with signature 'vi'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_vii(e){Module.printErr("Invalid function pointer called with signature 'vii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_ii(e){Module.printErr("Invalid function pointer called with signature 'ii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viii(e){Module.printErr("Invalid function pointer called with signature 'viii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_v(e){Module.printErr("Invalid function pointer called with signature 'v'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viid(e){Module.printErr("Invalid function pointer called with signature 'viid'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_iiiii(e){Module.printErr("Invalid function pointer called with signature 'iiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viiiiii(e){Module.printErr("Invalid function pointer called with signature 'viiiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_iii(e){Module.printErr("Invalid function pointer called with signature 'iii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viiii(e){Module.printErr("Invalid function pointer called with signature 'viiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function invoke_iiii(e,t,i,r){try{return Module.dynCall_iiii(e,t,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,i,r,n,a){try{Module.dynCall_viiiii(e,t,i,r,n,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_dii(e,t,i){try{return Module.dynCall_dii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vid(e,t,i){try{Module.dynCall_vid(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_di(e,t){try{return Module.dynCall_di(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_i(e){try{return Module.dynCall_i(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,t,i){try{Module.dynCall_vii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,t,i,r){try{Module.dynCall_viii(e,t,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viid(e,t,i,r){try{Module.dynCall_viid(e,t,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(e,t,i,r,n){try{return Module.dynCall_iiiii(e,t,i,r,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,i,r,n,a,o){try{Module.dynCall_viiiiii(e,t,i,r,n,a,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,t,i){try{return Module.dynCall_iii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,t,i,r,n){try{Module.dynCall_viiii(e,t,i,r,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:byteLength},Module.asmLibraryArg={abort:abort,assert:assert,nullFunc_iiii:nullFunc_iiii,nullFunc_viiiii:nullFunc_viiiii,nullFunc_dii:nullFunc_dii,nullFunc_vid:nullFunc_vid,nullFunc_di:nullFunc_di,nullFunc_i:nullFunc_i,nullFunc_vi:nullFunc_vi,nullFunc_vii:nullFunc_vii,nullFunc_ii:nullFunc_ii,nullFunc_viii:nullFunc_viii,nullFunc_v:nullFunc_v,nullFunc_viid:nullFunc_viid,nullFunc_iiiii:nullFunc_iiiii,nullFunc_viiiiii:nullFunc_viiiiii,nullFunc_iii:nullFunc_iii,nullFunc_viiii:nullFunc_viiii,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_dii:invoke_dii,invoke_vid:invoke_vid,invoke_di:invoke_di,invoke_i:invoke_i,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,_fabs:_fabs,___syscall221:___syscall221,_sin:_sin,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,___syscall54:___syscall54,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,_pthread_cleanup_push:_pthread_cleanup_push,extendError:extendError,__embind_register_integer:__embind_register_integer,___assert_fail:___assert_fail,init_emval:init_emval,___cxa_allocate_exception:___cxa_allocate_exception,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_ceilf:_ceilf,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,__embind_register_emval:__embind_register_emval,_emscripten_asm_const_33:_emscripten_asm_const_33,__embind_register_constant:__embind_register_constant,___setErrNo:___setErrNo,__emval_register:__emval_register,_sbrk:_sbrk,readLatin1String:readLatin1String,__embind_register_void:__embind_register_void,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,___cxa_find_matching_catch:___cxa_find_matching_catch,_sysconf:_sysconf,_embind_repr:_embind_repr,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,embind_init_charCodes:embind_init_charCodes,_cos:_cos,getTypeName:getTypeName,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,_sqrt:_sqrt,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,integerReadValueFromPointer:integerReadValueFromPointer,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,_pthread_cleanup_pop:_pthread_cleanup_pop,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_exit:_exit,___syscall5:___syscall5,_emscripten_asm_const_4:_emscripten_asm_const_4,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,__exit:__exit,___lock:___lock,___syscall6:___syscall6,throwBindingError:throwBindingError,ensureOverloadTable:ensureOverloadTable,count_emval_handles:count_emval_handles,_time:_time,requireFunction:requireFunction,runDestructors:runDestructors,new_:new_,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,_emscripten_asm_const_5:_emscripten_asm_const_5,__embind_register_std_string:__embind_register_std_string,replacePublicSymbol:replacePublicSymbol,___syscall145:___syscall145,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,i){"use asm";var r=e.Int8Array;var n=e.Int16Array;var a=e.Int32Array;var o=e.Uint8Array;var s=e.Uint16Array;var l=e.Uint32Array;var c=e.Float32Array;var u=e.Float64Array;var f=new r(i);var h=new n(i);var d=new a(i);var p=new o(i);var m=new s(i);var v=new l(i);var g=new c(i);var y=new u(i);var b=e.byteLength;var w=t.STACKTOP|0;var _=t.STACK_MAX|0;var x=t.tempDoublePtr|0;var E=t.ABORT|0;var M=t.cttz_i8|0;var S=t.___dso_handle|0;var T=0;var k=0;var A=0;var R=0;var L=e.NaN,P=e.Infinity;var C=0,O=0,I=0,N=0,D=0.0,F=0,B=0,U=0,z=0.0;var H=0;var G=0;var V=0;var j=0;var W=0;var X=0;var q=0;var Y=0;var J=0;var Z=0;var K=e.Math.floor;var Q=e.Math.abs;var $=e.Math.sqrt;var ee=e.Math.pow;var te=e.Math.cos;var ie=e.Math.sin;var re=e.Math.tan;var ne=e.Math.acos;var ae=e.Math.asin;var oe=e.Math.atan;var se=e.Math.atan2;var le=e.Math.exp;var ce=e.Math.log;var ue=e.Math.ceil;var fe=e.Math.imul;var he=e.Math.min;var de=e.Math.clz32;var pe=t.abort;var me=t.assert;var ve=t.nullFunc_iiii;var ge=t.nullFunc_viiiii;var ye=t.nullFunc_dii;var be=t.nullFunc_vid;var we=t.nullFunc_di;var _e=t.nullFunc_i;var xe=t.nullFunc_vi;var Ee=t.nullFunc_vii;var Me=t.nullFunc_ii;var Se=t.nullFunc_viii;var Te=t.nullFunc_v;var ke=t.nullFunc_viid;var Ae=t.nullFunc_iiiii;var Re=t.nullFunc_viiiiii;var Le=t.nullFunc_iii;var Pe=t.nullFunc_viiii;var Ce=t.invoke_iiii;var Oe=t.invoke_viiiii;var Ie=t.invoke_dii;var Ne=t.invoke_vid;var De=t.invoke_di;var Fe=t.invoke_i;var Be=t.invoke_vi;var Ue=t.invoke_vii;var ze=t.invoke_ii;var He=t.invoke_viii;var Ge=t.invoke_v;var Ve=t.invoke_viid;var je=t.invoke_iiiii;var We=t.invoke_viiiiii;var Xe=t.invoke_iii;var qe=t.invoke_viiii;var Ye=t._fabs;var Je=t.___syscall221;var Ze=t._sin;var Ke=t.floatReadValueFromPointer;var Qe=t.simpleReadValueFromPointer;var $e=t.___syscall54;var et=t.__embind_register_memory_view;var tt=t.throwInternalError;var it=t.get_first_emval;var rt=t._abort;var nt=t._pthread_cleanup_push;var at=t.extendError;var ot=t.__embind_register_integer;var st=t.___assert_fail;var lt=t.init_emval;var ct=t.___cxa_allocate_exception;var ut=t.__ZSt18uncaught_exceptionv;var ft=t._ceilf;var ht=t.getShiftFromSize;var dt=t.__embind_register_function;var pt=t.__embind_register_emval;var mt=t._emscripten_asm_const_33;var vt=t.__embind_register_constant;var gt=t.___setErrNo;var yt=t.__emval_register;var bt=t._sbrk;var wt=t.readLatin1String;var _t=t.__embind_register_void;var xt=t._emscripten_memcpy_big;var Et=t.__embind_register_bool;var Mt=t.___resumeException;var St=t.___cxa_find_matching_catch;var Tt=t._sysconf;var kt=t._embind_repr;var At=t.__embind_register_std_wstring;var Rt=t.createNamedFunction;var Lt=t.embind_init_charCodes;var Pt=t._cos;var Ct=t.getTypeName;var Ot=t.throwUnboundTypeError;var It=t._pthread_self;var Nt=t.craftInvokerFunction;var Dt=t.__emval_decref;var Ft=t._sqrt;var Bt=t.__embind_register_float;var Ut=t.makeLegalFunctionName;var zt=t.integerReadValueFromPointer;var Ht=t.___unlock;var Gt=t.heap32VectorToArray;var Vt=t._pthread_cleanup_pop;var jt=t.whenDependentTypesAreResolved;var Wt=t._exit;var Xt=t.___syscall5;var qt=t._emscripten_asm_const_4;var Yt=t.___cxa_atexit;var Jt=t.registerType;var Zt=t.___cxa_throw;var Kt=t.__exit;var Qt=t.___lock;var $t=t.___syscall6;var ei=t.throwBindingError;var ti=t.ensureOverloadTable;var ii=t.count_emval_handles;var ri=t._time;var ni=t.requireFunction;var ai=t.runDestructors;var oi=t.new_;var si=t._atexit;var li=t.___syscall140;var ci=t.exposePublicSymbol;var ui=t._emscripten_asm_const_5;var fi=t.__embind_register_std_string;var hi=t.replacePublicSymbol;var di=t.___syscall145;var pi=t.___syscall146;var mi=0.0;function vi(e){if(b(e)&0xffffff||b(e)<=0xffffff||b(e)>0x80000000)return false;f=new r(e);h=new n(e);d=new a(e);p=new o(e);m=new s(e);v=new l(e);g=new c(e);y=new u(e);i=e;return true}function gi(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,bi=0,wi=0,Ei=0,Si=0,Ti=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,un=0,fn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Sn=0,Tn=0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ta=0,ia=0,ra=0,na=0,aa=0,oa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Va=0,ja=0,Wa=0,qa=0,Ya=0,Za=0,Ka=0,Qa=0,$a=0,eo=0,to=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0,fo=0,ho=0,po=0,mo=0,vo=0,go=0,yo=0,bo=0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Co=0,Oo=0,Io=0,No=0,Do=0,Fo=0,Uo=0,zo=0,Ho=0,Vo=0,jo=0,Wo=0,Xo=0,qo=0,Yo=0,Jo=0,Zo=0,Ko=0,Qo=0,$o=0,es=0,ts=0,is=0,rs=0,ns=0,as=0,os=0,ss=0,ls=0,cs=0,us=0,fs=0,hs=0,ps=0,ms=0,vs=0,ys=0,bs=0,_s=0,Es=0,Ss=0,Ts=0,ks=0,As=0,Rs=0,Ls=0,Ps=0,Os=0,Is=0,Ns=0,Ds=0,Fs=0,Bs=0,Us=0,zs=0,Hs=0,Gs=0,Vs=0,js=0,Ws=0,Xs=0,qs=0,Ys=0,Js=0,Zs=0,Ks=0,Qs=0,$s=0,tl=0,nl=0,sl=0,ll=0,cl=0,ul=0,hl=0,dl=0,pl=0,ml=0,gl=0,yl=0,wl=0,xl=0,El=0,Ml=0,Sl=0,Tl=0,kl=0,Al=0,Rl=0,Ll=0,Cl=0,Ol=0,Il=0,Nl=0,Fl=0,Bl=0,Ul=0,zl=0,Hl=0,Gl=0,Vl=0,jl=0,Wl=0,Xl=0,ql=0,Yl=0,Jl=0,Zl=0,Ql=0,$l=0,ec=0,tc=0,ic=0,rc=0,nc=0,ac=0,oc=0,sc=0,lc=0,uc=0,fc=0,hc=0,dc=0,pc=0,mc=0,vc=0,gc=0,yc=0,bc=0,wc=0,_c=0,xc=0,Ec=0,Mc=0,Sc=0,Tc=0,kc=0,Rc=0,Lc=0,Pc=0,Cc=0,Oc=0,Ic=0,Nc=0,Dc=0,Fc=0,Bc=0,Uc=0,zc=0,Hc=0,jc=0,Wc=0,Xc=0,qc=0,Yc=0,Jc=0,Zc=0,Kc=0,Qc=0,$c=0,eu=0,tu=0,iu=0,ru=0,nu=0,au=0,ou=0,su=0,lu=0,cu=0,uu=0,fu=0,hu=0,du=0,pu=0,mu=0,vu=0,gu=0,yu=0,bu=0,wu=0,_u=0,xu=0,Eu=0,Mu=0,Su=0,Tu=0,ku=0,Au=0,Ru=0,Pu=0,Cu=0,Ou=0,Iu=0,Nu=0,Du=0,Fu=0,Bu=0,Uu=0,zu=0,Hu=0,Gu=0,Vu=0,ju=0,Wu=0,Xu=0,qu=0,Yu=0,Ju=0,Zu=0,Ku=0,Qu=0,$u=0,ef=0,tf=0,rf=0,nf=0,af=0,of=0,sf=0,lf=0,cf=0,uf=0,ff=0,hf=0,df=0,pf=0,mf=0,vf=0,gf=0,yf=0,wf=0,_f=0,xf=0,Mf=0,Sf=0,Tf=0,kf=0,Af=0,Rf=0,Lf=0,Pf=0,Cf=0,Of=0,If=0,Nf=0,Df=0,Ff=0,Bf=0,Uf=0,zf=0,Hf=0,Gf=0,Vf=0,jf=0,Wf=0,Xf=0,qf=0,Yf=0,Jf=0,Zf=0,Kf=0,Qf=0,$f=0,eh=0,th=0,ih=0,rh=0,nh=0,ah=0,oh=0,sh=0,lh=0,ch=0,uh=0,fh=0,hh=0,dh=0,ph=0,mh=0,vh=0,gh=0,yh=0,bh=0,wh=0,_h=0,xh=0,Eh=0,Mh=0,Sh=0,Th=0,kh=0,Ah=0,Rh=0,Lh=0,Ph=0,Ch=0,Oh=0,Ih=0,Nh=0,Dh=0,Fh=0,Bh=0,Uh=0,zh=0,Hh=0,Gh=0,Vh=0,jh=0,Wh=0,Xh=0,qh=0,Yh=0,Jh=0,Zh=0,Kh=0,Qh=0,$h=0,ed=0,td=0,id=0,rd=0,nd=0,ad=0,od=0,sd=0,ld=0,cd=0,ud=0,fd=0,hd=0,dd=0,pd=0,md=0,vd=0,gd=0,yd=0,bd=0,wd=0,_d=0,xd=0,Ed=0,Md=0,Sd=0,Td=0,kd=0,Ad=0,Rd=0,Ld=0,Pd=0,Cd=0,Od=0,Id=0,Nd=0,Dd=0,Fd=0,Bd=0,Ud=0,zd=0,Hd=0,Gd=0,Vd=0,jd=0,Wd=0,Xd=0,qd=0,Yd=0,Jd=0,Zd=0,Kd=0,Qd=0,$d=0,ep=0,tp=0,ip=0,rp=0,np=0,ap=0,op=0,sp=0,lp=0,cp=0,up=0,fp=0,hp=0,dp=0,pp=0,mp=0,vp=0,gp=0,yp=0,bp=0,wp=0,_p=0,xp=0,Ep=0,Mp=0,Sp=0,Tp=0,kp=0,Ap=0,Rp=0,Lp=0,Pp=0,Cp=0,Op=0,Ip=0,Np=0,Dp=0,Fp=0,Bp=0,Up=0,zp=0,Hp=0,Gp=0,Vp=0,jp=0,Wp=0,Xp=0,qp=0,Yp=0,Jp=0,Zp=0,Kp=0,Qp=0,$p=0,em=0,tm=0,im=0,rm=0,nm=0,am=0,om=0,sm=0,lm=0,cm=0,um=0,fm=0,hm=0,dm=0,pm=0,mm=0,vm=0,gm=0,ym=0,bm=0,wm=0,_m=0,xm=0,Em=0,Mm=0,Sm=0,Tm=0,km=0,Am=0,Rm=0,Lm=0,Pm=0,Cm=0,Om=0,Im=0,Nm=0,Dm=0,Fm=0,Bm=0,Um=0,zm=0,Hm=0,Gm=0,Vm=0,jm=0,Wm=0,Xm=0,qm=0,Ym=0,Jm=0,Zm=0,Km=0,Qm=0,$m=0,ev=0,tv=0,iv=0,rv=0,nv=0,av=0,ov=0,sv=0,lv=0,cv=0,uv=0,fv=0,hv=0,dv=0,pv=0,mv=0,vv=0,gv=0,yv=0,bv=0,wv=0,_v=0,xv=0,Ev=0,Mv=0,Sv=0,Tv=0,kv=0,Av=0,Rv=0,Lv=0,Pv=0,Cv=0,Ov=0,Iv=0,Nv=0,Dv=0,Fv=0,Bv=0,Uv=0,zv=0,Hv=0,Gv=0,Vv=0,jv=0,Wv=0,Xv=0,qv=0,Yv=0,Jv=0,Zv=0,Kv=0,Qv=0,$v=0,eg=0,tg=0,ig=0,rg=0,ng=0,ag=0,og=0,sg=0,lg=0,cg=0,ug=0,fg=0,hg=0,dg=0,pg=0,mg=0,vg=0,gg=0,yg=0,bg=0,wg=0,_g=0,xg=0,Eg=0,Mg=0,Sg=0,Tg=0,kg=0,Ag=0,Rg=0,Lg=0,Pg=0,Cg=0,Og=0,Ig=0;Ig=w;w=w+784|0;if((w|0)>=(_|0))pe();rg=Ig+752|0;oe=Ig+728|0;se=Ig+716|0;bs=Ig+704|0;ah=Ig+680|0;Xh=Ig+656|0;Nd=Ig+632|0;bp=Ig+620|0;pg=Ig+608|0;em=Ig+596|0;Um=Ig+584|0;_v=Ig+572|0;ag=Ig+568|0;le=Ig+552|0;je=Ig+544|0;Ct=Ig+528|0;pi=Ig+520|0;ar=Ig+504|0;Dr=Ig+496|0;En=Ig+480|0;fa=Ig+472|0;Ya=Ig+456|0;Do=Ig+452|0;_s=Ig+440|0;wl=Ig+428|0;lc=Ig+416|0;Jc=Ig+404|0;ng=Ig+392|0;Cu=Ig+376|0;cf=Ig+368|0;Cg=Ig+356|0;Wf=Ig+344|0;Zf=Ig+320|0;$f=Ig+308|0;ih=Ig+296|0;oh=Ig+284|0;wg=Ig+272|0;uh=Ig+248|0;hh=Ig+236|0;vh=Ig+224|0;yh=Ig+212|0;Eh=Ig+200|0;Rh=Ig+176|0;Oh=Ig+164|0;Fh=Ig+152|0;Vh=Ig+136|0;qh=Ig+128|0;Kh=Ig+112|0;rd=Ig+108|0;Pg=Ig+96|0;sd=Ig+80|0;ud=Ig+72|0;vd=Ig+56|0;bd=Ig+48|0;xd=Ig+32|0;Td=Ig+24|0;Cd=Ig+8|0;Dd=Ig;e:do{if((e|0)==(t|0))r=e;else{switch(f[e>>0]|0){case 75:case 86:case 114:{d[ag>>2]=0;Jd=ds(e,t,ag)|0;if((Jd|0)==(e|0)){r=e;break e}ip=f[Jd>>0]|0;lp=i+4|0;Pp=((d[lp>>2]|0)-(d[i>>2]|0)|0)/24|0;Up=gi(Jd,t,i)|0;tm=((d[lp>>2]|0)-(d[i>>2]|0)|0)/24|0;if((Up|0)==(Jd|0)){r=e;break e}om=ip<<24>>24==70;um=i+20|0;dm=d[um>>2]|0;if(om){bm=dm+-16|0;Am=dm;do{Em=Am+-16|0;d[um>>2]=Em;ol(Em);Am=d[um>>2]|0}while((Am|0)!=(bm|0));fv=bm}else fv=dm;Dm=i+16|0;Jm=d[i+12>>2]|0;iv=d[i+24>>2]|0;if(fv>>>0<iv>>>0){d[fv>>2]=0;d[fv+4>>2]=0;d[fv+8>>2]=0;d[fv+12>>2]=Jm;d[um>>2]=(d[um>>2]|0)+16}else{Bv=d[Dm>>2]|0;Wv=fv-Bv|0;qv=Wv>>4;Kv=qv+1|0;if((Wv|0)<-16)Ef(Dm);he=iv-Bv|0;if(he>>4>>>0<1073741823){Me=he>>3;T=Me>>>0<Kv>>>0?Kv:Me}else T=2147483647;vl(rg,T,qv,i+28|0);Ie=rg+8|0;Ue=d[Ie>>2]|0;d[Ue>>2]=0;d[Ue+4>>2]=0;d[Ue+8>>2]=0;d[Ue+12>>2]=Jm;d[Ie>>2]=Ue+16;Ga(Dm,rg);Cs(rg)}it=d[ag>>2]|0;lt=(it&1|0)==0;yt=(it&2|0)==0;St=(it&4|0)==0;Ot=rg+8|0;if(Pp>>>0<tm>>>0)sg=Pp;else{r=Up;break e}while(1){if(om){Ht=d[i>>2]|0;Wt=Ht+(sg*24|0)+12|0;Yt=f[Wt>>0]|0;ii=(Yt&1)==0;if(ii){X=(Yt&255)>>>1;qi=Wt+1|0}else{X=d[Ht+(sg*24|0)+16>>2]|0;qi=d[Ht+(sg*24|0)+20>>2]|0}Ui=X+-2|0;if((f[qi+Ui>>0]|0)==38)mg=X+-3|0;else{if(ii){Sr=(Yt&255)>>>1;Or=Wt+1|0}else{Sr=d[Ht+(sg*24|0)+16>>2]|0;Or=d[Ht+(sg*24|0)+20>>2]|0}mg=(f[Or+(Sr+-1)>>0]|0)==38?Ui:X}if(lt)vg=mg;else{Ac(Wt,mg,12643)|0;vg=mg+6|0}if(yt)gg=vg;else{Ac((d[i>>2]|0)+(sg*24|0)+12|0,vg,12650)|0;gg=vg+9|0}if(!St)Ac((d[i>>2]|0)+(sg*24|0)+12|0,gg,12660)|0}else{if(!lt)Gc((d[i>>2]|0)+(sg*24|0)|0,12643)|0;if(!yt)Gc((d[i>>2]|0)+(sg*24|0)|0,12650)|0;if(!St)Gc((d[i>>2]|0)+(sg*24|0)|0,12660)|0}Nn=d[um>>2]|0;Hn=Nn+-16|0;Vn=d[i>>2]|0;qn=Vn+(sg*24|0)|0;ia=Nn+-12|0;oa=d[ia>>2]|0;if((oa|0)==(d[Nn+-8>>2]|0)){Qa=oa-(d[Hn>>2]|0)|0;no=(Qa|0)/24|0;co=no+1|0;if((Qa|0)<-24){Q=Hn;break}if(no>>>0<1073741823){bo=no<<1;k=bo>>>0<co>>>0?co:bo}else k=2147483647;_l(rg,k,no,Nn+-4|0);Lo=d[Ot>>2]|0;Dl(Lo,qn);Dl(Lo+12|0,Vn+(sg*24|0)+12|0);d[Ot>>2]=Lo+24;Bo(Hn,rg);al(rg)}else{Dl(oa,qn);Dl(oa+12|0,Vn+(sg*24|0)+12|0);d[ia>>2]=(d[ia>>2]|0)+24}sg=sg+1|0;if(sg>>>0>=tm>>>0){r=Up;break e}}Ef(Q);break}default:{}}Zo=_i(e,t,i)|0;if((Zo|0)==(e|0)){as=f[e>>0]|0;t:do{switch(as<<24>>24|0){case 65:{do{if(as<<24>>24==65){Es=e+1|0;if((Es|0)==(t|0))n=e;else{Os=f[Es>>0]|0;if(Os<<24>>24==95){zs=e+2|0;Vs=gi(zs,t,i)|0;if((Vs|0)==(zs|0)){n=e;break}nl=i+4|0;ul=d[nl>>2]|0;if((d[i>>2]|0)==(ul|0)){n=e;break}xl=ul+-12|0;Al=f[xl>>0]|0;Fl=(Al&1)==0;rc=Fl?(Al&255)>>>1:d[ul+-8>>2]|0;fl(rg,Fl?xl+1|0:d[ul+-4>>2]|0,rc>>>0<2?rc:2);Cc=f[rg>>0]|0;Uc=(Cc&1)==0;nu=Uc?(Cc&255)>>>1:d[rg+4>>2]|0;xu=nu>>>0>2;Ou=bl(Uc?rg+1|0:d[rg+8>>2]|0,12670,xu?2:nu)|0;Lu(rg);if(!(((Ou|0)==0?nu>>>0<2?-1:xu&1:Ou)|0))rl((d[nl>>2]|0)+-12|0);Ac((d[nl>>2]|0)+-12|0,0,12673)|0;n=Vs;break}if((Os+-49&255)<9){uf=Ms(Es,t)|0;if((uf|0)==(t|0)){n=e;break}if((f[uf>>0]|0)!=95){n=e;break}Mf=uf+1|0;Lf=gi(Mf,t,i)|0;if((Lf|0)==(Mf|0)){n=e;break}Vf=i+4|0;jf=d[Vf>>2]|0;if((d[i>>2]|0)==(jf|0)){n=e;break}Xf=jf+-12|0;qf=f[Xf>>0]|0;Yf=(qf&1)==0;Jf=Yf?(qf&255)>>>1:d[jf+-8>>2]|0;fl(oe,Yf?Xf+1|0:d[jf+-4>>2]|0,Jf>>>0<2?Jf:2);Kf=f[oe>>0]|0;Qf=(Kf&1)==0;eh=Qf?(Kf&255)>>>1:d[oe+4>>2]|0;th=eh>>>0>2;rh=bl(Qf?oe+1|0:d[oe+8>>2]|0,12670,th?2:eh)|0;Lu(oe);if(!(((rh|0)==0?eh>>>0<2?-1:th&1:rh)|0))rl((d[Vf>>2]|0)+-12|0);nh=(d[Vf>>2]|0)+-12|0;sh=uf-Es|0;if(sh>>>0>4294967279)bf(ah);if(sh>>>0<11){f[ah>>0]=sh<<1;ig=ah+1|0}else{lh=sh+16&-16;ch=xi(lh)|0;d[ah+8>>2]=ch;d[ah>>2]=lh|1;d[ah+4>>2]=sh;ig=ch}if((Es|0)!=(uf|0)){b=Es;tg=ig;while(1){f[tg>>0]=f[b>>0]|0;b=b+1|0;if((b|0)==(uf|0))break;else tg=tg+1|0}}f[ig+sh>>0]=0;fh=Ac(ah,0,12670)|0;d[bs>>2]=d[fh>>2];d[bs+4>>2]=d[fh+4>>2];d[bs+8>>2]=d[fh+8>>2];d[fh>>2]=0;d[fh+4>>2]=0;d[fh+8>>2]=0;dh=Gc(bs,12677)|0;d[se>>2]=d[dh>>2];d[se+4>>2]=d[dh+4>>2];d[se+8>>2]=d[dh+8>>2];d[dh>>2]=0;d[dh+4>>2]=0;d[dh+8>>2]=0;ph=f[se>>0]|0;mh=(ph&1)==0;Xa(nh,0,mh?se+1|0:d[se+8>>2]|0,mh?(ph&255)>>>1:d[se+4>>2]|0)|0;Lu(se);Lu(bs);Lu(ah);n=Lf;break}gh=yi(Es,t,i)|0;if((gh|0)==(Es|0)|(gh|0)==(t|0))n=e;else if((f[gh>>0]|0)==95){bh=gh+1|0;wh=gi(bh,t,i)|0;if((wh|0)==(bh|0))n=e;else{_h=i+4|0;xh=d[_h>>2]|0;if(((xh-(d[i>>2]|0)|0)/24|0)>>>0<2)n=e;else{Pl(Xh,xh+-24|0);Mh=d[_h>>2]|0;Sh=Mh+-24|0;kh=Mh;do{Th=kh+-24|0;d[_h>>2]=Th;Vc(Th);kh=d[_h>>2]|0}while((kh|0)!=(Sh|0));Pl(Nd,Mh+-48|0);Ah=d[_h>>2]|0;Lh=Ah+-24|0;do{if(!(f[Lh>>0]&1)){f[Lh+1>>0]=0;f[Lh>>0]=0}else{Ph=Ah+-16|0;f[d[Ph>>2]>>0]=0;Ch=Ah+-20|0;d[Ch>>2]=0;te=f[Lh>>0]|0;if(!(te&1)){Nh=te;Uh=10}else{Ih=d[Lh>>2]|0;Nh=Ih&255;Uh=(Ih&-2)+-1|0}if(!(Nh&1)){Dh=(Nh&255)>>>1;if((Nh&255)<22){Df=1;Bh=10;Yh=Dh}else{Df=1;Bh=(Dh+16&240)+-1|0;Yh=Dh}}else{Df=0;Bh=10;Yh=0}if((Bh|0)!=(Uh|0)){if((Bh|0)==10){Gh=Lh+1|0;jh=d[Ph>>2]|0;if(Df){il(Gh|0,jh|0,((Nh&255)>>>1)+1|0)|0;cn(jh)}else{f[Gh>>0]=f[jh>>0]|0;cn(jh)}f[Lh>>0]=Yh<<1;break}zh=Bh+1|0;Hh=xi(zh)|0;if(!(Bh>>>0<=Uh>>>0&(Hh|0)==0)){if(Df)il(Hh|0,Lh+1|0,((Nh&255)>>>1)+1|0)|0;else{Wh=d[Ph>>2]|0;f[Hh>>0]=f[Wh>>0]|0;cn(Wh)}d[Lh>>2]=zh|1;d[Ch>>2]=Yh;d[Ph>>2]=Hh}}}}while(0);d[Lh>>2]=d[Xh>>2];d[Lh+4>>2]=d[Xh+4>>2];d[Lh+8>>2]=d[Xh+8>>2];d[Xh>>2]=0;d[Xh+4>>2]=0;d[Xh+8>>2]=0;Jh=Xh+12|0;Zh=f[Jh>>0]|0;Qh=(Zh&1)==0;$h=Xh+16|0;ed=Qh?(Zh&255)>>>1:d[$h>>2]|0;td=Xh+20|0;id=Jh+1|0;fl(bp,Qh?id:d[td>>2]|0,ed>>>0<2?ed:2);nd=f[bp>>0]|0;ad=(nd&1)==0;od=ad?(nd&255)>>>1:d[bp+4>>2]|0;ld=od>>>0>2;cd=bl(ad?bp+1|0:d[bp+8>>2]|0,12670,ld?2:od)|0;Lu(bp);if(!(((cd|0)==0?od>>>0<2?-1:ld&1:cd)|0))rl(Jh);fd=d[_h>>2]|0;hd=fd+-12|0;el(_v,Nd);dd=Ac(_v,0,12670)|0;d[Um>>2]=d[dd>>2];d[Um+4>>2]=d[dd+4>>2];d[Um+8>>2]=d[dd+8>>2];d[dd>>2]=0;d[dd+4>>2]=0;d[dd+8>>2]=0;pd=Gc(Um,12677)|0;d[em>>2]=d[pd>>2];d[em+4>>2]=d[pd+4>>2];d[em+8>>2]=d[pd+8>>2];d[pd>>2]=0;d[pd+4>>2]=0;d[pd+8>>2]=0;md=f[Jh>>0]|0;gd=(md&1)==0;yd=Go(em,gd?id:d[td>>2]|0,gd?(md&255)>>>1:d[$h>>2]|0)|0;d[pg>>2]=d[yd>>2];d[pg+4>>2]=d[yd+4>>2];d[pg+8>>2]=d[yd+8>>2];d[yd>>2]=0;d[yd+4>>2]=0;d[yd+8>>2]=0;do{if(!(f[hd>>0]&1)){f[hd+1>>0]=0;f[hd>>0]=0}else{wd=fd+-4|0;f[d[wd>>2]>>0]=0;_d=fd+-8|0;d[_d>>2]=0;re=f[hd>>0]|0;if(!(re&1)){Md=re;Ad=10}else{Ed=d[hd>>2]|0;Md=Ed&255;Ad=(Ed&-2)+-1|0}do{if(!(Md&1)){Sd=(Md&255)>>>1;if((Md&255)<22){Ff=1;kd=10;Fd=Sd;break}Ff=1;kd=(Sd+16&240)+-1|0;Fd=Sd}else{Ff=0;kd=10;Fd=0}}while(0);if((kd|0)!=(Ad|0)){if((kd|0)==10){Pd=hd+1|0;Od=d[wd>>2]|0;if(Ff){il(Pd|0,Od|0,((Md&255)>>>1)+1|0)|0;cn(Od)}else{f[Pd>>0]=f[Od>>0]|0;cn(Od)}f[hd>>0]=Fd<<1;break}Rd=kd+1|0;Ld=xi(Rd)|0;if(kd>>>0<=Ad>>>0&(Ld|0)==0)break;if(Ff)il(Ld|0,hd+1|0,((Md&255)>>>1)+1|0)|0;else{Id=d[wd>>2]|0;f[Ld>>0]=f[Id>>0]|0;cn(Id)}d[hd>>2]=Rd|1;d[_d>>2]=Fd;d[wd>>2]=Ld}}}while(0);d[hd>>2]=d[pg>>2];d[hd+4>>2]=d[pg+4>>2];d[hd+8>>2]=d[pg+8>>2];d[pg>>2]=0;d[pg+4>>2]=0;d[pg+8>>2]=0;Lu(pg);Lu(em);Lu(Um);Lu(_v);Vc(Nd);Vc(Xh);n=wh}}}else n=e}}else n=e}while(0);if((n|0)==(e|0)){r=e;break e}Bd=d[i+4>>2]|0;if((d[i>>2]|0)==(Bd|0)){r=e;break e}Ud=i+16|0;d[je>>2]=d[i+12>>2];xs(le,Bd+-24|0,je);zd=i+20|0;Hd=d[zd>>2]|0;Gd=d[i+24>>2]|0;if(Hd>>>0<Gd>>>0){d[Hd+12>>2]=d[le+12>>2];d[Hd>>2]=d[le>>2];Vd=le+4|0;d[Hd+4>>2]=d[Vd>>2];jd=le+8|0;d[Hd+8>>2]=d[jd>>2];d[jd>>2]=0;d[Vd>>2]=0;d[le>>2]=0;d[zd>>2]=(d[zd>>2]|0)+16}else{Wd=d[Ud>>2]|0;Xd=Hd-Wd|0;qd=Xd>>4;Yd=qd+1|0;if((Xd|0)<-16)Ef(Ud);Zd=Gd-Wd|0;if(Zd>>4>>>0<1073741823){Kd=Zd>>3;R=Kd>>>0<Yd>>>0?Yd:Kd}else R=2147483647;vl(rg,R,qd,i+28|0);Qd=rg+8|0;$d=d[Qd>>2]|0;d[$d+12>>2]=d[le+12>>2];d[$d>>2]=d[le>>2];ep=le+4|0;d[$d+4>>2]=d[ep>>2];tp=le+8|0;d[$d+8>>2]=d[tp>>2];d[tp>>2]=0;d[ep>>2]=0;d[le>>2]=0;d[Qd>>2]=$d+16;Ga(Ud,rg);Cs(rg)}ol(le);r=n;break e;break}case 67:{rp=e+1|0;np=gi(rp,t,i)|0;if((np|0)==(rp|0)){r=e;break e}ap=i+4|0;op=d[ap>>2]|0;if((d[i>>2]|0)==(op|0)){r=e;break e}Gc(op+-24|0,12679)|0;sp=i+16|0;cp=(d[ap>>2]|0)+-24|0;d[pi>>2]=d[i+12>>2];xs(Ct,cp,pi);up=i+20|0;fp=d[up>>2]|0;hp=d[i+24>>2]|0;if(fp>>>0<hp>>>0){d[fp+12>>2]=d[Ct+12>>2];d[fp>>2]=d[Ct>>2];dp=Ct+4|0;d[fp+4>>2]=d[dp>>2];pp=Ct+8|0;d[fp+8>>2]=d[pp>>2];d[pp>>2]=0;d[dp>>2]=0;d[Ct>>2]=0;d[up>>2]=(d[up>>2]|0)+16}else{mp=d[sp>>2]|0;vp=fp-mp|0;gp=vp>>4;yp=gp+1|0;if((vp|0)<-16)Ef(sp);wp=hp-mp|0;if(wp>>4>>>0<1073741823){_p=wp>>3;L=_p>>>0<yp>>>0?yp:_p}else L=2147483647;vl(rg,L,gp,i+28|0);xp=rg+8|0;Ep=d[xp>>2]|0;d[Ep+12>>2]=d[Ct+12>>2];d[Ep>>2]=d[Ct>>2];Mp=Ct+4|0;d[Ep+4>>2]=d[Mp>>2];Sp=Ct+8|0;d[Ep+8>>2]=d[Sp>>2];d[Sp>>2]=0;d[Mp>>2]=0;d[Ct>>2]=0;d[xp>>2]=Ep+16;Ga(sp,rg);Cs(rg)}ol(Ct);r=np;break e;break}case 70:{do{if(as<<24>>24==70){Tp=e+1|0;if((Tp|0)!=(t|0)){if((f[Tp>>0]|0)==89){kp=e+2|0;if((kp|0)==(t|0))break;else Mg=kp}else Mg=Tp;Ap=gi(Mg,t,i)|0;if((Ap|0)!=(Mg|0)){fl(rg,12688,1);Rp=i+4|0;Lp=rg+4|0;Cp=oe+8|0;Op=oe+1|0;Ip=oe+4|0;i:do{if((Ap|0)==(t|0))Og=144;else{xg=0;kg=Ap;r:while(1){Ag=kg;n:while(1){switch(f[Ag>>0]|0){case 69:{Eg=xg;Rg=Ag;break r;break}case 118:{Sg=Ag+1|0;break}case 82:{Hp=Ag+1|0;if((Hp|0)==(t|0))Og=154;else if((f[Hp>>0]|0)==69){_g=1;Tg=Hp;break n}else Og=154;break}case 79:{Gp=Ag+1|0;if((Gp|0)==(t|0))Og=154;else if((f[Gp>>0]|0)==69){_g=2;Tg=Gp;break n}else Og=154;break}default:Og=154}if((Og|0)==154){Og=0;Vp=((d[Rp>>2]|0)-(d[i>>2]|0)|0)/24|0;jp=gi(Ag,t,i)|0;Wp=((d[Rp>>2]|0)-(d[i>>2]|0)|0)/24|0;if((jp|0)==(Ag|0)|(jp|0)==(t|0))break i;if(Vp>>>0<Wp>>>0){og=Vp;do{Xp=f[rg>>0]|0;if(((Xp&1)==0?(Xp&255)>>>1:d[Lp>>2]|0)>>>0>1)Gc(rg,12690)|0;el(oe,(d[i>>2]|0)+(og*24|0)|0);qp=f[oe>>0]|0;Yp=(qp&1)==0;Go(rg,Yp?Op:d[Cp>>2]|0,Yp?(qp&255)>>>1:d[Ip>>2]|0)|0;Lu(oe);og=og+1|0}while(og>>>0<Wp>>>0)}if(Vp>>>0<Wp>>>0){ug=Vp;do{Jp=d[Rp>>2]|0;Zp=Jp+-24|0;Qp=Jp;do{Kp=Qp+-24|0;d[Rp>>2]=Kp;Vc(Kp);Qp=d[Rp>>2]|0}while((Qp|0)!=(Zp|0));ug=ug+1|0}while(ug>>>0<Wp>>>0);Sg=jp}else Sg=jp}if((Sg|0)==(t|0)){Og=144;break i}else Ag=Sg}if((Tg|0)==(t|0)){Og=144;break i}else{xg=_g;kg=Tg}}zp=Rg+1|0;Gc(rg,12593)|0;switch(Eg|0){case 1:{Gc(rg,12693)|0;break}case 2:{Gc(rg,12696)|0;break}default:{}}$p=d[Rp>>2]|0;if((d[i>>2]|0)!=($p|0)){Gc($p+-24|0,12700)|0;im=f[rg>>0]|0;rm=(im&1)==0;Xa((d[Rp>>2]|0)+-12|0,0,rm?rg+1|0:d[rg+8>>2]|0,rm?(im&255)>>>1:d[Lp>>2]|0)|0;Lu(rg);if((zp|0)==(e|0)){r=e;break e}nm=d[Rp>>2]|0;if((d[i>>2]|0)==(nm|0)){r=e;break e}am=i+16|0;d[Dr>>2]=d[i+12>>2];xs(ar,nm+-24|0,Dr);sm=i+20|0;lm=d[sm>>2]|0;cm=d[i+24>>2]|0;if(lm>>>0<cm>>>0){d[lm+12>>2]=d[ar+12>>2];d[lm>>2]=d[ar>>2];fm=ar+4|0;d[lm+4>>2]=d[fm>>2];hm=ar+8|0;d[lm+8>>2]=d[hm>>2];d[hm>>2]=0;d[fm>>2]=0;d[ar>>2]=0;d[sm>>2]=(d[sm>>2]|0)+16}else{pm=d[am>>2]|0;mm=lm-pm|0;vm=mm>>4;gm=vm+1|0;if((mm|0)<-16)Ef(am);ym=cm-pm|0;if(ym>>4>>>0<1073741823){wm=ym>>3;P=wm>>>0<gm>>>0?gm:wm}else P=2147483647;vl(rg,P,vm,i+28|0);_m=rg+8|0;xm=d[_m>>2]|0;d[xm+12>>2]=d[ar+12>>2];d[xm>>2]=d[ar>>2];Mm=ar+4|0;d[xm+4>>2]=d[Mm>>2];Sm=ar+8|0;d[xm+8>>2]=d[Sm>>2];d[Sm>>2]=0;d[Mm>>2]=0;d[ar>>2]=0;d[_m>>2]=xm+16;Ga(am,rg);Cs(rg)}ol(ar);r=zp;break e}}}while(0);if((Og|0)==144){Np=d[Rp>>2]|0;Dp=Np+-24|0;Bp=Np;do{Fp=Bp+-24|0;d[Rp>>2]=Fp;Vc(Fp);Bp=d[Rp>>2]|0}while((Bp|0)!=(Dp|0))}Lu(rg)}}}}while(0);r=e;break e;break}case 71:{Tm=e+1|0;km=gi(Tm,t,i)|0;if((km|0)==(Tm|0)){r=e;break e}Rm=i+4|0;Lm=d[Rm>>2]|0;if((d[i>>2]|0)==(Lm|0)){r=e;break e}Gc(Lm+-24|0,12702)|0;Pm=i+16|0;Cm=(d[Rm>>2]|0)+-24|0;d[fa>>2]=d[i+12>>2];xs(En,Cm,fa);Om=i+20|0;Im=d[Om>>2]|0;Nm=d[i+24>>2]|0;if(Im>>>0<Nm>>>0){d[Im+12>>2]=d[En+12>>2];d[Im>>2]=d[En>>2];Fm=En+4|0;d[Im+4>>2]=d[Fm>>2];Bm=En+8|0;d[Im+8>>2]=d[Bm>>2];d[Bm>>2]=0;d[Fm>>2]=0;d[En>>2]=0;d[Om>>2]=(d[Om>>2]|0)+16}else{zm=d[Pm>>2]|0;Hm=Im-zm|0;Gm=Hm>>4;Vm=Gm+1|0;if((Hm|0)<-16)Ef(Pm);jm=Nm-zm|0;if(jm>>4>>>0<1073741823){Wm=jm>>3;C=Wm>>>0<Vm>>>0?Vm:Wm}else C=2147483647;vl(rg,C,Gm,i+28|0);Xm=rg+8|0;qm=d[Xm>>2]|0;d[qm+12>>2]=d[En+12>>2];d[qm>>2]=d[En>>2];Ym=En+4|0;d[qm+4>>2]=d[Ym>>2];Zm=En+8|0;d[qm+8>>2]=d[Zm>>2];d[Zm>>2]=0;d[Ym>>2]=0;d[En>>2]=0;d[Xm>>2]=qm+16;Ga(Pm,rg);Cs(rg)}ol(En);r=km;break e;break}case 77:{if(as<<24>>24==77){Km=e+1|0;Qm=gi(Km,t,i)|0;if((Qm|0)==(Km|0))U=e;else{$m=gi(Qm,t,i)|0;if(($m|0)==(Qm|0))U=e;else{ev=i+4|0;tv=d[ev>>2]|0;if(((tv-(d[i>>2]|0)|0)/24|0)>>>0<2)U=e;else{Pl(rg,tv+-24|0);rv=d[ev>>2]|0;nv=rv+-24|0;ov=rv;do{av=ov+-24|0;d[ev>>2]=av;Vc(av);ov=d[ev>>2]|0}while((ov|0)!=(nv|0));Pl(oe,rv+-48|0);sv=rg+12|0;lv=d[ev>>2]|0;cv=lv+-24|0;if((f[((f[sv>>0]&1)==0?sv+1|0:d[rg+20>>2]|0)>>0]|0)==40){uv=Gc(rg,12688)|0;d[ah>>2]=d[uv>>2];d[ah+4>>2]=d[uv+4>>2];d[ah+8>>2]=d[uv+8>>2];d[uv>>2]=0;d[uv+4>>2]=0;d[uv+8>>2]=0;el(Xh,oe);hv=f[Xh>>0]|0;dv=(hv&1)==0;pv=Go(ah,dv?Xh+1|0:d[Xh+8>>2]|0,dv?(hv&255)>>>1:d[Xh+4>>2]|0)|0;d[bs>>2]=d[pv>>2];d[bs+4>>2]=d[pv+4>>2];d[bs+8>>2]=d[pv+8>>2];d[pv>>2]=0;d[pv+4>>2]=0;d[pv+8>>2]=0;mv=Gc(bs,12713)|0;d[se>>2]=d[mv>>2];d[se+4>>2]=d[mv+4>>2];d[se+8>>2]=d[mv+8>>2];d[mv>>2]=0;d[mv+4>>2]=0;d[mv+8>>2]=0;do{if(!(f[cv>>0]&1)){f[cv+1>>0]=0;f[cv>>0]=0}else{vv=lv+-16|0;f[d[vv>>2]>>0]=0;gv=lv+-20|0;d[gv>>2]=0;ee=f[cv>>0]|0;if(!(ee&1)){bv=ee;Ev=10}else{yv=d[cv>>2]|0;bv=yv&255;Ev=(yv&-2)+-1|0}if(!(bv&1)){wv=(bv&255)>>>1;if((bv&255)<22){Bf=1;xv=10;Rv=wv}else{Bf=1;xv=(wv+16&240)+-1|0;Rv=wv}}else{Bf=0;xv=10;Rv=0}if((xv|0)!=(Ev|0)){if((xv|0)==10){Tv=cv+1|0;kv=d[vv>>2]|0;if(Bf){il(Tv|0,kv|0,((bv&255)>>>1)+1|0)|0;cn(kv)}else{f[Tv>>0]=f[kv>>0]|0;cn(kv)}f[cv>>0]=Rv<<1;break}Mv=xv+1|0;Sv=xi(Mv)|0;if(!(xv>>>0<=Ev>>>0&(Sv|0)==0)){if(Bf)il(Sv|0,cv+1|0,((bv&255)>>>1)+1|0)|0;else{Av=d[vv>>2]|0;f[Sv>>0]=f[Av>>0]|0;cn(Av)}d[cv>>2]=Mv|1;d[gv>>2]=Rv;d[vv>>2]=Sv}}}}while(0);d[cv>>2]=d[se>>2];d[cv+4>>2]=d[se+4>>2];d[cv+8>>2]=d[se+8>>2];d[se>>2]=0;d[se+4>>2]=0;d[se+8>>2]=0;Lu(se);Lu(bs);Lu(Xh);Lu(ah);Lv=d[ev>>2]|0;Pv=Ac(sv,0,12593)|0;d[Nd>>2]=d[Pv>>2];d[Nd+4>>2]=d[Pv+4>>2];d[Nd+8>>2]=d[Pv+8>>2];d[Pv>>2]=0;d[Pv+4>>2]=0;d[Pv+8>>2]=0;Cv=Lv+-12|0;do{if(!(f[Cv>>0]&1)){f[Cv+1>>0]=0;f[Cv>>0]=0}else{Ov=Lv+-4|0;f[d[Ov>>2]>>0]=0;Iv=Lv+-8|0;d[Iv>>2]=0;ie=f[Cv>>0]|0;if(!(ie&1)){Dv=ie;zv=10}else{Nv=d[Cv>>2]|0;Dv=Nv&255;zv=(Nv&-2)+-1|0}if(!(Dv&1)){Fv=(Dv&255)>>>1;if((Dv&255)<22){Uf=1;Uv=10;Yv=Fv}else{Uf=1;Uv=(Fv+16&240)+-1|0;Yv=Fv}}else{Uf=0;Uv=10;Yv=0}if((Uv|0)!=(zv|0)){if((Uv|0)==10){Vv=Cv+1|0;jv=d[Ov>>2]|0;if(Uf){il(Vv|0,jv|0,((Dv&255)>>>1)+1|0)|0;cn(jv)}else{f[Vv>>0]=f[jv>>0]|0;cn(jv)}f[Cv>>0]=Yv<<1;break}Hv=Uv+1|0;Gv=xi(Hv)|0;if(!(Uv>>>0<=zv>>>0&(Gv|0)==0)){if(Uf)il(Gv|0,Cv+1|0,((Dv&255)>>>1)+1|0)|0;else{Xv=d[Ov>>2]|0;f[Gv>>0]=f[Xv>>0]|0;cn(Xv)}d[Cv>>2]=Hv|1;d[Iv>>2]=Yv;d[Ov>>2]=Gv}}}}while(0);d[Cv>>2]=d[Nd>>2];d[Cv+4>>2]=d[Nd+4>>2];d[Cv+8>>2]=d[Nd+8>>2];d[Nd>>2]=0;d[Nd+4>>2]=0;d[Nd+8>>2]=0;Lu(Nd)}else{Jv=Gc(rg,12700)|0;d[em>>2]=d[Jv>>2];d[em+4>>2]=d[Jv+4>>2];d[em+8>>2]=d[Jv+8>>2];d[Jv>>2]=0;d[Jv+4>>2]=0;d[Jv+8>>2]=0;el(Um,oe);Zv=f[Um>>0]|0;Qv=(Zv&1)==0;$v=Go(em,Qv?Um+1|0:d[Um+8>>2]|0,Qv?(Zv&255)>>>1:d[Um+4>>2]|0)|0;d[pg>>2]=d[$v>>2];d[pg+4>>2]=d[$v+4>>2];d[pg+8>>2]=d[$v+8>>2];d[$v>>2]=0;d[$v+4>>2]=0;d[$v+8>>2]=0;eg=Gc(pg,12713)|0;d[bp>>2]=d[eg>>2];d[bp+4>>2]=d[eg+4>>2];d[bp+8>>2]=d[eg+8>>2];d[eg>>2]=0;d[eg+4>>2]=0;d[eg+8>>2]=0;do{if(!(f[cv>>0]&1)){f[cv+1>>0]=0;f[cv>>0]=0}else{ce=lv+-16|0;f[d[ce>>2]>>0]=0;ue=lv+-20|0;d[ue>>2]=0;ne=f[cv>>0]|0;if(!(ne&1)){de=ne;ge=10}else{fe=d[cv>>2]|0;de=fe&255;ge=(fe&-2)+-1|0}if(!(de&1)){me=(de&255)>>>1;if((de&255)<22){ve=10;Ee=me;zf=1}else{ve=(me+16&240)+-1|0;Ee=me;zf=1}}else{ve=10;Ee=0;zf=0}if((ve|0)!=(ge|0)){if((ve|0)==10){we=cv+1|0;_e=d[ce>>2]|0;if(zf){il(we|0,_e|0,((de&255)>>>1)+1|0)|0;cn(_e)}else{f[we>>0]=f[_e>>0]|0;cn(_e)}f[cv>>0]=Ee<<1;break}ye=ve+1|0;be=xi(ye)|0;if(!(ve>>>0<=ge>>>0&(be|0)==0)){if(zf)il(be|0,cv+1|0,((de&255)>>>1)+1|0)|0;else{xe=d[ce>>2]|0;f[be>>0]=f[xe>>0]|0;cn(xe)}d[cv>>2]=ye|1;d[ue>>2]=Ee;d[ce>>2]=be}}}}while(0);d[cv>>2]=d[bp>>2];d[cv+4>>2]=d[bp+4>>2];d[cv+8>>2]=d[bp+8>>2];d[bp>>2]=0;d[bp+4>>2]=0;d[bp+8>>2]=0;Lu(bp);Lu(pg);Lu(Um);Lu(em);Se=d[ev>>2]|0;Te=Se+-12|0;do{if(!(f[Te>>0]&1)){f[Te+1>>0]=0;f[Te>>0]=0}else{ke=Se+-4|0;f[d[ke>>2]>>0]=0;Ae=Se+-8|0;d[Ae>>2]=0;ae=f[Te>>0]|0;if(!(ae&1)){Le=ae;Oe=10}else{Re=d[Te>>2]|0;Le=Re&255;Oe=(Re&-2)+-1|0}if(!(Le&1)){Pe=(Le&255)>>>1;if((Le&255)<22){Ce=10;He=Pe;Hf=1}else{Ce=(Pe+16&240)+-1|0;He=Pe;Hf=1}}else{Ce=10;He=0;Hf=0}if((Ce|0)!=(Oe|0)){if((Ce|0)==10){Fe=Te+1|0;Be=d[ke>>2]|0;if(Hf){il(Fe|0,Be|0,((Le&255)>>>1)+1|0)|0;cn(Be)}else{f[Fe>>0]=f[Be>>0]|0;cn(Be)}f[Te>>0]=He<<1;break}Ne=Ce+1|0;De=xi(Ne)|0;if(!(Ce>>>0<=Oe>>>0&(De|0)==0)){if(Hf)il(De|0,Te+1|0,((Le&255)>>>1)+1|0)|0;else{ze=d[ke>>2]|0;f[De>>0]=f[ze>>0]|0;cn(ze)}d[Te>>2]=Ne|1;d[Ae>>2]=He;d[ke>>2]=De}}}}while(0);d[Te>>2]=d[sv>>2];d[Te+4>>2]=d[sv+4>>2];d[Te+8>>2]=d[sv+8>>2];d[sv>>2]=0;d[sv+4>>2]=0;d[sv+8>>2]=0}Vc(oe);Vc(rg);U=$m}}}}else U=e;if((U|0)==(e|0)){r=e;break e}Ge=d[i+4>>2]|0;if((d[i>>2]|0)==(Ge|0)){r=e;break e}Ve=i+16|0;d[Do>>2]=d[i+12>>2];xs(Ya,Ge+-24|0,Do);We=i+20|0;Xe=d[We>>2]|0;qe=d[i+24>>2]|0;if(Xe>>>0<qe>>>0){d[Xe+12>>2]=d[Ya+12>>2];d[Xe>>2]=d[Ya>>2];Ye=Ya+4|0;d[Xe+4>>2]=d[Ye>>2];Je=Ya+8|0;d[Xe+8>>2]=d[Je>>2];d[Je>>2]=0;d[Ye>>2]=0;d[Ya>>2]=0;d[We>>2]=(d[We>>2]|0)+16}else{Ze=d[Ve>>2]|0;Ke=Xe-Ze|0;Qe=Ke>>4;$e=Qe+1|0;if((Ke|0)<-16)Ef(Ve);et=qe-Ze|0;if(et>>4>>>0<1073741823){tt=et>>3;O=tt>>>0<$e>>>0?$e:tt}else O=2147483647;vl(rg,O,Qe,i+28|0);rt=rg+8|0;nt=d[rt>>2]|0;d[nt+12>>2]=d[Ya+12>>2];d[nt>>2]=d[Ya>>2];at=Ya+4|0;d[nt+4>>2]=d[at>>2];ot=Ya+8|0;d[nt+8>>2]=d[ot>>2];d[ot>>2]=0;d[at>>2]=0;d[Ya>>2]=0;d[rt>>2]=nt+16;Ga(Ve,rg);Cs(rg)}ol(Ya);r=U;break e;break}case 79:{st=i+4|0;ct=((d[st>>2]|0)-(d[i>>2]|0)|0)/24|0;ut=e+1|0;ft=gi(ut,t,i)|0;ht=((d[st>>2]|0)-(d[i>>2]|0)|0)/24|0;if((ft|0)==(ut|0)){r=e;break e}dt=i+16|0;pt=d[i+12>>2]|0;mt=i+20|0;vt=d[mt>>2]|0;gt=d[i+24>>2]|0;if(vt>>>0<gt>>>0){d[vt>>2]=0;d[vt+4>>2]=0;d[vt+8>>2]=0;d[vt+12>>2]=pt;d[mt>>2]=(d[mt>>2]|0)+16}else{bt=d[dt>>2]|0;wt=vt-bt|0;_t=wt>>4;xt=_t+1|0;if((wt|0)<-16)Ef(dt);Et=gt-bt|0;if(Et>>4>>>0<1073741823){Mt=Et>>3;I=Mt>>>0<xt>>>0?xt:Mt}else I=2147483647;vl(rg,I,_t,i+28|0);Tt=rg+8|0;kt=d[Tt>>2]|0;d[kt>>2]=0;d[kt+4>>2]=0;d[kt+8>>2]=0;d[kt+12>>2]=pt;d[Tt>>2]=kt+16;Ga(dt,rg);Cs(rg)}At=_s+4|0;Rt=_s+8|0;Lt=_s+1|0;Pt=rg+8|0;if(ct>>>0<ht>>>0)hg=ct;else{r=ft;break e}while(1){It=d[i>>2]|0;Nt=It+(hg*24|0)+12|0;Dt=f[Nt>>0]|0;Ft=(Dt&1)==0;Bt=Ft?(Dt&255)>>>1:d[It+(hg*24|0)+16>>2]|0;fl(_s,Ft?Nt+1|0:d[It+(hg*24|0)+20>>2]|0,Bt>>>0<2?Bt:2);Ut=f[_s>>0]|0;zt=(Ut&1)==0;Gt=zt?(Ut&255)>>>1:d[At>>2]|0;Vt=Gt>>>0>2;jt=bl(zt?Lt:d[Rt>>2]|0,12670,Vt?2:Gt)|0;Lu(_s);Xt=d[i>>2]|0;if(!(((jt|0)==0?Gt>>>0<2?-1:Vt&1:jt)|0)){Gc(Xt+(hg*24|0)|0,12590)|0;Ac((d[i>>2]|0)+(hg*24|0)+12|0,0,12593)|0}else{qt=Xt+(hg*24|0)+12|0;if(!(f[qt>>0]&1))Jt=qt+1|0;else Jt=d[Xt+(hg*24|0)+20>>2]|0;if((f[Jt>>0]|0)==40){Gc(Xt+(hg*24|0)|0,12688)|0;Ac((d[i>>2]|0)+(hg*24|0)+12|0,0,12593)|0}}Gc((d[i>>2]|0)+(hg*24|0)|0,12717)|0;Zt=d[mt>>2]|0;Kt=Zt+-16|0;Qt=d[i>>2]|0;$t=Qt+(hg*24|0)|0;ei=Zt+-12|0;ti=d[ei>>2]|0;if((ti|0)==(d[Zt+-8>>2]|0)){ri=ti-(d[Kt>>2]|0)|0;ni=(ri|0)/24|0;ai=ni+1|0;if((ri|0)<-24){q=Kt;break}if(ni>>>0<1073741823){oi=ni<<1;N=oi>>>0<ai>>>0?ai:oi}else N=2147483647;_l(rg,N,ni,Zt+-4|0);si=d[Pt>>2]|0;Dl(si,$t);Dl(si+12|0,Qt+(hg*24|0)+12|0);d[Pt>>2]=si+24;Bo(Kt,rg);al(rg)}else{Dl(ti,$t);Dl(ti+12|0,Qt+(hg*24|0)+12|0);d[ei>>2]=(d[ei>>2]|0)+24}hg=hg+1|0;if(hg>>>0>=ht>>>0){r=ft;break e}}Ef(q);break}case 80:{li=i+4|0;ci=((d[li>>2]|0)-(d[i>>2]|0)|0)/24|0;ui=e+1|0;fi=gi(ui,t,i)|0;hi=((d[li>>2]|0)-(d[i>>2]|0)|0)/24|0;if((fi|0)==(ui|0)){r=e;break e}di=i+16|0;mi=d[i+12>>2]|0;vi=i+20|0;bi=d[vi>>2]|0;wi=d[i+24>>2]|0;if(bi>>>0<wi>>>0){d[bi>>2]=0;d[bi+4>>2]=0;d[bi+8>>2]=0;d[bi+12>>2]=mi;d[vi>>2]=(d[vi>>2]|0)+16}else{Ei=d[di>>2]|0;Si=bi-Ei|0;Ti=Si>>4;ki=Ti+1|0;if((Si|0)<-16)Ef(di);Ai=wi-Ei|0;if(Ai>>4>>>0<1073741823){Ri=Ai>>3;D=Ri>>>0<ki>>>0?ki:Ri}else D=2147483647;vl(rg,D,Ti,i+28|0);Li=rg+8|0;Pi=d[Li>>2]|0;d[Pi>>2]=0;d[Pi+4>>2]=0;d[Pi+8>>2]=0;d[Pi+12>>2]=mi;d[Li>>2]=Pi+16;Ga(di,rg);Cs(rg)}Ci=wl+4|0;Ii=wl+8|0;Ni=wl+1|0;Di=lc+4|0;Fi=lc+8|0;Bi=lc+1|0;zi=rg+8|0;if(ci>>>0<hi>>>0)dg=ci;else{r=fi;break e}while(1){Hi=d[i>>2]|0;Gi=Hi+(dg*24|0)+12|0;Vi=f[Gi>>0]|0;ji=(Vi&1)==0;Wi=ji?(Vi&255)>>>1:d[Hi+(dg*24|0)+16>>2]|0;fl(wl,ji?Gi+1|0:d[Hi+(dg*24|0)+20>>2]|0,Wi>>>0<2?Wi:2);Xi=f[wl>>0]|0;Yi=(Xi&1)==0;Ji=Yi?(Xi&255)>>>1:d[Ci>>2]|0;Zi=Ji>>>0>2;Ki=bl(Yi?Ni:d[Ii>>2]|0,12670,Zi?2:Ji)|0;Lu(wl);Qi=d[i>>2]|0;if(!(((Ki|0)==0?Ji>>>0<2?-1:Zi&1:Ki)|0)){Gc(Qi+(dg*24|0)|0,12590)|0;Ac((d[i>>2]|0)+(dg*24|0)+12|0,0,12593)|0}else{$i=Qi+(dg*24|0)+12|0;if(!(f[$i>>0]&1))er=$i+1|0;else er=d[Qi+(dg*24|0)+20>>2]|0;if((f[er>>0]|0)==40){Gc(Qi+(dg*24|0)|0,12688)|0;Ac((d[i>>2]|0)+(dg*24|0)+12|0,0,12593)|0}}tr=d[i>>2]|0;ir=tr+(dg*24|0)|0;do{if((f[ui>>0]|0)==85){rr=f[ir>>0]|0;nr=(rr&1)==0;or=nr?(rr&255)>>>1:d[tr+(dg*24|0)+4>>2]|0;fl(lc,nr?ir+1|0:d[tr+(dg*24|0)+8>>2]|0,or>>>0<12?or:12);sr=f[lc>>0]|0;lr=(sr&1)==0;cr=lr?(sr&255)>>>1:d[Di>>2]|0;ur=cr>>>0>12;fr=bl(lr?Bi:d[Fi>>2]|0,12720,ur?12:cr)|0;Lu(lc);hr=d[i>>2]|0;dr=hr+(dg*24|0)|0;if(!(((fr|0)==0?cr>>>0<12?-1:ur&1:fr)|0)){mr=f[dr>>0]|0;if(!(mr&1)){vr=(mr&255)>>>1;br=vr>>>0<11?vr:11;wr=vr;_r=10;xr=mr}else{gr=d[hr+(dg*24|0)+4>>2]|0;yr=d[dr>>2]|0;br=gr>>>0<11?gr:11;wr=gr;_r=(yr&-2)+-1|0;xr=yr&255}if((br-wr+_r|0)>>>0<2){Ja(dr,_r,2-br+wr-_r|0,wr,0,br,2,12735);break}if(!(xr&1))Mr=dr+1|0;else Mr=d[hr+(dg*24|0)+8>>2]|0;do{if((br|0)==2){z=0;G=12735;j=2;Gf=2;Og=339}else{Er=wr-br|0;if((wr|0)==(br|0)){z=0;G=12735;j=2;Gf=br;Og=339}else{if(br>>>0>2){f[Mr>>0]=105;f[Mr+1>>0]=100;cc(Mr+2|0,Mr+br|0,Er|0)|0;W=2;kr=br;break}do{if(Mr>>>0<12735>>>0&(Mr+wr|0)>>>0>12735>>>0)if((Mr+br|0)>>>0>12735>>>0){il(Mr|0,12735,br|0)|0;a=br;F=12737;B=2-br|0;Tr=0;break}else{a=0;F=12735+(2-br)|0;B=2;Tr=br;break}else{a=0;F=12735;B=2;Tr=br}}while(0);cc(Mr+(a+B)|0,Mr+(a+Tr)|0,Er|0)|0;z=a;G=F;j=B;Gf=Tr;Og=339}}}while(0);if((Og|0)==339){Og=0;cc(Mr+z|0,G|0,j|0)|0;W=j;kr=Gf}Ar=W-kr+wr|0;if(!(f[dr>>0]&1))f[dr>>0]=Ar<<1;else d[hr+(dg*24|0)+4>>2]=Ar;f[Mr+Ar>>0]=0}else{pr=dr;Og=322}}else{pr=ir;Og=322}}while(0);if((Og|0)==322){Og=0;Gc(pr,12733)|0}Rr=d[vi>>2]|0;Lr=Rr+-16|0;Pr=d[i>>2]|0;Cr=Pr+(dg*24|0)|0;Ir=Rr+-12|0;Nr=d[Ir>>2]|0;if((Nr|0)==(d[Rr+-8>>2]|0)){Fr=Nr-(d[Lr>>2]|0)|0;Br=(Fr|0)/24|0;Ur=Br+1|0;if((Fr|0)<-24){Y=Lr;break}if(Br>>>0<1073741823){zr=Br<<1;l=zr>>>0<Ur>>>0?Ur:zr}else l=2147483647;_l(rg,l,Br,Rr+-4|0);Hr=d[zi>>2]|0;Dl(Hr,Cr);Dl(Hr+12|0,Pr+(dg*24|0)+12|0);d[zi>>2]=Hr+24;Bo(Lr,rg);al(rg)}else{Dl(Nr,Cr);Dl(Nr+12|0,Pr+(dg*24|0)+12|0);d[Ir>>2]=(d[Ir>>2]|0)+24}dg=dg+1|0;if(dg>>>0>=hi>>>0){r=fi;break e}}Ef(Y);break}case 82:{Gr=i+4|0;Vr=((d[Gr>>2]|0)-(d[i>>2]|0)|0)/24|0;jr=e+1|0;Wr=gi(jr,t,i)|0;Xr=((d[Gr>>2]|0)-(d[i>>2]|0)|0)/24|0;if((Wr|0)==(jr|0)){r=e;break e}qr=i+16|0;Yr=d[i+12>>2]|0;Jr=i+20|0;Zr=d[Jr>>2]|0;Kr=d[i+24>>2]|0;if(Zr>>>0<Kr>>>0){d[Zr>>2]=0;d[Zr+4>>2]=0;d[Zr+8>>2]=0;d[Zr+12>>2]=Yr;d[Jr>>2]=(d[Jr>>2]|0)+16}else{Qr=d[qr>>2]|0;$r=Zr-Qr|0;en=$r>>4;tn=en+1|0;if(($r|0)<-16)Ef(qr);rn=Kr-Qr|0;if(rn>>4>>>0<1073741823){nn=rn>>3;c=nn>>>0<tn>>>0?tn:nn}else c=2147483647;vl(rg,c,en,i+28|0);an=rg+8|0;on=d[an>>2]|0;d[on>>2]=0;d[on+4>>2]=0;d[on+8>>2]=0;d[on+12>>2]=Yr;d[an>>2]=on+16;Ga(qr,rg);Cs(rg)}sn=Jc+4|0;un=Jc+8|0;fn=Jc+1|0;dn=rg+8|0;if(Vr>>>0<Xr>>>0)lg=Vr;else{r=Wr;break e}while(1){pn=d[i>>2]|0;mn=pn+(lg*24|0)+12|0;vn=f[mn>>0]|0;gn=(vn&1)==0;yn=gn?(vn&255)>>>1:d[pn+(lg*24|0)+16>>2]|0;fl(Jc,gn?mn+1|0:d[pn+(lg*24|0)+20>>2]|0,yn>>>0<2?yn:2);bn=f[Jc>>0]|0;wn=(bn&1)==0;_n=wn?(bn&255)>>>1:d[sn>>2]|0;xn=_n>>>0>2;Sn=bl(wn?fn:d[un>>2]|0,12670,xn?2:_n)|0;Lu(Jc);Tn=d[i>>2]|0;if(!(((Sn|0)==0?_n>>>0<2?-1:xn&1:Sn)|0)){Gc(Tn+(lg*24|0)|0,12590)|0;Ac((d[i>>2]|0)+(lg*24|0)+12|0,0,12593)|0}else{kn=Tn+(lg*24|0)+12|0;if(!(f[kn>>0]&1))An=kn+1|0;else An=d[Tn+(lg*24|0)+20>>2]|0;if((f[An>>0]|0)==40){Gc(Tn+(lg*24|0)|0,12688)|0;Ac((d[i>>2]|0)+(lg*24|0)+12|0,0,12593)|0}}Gc((d[i>>2]|0)+(lg*24|0)|0,12738)|0;Rn=d[Jr>>2]|0;Ln=Rn+-16|0;Pn=d[i>>2]|0;Cn=Pn+(lg*24|0)|0;On=Rn+-12|0;In=d[On>>2]|0;if((In|0)==(d[Rn+-8>>2]|0)){Dn=In-(d[Ln>>2]|0)|0;Fn=(Dn|0)/24|0;Bn=Fn+1|0;if((Dn|0)<-24){J=Ln;break}if(Fn>>>0<1073741823){Un=Fn<<1;u=Un>>>0<Bn>>>0?Bn:Un}else u=2147483647;_l(rg,u,Fn,Rn+-4|0);zn=d[dn>>2]|0;Dl(zn,Cn);Dl(zn+12|0,Pn+(lg*24|0)+12|0);d[dn>>2]=zn+24;Bo(Ln,rg);al(rg)}else{Dl(In,Cn);Dl(In+12|0,Pn+(lg*24|0)+12|0);d[On>>2]=(d[On>>2]|0)+24}lg=lg+1|0;if(lg>>>0>=Xr>>>0){r=Wr;break e}}Ef(J);break}case 84:{Gn=i+4|0;jn=((d[Gn>>2]|0)-(d[i>>2]|0)|0)/24|0;Wn=hn(e,t,i)|0;Xn=((d[Gn>>2]|0)-(d[i>>2]|0)|0)/24|0;if((Wn|0)==(e|0)){r=e;break e}Yn=i+16|0;Zn=i+12|0;Kn=d[Zn>>2]|0;Qn=i+20|0;$n=d[Qn>>2]|0;ea=i+24|0;ta=d[ea>>2]|0;if($n>>>0<ta>>>0){d[$n>>2]=0;d[$n+4>>2]=0;d[$n+8>>2]=0;d[$n+12>>2]=Kn;d[Qn>>2]=(d[Qn>>2]|0)+16}else{ra=d[Yn>>2]|0;na=$n-ra|0;aa=na>>4;sa=aa+1|0;if((na|0)<-16)Ef(Yn);la=ta-ra|0;if(la>>4>>>0<1073741823){ca=la>>3;h=ca>>>0<sa>>>0?sa:ca}else h=2147483647;vl(rg,h,aa,i+28|0);ua=rg+8|0;ha=d[ua>>2]|0;d[ha>>2]=0;d[ha+4>>2]=0;d[ha+8>>2]=0;d[ha+12>>2]=Kn;d[ua>>2]=ha+16;Ga(Yn,rg);Cs(rg)}pa=rg+8|0;i:do{if(jn>>>0<Xn>>>0){cg=jn;while(1){ma=d[Qn>>2]|0;va=ma+-16|0;ga=d[i>>2]|0;ya=ga+(cg*24|0)|0;ba=ma+-12|0;wa=d[ba>>2]|0;if((wa|0)==(d[ma+-8>>2]|0)){_a=wa-(d[va>>2]|0)|0;xa=(_a|0)/24|0;Ea=xa+1|0;if((_a|0)<-24){Z=va;break}if(xa>>>0<1073741823){Ma=xa<<1;p=Ma>>>0<Ea>>>0?Ea:Ma}else p=2147483647;_l(rg,p,xa,ma+-4|0);Sa=d[pa>>2]|0;Dl(Sa,ya);Dl(Sa+12|0,ga+(cg*24|0)+12|0);d[pa>>2]=Sa+24;Bo(va,rg);al(rg)}else{Dl(wa,ya);Dl(wa+12|0,ga+(cg*24|0)+12|0);d[ba>>2]=(d[ba>>2]|0)+24}cg=cg+1|0;if(cg>>>0>=Xn>>>0)break i}Ef(Z)}}while(0);if(!((Xn|0)==(jn+1|0)&(f[i+63>>0]|0)!=0)){r=Wn;break e}Ta=ln(Wn,t,i)|0;if((Ta|0)==(Wn|0)){r=Wn;break e}el(ng,(d[Gn>>2]|0)+-24|0);ka=d[Gn>>2]|0;Aa=ka+-24|0;La=ka;do{Ra=La+-24|0;d[Gn>>2]=Ra;Vc(Ra);La=d[Gn>>2]|0}while((La|0)!=(Aa|0));Pa=f[ng>>0]|0;Ca=(Pa&1)==0;Go(ka+-48|0,Ca?ng+1|0:d[ng+8>>2]|0,Ca?(Pa&255)>>>1:d[ng+4>>2]|0)|0;Oa=(d[Gn>>2]|0)+-24|0;d[cf>>2]=d[Zn>>2];xs(Cu,Oa,cf);Ia=d[Qn>>2]|0;Na=d[ea>>2]|0;if(Ia>>>0<Na>>>0){d[Ia+12>>2]=d[Cu+12>>2];d[Ia>>2]=d[Cu>>2];Da=Cu+4|0;d[Ia+4>>2]=d[Da>>2];Fa=Cu+8|0;d[Ia+8>>2]=d[Fa>>2];d[Fa>>2]=0;d[Da>>2]=0;d[Cu>>2]=0;d[Qn>>2]=(d[Qn>>2]|0)+16}else{Ba=d[Yn>>2]|0;Ua=Ia-Ba|0;za=Ua>>4;Ha=za+1|0;if((Ua|0)<-16)Ef(Yn);Va=Na-Ba|0;if(Va>>4>>>0<1073741823){ja=Va>>3;m=ja>>>0<Ha>>>0?Ha:ja}else m=2147483647;vl(rg,m,za,i+28|0);Wa=rg+8|0;qa=d[Wa>>2]|0;d[qa+12>>2]=d[Cu+12>>2];d[qa>>2]=d[Cu>>2];Za=Cu+4|0;d[qa+4>>2]=d[Za>>2];Ka=Cu+8|0;d[qa+8>>2]=d[Ka>>2];d[Ka>>2]=0;d[Za>>2]=0;d[Cu>>2]=0;d[Wa>>2]=qa+16;Ga(Yn,rg);Cs(rg)}ol(Cu);Lu(ng);r=Ta;break e;break}case 85:{$a=e+1|0;if(($a|0)==(t|0)){r=e;break e}eo=Mn($a,t,i)|0;if((eo|0)==($a|0)){r=e;break e}to=gi(eo,t,i)|0;if((to|0)==(eo|0)){r=e;break e}io=i+4|0;ro=d[io>>2]|0;if(((ro-(d[i>>2]|0)|0)/24|0)>>>0<2){r=e;break e}el(Cg,ro+-24|0);ao=d[io>>2]|0;oo=ao+-24|0;lo=ao;do{so=lo+-24|0;d[io>>2]=so;Vc(so);lo=d[io>>2]|0}while((lo|0)!=(oo|0));uo=ao+-48|0;fo=f[uo>>0]|0;ho=(fo&1)==0;po=ho?(fo&255)>>>1:d[ao+-44>>2]|0;fl(Wf,ho?uo+1|0:d[ao+-40>>2]|0,po>>>0<9?po:9);mo=f[Wf>>0]|0;vo=(mo&1)==0;go=vo?(mo&255)>>>1:d[Wf+4>>2]|0;yo=go>>>0>9;wo=bl(vo?Wf+1|0:d[Wf+8>>2]|0,12740,yo?9:go)|0;Lu(Wf);_o=(d[io>>2]|0)+-24|0;if(!(((wo|0)==0?go>>>0<9?-1:yo&1:wo)|0)){el(wg,_o);So=d[io>>2]|0;To=So+-24|0;Ao=So;do{ko=Ao+-24|0;d[io>>2]=ko;Vc(ko);Ao=d[io>>2]|0}while((Ao|0)!=(To|0));Ro=f[wg>>0]|0;Po=(Ro&1)==0;Co=wg+8|0;Oo=wg+1|0;Io=Po?Oo:d[Co>>2]|0;No=wg+4|0;Fo=Mn(Io+9|0,Io+(Po?(Ro&255)>>>1:d[No>>2]|0)|0,i)|0;if((Fo|0)==(((f[wg>>0]&1)==0?Oo:d[Co>>2]|0)+9|0)){ws(Fh,Cg,12700);Wo=f[wg>>0]|0;Xo=(Wo&1)==0;qo=Go(Fh,Xo?Oo:d[Co>>2]|0,Xo?(Wo&255)>>>1:d[No>>2]|0)|0;d[Oh>>2]=d[qo>>2];d[Oh+4>>2]=d[qo+4>>2];d[Oh+8>>2]=d[qo+8>>2];d[qo>>2]=0;d[qo+4>>2]=0;d[qo+8>>2]=0;Kl(Rh,Oh);Yo=d[io>>2]|0;Jo=d[i+8>>2]|0;if(Yo>>>0<Jo>>>0){Pl(Yo,Rh);d[io>>2]=(d[io>>2]|0)+24}else{Ko=d[i>>2]|0;Qo=Yo-Ko|0;$o=(Qo|0)/24|0;es=$o+1|0;if((Qo|0)<-24)Ef(i);ts=(Jo-Ko|0)/24|0;if(ts>>>0<1073741823){is=ts<<1;y=is>>>0<es>>>0?es:is}else y=2147483647;_l(rg,y,$o,i+12|0);rs=rg+8|0;ns=d[rs>>2]|0;Pl(ns,Rh);d[rs>>2]=ns+24;Bo(i,rg);al(rg)}Vc(Rh);Lu(Oh);Lu(Fh)}else{Uo=(d[io>>2]|0)+-24|0;ws(yh,Cg,12750);el(Eh,(d[io>>2]|0)+-24|0);zo=f[Eh>>0]|0;Ho=(zo&1)==0;Vo=Go(yh,Ho?Eh+1|0:d[Eh+8>>2]|0,Ho?(zo&255)>>>1:d[Eh+4>>2]|0)|0;d[vh>>2]=d[Vo>>2];d[vh+4>>2]=d[Vo+4>>2];d[vh+8>>2]=d[Vo+8>>2];d[Vo>>2]=0;d[Vo+4>>2]=0;d[Vo+8>>2]=0;jo=Gc(vh,12752)|0;d[hh>>2]=d[jo>>2];d[hh+4>>2]=d[jo+4>>2];d[hh+8>>2]=d[jo+8>>2];d[jo>>2]=0;d[jo+4>>2]=0;d[jo+8>>2]=0;Kl(uh,hh);Jn(Uo,uh);Vc(uh);Lu(hh);Lu(vh);Lu(Eh);Lu(yh)}Lu(wg)}else{ws(ih,Cg,12700);el(oh,(d[io>>2]|0)+-24|0);xo=f[oh>>0]|0;Eo=(xo&1)==0;Mo=Go(ih,Eo?oh+1|0:d[oh+8>>2]|0,Eo?(xo&255)>>>1:d[oh+4>>2]|0)|0;d[$f>>2]=d[Mo>>2];d[$f+4>>2]=d[Mo+4>>2];d[$f+8>>2]=d[Mo+8>>2];d[Mo>>2]=0;d[Mo+4>>2]=0;d[Mo+8>>2]=0;Kl(Zf,$f);Jn(_o,Zf);Vc(Zf);Lu($f);Lu(oh);Lu(ih)}os=(d[io>>2]|0)+-24|0;d[qh>>2]=d[i+12>>2];xs(Vh,os,qh);ss=i+16|0;ls=i+20|0;cs=d[ls>>2]|0;us=d[i+24>>2]|0;if(cs>>>0<us>>>0){d[cs+12>>2]=d[Vh+12>>2];d[cs>>2]=d[Vh>>2];fs=Vh+4|0;d[cs+4>>2]=d[fs>>2];hs=Vh+8|0;d[cs+8>>2]=d[hs>>2];d[hs>>2]=0;d[fs>>2]=0;d[Vh>>2]=0;d[ls>>2]=(d[ls>>2]|0)+16}else{ps=d[ss>>2]|0;ms=cs-ps|0;vs=ms>>4;ys=vs+1|0;if((ms|0)<-16)Ef(ss);Ss=us-ps|0;if(Ss>>4>>>0<1073741823){Ts=Ss>>3;v=Ts>>>0<ys>>>0?ys:Ts}else v=2147483647;vl(rg,v,vs,i+28|0);ks=rg+8|0;As=d[ks>>2]|0;d[As+12>>2]=d[Vh+12>>2];d[As>>2]=d[Vh>>2];Rs=Vh+4|0;d[As+4>>2]=d[Rs>>2];Ls=Vh+8|0;d[As+8>>2]=d[Ls>>2];d[Ls>>2]=0;d[Rs>>2]=0;d[Vh>>2]=0;d[ks>>2]=As+16;Ga(ss,rg);Cs(rg)}ol(Vh);Lu(Cg);r=to;break e;break}case 83:{Ps=e+1|0;if((Ps|0)!=(t|0))if((f[Ps>>0]|0)==116){Is=Mi(e,t,i)|0;if((Is|0)==(e|0)){r=e;break e}Ns=d[i+4>>2]|0;if((d[i>>2]|0)==(Ns|0)){r=e;break e}Ds=i+16|0;d[rd>>2]=d[i+12>>2];xs(Kh,Ns+-24|0,rd);Fs=i+20|0;Bs=d[Fs>>2]|0;Us=d[i+24>>2]|0;if(Bs>>>0<Us>>>0){d[Bs+12>>2]=d[Kh+12>>2];d[Bs>>2]=d[Kh>>2];Hs=Kh+4|0;d[Bs+4>>2]=d[Hs>>2];Gs=Kh+8|0;d[Bs+8>>2]=d[Gs>>2];d[Gs>>2]=0;d[Hs>>2]=0;d[Kh>>2]=0;d[Fs>>2]=(d[Fs>>2]|0)+16}else{js=d[Ds>>2]|0;Ws=Bs-js|0;Xs=Ws>>4;qs=Xs+1|0;if((Ws|0)<-16)Ef(Ds);Ys=Us-js|0;if(Ys>>4>>>0<1073741823){Js=Ys>>3;A=Js>>>0<qs>>>0?qs:Js}else A=2147483647;vl(rg,A,Xs,i+28|0);Zs=rg+8|0;Ks=d[Zs>>2]|0;d[Ks+12>>2]=d[Kh+12>>2];d[Ks>>2]=d[Kh>>2];Qs=Kh+4|0;d[Ks+4>>2]=d[Qs>>2];$s=Kh+8|0;d[Ks+8>>2]=d[$s>>2];d[$s>>2]=0;d[Qs>>2]=0;d[Kh>>2]=0;d[Zs>>2]=Ks+16;Ga(Ds,rg);Cs(rg)}ol(Kh);r=Is;break e}tl=Oi(e,t,i)|0;if((tl|0)==(e|0)){r=e;break e}sl=ln(tl,t,i)|0;if((sl|0)==(tl|0)){r=tl;break e}ll=i+4|0;cl=d[ll>>2]|0;if(((cl-(d[i>>2]|0)|0)/24|0)>>>0<2){r=tl;break e}el(Pg,cl+-24|0);hl=d[ll>>2]|0;dl=hl+-24|0;ml=hl;do{pl=ml+-24|0;d[ll>>2]=pl;Vc(pl);ml=d[ll>>2]|0}while((ml|0)!=(dl|0));gl=f[Pg>>0]|0;yl=(gl&1)==0;Go(hl+-48|0,yl?Pg+1|0:d[Pg+8>>2]|0,yl?(gl&255)>>>1:d[Pg+4>>2]|0)|0;El=(d[ll>>2]|0)+-24|0;d[ud>>2]=d[i+12>>2];xs(sd,El,ud);Ml=i+16|0;Sl=i+20|0;Tl=d[Sl>>2]|0;kl=d[i+24>>2]|0;if(Tl>>>0<kl>>>0){d[Tl+12>>2]=d[sd+12>>2];d[Tl>>2]=d[sd>>2];Rl=sd+4|0;d[Tl+4>>2]=d[Rl>>2];Ll=sd+8|0;d[Tl+8>>2]=d[Ll>>2];d[Ll>>2]=0;d[Rl>>2]=0;d[sd>>2]=0;d[Sl>>2]=(d[Sl>>2]|0)+16}else{Cl=d[Ml>>2]|0;Ol=Tl-Cl|0;Il=Ol>>4;Nl=Il+1|0;if((Ol|0)<-16)Ef(Ml);Bl=kl-Cl|0;if(Bl>>4>>>0<1073741823){Ul=Bl>>3;S=Ul>>>0<Nl>>>0?Nl:Ul}else S=2147483647;vl(rg,S,Il,i+28|0);zl=rg+8|0;Hl=d[zl>>2]|0;d[Hl+12>>2]=d[sd+12>>2];d[Hl>>2]=d[sd>>2];Gl=sd+4|0;d[Hl+4>>2]=d[Gl>>2];Vl=sd+8|0;d[Hl+8>>2]=d[Vl>>2];d[Vl>>2]=0;d[Gl>>2]=0;d[sd>>2]=0;d[zl>>2]=Hl+16;Ga(Ml,rg);Cs(rg)}ol(sd);Lu(Pg);r=sl;break e;break}case 68:{jl=e+1|0;if((jl|0)!=(t|0)){Wl=f[jl>>0]|0;switch(Wl<<24>>24|0){case 112:{Xl=i+4|0;ql=((d[Xl>>2]|0)-(d[i>>2]|0)|0)/24|0;Yl=e+2|0;Jl=gi(Yl,t,i)|0;Zl=((d[Xl>>2]|0)-(d[i>>2]|0)|0)/24|0;if((Jl|0)==(Yl|0))break t;Ql=i+16|0;$l=d[i+12>>2]|0;ec=i+20|0;tc=d[ec>>2]|0;ic=d[i+24>>2]|0;if(tc>>>0<ic>>>0){d[tc>>2]=0;d[tc+4>>2]=0;d[tc+8>>2]=0;d[tc+12>>2]=$l;d[ec>>2]=(d[ec>>2]|0)+16}else{nc=d[Ql>>2]|0;ac=tc-nc|0;oc=ac>>4;sc=oc+1|0;if((ac|0)<-16)Ef(Ql);uc=ic-nc|0;if(uc>>4>>>0<1073741823){fc=uc>>3;M=fc>>>0<sc>>>0?sc:fc}else M=2147483647;vl(rg,M,oc,i+28|0);hc=rg+8|0;dc=d[hc>>2]|0;d[dc>>2]=0;d[dc+4>>2]=0;d[dc+8>>2]=0;d[dc+12>>2]=$l;d[hc>>2]=dc+16;Ga(Ql,rg);Cs(rg)}pc=rg+8|0;if(ql>>>0<Zl>>>0)fg=ql;else{r=Jl;break e}while(1){mc=d[ec>>2]|0;vc=mc+-16|0;gc=d[i>>2]|0;yc=gc+(fg*24|0)|0;bc=mc+-12|0;wc=d[bc>>2]|0;if((wc|0)==(d[mc+-8>>2]|0)){_c=wc-(d[vc>>2]|0)|0;xc=(_c|0)/24|0;Ec=xc+1|0;if((_c|0)<-24){K=vc;break}if(xc>>>0<1073741823){Mc=xc<<1;E=Mc>>>0<Ec>>>0?Ec:Mc}else E=2147483647;_l(rg,E,xc,mc+-4|0);Sc=d[pc>>2]|0;Dl(Sc,yc);Dl(Sc+12|0,gc+(fg*24|0)+12|0);d[pc>>2]=Sc+24;Bo(vc,rg);al(rg)}else{Dl(wc,yc);Dl(wc+12|0,gc+(fg*24|0)+12|0);d[bc>>2]=(d[bc>>2]|0)+24}fg=fg+1|0;if(fg>>>0>=Zl>>>0){r=Jl;break e}}Ef(K);break}case 84:case 116:{Tc=da(e,t,i)|0;if((Tc|0)==(e|0))break t;kc=d[i+4>>2]|0;if((d[i>>2]|0)==(kc|0)){r=e;break e}Rc=i+16|0;d[bd>>2]=d[i+12>>2];xs(vd,kc+-24|0,bd);Lc=i+20|0;Pc=d[Lc>>2]|0;Oc=d[i+24>>2]|0;if(Pc>>>0<Oc>>>0){d[Pc+12>>2]=d[vd+12>>2];d[Pc>>2]=d[vd>>2];Ic=vd+4|0;d[Pc+4>>2]=d[Ic>>2];Nc=vd+8|0;d[Pc+8>>2]=d[Nc>>2];d[Nc>>2]=0;d[Ic>>2]=0;d[vd>>2]=0;d[Lc>>2]=(d[Lc>>2]|0)+16}else{Dc=d[Rc>>2]|0;Fc=Pc-Dc|0;Bc=Fc>>4;zc=Bc+1|0;if((Fc|0)<-16)Ef(Rc);Hc=Oc-Dc|0;if(Hc>>4>>>0<1073741823){jc=Hc>>3;x=jc>>>0<zc>>>0?zc:jc}else x=2147483647;vl(rg,x,Bc,i+28|0);Wc=rg+8|0;Xc=d[Wc>>2]|0;d[Xc+12>>2]=d[vd+12>>2];d[Xc>>2]=d[vd>>2];qc=vd+4|0;d[Xc+4>>2]=d[qc>>2];Yc=vd+8|0;d[Xc+8>>2]=d[Yc>>2];d[Yc>>2]=0;d[qc>>2]=0;d[vd>>2]=0;d[Wc>>2]=Xc+16;Ga(Rc,rg);Cs(rg)}ol(vd);r=Tc;break e;break}case 118:{i:do{if((t-e|0)>3&as<<24>>24==68&Wl<<24>>24==118){Zc=e+2|0;Kc=f[Zc>>0]|0;if((Kc+-49&255)<9){Qc=Ms(Zc,t)|0;if((Qc|0)==(t|0)){H=e;break}if((f[Qc>>0]|0)!=95){H=e;break}$c=Qc-Zc|0;eu=Qc+1|0;if((eu|0)==(t|0)){H=e;break}if((f[eu>>0]|0)!=112){tu=gi(eu,t,i)|0;if((tu|0)==(eu|0)){H=e;break}iu=d[i+4>>2]|0;if((d[i>>2]|0)==(iu|0)){H=e;break}fl(bs,Zc,$c);ru=Ac(bs,0,12754)|0;d[se>>2]=d[ru>>2];d[se+4>>2]=d[ru+4>>2];d[se+8>>2]=d[ru+8>>2];d[ru>>2]=0;d[ru+4>>2]=0;d[ru+8>>2]=0;au=Gc(se,12677)|0;d[oe>>2]=d[au>>2];d[oe+4>>2]=d[au+4>>2];d[oe+8>>2]=d[au+8>>2];d[au>>2]=0;d[au+4>>2]=0;d[au+8>>2]=0;ou=f[oe>>0]|0;su=(ou&1)==0;Go(iu+-24|0,su?oe+1|0:d[oe+8>>2]|0,su?(ou&255)>>>1:d[oe+4>>2]|0)|0;Lu(oe);Lu(se);Lu(bs);H=tu;break}lu=Qc+2|0;fl(bp,Zc,$c);cu=Ac(bp,0,12763)|0;d[Nd>>2]=d[cu>>2];d[Nd+4>>2]=d[cu+4>>2];d[Nd+8>>2]=d[cu+8>>2];d[cu>>2]=0;d[cu+4>>2]=0;d[cu+8>>2]=0;uu=Gc(Nd,12677)|0;d[Xh>>2]=d[uu>>2];d[Xh+4>>2]=d[uu+4>>2];d[Xh+8>>2]=d[uu+8>>2];d[uu>>2]=0;d[uu+4>>2]=0;d[uu+8>>2]=0;Kl(ah,Xh);fu=i+4|0;hu=d[fu>>2]|0;du=d[i+8>>2]|0;if(hu>>>0<du>>>0){Pl(hu,ah);d[fu>>2]=(d[fu>>2]|0)+24}else{pu=d[i>>2]|0;mu=hu-pu|0;vu=(mu|0)/24|0;gu=vu+1|0;if((mu|0)<-24)Ef(i);yu=(du-pu|0)/24|0;if(yu>>>0<1073741823){bu=yu<<1;s=bu>>>0<gu>>>0?gu:bu}else s=2147483647;_l(rg,s,vu,i+12|0);wu=rg+8|0;_u=d[wu>>2]|0;Pl(_u,ah);d[wu>>2]=_u+24;Bo(i,rg);al(rg)}Vc(ah);Lu(Xh);Lu(Nd);Lu(bp);H=lu;break}d[pg>>2]=0;d[pg+4>>2]=0;d[pg+8>>2]=0;if(Kc<<24>>24==95){Lg=Zc;Og=521}else{Eu=yi(Zc,t,i)|0;if((Eu|0)==(Zc|0)){Lg=Zc;Og=521}else{Mu=i+4|0;Su=d[Mu>>2]|0;if((d[i>>2]|0)!=(Su|0)){el(em,Su+-24|0);r:do{if(!(f[pg>>0]&1)){f[pg+1>>0]=0;f[pg>>0]=0}else{Tu=pg+8|0;ku=d[Tu>>2]|0;f[ku>>0]=0;Au=pg+4|0;d[Au>>2]=0;Ru=d[pg>>2]|0;yg=(Ru&-2)+-1|0;Pu=Ru&255;do{if(!(Pu&1)){Iu=Ru>>>1&127;if((Pu&255)<22){il(pg+1|0,ku|0,(Ru>>>1&127)+1|0)|0;cn(ku);$=Iu;break}Nu=Iu+16&240;bg=Nu+-1|0;if((bg|0)==(yg|0))break r;Du=xi(Nu)|0;if(bg>>>0<=yg>>>0&(Du|0)==0)break r;il(Du|0,pg+1|0,(Ru>>>1&127)+1|0)|0;d[pg>>2]=Nu|1;d[Au>>2]=Iu;d[Tu>>2]=Du;break r}else{f[pg+1>>0]=0;cn(ku);$=0}}while(0);f[pg>>0]=$<<1}}while(0);d[pg>>2]=d[em>>2];d[pg+4>>2]=d[em+4>>2];d[pg+8>>2]=d[em+8>>2];d[em>>2]=0;d[em+4>>2]=0;d[em+8>>2]=0;Lu(em);Fu=d[Mu>>2]|0;Bu=Fu+-24|0;zu=Fu;do{Uu=zu+-24|0;d[Mu>>2]=Uu;Vc(Uu);zu=d[Mu>>2]|0}while((zu|0)!=(Bu|0));Lg=Eu;Og=521}}}do{if((Og|0)==521){if((Lg|0)==(t|0))V=e;else if((f[Lg>>0]|0)==95){Hu=Lg+1|0;if((Hu|0)==(t|0))V=e;else{Gu=gi(Hu,t,i)|0;if((Gu|0)==(Hu|0))V=e;else{Vu=d[i+4>>2]|0;if((d[i>>2]|0)==(Vu|0))break;gs(_v,12754,pg);ju=Gc(_v,12677)|0;d[Um>>2]=d[ju>>2];d[Um+4>>2]=d[ju+4>>2];d[Um+8>>2]=d[ju+8>>2];d[ju>>2]=0;d[ju+4>>2]=0;d[ju+8>>2]=0;Wu=f[Um>>0]|0;Xu=(Wu&1)==0;Go(Vu+-24|0,Xu?Um+1|0:d[Um+8>>2]|0,Xu?(Wu&255)>>>1:d[Um+4>>2]|0)|0;Lu(Um);Lu(_v);V=Gu}}}else V=e;Lu(pg);H=V;break i}}while(0);Lu(pg);H=e}else H=e}while(0);if((H|0)==(e|0))break t;qu=d[i+4>>2]|0;if((d[i>>2]|0)==(qu|0)){r=e;break e}Yu=i+16|0;d[Td>>2]=d[i+12>>2];xs(xd,qu+-24|0,Td);Ju=i+20|0;Zu=d[Ju>>2]|0;Ku=d[i+24>>2]|0;if(Zu>>>0<Ku>>>0){d[Zu+12>>2]=d[xd+12>>2];d[Zu>>2]=d[xd>>2];Qu=xd+4|0;d[Zu+4>>2]=d[Qu>>2];$u=xd+8|0;d[Zu+8>>2]=d[$u>>2];d[$u>>2]=0;d[Qu>>2]=0;d[xd>>2]=0;d[Ju>>2]=(d[Ju>>2]|0)+16}else{ef=d[Yu>>2]|0;tf=Zu-ef|0;rf=tf>>4;nf=rf+1|0;if((tf|0)<-16)Ef(Yu);af=Ku-ef|0;if(af>>4>>>0<1073741823){of=af>>3;g=of>>>0<nf>>>0?nf:of}else g=2147483647;vl(rg,g,rf,i+28|0);sf=rg+8|0;lf=d[sf>>2]|0;d[lf+12>>2]=d[xd+12>>2];d[lf>>2]=d[xd>>2];ff=xd+4|0;d[lf+4>>2]=d[ff>>2];hf=xd+8|0;d[lf+8>>2]=d[hf>>2];d[hf>>2]=0;d[ff>>2]=0;d[xd>>2]=0;d[sf>>2]=lf+16;Ga(Yu,rg);Cs(rg)}ol(xd);r=H;break e;break}default:break t}}break}default:{}}}while(0);df=_i(e,t,i)|0;if((df|0)==(e|0)){pf=Mi(e,t,i)|0;if((pf|0)==(e|0))r=e;else{mf=d[i+4>>2]|0;if((d[i>>2]|0)==(mf|0))r=e;else{vf=i+16|0;d[Dd>>2]=d[i+12>>2];xs(Cd,mf+-24|0,Dd);gf=i+20|0;yf=d[gf>>2]|0;wf=d[i+24>>2]|0;if(yf>>>0<wf>>>0){d[yf+12>>2]=d[Cd+12>>2];d[yf>>2]=d[Cd>>2];_f=Cd+4|0;d[yf+4>>2]=d[_f>>2];xf=Cd+8|0;d[yf+8>>2]=d[xf>>2];d[xf>>2]=0;d[_f>>2]=0;d[Cd>>2]=0;d[gf>>2]=(d[gf>>2]|0)+16}else{Sf=d[vf>>2]|0;Tf=yf-Sf|0;kf=Tf>>4;Af=kf+1|0;if((Tf|0)<-16)Ef(vf);Rf=wf-Sf|0;if(Rf>>4>>>0<1073741823){Pf=Rf>>3;o=Pf>>>0<Af>>>0?Af:Pf}else o=2147483647;vl(rg,o,kf,i+28|0);Cf=rg+8|0;Of=d[Cf>>2]|0;d[Of+12>>2]=d[Cd+12>>2];d[Of>>2]=d[Cd>>2];If=Cd+4|0;d[Of+4>>2]=d[If>>2];Nf=Cd+8|0;d[Of+8>>2]=d[Nf>>2];d[Nf>>2]=0;d[If>>2]=0;d[Cd>>2]=0;d[Cf>>2]=Of+16;Ga(vf,rg);Cs(rg)}ol(Cd);r=pf}}}else r=df}else r=Zo}}while(0);w=Ig;return r|0}function yi(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,bi=0,wi=0,_i=0,Ei=0,Mi=0,Si=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,ln=0,un=0,fn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,xn=0,En=0,Mn=0,Sn=0,Tn=0,kn=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Xn=0,qn=0,Yn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ta=0,ia=0,ra=0,na=0,aa=0,oa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Ga=0,Va=0,ja=0,Wa=0,Xa=0,qa=0,Ya=0,Ja=0,Za=0,Ka=0,Qa=0,$a=0,eo=0,to=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0,fo=0,ho=0,po=0,mo=0,vo=0,go=0,yo=0,bo=0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Co=0,Oo=0,Io=0,No=0,Do=0,Fo=0,Uo=0,zo=0,Vo=0,jo=0,Wo=0,Xo=0,qo=0,Yo=0,Jo=0,Zo=0,Ko=0,Qo=0,$o=0,es=0,ts=0,is=0,rs=0,ns=0,as=0,os=0,ss=0,ls=0,cs=0,us=0,fs=0,hs=0,ds=0,ps=0,ms=0,vs=0,ys=0,bs=0,ws=0,_s=0,xs=0,Es=0,Ms=0,Ss=0,Ts=0,ks=0,As=0,Rs=0,Ls=0,Ps=0,Cs=0,Os=0,Is=0,Ns=0,Ds=0,Fs=0,Bs=0,Us=0,zs=0,Hs=0,Gs=0,Vs=0,js=0,Ws=0,Xs=0,qs=0,Ys=0,Js=0,Zs=0,Ks=0,Qs=0,$s=0,tl=0,rl=0,nl=0,ol=0,sl=0,ll=0,cl=0,ul=0,hl=0,dl=0,pl=0,ml=0,vl=0,gl=0,yl=0,bl=0,wl=0,xl=0,El=0,Ml=0,Sl=0,Tl=0,kl=0,Al=0,Rl=0,Ll=0,Cl=0,Ol=0,Il=0,Nl=0,Dl=0,Fl=0,Ul=0,zl=0,Hl=0,Gl=0,Vl=0,jl=0,Wl=0,Xl=0,ql=0,Yl=0,Jl=0,Zl=0,Ql=0,$l=0,ec=0,tc=0,ic=0,rc=0,nc=0,ac=0,oc=0,sc=0,lc=0,cc=0,uc=0,fc=0,hc=0,dc=0,pc=0,mc=0,vc=0,gc=0,yc=0,bc=0,wc=0,_c=0,xc=0,Ec=0,Mc=0,Sc=0,Tc=0,kc=0,Rc=0,Lc=0,Pc=0,Cc=0,Oc=0,Ic=0,Nc=0,Dc=0,Fc=0,Bc=0,Uc=0,zc=0,Hc=0,jc=0,Wc=0,Xc=0,qc=0,Yc=0,Jc=0,Zc=0,Kc=0,Qc=0,$c=0,eu=0,tu=0,iu=0,ru=0,nu=0,au=0,ou=0,su=0,lu=0,cu=0,uu=0,fu=0,hu=0,du=0,pu=0,mu=0,vu=0,gu=0,yu=0,bu=0,wu=0,_u=0,xu=0,Eu=0,Mu=0,Su=0,Tu=0,ku=0,Au=0,Ru=0,Pu=0,Cu=0,Ou=0,Iu=0,Nu=0,Du=0,Fu=0,Bu=0,Uu=0,zu=0,Hu=0,Gu=0,Vu=0,ju=0,Wu=0,Xu=0,qu=0,Yu=0,Ju=0,Zu=0,Ku=0,Qu=0,$u=0,ef=0,tf=0,rf=0,nf=0,af=0,of=0,sf=0,lf=0,cf=0,uf=0,ff=0,hf=0,df=0,pf=0,mf=0,vf=0,gf=0,yf=0,bf=0,wf=0,_f=0,xf=0,Mf=0,Sf=0,Tf=0,kf=0,Af=0,Rf=0,Lf=0,Pf=0,Cf=0,Of=0,If=0,Nf=0,Df=0,Ff=0,Bf=0,Uf=0,zf=0,Hf=0,Gf=0,Vf=0,jf=0,Wf=0,Xf=0,qf=0,Yf=0,Jf=0,Zf=0,Kf=0,Qf=0,$f=0,eh=0,th=0,ih=0,rh=0,nh=0,ah=0,oh=0,sh=0,lh=0,ch=0,uh=0,fh=0,hh=0,dh=0,ph=0,mh=0,vh=0,gh=0,yh=0,bh=0,wh=0,_h=0,xh=0,Eh=0,Mh=0,Sh=0,Th=0,kh=0,Ah=0,Rh=0,Lh=0,Ph=0,Ch=0,Oh=0,Ih=0,Nh=0,Dh=0,Fh=0,Bh=0,Uh=0;Nh=w;w=w+1168|0;if((w|0)>=(_|0))pe();X=Nh+1144|0;q=Nh+1120|0;La=Nh+1096|0;go=Nh+1084|0;us=Nh+1072|0;nl=Nh+1048|0;ql=Nh+1032|0;Bc=Nh+900|0;ku=Nh+632|0;wf=Nh+620|0;Y=Nh+584|0;Re=Nh+560|0;mt=Nh+524|0;ii=Nh+1020|0;qi=Nh+1008|0;Or=Nh+996|0;ln=Nh+984|0;Kn=Nh+972|0;xa=Nh+960|0;Sa=Nh+948|0;Pa=Nh+936|0;Ia=Nh+924|0;Ba=Nh+912|0;ja=Nh+888|0;qa=Nh+876|0;Ja=Nh+864|0;$a=Nh+852|0;io=Nh+840|0;uo=Nh+828|0;po=Nh+816|0;yo=Nh+804|0;_o=Nh+792|0;ko=Nh+780|0;Ro=Nh+768|0;Oo=Nh+756|0;Fo=Nh+744|0;hh=Nh+732|0;uh=Nh+720|0;Xo=Nh+696|0;Jo=Nh+680|0;Qo=Nh+668|0;rs=Nh+656|0;fs=Nh+644|0;ds=Nh+608|0;bs=Nh+596|0;Es=Nh+548|0;As=Nh+536|0;Os=Nh+512|0;Fs=Nh+500|0;Gs=Nh+488|0;Xs=Nh+476|0;Js=Nh+464|0;ol=Nh+440|0;ul=Nh+424|0;pl=Nh+412|0;bl=Nh+400|0;Ml=Nh+388|0;Tl=Nh+376|0;Rl=Nh+364|0;Il=Nh+352|0;zl=Nh+340|0;jl=Nh+328|0;Yl=Nh+316|0;$l=Nh+304|0;ic=Nh+292|0;uc=Nh+280|0;dc=Nh+256|0;vc=Nh+240|0;Ec=Nh+228|0;kc=Nh+216|0;Lc=Nh+204|0;ph=Nh+192|0;dh=Nh+180|0;fh=Nh+168|0;Ic=Nh+144|0;Uc=Nh+132|0;Xc=Nh+120|0;Jc=Nh+108|0;Qc=Nh+96|0;iu=Nh+84|0;au=Nh+72|0;hu=Nh+60|0;du=Nh+48|0;yu=Nh+36|0;xu=Nh+24|0;Au=Nh;Ou=t;Vu=Ou-e|0;e:do{if((Vu|0)>1){Ku=(Vu|0)>3;if(Ku)if((f[e>>0]|0)==103){_f=(f[e+1>>0]|0)==115;mh=_f;_h=_f?e+2|0:e}else{mh=0;_h=e}else{mh=0;_h=e}do{switch(f[_h>>0]|0){case 76:{r=Ti(e,t,i)|0;break e;break}case 84:{r=hn(e,t,i)|0;break e;break}case 102:{r=_n(e,t,i)|0;break e;break}case 97:{switch(f[_h+1>>0]|0){case 97:{J=e+2|0;fl(ii,12717,2);Z=An(J,t,ii,i)|0;Lu(ii);r=(Z|0)==(J|0)?e:Z;break e;break}case 100:{oe=e+2|0;fl(qi,12738,1);ce=Wn(oe,t,qi,i)|0;Lu(qi);r=(ce|0)==(oe|0)?e:ce;break e;break}case 110:{ge=e+2|0;fl(Or,12738,1);be=An(ge,t,Or,i)|0;Lu(Or);r=(be|0)==(ge|0)?e:be;break e;break}case 78:{Te=e+2|0;fl(ln,13863,2);Le=An(Te,t,ln,i)|0;Lu(ln);r=(Le|0)==(Te|0)?e:Le;break e;break}case 83:{Ie=e+2|0;fl(Kn,13866,1);Be=An(Ie,t,Kn,i)|0;Lu(Kn);r=(Be|0)==(Ie|0)?e:Be;break e;break}case 116:{if((Vu|0)>2)if((f[e>>0]|0)==97)if((f[e+1>>0]|0)==116){yt=e+2|0;wt=gi(yt,t,i)|0;if((wt|0)==(yt|0))M=e;else{zt=d[i+4>>2]|0;if((d[i>>2]|0)==(zt|0))M=e;else{Yt=zt+-24|0;el(La,Yt);$t=Ac(La,0,13868)|0;d[q>>2]=d[$t>>2];d[q+4>>2]=d[$t+4>>2];d[q+8>>2]=d[$t+8>>2];d[$t>>2]=0;d[$t+4>>2]=0;d[$t+8>>2]=0;ci=Gc(q,12593)|0;d[X>>2]=d[ci>>2];d[X+4>>2]=d[ci+4>>2];d[X+8>>2]=d[ci+8>>2];d[ci>>2]=0;d[ci+4>>2]=0;d[ci+8>>2]=0;do{if(!(f[Yt>>0]&1)){f[Yt+1>>0]=0;f[Yt>>0]=0}else{ji=zt+-16|0;f[d[ji>>2]>>0]=0;Ki=zt+-20|0;d[Ki>>2]=0;G=f[Yt>>0]|0;if(!(G&1)){Tr=G;$r=10}else{cr=d[Yt>>2]|0;Tr=cr&255;$r=(cr&-2)+-1|0}if(!(Tr&1)){Dr=(Tr&255)>>>1;if((Tr&255)<22){Kr=10;ma=1;_a=Dr}else{Kr=(Dr+16&240)+-1|0;ma=1;_a=Dr}}else{Kr=10;ma=0;_a=0}if((Kr|0)!=($r|0)){if((Kr|0)==10){Mn=Yt+1|0;kn=d[ji>>2]|0;if(ma){il(Mn|0,kn|0,((Tr&255)>>>1)+1|0)|0;cn(kn)}else{f[Mn>>0]=f[kn>>0]|0;cn(kn)}f[Yt>>0]=_a<<1;break}un=Kr+1|0;vn=xi(un)|0;if(!(Kr>>>0<=$r>>>0&(vn|0)==0)){if(ma)il(vn|0,Yt+1|0,((Tr&255)>>>1)+1|0)|0;else{ca=d[ji>>2]|0;f[vn>>0]=f[ca>>0]|0;cn(ca)}d[Yt>>2]=un|1;d[Ki>>2]=_a;d[ji>>2]=vn}}}}while(0);d[Yt>>2]=d[X>>2];d[Yt+4>>2]=d[X+4>>2];d[Yt+8>>2]=d[X+8>>2];d[X>>2]=0;d[X+4>>2]=0;d[X+8>>2]=0;Lu(X);Lu(q);Lu(La);M=wt}}}else M=e;else M=e;else M=e;r=M;break e;break}case 122:{if((Vu|0)>2)if((f[e>>0]|0)==97)if((f[e+1>>0]|0)==122){Ea=e+2|0;Ma=yi(Ea,t,i)|0;if((Ma|0)==(Ea|0))E=e;else{Ta=d[i+4>>2]|0;if((d[i>>2]|0)==(Ta|0))E=e;else{ka=Ta+-24|0;el(La,ka);Aa=Ac(La,0,13868)|0;d[q>>2]=d[Aa>>2];d[q+4>>2]=d[Aa+4>>2];d[q+8>>2]=d[Aa+8>>2];d[Aa>>2]=0;d[Aa+4>>2]=0;d[Aa+8>>2]=0;Ra=Gc(q,12593)|0;d[X>>2]=d[Ra>>2];d[X+4>>2]=d[Ra+4>>2];d[X+8>>2]=d[Ra+8>>2];d[Ra>>2]=0;d[Ra+4>>2]=0;d[Ra+8>>2]=0;do{if(!(f[ka>>0]&1)){f[ka+1>>0]=0;f[ka>>0]=0}else{Ca=Ta+-16|0;f[d[Ca>>2]>>0]=0;Oa=Ta+-20|0;d[Oa>>2]=0;H=f[ka>>0]|0;if(!(H&1)){Da=H;za=10}else{Na=d[ka>>2]|0;Da=Na&255;za=(Na&-2)+-1|0}if(!(Da&1)){Fa=(Da&255)>>>1;if((Da&255)<22){va=1;Ua=10;Ya=Fa}else{va=1;Ua=(Fa+16&240)+-1|0;Ya=Fa}}else{va=0;Ua=10;Ya=0}if((Ua|0)!=(za|0)){if((Ua|0)==10){Va=ka+1|0;Wa=d[Ca>>2]|0;if(va){il(Va|0,Wa|0,((Da&255)>>>1)+1|0)|0;cn(Wa)}else{f[Va>>0]=f[Wa>>0]|0;cn(Wa)}f[ka>>0]=Ya<<1;break}Ha=Ua+1|0;Ga=xi(Ha)|0;if(!(Ua>>>0<=za>>>0&(Ga|0)==0)){if(va)il(Ga|0,ka+1|0,((Da&255)>>>1)+1|0)|0;else{Xa=d[Ca>>2]|0;f[Ga>>0]=f[Xa>>0]|0;cn(Xa)}d[ka>>2]=Ha|1;d[Oa>>2]=Ya;d[Ca>>2]=Ga}}}}while(0);d[ka>>2]=d[X>>2];d[ka+4>>2]=d[X+4>>2];d[ka+8>>2]=d[X+8>>2];d[X>>2]=0;d[X+4>>2]=0;d[X+8>>2]=0;Lu(X);Lu(q);Lu(La);E=Ma}}}else E=e;else E=e;else E=e;r=E;break e;break}default:{r=e;break e}}break}case 99:{switch(f[_h+1>>0]|0){case 99:{if((Vu|0)>2)if((f[e>>0]|0)==99)if((f[e+1>>0]|0)==99){Za=e+2|0;Ka=gi(Za,t,i)|0;if((Ka|0)==(Za|0))A=e;else{Qa=yi(Ka,t,i)|0;if((Qa|0)==(Ka|0))A=e;else{eo=i+4|0;to=d[eo>>2]|0;if(((to-(d[i>>2]|0)|0)/24|0)>>>0<2)A=e;else{el(X,to+-24|0);ro=d[eo>>2]|0;no=ro+-24|0;oo=ro;do{ao=oo+-24|0;d[eo>>2]=ao;Vc(ao);oo=d[eo>>2]|0}while((oo|0)!=(no|0));so=ro+-48|0;el(ql,so);lo=Ac(ql,0,13878)|0;d[nl>>2]=d[lo>>2];d[nl+4>>2]=d[lo+4>>2];d[nl+8>>2]=d[lo+8>>2];d[lo>>2]=0;d[lo+4>>2]=0;d[lo+8>>2]=0;co=Gc(nl,13890)|0;d[us>>2]=d[co>>2];d[us+4>>2]=d[co+4>>2];d[us+8>>2]=d[co+8>>2];d[co>>2]=0;d[co+4>>2]=0;d[co+8>>2]=0;fo=f[X>>0]|0;ho=(fo&1)==0;mo=Go(us,ho?X+1|0:d[X+8>>2]|0,ho?(fo&255)>>>1:d[X+4>>2]|0)|0;d[go>>2]=d[mo>>2];d[go+4>>2]=d[mo+4>>2];d[go+8>>2]=d[mo+8>>2];d[mo>>2]=0;d[mo+4>>2]=0;d[mo+8>>2]=0;vo=Gc(go,12593)|0;d[La>>2]=d[vo>>2];d[La+4>>2]=d[vo+4>>2];d[La+8>>2]=d[vo+8>>2];d[vo>>2]=0;d[vo+4>>2]=0;d[vo+8>>2]=0;Kl(q,La);Jn(so,q);Vc(q);Lu(La);Lu(go);Lu(us);Lu(nl);Lu(ql);Lu(X);A=Qa}}}}else A=e;else A=e;else A=e;r=A;break e;break}case 108:{t:do{if(Ku)if((f[e>>0]|0)==99)if((f[e+1>>0]|0)==108){bo=e+2|0;wo=yi(bo,t,i)|0;if((wo|0)==(bo|0)|(wo|0)==(t|0))L=e;else{xo=i+4|0;Eo=d[xo>>2]|0;if((d[i>>2]|0)==(Eo|0))L=e;else{Mo=Eo+-12|0;So=f[Mo>>0]|0;To=(So&1)==0;Go(Eo+-24|0,To?Mo+1|0:d[Eo+-4>>2]|0,To?(So&255)>>>1:d[Eo+-8>>2]|0)|0;Ao=d[xo>>2]|0;d[X>>2]=0;d[X+4>>2]=0;d[X+8>>2]=0;Lo=Ao+-12|0;do{if(!(f[Lo>>0]&1)){f[Lo+1>>0]=0;f[Lo>>0]=0}else{Po=Ao+-4|0;f[d[Po>>2]>>0]=0;Co=Ao+-8|0;d[Co>>2]=0;z=f[Lo>>0]|0;if(!(z&1)){No=z;zo=10}else{Io=d[Lo>>2]|0;No=Io&255;zo=(Io&-2)+-1|0}if(!(No&1)){Do=(No&255)>>>1;if((No&255)<22){ga=1;Uo=10;Zo=Do}else{ga=1;Uo=(Do+16&240)+-1|0;Zo=Do}}else{ga=0;Uo=10;Zo=0}if((Uo|0)!=(zo|0)){if((Uo|0)==10){Wo=Lo+1|0;qo=d[Po>>2]|0;if(ga){il(Wo|0,qo|0,((No&255)>>>1)+1|0)|0;cn(qo)}else{f[Wo>>0]=f[qo>>0]|0;cn(qo)}f[Lo>>0]=Zo<<1;break}Vo=Uo+1|0;jo=xi(Vo)|0;if(!(Uo>>>0<=zo>>>0&(jo|0)==0)){if(ga)il(jo|0,Lo+1|0,((No&255)>>>1)+1|0)|0;else{Yo=d[Po>>2]|0;f[jo>>0]=f[Yo>>0]|0;cn(Yo)}d[Lo>>2]=Vo|1;d[Co>>2]=Zo;d[Po>>2]=jo}}}}while(0);d[Lo>>2]=d[X>>2];d[Lo+4>>2]=d[X+4>>2];d[Lo+8>>2]=d[X+8>>2];d[X>>2]=0;d[X+4>>2]=0;d[X+8>>2]=0;Lu(X);Gc((d[xo>>2]|0)+-24|0,12688)|0;Ko=q+4|0;$o=q+8|0;es=q+1|0;i:do{if((f[wo>>0]|0)==69)Sh=wo;else{Th=wo;while(1){ts=yi(Th,t,i)|0;if((ts|0)==(Th|0)|(ts|0)==(t|0)){L=e;break t}is=d[xo>>2]|0;if((d[i>>2]|0)==(is|0)){L=e;break t}el(q,is+-24|0);ns=d[xo>>2]|0;as=ns+-24|0;ss=ns;do{os=ss+-24|0;d[xo>>2]=os;Vc(os);ss=d[xo>>2]|0}while((ss|0)!=(as|0));ls=f[q>>0]|0;cs=(ls&1)==0;hs=cs?(ls&255)>>>1:d[Ko>>2]|0;if(hs){if((d[i>>2]|0)==(as|0))break;Go(ns+-48|0,cs?es:d[$o>>2]|0,hs)|0}Lu(q);if((f[ts>>0]|0)==69){Sh=ts;break i}else Th=ts}Lu(q);L=e;break t}}while(0);ps=d[xo>>2]|0;if((d[i>>2]|0)==(ps|0))L=e;else{Gc(ps+-24|0,12593)|0;L=Sh+1|0}}}}else L=e;else L=e;else L=e}while(0);r=L;break e;break}case 109:{ms=e+2|0;fl(xa,13893,1);vs=An(ms,t,xa,i)|0;Lu(xa);r=(vs|0)==(ms|0)?e:vs;break e;break}case 111:{ys=e+2|0;fl(Sa,12902,1);ws=Wn(ys,t,Sa,i)|0;Lu(Sa);r=(ws|0)==(ys|0)?e:ws;break e;break}case 118:{t:do{if((Vu|0)>2)if((f[e>>0]|0)==99)if((f[e+1>>0]|0)==118){_s=i+63|0;xs=f[_s>>0]|0;f[_s>>0]=0;Ms=e+2|0;Ss=gi(Ms,t,i)|0;f[_s>>0]=xs;if((Ss|0)==(Ms|0)|(Ss|0)==(t|0))C=e;else{if((f[Ss>>0]|0)==95){ks=Ss+1|0;if((ks|0)==(t|0)){C=e;break}do{if((f[ks>>0]|0)==69){Rs=i+4|0;Ls=d[Rs>>2]|0;Ps=d[i+8>>2]|0;if(Ls>>>0<Ps>>>0){d[Ls>>2]=0;d[Ls+4>>2]=0;d[Ls+8>>2]=0;d[Ls+12>>2]=0;d[Ls+16>>2]=0;d[Ls+20>>2]=0;d[Ls>>2]=0;d[Ls+4>>2]=0;d[Ls+8>>2]=0;Cs=Ls+12|0;d[Cs>>2]=0;d[Cs+4>>2]=0;d[Cs+8>>2]=0;d[Rs>>2]=(d[Rs>>2]|0)+24;Rh=ks;break}Is=d[i>>2]|0;Ns=Ls-Is|0;Ds=(Ns|0)/24|0;Bs=Ds+1|0;if((Ns|0)<-24)Ef(i);Us=(Ps-Is|0)/24|0;if(Us>>>0<1073741823){zs=Us<<1;s=zs>>>0<Bs>>>0?Bs:zs}else s=2147483647;_l(X,s,Ds,i+12|0);Hs=X+8|0;Vs=d[Hs>>2]|0;d[Vs>>2]=0;d[Vs+4>>2]=0;d[Vs+8>>2]=0;d[Vs+12>>2]=0;d[Vs+16>>2]=0;d[Vs+20>>2]=0;d[Vs>>2]=0;d[Vs+4>>2]=0;d[Vs+8>>2]=0;js=Vs+12|0;d[js>>2]=0;d[js+4>>2]=0;d[js+8>>2]=0;d[Hs>>2]=Vs+24;Bo(i,X);al(X);Rh=ks}else{Mh=ks;while(1){Ws=yi(Mh,t,i)|0;if((Ws|0)==(Mh|0)|(Ws|0)==(t|0)){C=e;break t}if((f[Ws>>0]|0)==69){Rh=Ws;break}else Mh=Ws}}}while(0);Ph=Rh+1|0}else{Ts=yi(Ss,t,i)|0;if((Ts|0)==(Ss|0)){C=e;break}else Ph=Ts}qs=i+4|0;Ys=d[qs>>2]|0;if(((Ys-(d[i>>2]|0)|0)/24|0)>>>0<2)C=e;else{el(q,Ys+-24|0);Zs=d[qs>>2]|0;Ks=Zs+-24|0;$s=Zs;do{Qs=$s+-24|0;d[qs>>2]=Qs;Vc(Qs);$s=d[qs>>2]|0}while(($s|0)!=(Ks|0));tl=Zs+-48|0;el(Bc,tl);rl=Ac(Bc,0,12688)|0;d[ql>>2]=d[rl>>2];d[ql+4>>2]=d[rl+4>>2];d[ql+8>>2]=d[rl+8>>2];d[rl>>2]=0;d[rl+4>>2]=0;d[rl+8>>2]=0;sl=Gc(ql,13895)|0;d[nl>>2]=d[sl>>2];d[nl+4>>2]=d[sl+4>>2];d[nl+8>>2]=d[sl+8>>2];d[sl>>2]=0;d[sl+4>>2]=0;d[sl+8>>2]=0;ll=f[q>>0]|0;cl=(ll&1)==0;hl=Go(nl,cl?q+1|0:d[q+8>>2]|0,cl?(ll&255)>>>1:d[q+4>>2]|0)|0;d[us>>2]=d[hl>>2];d[us+4>>2]=d[hl+4>>2];d[us+8>>2]=d[hl+8>>2];d[hl>>2]=0;d[hl+4>>2]=0;d[hl+8>>2]=0;dl=Gc(us,12593)|0;d[go>>2]=d[dl>>2];d[go+4>>2]=d[dl+4>>2];d[go+8>>2]=d[dl+8>>2];d[dl>>2]=0;d[dl+4>>2]=0;d[dl+8>>2]=0;Kl(La,go);Jn(tl,La);Vc(La);Lu(go);Lu(us);Lu(nl);Lu(ql);Lu(Bc);Lu(q);C=Ph}}}else C=e;else C=e;else C=e}while(0);r=C;break e;break}default:{r=e;break e}}break}case 100:{switch(f[_h+1>>0]|0){case 97:{ml=_h+2|0;vl=yi(ml,t,i)|0;if((vl|0)==(ml|0)){r=e;break e}gl=i+4|0;yl=d[gl>>2]|0;if((d[i>>2]|0)==(yl|0)){r=e;break e}wl=yl+-24|0;if(mh)fl(Ba,12876,2);else{d[Ba>>2]=0;d[Ba+4>>2]=0;d[Ba+8>>2]=0}xl=Gc(Ba,13898)|0;d[Ia>>2]=d[xl>>2];d[Ia+4>>2]=d[xl+4>>2];d[Ia+8>>2]=d[xl+8>>2];d[xl>>2]=0;d[xl+4>>2]=0;d[xl+8>>2]=0;el(ja,(d[gl>>2]|0)+-24|0);El=f[ja>>0]|0;Sl=(El&1)==0;kl=Go(Ia,Sl?ja+1|0:d[ja+8>>2]|0,Sl?(El&255)>>>1:d[ja+4>>2]|0)|0;d[Pa>>2]=d[kl>>2];d[Pa+4>>2]=d[kl+4>>2];d[Pa+8>>2]=d[kl+8>>2];d[kl>>2]=0;d[kl+4>>2]=0;d[kl+8>>2]=0;do{if(!(f[wl>>0]&1)){f[wl+1>>0]=0;f[wl>>0]=0}else{Al=yl+-16|0;f[d[Al>>2]>>0]=0;Ll=yl+-20|0;d[Ll>>2]=0;B=f[wl>>0]|0;if(!(B&1)){Ol=B;Fl=10}else{Cl=d[wl>>2]|0;Ol=Cl&255;Fl=(Cl&-2)+-1|0}if(!(Ol&1)){Nl=(Ol&255)>>>1;if((Ol&255)<22){ya=1;Dl=10;Xl=Nl}else{ya=1;Dl=(Nl+16&240)+-1|0;Xl=Nl}}else{ya=0;Dl=10;Xl=0}if((Dl|0)!=(Fl|0)){if((Dl|0)==10){Gl=wl+1|0;Vl=d[Al>>2]|0;if(ya){il(Gl|0,Vl|0,((Ol&255)>>>1)+1|0)|0;cn(Vl)}else{f[Gl>>0]=f[Vl>>0]|0;cn(Vl)}f[wl>>0]=Xl<<1;break}Ul=Dl+1|0;Hl=xi(Ul)|0;if(!(Dl>>>0<=Fl>>>0&(Hl|0)==0)){if(ya)il(Hl|0,wl+1|0,((Ol&255)>>>1)+1|0)|0;else{Wl=d[Al>>2]|0;f[Hl>>0]=f[Wl>>0]|0;cn(Wl)}d[wl>>2]=Ul|1;d[Ll>>2]=Xl;d[Al>>2]=Hl}}}}while(0);d[wl>>2]=d[Pa>>2];d[wl+4>>2]=d[Pa+4>>2];d[wl+8>>2]=d[Pa+8>>2];d[Pa>>2]=0;d[Pa+4>>2]=0;d[Pa+8>>2]=0;Lu(Pa);Lu(ja);Lu(Ia);Lu(Ba);r=vl;break e;break}case 99:{if((Vu|0)>2)if((f[e>>0]|0)==100)if((f[e+1>>0]|0)==99){Jl=e+2|0;Zl=gi(Jl,t,i)|0;if((Zl|0)==(Jl|0))k=e;else{Ql=yi(Zl,t,i)|0;if((Ql|0)==(Zl|0))k=e;else{ec=i+4|0;tc=d[ec>>2]|0;if(((tc-(d[i>>2]|0)|0)/24|0)>>>0<2)k=e;else{el(X,tc+-24|0);rc=d[ec>>2]|0;nc=rc+-24|0;oc=rc;do{ac=oc+-24|0;d[ec>>2]=ac;Vc(ac);oc=d[ec>>2]|0}while((oc|0)!=(nc|0));sc=rc+-48|0;el(ql,sc);lc=Ac(ql,0,13908)|0;d[nl>>2]=d[lc>>2];d[nl+4>>2]=d[lc+4>>2];d[nl+8>>2]=d[lc+8>>2];d[lc>>2]=0;d[lc+4>>2]=0;d[lc+8>>2]=0;cc=Gc(nl,13890)|0;d[us>>2]=d[cc>>2];d[us+4>>2]=d[cc+4>>2];d[us+8>>2]=d[cc+8>>2];d[cc>>2]=0;d[cc+4>>2]=0;d[cc+8>>2]=0;fc=f[X>>0]|0;hc=(fc&1)==0;pc=Go(us,hc?X+1|0:d[X+8>>2]|0,hc?(fc&255)>>>1:d[X+4>>2]|0)|0;d[go>>2]=d[pc>>2];d[go+4>>2]=d[pc+4>>2];d[go+8>>2]=d[pc+8>>2];d[pc>>2]=0;d[pc+4>>2]=0;d[pc+8>>2]=0;mc=Gc(go,12593)|0;d[La>>2]=d[mc>>2];d[La+4>>2]=d[mc+4>>2];d[La+8>>2]=d[mc+8>>2];d[mc>>2]=0;d[mc+4>>2]=0;d[mc+8>>2]=0;Kl(q,La);Jn(sc,q);Vc(q);Lu(La);Lu(go);Lu(us);Lu(nl);Lu(ql);Lu(X);k=Ql}}}}else k=e;else k=e;else k=e;r=k;break e;break}case 101:{gc=e+2|0;fl(qa,12733,1);yc=Wn(gc,t,qa,i)|0;Lu(qa);r=(yc|0)==(gc|0)?e:yc;break e;break}case 108:{bc=_h+2|0;wc=yi(bc,t,i)|0;if((wc|0)==(bc|0)){r=e;break e}_c=i+4|0;xc=d[_c>>2]|0;if((d[i>>2]|0)==(xc|0)){r=e;break e}Mc=xc+-24|0;if(mh)fl(io,12876,2);else{d[io>>2]=0;d[io+4>>2]=0;d[io+8>>2]=0}Sc=Gc(io,13922)|0;d[$a>>2]=d[Sc>>2];d[$a+4>>2]=d[Sc+4>>2];d[$a+8>>2]=d[Sc+8>>2];d[Sc>>2]=0;d[Sc+4>>2]=0;d[Sc+8>>2]=0;el(uo,(d[_c>>2]|0)+-24|0);Tc=f[uo>>0]|0;Rc=(Tc&1)==0;Pc=Go($a,Rc?uo+1|0:d[uo+8>>2]|0,Rc?(Tc&255)>>>1:d[uo+4>>2]|0)|0;d[Ja>>2]=d[Pc>>2];d[Ja+4>>2]=d[Pc+4>>2];d[Ja+8>>2]=d[Pc+8>>2];d[Pc>>2]=0;d[Pc+4>>2]=0;d[Pc+8>>2]=0;do{if(!(f[Mc>>0]&1)){f[Mc+1>>0]=0;f[Mc>>0]=0}else{Cc=xc+-16|0;f[d[Cc>>2]>>0]=0;Oc=xc+-20|0;d[Oc>>2]=0;V=f[Mc>>0]|0;if(!(V&1)){Dc=V;Hc=10}else{Nc=d[Mc>>2]|0;Dc=Nc&255;Hc=(Nc&-2)+-1|0}if(!(Dc&1)){Fc=(Dc&255)>>>1;if((Dc&255)<22){ba=1;zc=10;Kc=Fc}else{ba=1;zc=(Fc+16&240)+-1|0;Kc=Fc}}else{ba=0;zc=10;Kc=0}if((zc|0)!=(Hc|0)){if((zc|0)==10){qc=Mc+1|0;Yc=d[Cc>>2]|0;if(ba){il(qc|0,Yc|0,((Dc&255)>>>1)+1|0)|0;cn(Yc)}else{f[qc>>0]=f[Yc>>0]|0;cn(Yc)}f[Mc>>0]=Kc<<1;break}jc=zc+1|0;Wc=xi(jc)|0;if(!(zc>>>0<=Hc>>>0&(Wc|0)==0)){if(ba)il(Wc|0,Mc+1|0,((Dc&255)>>>1)+1|0)|0;else{Zc=d[Cc>>2]|0;f[Wc>>0]=f[Zc>>0]|0;cn(Zc)}d[Mc>>2]=jc|1;d[Oc>>2]=Kc;d[Cc>>2]=Wc}}}}while(0);d[Mc>>2]=d[Ja>>2];d[Mc+4>>2]=d[Ja+4>>2];d[Mc+8>>2]=d[Ja+8>>2];d[Ja>>2]=0;d[Ja+4>>2]=0;d[Ja+8>>2]=0;Lu(Ja);Lu(uo);Lu($a);Lu(io);r=wc;break e;break}case 110:{r=Ci(e,t,i)|0;break e;break}case 115:{if((Vu|0)>2)if((f[e>>0]|0)==100)if((f[e+1>>0]|0)==115){$c=e+2|0;eu=yi($c,t,i)|0;if((eu|0)==($c|0))p=e;else{tu=yi(eu,t,i)|0;if((tu|0)==(eu|0))p=e;else{ru=i+4|0;nu=d[ru>>2]|0;if(((nu-(d[i>>2]|0)|0)/24|0)>>>0<2)p=e;else{el(X,nu+-24|0);ou=d[ru>>2]|0;su=ou+-24|0;cu=ou;do{lu=cu+-24|0;d[ru>>2]=lu;Vc(lu);cu=d[ru>>2]|0}while((cu|0)!=(su|0));gs(q,13930,X);uu=f[q>>0]|0;fu=(uu&1)==0;Go(ou+-48|0,fu?q+1|0:d[q+8>>2]|0,fu?(uu&255)>>>1:d[q+4>>2]|0)|0;Lu(q);Lu(X);p=tu}}}}else p=e;else p=e;else p=e;r=p;break e;break}case 116:{if((Vu|0)>2)if((f[e>>0]|0)==100)if((f[e+1>>0]|0)==116){pu=e+2|0;mu=yi(pu,t,i)|0;if((mu|0)==(pu|0))h=e;else{vu=Ci(mu,t,i)|0;if((vu|0)==(mu|0))h=e;else{gu=i+4|0;bu=d[gu>>2]|0;if(((bu-(d[i>>2]|0)|0)/24|0)>>>0<2)h=e;else{el(X,bu+-24|0);wu=d[gu>>2]|0;_u=wu+-24|0;Mu=wu;do{Eu=Mu+-24|0;d[gu>>2]=Eu;Vc(Eu);Mu=d[gu>>2]|0}while((Mu|0)!=(_u|0));gs(q,18309,X);Su=f[q>>0]|0;Tu=(Su&1)==0;Go(wu+-48|0,Tu?q+1|0:d[q+8>>2]|0,Tu?(Su&255)>>>1:d[q+4>>2]|0)|0;Lu(q);Lu(X);h=vu}}}}else h=e;else h=e;else h=e;r=h;break e;break}case 118:{Ru=e+2|0;fl(po,13933,1);Pu=An(Ru,t,po,i)|0;Lu(po);r=(Pu|0)==(Ru|0)?e:Pu;break e;break}case 86:{Cu=e+2|0;fl(yo,13935,2);Iu=An(Cu,t,yo,i)|0;Lu(yo);r=(Iu|0)==(Cu|0)?e:Iu;break e;break}default:{r=e;break e}}break}case 101:{switch(f[_h+1>>0]|0){case 111:{Nu=e+2|0;fl(_o,13938,1);Du=An(Nu,t,_o,i)|0;Lu(_o);r=(Du|0)==(Nu|0)?e:Du;break e;break}case 79:{Fu=e+2|0;fl(ko,13940,2);Bu=An(Fu,t,ko,i)|0;Lu(ko);r=(Bu|0)==(Fu|0)?e:Bu;break e;break}case 113:{Uu=e+2|0;fl(Ro,13943,2);zu=An(Uu,t,Ro,i)|0;Lu(Ro);r=(zu|0)==(Uu|0)?e:zu;break e;break}default:{r=e;break e}}break}case 103:{switch(f[_h+1>>0]|0){case 101:{Hu=e+2|0;fl(Oo,13946,2);Gu=An(Hu,t,Oo,i)|0;Lu(Oo);r=(Gu|0)==(Hu|0)?e:Gu;break e;break}case 116:{ju=e+2|0;fl(Fo,12752,1);Wu=An(ju,t,Fo,i)|0;Lu(Fo);r=(Wu|0)==(ju|0)?e:Wu;break e;break}default:{r=e;break e}}break}case 105:{if((f[_h+1>>0]|0)!=120){r=e;break e}Xu=e+2|0;qu=yi(Xu,t,i)|0;if((qu|0)==(Xu|0)){r=e;break e}Yu=yi(qu,t,i)|0;Ju=i+4|0;Zu=d[Ju>>2]|0;if((Yu|0)==(qu|0)){cf=Zu+-24|0;ff=Zu;while(1){uf=ff+-24|0;d[Ju>>2]=uf;Vc(uf);ff=d[Ju>>2]|0;if((ff|0)==(cf|0)){r=e;break e}}}if(((Zu-(d[i>>2]|0)|0)/24|0)>>>0<2){r=e;break e}el(hh,Zu+-24|0);Qu=d[Ju>>2]|0;$u=Qu+-24|0;tf=Qu;do{ef=tf+-24|0;d[Ju>>2]=ef;Vc(ef);tf=d[Ju>>2]|0}while((tf|0)!=($u|0));el(uh,Qu+-48|0);rf=(d[Ju>>2]|0)+-24|0;gs(fs,12688,uh);nf=Gc(fs,13949)|0;d[rs>>2]=d[nf>>2];d[rs+4>>2]=d[nf+4>>2];d[rs+8>>2]=d[nf+8>>2];d[nf>>2]=0;d[nf+4>>2]=0;d[nf+8>>2]=0;af=f[hh>>0]|0;of=(af&1)==0;sf=Go(rs,of?hh+1|0:d[hh+8>>2]|0,of?(af&255)>>>1:d[hh+4>>2]|0)|0;d[Qo>>2]=d[sf>>2];d[Qo+4>>2]=d[sf+4>>2];d[Qo+8>>2]=d[sf+8>>2];d[sf>>2]=0;d[sf+4>>2]=0;d[sf+8>>2]=0;lf=Gc(Qo,12677)|0;d[Jo>>2]=d[lf>>2];d[Jo+4>>2]=d[lf+4>>2];d[Jo+8>>2]=d[lf+8>>2];d[lf>>2]=0;d[lf+4>>2]=0;d[lf+8>>2]=0;Kl(Xo,Jo);Jn(rf,Xo);Vc(Xo);Lu(Jo);Lu(Qo);Lu(rs);Lu(fs);Lu(uh);Lu(hh);r=Yu;break e;break}case 108:{switch(f[_h+1>>0]|0){case 101:{hf=e+2|0;fl(ds,13952,2);df=An(hf,t,ds,i)|0;Lu(ds);r=(df|0)==(hf|0)?e:df;break e;break}case 115:{pf=e+2|0;fl(bs,13955,2);mf=An(pf,t,bs,i)|0;Lu(bs);r=(mf|0)==(pf|0)?e:mf;break e;break}case 83:{vf=e+2|0;fl(Es,13958,3);gf=An(vf,t,Es,i)|0;Lu(Es);r=(gf|0)==(vf|0)?e:gf;break e;break}case 116:{yf=e+2|0;fl(As,12750,1);bf=An(yf,t,As,i)|0;Lu(As);r=(bf|0)==(yf|0)?e:bf;break e;break}default:{r=e;break e}}break}case 109:{switch(f[_h+1>>0]|0){case 105:{xf=e+2|0;fl(Os,13962,1);Mf=An(xf,t,Os,i)|0;Lu(Os);r=(Mf|0)==(xf|0)?e:Mf;break e;break}case 73:{Sf=e+2|0;fl(Fs,13964,2);Tf=An(Sf,t,Fs,i)|0;Lu(Fs);r=(Tf|0)==(Sf|0)?e:Tf;break e;break}case 108:{kf=e+2|0;fl(Gs,12733,1);Af=An(kf,t,Gs,i)|0;Lu(Gs);r=(Af|0)==(kf|0)?e:Af;break e;break}case 76:{Rf=e+2|0;fl(Xs,13967,2);Lf=An(Rf,t,Xs,i)|0;Lu(Xs);r=(Lf|0)==(Rf|0)?e:Lf;break e;break}case 109:{Pf=e+2|0;if((Pf|0)!=(t|0))if((f[Pf>>0]|0)==95){Cf=e+3|0;fl(Js,13970,2);Of=Wn(Cf,t,Js,i)|0;Lu(Js);r=(Of|0)==(Cf|0)?e:Of;break e}If=yi(Pf,t,i)|0;if((If|0)==(Pf|0)){r=e;break e}Nf=d[i+4>>2]|0;if((d[i>>2]|0)==(Nf|0)){r=e;break e}Df=Nf+-24|0;el(bl,Df);Ff=Ac(bl,0,12688)|0;d[pl>>2]=d[Ff>>2];d[pl+4>>2]=d[Ff+4>>2];d[pl+8>>2]=d[Ff+8>>2];d[Ff>>2]=0;d[Ff+4>>2]=0;d[Ff+8>>2]=0;Bf=Gc(pl,13973)|0;d[ul>>2]=d[Bf>>2];d[ul+4>>2]=d[Bf+4>>2];d[ul+8>>2]=d[Bf+8>>2];d[Bf>>2]=0;d[Bf+4>>2]=0;d[Bf+8>>2]=0;Kl(ol,ul);Jn(Df,ol);Vc(ol);Lu(ul);Lu(pl);Lu(bl);r=If;break e;break}default:{r=e;break e}}break}case 110:{switch(f[_h+1>>0]|0){case 119:case 97:{t:do{if(Ku){Uf=f[e>>0]|0;if(Uf<<24>>24==103){zf=(f[e+1>>0]|0)==115;I=zf?e+2|0:e;Hf=f[I>>0]|0;vh=zf;Eh=I}else{Hf=Uf;vh=0;Eh=e}if(Hf<<24>>24==110){Gf=f[Eh+1>>0]|0;switch(Gf<<24>>24){case 97:case 119:break;default:{P=e;Ih=319;break t}}Vf=Gf<<24>>24==97;jf=Eh+2|0;if((jf|0)==(t|0))O=e;else{nh=0;kh=jf;while(1){if((f[kh>>0]|0)==95){ah=nh;Ah=kh;break}Bh=kh;kh=yi(kh,t,i)|0;if((kh|0)==(Bh|0)|(kh|0)==(t|0)){O=e;break t}else nh=1}Wf=Ah+1|0;Xf=gi(Wf,t,i)|0;if((Xf|0)==(Wf|0)|(Xf|0)==(t|0))O=e;else{qf=f[Xf>>0]|0;i:do{if((Ou-Xf|0)>2&qf<<24>>24==112){if((f[Xf+1>>0]|0)!=105){O=e;break t}Lh=Xf+2|0;while(1){if((f[Lh>>0]|0)==69){oh=1;Ch=Lh;break i}Uh=Lh;Lh=yi(Lh,t,i)|0;if((Lh|0)==(Uh|0)|(Lh|0)==(t|0)){O=e;break t}}}else if(qf<<24>>24==69){oh=0;Ch=Xf}else{O=e;break t}}while(0);d[q>>2]=0;d[q+4>>2]=0;d[q+8>>2]=0;if(oh){Yf=i+4|0;Jf=d[Yf>>2]|0;if((d[i>>2]|0)!=(Jf|0)){el(La,Jf+-24|0);i:do{if(!(f[q>>0]&1)){f[q+1>>0]=0;f[q>>0]=0}else{Zf=q+8|0;Kf=d[Zf>>2]|0;f[Kf>>0]=0;Qf=q+4|0;d[Qf>>2]=0;$f=d[q>>2]|0;gh=($f&-2)+-1|0;eh=$f&255;do{if(!(eh&1)){th=$f>>>1&127;if((eh&255)<22){il(q+1|0,Kf|0,($f>>>1&127)+1|0)|0;cn(Kf);N=th;break}ih=th+16&240;bh=ih+-1|0;if((bh|0)==(gh|0))break i;rh=xi(ih)|0;if(bh>>>0<=gh>>>0&(rh|0)==0)break i;il(rh|0,q+1|0,($f>>>1&127)+1|0)|0;d[q>>2]=ih|1;d[Qf>>2]=th;d[Zf>>2]=rh;break i}else{f[q+1>>0]=0;cn(Kf);N=0}}while(0);f[q>>0]=N<<1}}while(0);d[q>>2]=d[La>>2];d[q+4>>2]=d[La+4>>2];d[q+8>>2]=d[La+8>>2];d[La>>2]=0;d[La+4>>2]=0;d[La+8>>2]=0;Lu(La);K=d[Yf>>2]|0;Q=K+-24|0;ee=K;do{$=ee+-24|0;d[Yf>>2]=$;Vc($);ee=d[Yf>>2]|0}while((ee|0)!=(Q|0));j=Yf;W=i;te=Q;Ih=283}}else{F=i+4|0;j=F;W=i;te=d[F>>2]|0;Ih=283}if((Ih|0)==283)if((d[W>>2]|0)!=(te|0)){el(go,te+-24|0);ie=d[j>>2]|0;re=ie+-24|0;ae=ie;do{ne=ae+-24|0;d[j>>2]=ne;Vc(ne);ae=d[j>>2]|0}while((ae|0)!=(re|0));d[us>>2]=0;d[us+4>>2]=0;d[us+8>>2]=0;if(ah)if((d[W>>2]|0)==(re|0)){c=e;R=0}else{el(nl,ie+-48|0);i:do{if(!(f[us>>0]&1)){f[us+1>>0]=0;f[us>>0]=0}else{se=us+8|0;le=d[se>>2]|0;f[le>>0]=0;ue=us+4|0;d[ue>>2]=0;fe=d[us>>2]|0;yh=(fe&-2)+-1|0;he=fe&255;do{if(!(he&1)){de=fe>>>1&127;if((he&255)<22){il(us+1|0,le|0,(fe>>>1&127)+1|0)|0;cn(le);D=de;break}me=de+16&240;wh=me+-1|0;if((wh|0)==(yh|0))break i;ve=xi(me)|0;if(wh>>>0<=yh>>>0&(ve|0)==0)break i;il(ve|0,us+1|0,(fe>>>1&127)+1|0)|0;d[us>>2]=me|1;d[ue>>2]=de;d[se>>2]=ve;break i}else{f[us+1>>0]=0;cn(le);D=0}}while(0);f[us>>0]=D<<1}}while(0);d[us>>2]=d[nl>>2];d[us+4>>2]=d[nl+4>>2];d[us+8>>2]=d[nl+8>>2];d[nl>>2]=0;d[nl+4>>2]=0;d[nl+8>>2]=0;Lu(nl);ye=d[j>>2]|0;we=ye+-24|0;xe=ye;do{_e=xe+-24|0;d[j>>2]=_e;Vc(_e);xe=d[j>>2]|0}while((xe|0)!=(we|0));Ih=300}else Ih=300;if((Ih|0)==300){d[ql>>2]=0;d[ql+4>>2]=0;d[ql+8>>2]=0;if(vh)Ho(ql,12876,2);if(Vf)Gc(ql,13977)|0;else Gc(ql,12700)|0;if(ah){gs(ku,12688,us);Ee=Gc(ku,13981)|0;d[Bc>>2]=d[Ee>>2];d[Bc+4>>2]=d[Ee+4>>2];d[Bc+8>>2]=d[Ee+8>>2];d[Ee>>2]=0;d[Ee+4>>2]=0;d[Ee+8>>2]=0;Me=f[Bc>>0]|0;Se=(Me&1)==0;Go(ql,Se?Bc+1|0:d[Bc+8>>2]|0,Se?(Me&255)>>>1:d[Bc+4>>2]|0)|0;Lu(Bc);Lu(ku)}ke=f[go>>0]|0;Ae=(ke&1)==0;Go(ql,Ae?go+1|0:d[go+8>>2]|0,Ae?(ke&255)>>>1:d[go+4>>2]|0)|0;if(oh){gs(Y,12590,q);Pe=Gc(Y,12593)|0;d[wf>>2]=d[Pe>>2];d[wf+4>>2]=d[Pe+4>>2];d[wf+8>>2]=d[Pe+8>>2];d[Pe>>2]=0;d[Pe+4>>2]=0;d[Pe+8>>2]=0;Ce=f[wf>>0]|0;Oe=(Ce&1)==0;Go(ql,Oe?wf+1|0:d[wf+8>>2]|0,Oe?(Ce&255)>>>1:d[wf+4>>2]|0)|0;Lu(wf);Lu(Y)}d[mt>>2]=d[ql>>2];d[mt+4>>2]=d[ql+4>>2];d[mt+8>>2]=d[ql+8>>2];d[ql>>2]=0;d[ql+4>>2]=0;d[ql+8>>2]=0;Kl(Re,mt);Ne=d[j>>2]|0;De=d[i+8>>2]|0;if(Ne>>>0<De>>>0){Pl(Ne,Re);d[j>>2]=(d[j>>2]|0)+24}else{Fe=d[W>>2]|0;Ue=Ne-Fe|0;ze=(Ue|0)/24|0;He=ze+1|0;if((Ue|0)<-24)Ef(i);Ge=(De-Fe|0)/24|0;if(Ge>>>0<1073741823){Ve=Ge<<1;o=Ve>>>0<He>>>0?He:Ve}else o=2147483647;_l(X,o,ze,i+12|0);je=X+8|0;We=d[je>>2]|0;Pl(We,Re);d[je>>2]=We+24;Bo(i,X);al(X)}Vc(Re);Lu(mt);Lu(ql);c=Ch+1|0;R=1}Lu(us);Lu(go);Lu(q);if(R){P=c;Ih=319;break}else{O=e;break}}Lu(q);O=e}}}else{P=e;Ih=319}}else{P=e;Ih=319}}while(0);if((Ih|0)==319)O=P;r=O;break e;break}case 101:{Xe=e+2|0;fl(Ml,13984,2);qe=An(Xe,t,Ml,i)|0;Lu(Ml);r=(qe|0)==(Xe|0)?e:qe;break e;break}case 103:{Ye=e+2|0;fl(Tl,13962,1);Je=Wn(Ye,t,Tl,i)|0;Lu(Tl);r=(Je|0)==(Ye|0)?e:Je;break e;break}case 116:{Ze=e+2|0;fl(Rl,13987,1);Ke=Wn(Ze,t,Rl,i)|0;Lu(Rl);r=(Ke|0)==(Ze|0)?e:Ke;break e;break}case 120:{Qe=e+2|0;$e=yi(Qe,t,i)|0;if(($e|0)==(Qe|0))x=Qe;else{et=d[i+4>>2]|0;if((d[i>>2]|0)==(et|0))x=Qe;else{tt=et+-24|0;el(La,tt);it=Ac(La,0,13989)|0;d[q>>2]=d[it>>2];d[q+4>>2]=d[it+4>>2];d[q+8>>2]=d[it+8>>2];d[it>>2]=0;d[it+4>>2]=0;d[it+8>>2]=0;rt=Gc(q,12593)|0;d[X>>2]=d[rt>>2];d[X+4>>2]=d[rt+4>>2];d[X+8>>2]=d[rt+8>>2];d[rt>>2]=0;d[rt+4>>2]=0;d[rt+8>>2]=0;do{if(!(f[tt>>0]&1)){f[tt+1>>0]=0;f[tt>>0]=0}else{nt=et+-16|0;f[d[nt>>2]>>0]=0;at=et+-20|0;d[at>>2]=0;U=f[tt>>0]|0;if(!(U&1)){st=U;ut=10}else{ot=d[tt>>2]|0;st=ot&255;ut=(ot&-2)+-1|0}if(!(st&1)){lt=(st&255)>>>1;if((st&255)<22){ct=10;gt=lt;wa=1}else{ct=(lt+16&240)+-1|0;gt=lt;wa=1}}else{ct=10;gt=0;wa=0}if((ct|0)!=(ut|0)){if((ct|0)==10){dt=tt+1|0;pt=d[nt>>2]|0;if(wa){il(dt|0,pt|0,((st&255)>>>1)+1|0)|0;cn(pt)}else{f[dt>>0]=f[pt>>0]|0;cn(pt)}f[tt>>0]=gt<<1;break}ft=ct+1|0;ht=xi(ft)|0;if(!(ct>>>0<=ut>>>0&(ht|0)==0)){if(wa)il(ht|0,tt+1|0,((st&255)>>>1)+1|0)|0;else{vt=d[nt>>2]|0;f[ht>>0]=f[vt>>0]|0;cn(vt)}d[tt>>2]=ft|1;d[at>>2]=gt;d[nt>>2]=ht}}}}while(0);d[tt>>2]=d[X>>2];d[tt+4>>2]=d[X+4>>2];d[tt+8>>2]=d[X+8>>2];d[X>>2]=0;d[X+4>>2]=0;d[X+8>>2]=0;Lu(X);Lu(q);Lu(La);x=$e}}r=(x|0)==(Qe|0)?e:x;break e;break}default:{r=e;break e}}break}case 111:{switch(f[_h+1>>0]|0){case 110:{r=Ci(e,t,i)|0;break e;break}case 111:{bt=e+2|0;fl(Il,14e3,2);_t=An(bt,t,Il,i)|0;Lu(Il);r=(_t|0)==(bt|0)?e:_t;break e;break}case 114:{xt=e+2|0;fl(zl,14003,1);Et=An(xt,t,zl,i)|0;Lu(zl);r=(Et|0)==(xt|0)?e:Et;break e;break}case 82:{Mt=e+2|0;fl(jl,14005,2);St=An(Mt,t,jl,i)|0;Lu(jl);r=(St|0)==(Mt|0)?e:St;break e;break}default:{r=e;break e}}break}case 112:{switch(f[_h+1>>0]|0){case 109:{Tt=e+2|0;fl(Yl,14008,3);kt=An(Tt,t,Yl,i)|0;Lu(Yl);r=(kt|0)==(Tt|0)?e:kt;break e;break}case 108:{At=e+2|0;fl($l,14012,1);Rt=An(At,t,$l,i)|0;Lu($l);r=(Rt|0)==(At|0)?e:Rt;break e;break}case 76:{Lt=e+2|0;fl(ic,14014,2);Pt=An(Lt,t,ic,i)|0;Lu(ic);r=(Pt|0)==(Lt|0)?e:Pt;break e;break}case 112:{Ct=e+2|0;if((Ct|0)!=(t|0))if((f[Ct>>0]|0)==95){Ot=e+3|0;fl(uc,14017,2);It=Wn(Ot,t,uc,i)|0;Lu(uc);r=(It|0)==(Ot|0)?e:It;break e}Nt=yi(Ct,t,i)|0;if((Nt|0)==(Ct|0)){r=e;break e}Dt=d[i+4>>2]|0;if((d[i>>2]|0)==(Dt|0)){r=e;break e}Ft=Dt+-24|0;el(kc,Ft);Bt=Ac(kc,0,12688)|0;d[Ec>>2]=d[Bt>>2];d[Ec+4>>2]=d[Bt+4>>2];d[Ec+8>>2]=d[Bt+8>>2];d[Bt>>2]=0;d[Bt+4>>2]=0;d[Bt+8>>2]=0;Ut=Gc(Ec,14020)|0;d[vc>>2]=d[Ut>>2];d[vc+4>>2]=d[Ut+4>>2];d[vc+8>>2]=d[Ut+8>>2];d[Ut>>2]=0;d[Ut+4>>2]=0;d[Ut+8>>2]=0;Kl(dc,vc);Jn(Ft,dc);Vc(dc);Lu(vc);Lu(Ec);Lu(kc);r=Nt;break e;break}case 115:{Ht=e+2|0;fl(Lc,14012,1);Gt=Wn(Ht,t,Lc,i)|0;Lu(Lc);r=(Gt|0)==(Ht|0)?e:Gt;break e;break}case 116:{if((Vu|0)>2)if((f[e>>0]|0)==112)if((f[e+1>>0]|0)==116){Vt=e+2|0;jt=yi(Vt,t,i)|0;if((jt|0)==(Vt|0))l=e;else{Wt=yi(jt,t,i)|0;if((Wt|0)==(jt|0))l=e;else{Xt=i+4|0;qt=d[Xt>>2]|0;if(((qt-(d[i>>2]|0)|0)/24|0)>>>0<2)l=e;else{el(X,qt+-24|0);Jt=d[Xt>>2]|0;Zt=Jt+-24|0;Qt=Jt;do{Kt=Qt+-24|0;d[Xt>>2]=Kt;Vc(Kt);Qt=d[Xt>>2]|0}while((Qt|0)!=(Zt|0));Gc(Jt+-48|0,14024)|0;ei=f[X>>0]|0;ti=(ei&1)==0;Go((d[Xt>>2]|0)+-24|0,ti?X+1|0:d[X+8>>2]|0,ti?(ei&255)>>>1:d[X+4>>2]|0)|0;Lu(X);l=Wt}}}}else l=e;else l=e;else l=e;r=l;break e;break}default:{r=e;break e}}break}case 113:{if((f[_h+1>>0]|0)!=117){r=e;break e}ri=e+2|0;ni=yi(ri,t,i)|0;if((ni|0)==(ri|0)){r=e;break e}ai=yi(ni,t,i)|0;if((ai|0)==(ni|0)){Ui=i+4|0;zi=d[Ui>>2]|0;Hi=zi+-24|0;Vi=zi;while(1){Gi=Vi+-24|0;d[Ui>>2]=Gi;Vc(Gi);Vi=d[Ui>>2]|0;if((Vi|0)==(Hi|0)){r=e;break e}}}oi=yi(ai,t,i)|0;si=i+4|0;li=d[si>>2]|0;if((oi|0)==(ai|0)){Oi=li+-24|0;Ni=li;do{Ii=Ni+-24|0;d[si>>2]=Ii;Vc(Ii);Ni=d[si>>2]|0}while((Ni|0)!=(Oi|0));Di=li+-48|0;Bi=Oi;while(1){Fi=Bi+-24|0;d[si>>2]=Fi;Vc(Fi);Bi=d[si>>2]|0;if((Bi|0)==(Di|0)){r=e;break e}}}if(((li-(d[i>>2]|0)|0)/24|0)>>>0<3){r=e;break e}el(ph,li+-24|0);ui=d[si>>2]|0;fi=ui+-24|0;di=ui;do{hi=di+-24|0;d[si>>2]=hi;Vc(hi);di=d[si>>2]|0}while((di|0)!=(fi|0));el(dh,ui+-48|0);pi=d[si>>2]|0;mi=pi+-24|0;bi=pi;do{vi=bi+-24|0;d[si>>2]=vi;Vc(vi);bi=d[si>>2]|0}while((bi|0)!=(mi|0));el(fh,pi+-48|0);wi=(d[si>>2]|0)+-24|0;gs(au,12688,fh);_i=Gc(au,14027)|0;d[iu>>2]=d[_i>>2];d[iu+4>>2]=d[_i+4>>2];d[iu+8>>2]=d[_i+8>>2];d[_i>>2]=0;d[_i+4>>2]=0;d[_i+8>>2]=0;Ei=f[dh>>0]|0;Mi=(Ei&1)==0;Si=Go(iu,Mi?dh+1|0:d[dh+8>>2]|0,Mi?(Ei&255)>>>1:d[dh+4>>2]|0)|0;d[Qc>>2]=d[Si>>2];d[Qc+4>>2]=d[Si+4>>2];d[Qc+8>>2]=d[Si+8>>2];d[Si>>2]=0;d[Si+4>>2]=0;d[Si+8>>2]=0;ki=Gc(Qc,14033)|0;d[Jc>>2]=d[ki>>2];d[Jc+4>>2]=d[ki+4>>2];d[Jc+8>>2]=d[ki+8>>2];d[ki>>2]=0;d[ki+4>>2]=0;d[ki+8>>2]=0;Ai=f[ph>>0]|0;Ri=(Ai&1)==0;Li=Go(Jc,Ri?ph+1|0:d[ph+8>>2]|0,Ri?(Ai&255)>>>1:d[ph+4>>2]|0)|0;d[Xc>>2]=d[Li>>2];d[Xc+4>>2]=d[Li+4>>2];d[Xc+8>>2]=d[Li+8>>2];d[Li>>2]=0;d[Li+4>>2]=0;d[Li+8>>2]=0;Pi=Gc(Xc,12593)|0;d[Uc>>2]=d[Pi>>2];d[Uc+4>>2]=d[Pi+4>>2];d[Uc+8>>2]=d[Pi+8>>2];d[Pi>>2]=0;d[Pi+4>>2]=0;d[Pi+8>>2]=0;Kl(Ic,Uc);Jn(wi,Ic);Vc(Ic);Lu(Uc);Lu(Xc);Lu(Jc);Lu(Qc);Lu(iu);Lu(au);Lu(fh);Lu(dh);Lu(ph);r=oi;break e;break}case 114:{switch(f[_h+1>>0]|0){case 99:{if((Vu|0)>2)if((f[e>>0]|0)==114)if((f[e+1>>0]|0)==99){Wi=e+2|0;Xi=gi(Wi,t,i)|0;if((Xi|0)==(Wi|0))T=e;else{Yi=yi(Xi,t,i)|0;if((Yi|0)==(Xi|0))T=e;else{Ji=i+4|0;Zi=d[Ji>>2]|0;if(((Zi-(d[i>>2]|0)|0)/24|0)>>>0<2)T=e;else{el(X,Zi+-24|0);Qi=d[Ji>>2]|0;$i=Qi+-24|0;tr=Qi;do{er=tr+-24|0;d[Ji>>2]=er;Vc(er);tr=d[Ji>>2]|0}while((tr|0)!=($i|0));ir=Qi+-48|0;el(ql,ir);rr=Ac(ql,0,14039)|0;d[nl>>2]=d[rr>>2];d[nl+4>>2]=d[rr+4>>2];d[nl+8>>2]=d[rr+8>>2];d[rr>>2]=0;d[rr+4>>2]=0;d[rr+8>>2]=0;nr=Gc(nl,13890)|0;d[us>>2]=d[nr>>2];d[us+4>>2]=d[nr+4>>2];d[us+8>>2]=d[nr+8>>2];d[nr>>2]=0;d[nr+4>>2]=0;d[nr+8>>2]=0;ar=f[X>>0]|0;or=(ar&1)==0;sr=Go(us,or?X+1|0:d[X+8>>2]|0,or?(ar&255)>>>1:d[X+4>>2]|0)|0;d[go>>2]=d[sr>>2];d[go+4>>2]=d[sr+4>>2];d[go+8>>2]=d[sr+8>>2];d[sr>>2]=0;d[sr+4>>2]=0;d[sr+8>>2]=0;lr=Gc(go,12593)|0;d[La>>2]=d[lr>>2];d[La+4>>2]=d[lr+4>>2];d[La+8>>2]=d[lr+8>>2];d[lr>>2]=0;d[lr+4>>2]=0;d[lr+8>>2]=0;Kl(q,La);Jn(ir,q);Vc(q);Lu(La);Lu(go);Lu(us);Lu(nl);Lu(ql);Lu(X);T=Yi}}}}else T=e;else T=e;else T=e;r=T;break e;break}case 109:{ur=e+2|0;fl(hu,14057,1);fr=An(ur,t,hu,i)|0;Lu(hu);r=(fr|0)==(ur|0)?e:fr;break e;break}case 77:{hr=e+2|0;fl(du,14059,2);dr=An(hr,t,du,i)|0;Lu(du);r=(dr|0)==(hr|0)?e:dr;break e;break}case 115:{pr=e+2|0;fl(yu,14062,2);mr=An(pr,t,yu,i)|0;Lu(yu);r=(mr|0)==(pr|0)?e:mr;break e;break}case 83:{vr=e+2|0;fl(xu,14065,3);gr=An(vr,t,xu,i)|0;Lu(xu);w=Nh;return((gr|0)==(vr|0)?e:gr)|0}default:{r=e;break e}}break}case 115:{switch(f[_h+1>>0]|0){case 99:{if((Vu|0)>2)if((f[e>>0]|0)==115)if((f[e+1>>0]|0)==99){yr=e+2|0;br=gi(yr,t,i)|0;if((br|0)==(yr|0))S=e;else{wr=yi(br,t,i)|0;if((wr|0)==(br|0))S=e;else{_r=i+4|0;xr=d[_r>>2]|0;if(((xr-(d[i>>2]|0)|0)/24|0)>>>0<2)S=e;else{el(X,xr+-24|0);Er=d[_r>>2]|0;Mr=Er+-24|0;kr=Er;do{Sr=kr+-24|0;d[_r>>2]=Sr;Vc(Sr);kr=d[_r>>2]|0}while((kr|0)!=(Mr|0));Ar=Er+-48|0;el(ql,Ar);Rr=Ac(ql,0,14069)|0;d[nl>>2]=d[Rr>>2];d[nl+4>>2]=d[Rr+4>>2];d[nl+8>>2]=d[Rr+8>>2];d[Rr>>2]=0;d[Rr+4>>2]=0;d[Rr+8>>2]=0;Lr=Gc(nl,13890)|0;d[us>>2]=d[Lr>>2];d[us+4>>2]=d[Lr+4>>2];d[us+8>>2]=d[Lr+8>>2];d[Lr>>2]=0;d[Lr+4>>2]=0;d[Lr+8>>2]=0;Pr=f[X>>0]|0;Cr=(Pr&1)==0;Ir=Go(us,Cr?X+1|0:d[X+8>>2]|0,Cr?(Pr&255)>>>1:d[X+4>>2]|0)|0;d[go>>2]=d[Ir>>2];d[go+4>>2]=d[Ir+4>>2];d[go+8>>2]=d[Ir+8>>2];d[Ir>>2]=0;d[Ir+4>>2]=0;d[Ir+8>>2]=0;Nr=Gc(go,12593)|0;d[La>>2]=d[Nr>>2];d[La+4>>2]=d[Nr+4>>2];d[La+8>>2]=d[Nr+8>>2];d[Nr>>2]=0;d[Nr+4>>2]=0;d[Nr+8>>2]=0;Kl(q,La);Jn(Ar,q);Vc(q);Lu(La);Lu(go);Lu(us);Lu(nl);Lu(ql);Lu(X);S=wr}}}}else S=e;else S=e;else S=e;r=S;break e;break}case 112:{if((Vu|0)<=2){r=e;break e}if((f[e>>0]|0)!=115){r=e;break e}if((f[e+1>>0]|0)!=112){r=e;break e}Fr=e+2|0;Br=yi(Fr,t,i)|0;r=(Br|0)==(Fr|0)?e:Br;break e;break}case 114:{r=Ci(e,t,i)|0;break e;break}case 116:{if((Vu|0)>2)if((f[e>>0]|0)==115)if((f[e+1>>0]|0)==116){Ur=e+2|0;zr=gi(Ur,t,i)|0;if((zr|0)==(Ur|0))b=e;else{Hr=d[i+4>>2]|0;if((d[i>>2]|0)==(Hr|0))b=e;else{Gr=Hr+-24|0;el(go,Gr);Vr=Ac(go,0,14082)|0;d[La>>2]=d[Vr>>2];d[La+4>>2]=d[Vr+4>>2];d[La+8>>2]=d[Vr+8>>2];d[Vr>>2]=0;d[Vr+4>>2]=0;d[Vr+8>>2]=0;jr=Gc(La,12593)|0;d[q>>2]=d[jr>>2];d[q+4>>2]=d[jr+4>>2];d[q+8>>2]=d[jr+8>>2];d[jr>>2]=0;d[jr+4>>2]=0;d[jr+8>>2]=0;Kl(X,q);Jn(Gr,X);Vc(X);Lu(q);Lu(La);Lu(go);b=zr}}}else b=e;else b=e;else b=e;r=b;break e;break}case 122:{if((Vu|0)>2)if((f[e>>0]|0)==115)if((f[e+1>>0]|0)==122){Wr=e+2|0;Xr=yi(Wr,t,i)|0;if((Xr|0)==(Wr|0))y=e;else{qr=d[i+4>>2]|0;if((d[i>>2]|0)==(qr|0))y=e;else{Yr=qr+-24|0;el(go,Yr);Jr=Ac(go,0,14082)|0;d[La>>2]=d[Jr>>2];d[La+4>>2]=d[Jr+4>>2];d[La+8>>2]=d[Jr+8>>2];d[Jr>>2]=0;d[Jr+4>>2]=0;d[Jr+8>>2]=0;Zr=Gc(La,12593)|0;d[q>>2]=d[Zr>>2];d[q+4>>2]=d[Zr+4>>2];d[q+8>>2]=d[Zr+8>>2];d[Zr>>2]=0;d[Zr+4>>2]=0;d[Zr+8>>2]=0;Kl(X,q);Jn(Yr,X);Vc(X);Lu(q);Lu(La);Lu(go);y=Xr}}}else y=e;else y=e;else y=e;r=y;break e;break}case 90:{if((Ou-_h|0)<=2){r=e;break e}switch(f[_h+2>>0]|0){case 84:break;case 102:{if((Vu|0)>2)if((f[e>>0]|0)==115)if((f[e+1>>0]|0)==90){Fn=e+2|0;if((f[Fn>>0]|0)==102){Bn=_n(Fn,t,i)|0;if((Bn|0)==(Fn|0))v=e;else{Un=d[i+4>>2]|0;if((d[i>>2]|0)==(Un|0))v=e;else{zn=Un+-24|0;el(go,zn);Hn=Ac(go,0,14091)|0;d[La>>2]=d[Hn>>2];d[La+4>>2]=d[Hn+4>>2];d[La+8>>2]=d[Hn+8>>2];d[Hn>>2]=0;d[Hn+4>>2]=0;d[Hn+8>>2]=0;Gn=Gc(La,12593)|0;d[q>>2]=d[Gn>>2];d[q+4>>2]=d[Gn+4>>2];d[q+8>>2]=d[Gn+8>>2];d[Gn>>2]=0;d[Gn+4>>2]=0;d[Gn+8>>2]=0;Kl(X,q);Jn(zn,X);Vc(X);Lu(q);Lu(La);Lu(go);v=Bn}}}else v=e}else v=e;else v=e;else v=e;r=v;break e;break}default:{r=e;break e}}if((Vu|0)>2)if((f[e>>0]|0)==115)if((f[e+1>>0]|0)==90){Qr=e+2|0;if((f[Qr>>0]|0)==84){en=i+4|0;tn=((d[en>>2]|0)-(d[i>>2]|0)|0)/24|0;rn=hn(Qr,t,i)|0;nn=d[i>>2]|0;an=((d[en>>2]|0)-nn|0)/24|0;if((rn|0)==(Qr|0))m=e;else{f[q>>0]=20;Oh=q+1|0;Dh=14091;Fh=Oh+10|0;do{f[Oh>>0]=f[Dh>>0]|0;Oh=Oh+1|0;Dh=Dh+1|0}while((Oh|0)<(Fh|0));f[q+11>>0]=0;if((tn|0)!=(an|0)){el(La,nn+(tn*24|0)|0);on=f[La>>0]|0;sn=(on&1)==0;Go(q,sn?La+1|0:d[La+8>>2]|0,sn?(on&255)>>>1:d[La+4>>2]|0)|0;Lu(La);fn=go+8|0;dn=go+1|0;pn=go+4|0;sh=tn+1|0;if((sh|0)!=(an|0)){lh=sh;do{el(us,(d[i>>2]|0)+(lh*24|0)|0);mn=Ac(us,0,12690)|0;d[go>>2]=d[mn>>2];d[go+4>>2]=d[mn+4>>2];d[go+8>>2]=d[mn+8>>2];d[mn>>2]=0;d[mn+4>>2]=0;d[mn+8>>2]=0;gn=f[go>>0]|0;yn=(gn&1)==0;Go(q,yn?dn:d[fn>>2]|0,yn?(gn&255)>>>1:d[pn>>2]|0)|0;Lu(go);Lu(us);lh=lh+1|0}while((lh|0)!=(an|0))}}Gc(q,12593)|0;if((an|0)!=(tn|0)){ch=an;do{bn=d[en>>2]|0;wn=bn+-24|0;En=bn;do{xn=En+-24|0;d[en>>2]=xn;Vc(xn);En=d[en>>2]|0}while((En|0)!=(wn|0));ch=ch+-1|0}while((ch|0)!=(tn|0))}d[ql>>2]=d[q>>2];d[ql+4>>2]=d[q+4>>2];d[ql+8>>2]=d[q+8>>2];d[q>>2]=0;d[q+4>>2]=0;d[q+8>>2]=0;Kl(nl,ql);Sn=d[en>>2]|0;Tn=d[i+8>>2]|0;if(Sn>>>0<Tn>>>0){Pl(Sn,nl);d[en>>2]=(d[en>>2]|0)+24}else{Rn=d[i>>2]|0;Ln=Sn-Rn|0;Pn=(Ln|0)/24|0;Cn=Pn+1|0;if((Ln|0)<-24)Ef(i);On=(Tn-Rn|0)/24|0;if(On>>>0<1073741823){In=On<<1;a=In>>>0<Cn>>>0?Cn:In}else a=2147483647;_l(X,a,Pn,i+12|0);Nn=X+8|0;Dn=d[Nn>>2]|0;Pl(Dn,nl);d[Nn>>2]=Dn+24;Bo(i,X);al(X)}Vc(nl);Lu(ql);Lu(q);m=rn}}else m=e}else m=e;else m=e;else m=e;r=m;break e;break}default:{r=e;break e}}break}case 116:{switch(f[_h+1>>0]|0){case 105:case 101:{t:do{if((Vu|0)>2)if((f[e>>0]|0)==116){Vn=f[e+1>>0]|0;switch(Vn<<24>>24){case 105:case 101:break;default:{g=e;break t}}jn=e+2|0;if(Vn<<24>>24==101)xh=yi(jn,t,i)|0;else xh=gi(jn,t,i)|0;if((xh|0)==(jn|0))g=e;else{Xn=d[i+4>>2]|0;if((d[i>>2]|0)==(Xn|0))g=e;else{qn=Xn+-24|0;el(go,qn);Yn=Ac(go,0,14102)|0;d[La>>2]=d[Yn>>2];d[La+4>>2]=d[Yn+4>>2];d[La+8>>2]=d[Yn+8>>2];d[Yn>>2]=0;d[Yn+4>>2]=0;d[Yn+8>>2]=0;Zn=Gc(La,12593)|0;d[q>>2]=d[Zn>>2];d[q+4>>2]=d[Zn+4>>2];d[q+8>>2]=d[Zn+8>>2];d[Zn>>2]=0;d[Zn+4>>2]=0;d[Zn+8>>2]=0;Kl(X,q);Jn(qn,X);Vc(X);Lu(q);Lu(La);Lu(go);g=xh}}}else g=e;else g=e}while(0);r=g;break e;break}case 114:{Bl(Au,14110);Qn=i+4|0;$n=d[Qn>>2]|0;ea=d[i+8>>2]|0;if($n>>>0<ea>>>0){Pl($n,Au);d[Qn>>2]=(d[Qn>>2]|0)+24}else{ta=d[i>>2]|0;ia=$n-ta|0;ra=(ia|0)/24|0;na=ra+1|0;if((ia|0)<-24)Ef(i);aa=(ea-ta|0)/24|0;if(aa>>>0<1073741823){oa=aa<<1;n=oa>>>0<na>>>0?na:oa}else n=2147483647;_l(X,n,ra,i+12|0);sa=X+8|0;la=d[sa>>2]|0;Pl(la,Au);d[sa>>2]=la+24;Bo(i,X);al(X)}Vc(Au);r=e+2|0;break e;break}case 119:{if((Vu|0)>2)if((f[e>>0]|0)==116)if((f[e+1>>0]|0)==119){ua=e+2|0;fa=yi(ua,t,i)|0;if((fa|0)==(ua|0))u=e;else{ha=d[i+4>>2]|0;if((d[i>>2]|0)==(ha|0))u=e;else{da=ha+-24|0;el(La,da);pa=Ac(La,0,14116)|0;d[q>>2]=d[pa>>2];d[q+4>>2]=d[pa+4>>2];d[q+8>>2]=d[pa+8>>2];d[pa>>2]=0;d[pa+4>>2]=0;d[pa+8>>2]=0;Kl(X,q);Jn(da,X);Vc(X);Lu(q);Lu(La);u=fa}}}else u=e;else u=e;else u=e;r=u;break e;break}default:{r=e;break e}}break}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{r=Ci(e,t,i)|0;break e;break}default:{r=e;break e}}}while(0)}else r=e}while(0);w=Nh;return r|0}function bi(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,yi=0,bi=0,wi=0,_i=0,Ei=0,Mi=0,Si=0,Ti=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,ln=0,cn=0,un=0,fn=0,hn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Sn=0,Tn=0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Jn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ta=0,ia=0,ra=0,na=0,aa=0,oa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Ga=0,Va=0,ja=0,Wa=0,Xa=0,qa=0,Ya=0,Ja=0,Za=0,Ka=0,Qa=0,$a=0,eo=0,to=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0,fo=0,ho=0,po=0,mo=0,vo=0,go=0,yo=0,bo=0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Co=0,Oo=0,Io=0,No=0,Do=0,Fo=0,Uo=0,zo=0,Ho=0,Go=0,Vo=0,jo=0,Wo=0,Xo=0,qo=0,Yo=0,Jo=0,Zo=0,Ko=0,Qo=0,$o=0,es=0,ts=0,is=0,rs=0,ns=0,as=0,os=0,ss=0,ls=0,cs=0,us=0,fs=0,hs=0,ds=0,ps=0,ms=0,vs=0,gs=0,ys=0,bs=0,ws=0,_s=0,xs=0,Es=0,Ms=0,Ss=0,Ts=0,ks=0,As=0,Rs=0,Ls=0,Ps=0,Cs=0,Os=0,Is=0,Ns=0,Ds=0,Fs=0,Bs=0,Us=0,zs=0,Hs=0,Gs=0,Vs=0,js=0,Ws=0,Xs=0,qs=0,Ys=0,Js=0,Zs=0,Ks=0,Qs=0,$s=0,el=0,tl=0,il=0,rl=0,nl=0,ol=0,sl=0,ll=0,cl=0,ul=0,fl=0,hl=0,dl=0,pl=0,ml=0,vl=0,gl=0,yl=0,bl=0,wl=0,xl=0,El=0,Ml=0,Sl=0,Tl=0,kl=0,Al=0,Rl=0,Ll=0,Cl=0,Ol=0,Il=0,Nl=0,Dl=0,Fl=0,Bl=0,Ul=0,zl=0,Hl=0,Gl=0,Vl=0,jl=0,Wl=0,Xl=0,ql=0,Zl=0,Kl=0,Ql=0,$l=0,ec=0,tc=0,ic=0,rc=0,nc=0,ac=0,oc=0,sc=0,lc=0,cc=0,uc=0,fc=0,hc=0,dc=0,pc=0,mc=0,vc=0,gc=0,yc=0,bc=0,wc=0,_c=0,Mc=0,kc=0,Rc=0,Lc=0,Pc=0,Cc=0,Oc=0,Ic=0,Nc=0,Dc=0,Fc=0,Bc=0,Uc=0,zc=0,Hc=0,Gc=0,jc=0,Wc=0,Xc=0,qc=0,Yc=0,Jc=0,Zc=0,Kc=0,Qc=0,$c=0,eu=0,tu=0,iu=0,ru=0,nu=0,au=0,ou=0,su=0,lu=0,cu=0,uu=0,fu=0,hu=0,du=0,pu=0,mu=0,vu=0,gu=0,yu=0,bu=0,wu=0,_u=0,xu=0,Eu=0,Mu=0,Su=0,Tu=0,ku=0,Au=0,Ru=0,Lu=0,Pu=0,Cu=0,Ou=0,Iu=0,Nu=0,Du=0,Fu=0,Bu=0,Uu=0,zu=0,Hu=0,Gu=0,Vu=0,ju=0,Wu=0,Xu=0,qu=0;Wu=w;w=w+1136|0;if((w|0)>=(_|0))pe();Vu=Wu+1104|0;ee=Wu+1080|0;te=Wu+1056|0;Tr=Wu+1032|0;kn=Wu+1008|0;Ma=Wu+984|0;bo=Wu+960|0;cs=Wu+936|0;tl=Wu+912|0;$l=Wu+888|0;Kc=Wu+864|0;ie=Wu+840|0;Ke=Wu+816|0;Vt=Wu+792|0;Fi=Wu+768|0;Zi=Wu+744|0;tr=Wu+720|0;or=Wu+696|0;ur=Wu+672|0;vr=Wu+648|0;xr=Wu+624|0;kr=Wu+600|0;Cr=Wu+576|0;Br=Wu+552|0;Vr=Wu+528|0;Yr=Wu+504|0;en=Wu+480|0;an=Wu+456|0;un=Wu+432|0;mn=Wu+408|0;bn=Wu+384|0;An=Wu+360|0;Cn=Wu+336|0;Fn=Wu+312|0;Gn=Wu+288|0;Yn=Wu+264|0;Qn=Wu+240|0;na=Wu+216|0;ua=Wu+192|0;ma=Wu+168|0;wa=Wu+144|0;Sa=Wu+120|0;La=Wu+96|0;Na=Wu+72|0;Ua=Wu+48|0;Xa=Wu+24|0;Qa=Wu;e:do{if((t-e|0)>1)do{switch(f[e>>0]|0){case 97:{switch(f[e+1>>0]|0){case 97:{Yl(ee,12923);Ho=i+4|0;Wo=d[Ho>>2]|0;es=d[i+8>>2]|0;if(Wo>>>0<es>>>0){Pl(Wo,ee);d[Ho>>2]=(d[Ho>>2]|0)+24}else{Cs=d[i>>2]|0;Fs=Wo-Cs|0;Gs=(Fs|0)/24|0;Xs=Gs+1|0;if((Fs|0)<-24)Ef(i);hl=(es-Cs|0)/24|0;if(hl>>>0<1073741823){El=hl<<1;n=El>>>0<Xs>>>0?Xs:El}else n=2147483647;_l(Vu,n,Gs,i+12|0);Fl=Vu+8|0;Vl=d[Fl>>2]|0;Pl(Vl,ee);d[Fl>>2]=Vl+24;Bo(i,Vu);al(Vu)}Vc(ee);r=e+2|0;break e;break}case 110:case 100:{Jl(te,12934);nc=i+4|0;cc=d[nc>>2]|0;yc=d[i+8>>2]|0;if(cc>>>0<yc>>>0){Pl(cc,te);d[nc>>2]=(d[nc>>2]|0)+24}else{iu=d[i>>2]|0;ou=cc-iu|0;hu=(ou|0)/24|0;vu=hu+1|0;if((ou|0)<-24)Ef(i);Nu=(yc-iu|0)/24|0;if(Nu>>>0<1073741823){re=Nu<<1;V=re>>>0<vu>>>0?vu:re}else V=2147483647;_l(Vu,V,hu,i+12|0);ve=Vu+8|0;xe=d[ve>>2]|0;Pl(xe,te);d[ve>>2]=xe+24;Bo(i,Vu);al(Vu)}Vc(te);r=e+2|0;break e;break}case 78:{Yl(Tr,12944);De=i+4|0;He=d[De>>2]|0;Qe=d[i+8>>2]|0;if(He>>>0<Qe>>>0){Pl(He,Tr);d[De>>2]=(d[De>>2]|0)+24}else{At=d[i>>2]|0;Ct=He-At|0;Dt=(Ct|0)/24|0;jt=Dt+1|0;if((Ct|0)<-24)Ef(i);si=(Qe-At|0)/24|0;if(si>>>0<1073741823){vi=si<<1;a=vi>>>0<jt>>>0?jt:vi}else a=2147483647;_l(Vu,a,Dt,i+12|0);Ci=Vu+8|0;Bi=d[Ci>>2]|0;Pl(Bi,Tr);d[Ci>>2]=Bi+24;Bo(i,Vu);al(Vu)}Vc(Tr);r=e+2|0;break e;break}case 83:{Jl(kn,12955);qi=i+4|0;Yi=d[qi>>2]|0;Ji=d[i+8>>2]|0;if(Yi>>>0<Ji>>>0){Pl(Yi,kn);d[qi>>2]=(d[qi>>2]|0)+24}else{Ki=d[i>>2]|0;Qi=Yi-Ki|0;$i=(Qi|0)/24|0;er=$i+1|0;if((Qi|0)<-24)Ef(i);ir=(Ji-Ki|0)/24|0;if(ir>>>0<1073741823){rr=ir<<1;y=rr>>>0<er>>>0?er:rr}else y=2147483647;_l(Vu,y,$i,i+12|0);nr=Vu+8|0;ar=d[nr>>2]|0;Pl(ar,kn);d[nr>>2]=ar+24;Bo(i,Vu);al(Vu)}Vc(kn);r=e+2|0;break e;break}default:{r=e;break e}}break}case 99:{switch(f[e+1>>0]|0){case 108:{Yl(Ma,12965);sr=i+4|0;lr=d[sr>>2]|0;cr=d[i+8>>2]|0;if(lr>>>0<cr>>>0){Pl(lr,Ma);d[sr>>2]=(d[sr>>2]|0)+24}else{fr=d[i>>2]|0;hr=lr-fr|0;dr=(hr|0)/24|0;pr=dr+1|0;if((hr|0)<-24)Ef(i);mr=(cr-fr|0)/24|0;if(mr>>>0<1073741823){gr=mr<<1;P=gr>>>0<pr>>>0?pr:gr}else P=2147483647;_l(Vu,P,dr,i+12|0);yr=Vu+8|0;br=d[yr>>2]|0;Pl(br,Ma);d[yr>>2]=br+24;Bo(i,Vu);al(Vu)}Vc(Ma);r=e+2|0;break e;break}case 109:{Jl(bo,12976);wr=i+4|0;_r=d[wr>>2]|0;Er=d[i+8>>2]|0;if(_r>>>0<Er>>>0){Pl(_r,bo);d[wr>>2]=(d[wr>>2]|0)+24}else{Mr=d[i>>2]|0;Sr=_r-Mr|0;Ar=(Sr|0)/24|0;Rr=Ar+1|0;if((Sr|0)<-24)Ef(i);Lr=(Er-Mr|0)/24|0;if(Lr>>>0<1073741823){Pr=Lr<<1;B=Pr>>>0<Rr>>>0?Rr:Pr}else B=2147483647;_l(Vu,B,Ar,i+12|0);Or=Vu+8|0;Ir=d[Or>>2]|0;Pl(Ir,bo);d[Or>>2]=Ir+24;Bo(i,Vu);al(Vu)}Vc(bo);r=e+2|0;break e;break}case 111:{Jl(cs,12986);Nr=i+4|0;Dr=d[Nr>>2]|0;Fr=d[i+8>>2]|0;if(Dr>>>0<Fr>>>0){Pl(Dr,cs);d[Nr>>2]=(d[Nr>>2]|0)+24}else{Ur=d[i>>2]|0;zr=Dr-Ur|0;Hr=(zr|0)/24|0;Gr=Hr+1|0;if((zr|0)<-24)Ef(i);jr=(Fr-Ur|0)/24|0;if(jr>>>0<1073741823){Wr=jr<<1;U=Wr>>>0<Gr>>>0?Gr:Wr}else U=2147483647;_l(Vu,U,Hr,i+12|0);Xr=Vu+8|0;qr=d[Xr>>2]|0;Pl(qr,cs);d[Xr>>2]=qr+24;Bo(i,Vu);al(Vu)}Vc(cs);r=e+2|0;break e;break}case 118:{Jr=i+63|0;Zr=f[Jr>>0]|0;f[Jr>>0]=0;Kr=e+2|0;Qr=gi(Kr,t,i)|0;f[Jr>>0]=Zr;if((Qr|0)==(Kr|0)){r=e;break e}$r=d[i+4>>2]|0;if((d[i>>2]|0)==($r|0)){r=e;break e}Ac($r+-24|0,0,12996)|0;f[i+60>>0]=1;r=Qr;break e;break}default:{r=e;break e}}break}case 100:{switch(f[e+1>>0]|0){case 97:{xc(tl,13006);tn=i+4|0;rn=d[tn>>2]|0;nn=d[i+8>>2]|0;if(rn>>>0<nn>>>0){Pl(rn,tl);d[tn>>2]=(d[tn>>2]|0)+24}else{on=d[i>>2]|0;sn=rn-on|0;ln=(sn|0)/24|0;cn=ln+1|0;if((sn|0)<-24)Ef(i);fn=(nn-on|0)/24|0;if(fn>>>0<1073741823){hn=fn<<1;z=hn>>>0<cn>>>0?cn:hn}else z=2147483647;_l(Vu,z,ln,i+12|0);dn=Vu+8|0;pn=d[dn>>2]|0;Pl(pn,tl);d[dn>>2]=pn+24;Bo(i,Vu);al(Vu)}Vc(tl);r=e+2|0;break e;break}case 101:{Jl($l,13024);vn=i+4|0;gn=d[vn>>2]|0;yn=d[i+8>>2]|0;if(gn>>>0<yn>>>0){Pl(gn,$l);d[vn>>2]=(d[vn>>2]|0)+24}else{wn=d[i>>2]|0;_n=gn-wn|0;xn=(_n|0)/24|0;En=xn+1|0;if((_n|0)<-24)Ef(i);Sn=(yn-wn|0)/24|0;if(Sn>>>0<1073741823){Tn=Sn<<1;H=Tn>>>0<En>>>0?En:Tn}else H=2147483647;_l(Vu,H,xn,i+12|0);Rn=Vu+8|0;Ln=d[Rn>>2]|0;Pl(Ln,$l);d[Rn>>2]=Ln+24;Bo(i,Vu);al(Vu)}Vc($l);r=e+2|0;break e;break}case 108:{Pn=xi(16)|0;d[Kc+8>>2]=Pn;d[Kc>>2]=17;d[Kc+4>>2]=15;ju=Pn;Xu=13034;qu=ju+15|0;do{f[ju>>0]=f[Xu>>0]|0;ju=ju+1|0;Xu=Xu+1|0}while((ju|0)<(qu|0));f[Pn+15>>0]=0;On=Kc+12|0;d[On>>2]=0;d[On+4>>2]=0;d[On+8>>2]=0;In=i+4|0;Nn=d[In>>2]|0;Dn=d[i+8>>2]|0;if(Nn>>>0<Dn>>>0){Pl(Nn,Kc);d[In>>2]=(d[In>>2]|0)+24}else{Bn=d[i>>2]|0;Un=Nn-Bn|0;zn=(Un|0)/24|0;Hn=zn+1|0;if((Un|0)<-24)Ef(i);Vn=(Dn-Bn|0)/24|0;if(Vn>>>0<1073741823){jn=Vn<<1;G=jn>>>0<Hn>>>0?Hn:jn}else G=2147483647;_l(Vu,G,zn,i+12|0);Wn=Vu+8|0;Xn=d[Wn>>2]|0;Pl(Xn,Kc);d[Wn>>2]=Xn+24;Bo(i,Vu);al(Vu)}Vc(Kc);r=e+2|0;break e;break}case 118:{Jl(ie,13050);qn=i+4|0;Jn=d[qn>>2]|0;Zn=d[i+8>>2]|0;if(Jn>>>0<Zn>>>0){Pl(Jn,ie);d[qn>>2]=(d[qn>>2]|0)+24}else{Kn=d[i>>2]|0;$n=Jn-Kn|0;ea=($n|0)/24|0;ta=ea+1|0;if(($n|0)<-24)Ef(i);ia=(Zn-Kn|0)/24|0;if(ia>>>0<1073741823){ra=ia<<1;j=ra>>>0<ta>>>0?ta:ra}else j=2147483647;_l(Vu,j,ea,i+12|0);aa=Vu+8|0;oa=d[aa>>2]|0;Pl(oa,ie);d[aa>>2]=oa+24;Bo(i,Vu);al(Vu)}Vc(ie);r=e+2|0;break e;break}case 86:{Yl(Ke,13060);sa=i+4|0;la=d[sa>>2]|0;ca=d[i+8>>2]|0;if(la>>>0<ca>>>0){Pl(la,Ke);d[sa>>2]=(d[sa>>2]|0)+24}else{fa=d[i>>2]|0;ha=la-fa|0;da=(ha|0)/24|0;pa=da+1|0;if((ha|0)<-24)Ef(i);va=(ca-fa|0)/24|0;if(va>>>0<1073741823){ga=va<<1;W=ga>>>0<pa>>>0?pa:ga}else W=2147483647;_l(Vu,W,da,i+12|0);ya=Vu+8|0;ba=d[ya>>2]|0;Pl(ba,Ke);d[ya>>2]=ba+24;Bo(i,Vu);al(Vu)}Vc(Ke);r=e+2|0;break e;break}default:{r=e;break e}}break}case 101:{switch(f[e+1>>0]|0){case 111:{Jl(Vt,13071);_a=i+4|0;xa=d[_a>>2]|0;Ea=d[i+8>>2]|0;if(xa>>>0<Ea>>>0){Pl(xa,Vt);d[_a>>2]=(d[_a>>2]|0)+24}else{Ta=d[i>>2]|0;ka=xa-Ta|0;Aa=(ka|0)/24|0;Ra=Aa+1|0;if((ka|0)<-24)Ef(i);Pa=(Ea-Ta|0)/24|0;if(Pa>>>0<1073741823){Ca=Pa<<1;X=Ca>>>0<Ra>>>0?Ra:Ca}else X=2147483647;_l(Vu,X,Aa,i+12|0);Oa=Vu+8|0;Ia=d[Oa>>2]|0;Pl(Ia,Vt);d[Oa>>2]=Ia+24;Bo(i,Vu);al(Vu)}Vc(Vt);r=e+2|0;break e;break}case 79:{Yl(Fi,13081);Da=i+4|0;Fa=d[Da>>2]|0;Ba=d[i+8>>2]|0;if(Fa>>>0<Ba>>>0){Pl(Fa,Fi);d[Da>>2]=(d[Da>>2]|0)+24}else{za=d[i>>2]|0;Ha=Fa-za|0;Ga=(Ha|0)/24|0;Va=Ga+1|0;if((Ha|0)<-24)Ef(i);ja=(Ba-za|0)/24|0;if(ja>>>0<1073741823){Wa=ja<<1;q=Wa>>>0<Va>>>0?Va:Wa}else q=2147483647;_l(Vu,q,Ga,i+12|0);qa=Vu+8|0;Ya=d[qa>>2]|0;Pl(Ya,Fi);d[qa>>2]=Ya+24;Bo(i,Vu);al(Vu)}Vc(Fi);r=e+2|0;break e;break}case 113:{Yl(Zi,13092);Ja=i+4|0;Za=d[Ja>>2]|0;Ka=d[i+8>>2]|0;if(Za>>>0<Ka>>>0){Pl(Za,Zi);d[Ja>>2]=(d[Ja>>2]|0)+24}else{$a=d[i>>2]|0;eo=Za-$a|0;to=(eo|0)/24|0;io=to+1|0;if((eo|0)<-24)Ef(i);ro=(Ka-$a|0)/24|0;if(ro>>>0<1073741823){no=ro<<1;Y=no>>>0<io>>>0?io:no}else Y=2147483647;_l(Vu,Y,to,i+12|0);ao=Vu+8|0;oo=d[ao>>2]|0;Pl(oo,Zi);d[ao>>2]=oo+24;Bo(i,Vu);al(Vu)}Vc(Zi);r=e+2|0;break e;break}default:{r=e;break e}}break}case 103:{switch(f[e+1>>0]|0){case 101:{Yl(tr,13103);so=i+4|0;lo=d[so>>2]|0;co=d[i+8>>2]|0;if(lo>>>0<co>>>0){Pl(lo,tr);d[so>>2]=(d[so>>2]|0)+24}else{uo=d[i>>2]|0;fo=lo-uo|0;ho=(fo|0)/24|0;po=ho+1|0;if((fo|0)<-24)Ef(i);mo=(co-uo|0)/24|0;if(mo>>>0<1073741823){vo=mo<<1;J=vo>>>0<po>>>0?po:vo}else J=2147483647;_l(Vu,J,ho,i+12|0);go=Vu+8|0;yo=d[go>>2]|0;Pl(yo,tr);d[go>>2]=yo+24;Bo(i,Vu);al(Vu)}Vc(tr);r=e+2|0;break e;break}case 116:{Jl(or,13114);wo=i+4|0;_o=d[wo>>2]|0;xo=d[i+8>>2]|0;if(_o>>>0<xo>>>0){Pl(_o,or);d[wo>>2]=(d[wo>>2]|0)+24}else{Eo=d[i>>2]|0;Mo=_o-Eo|0;So=(Mo|0)/24|0;To=So+1|0;if((Mo|0)<-24)Ef(i);ko=(xo-Eo|0)/24|0;if(ko>>>0<1073741823){Ao=ko<<1;Z=Ao>>>0<To>>>0?To:Ao}else Z=2147483647;_l(Vu,Z,So,i+12|0);Ro=Vu+8|0;Lo=d[Ro>>2]|0;Pl(Lo,or);d[Ro>>2]=Lo+24;Bo(i,Vu);al(Vu)}Vc(or);r=e+2|0;break e;break}default:{r=e;break e}}break}case 105:{if((f[e+1>>0]|0)!=120){r=e;break e}Yl(ur,13124);Po=i+4|0;Co=d[Po>>2]|0;Oo=d[i+8>>2]|0;if(Co>>>0<Oo>>>0){Pl(Co,ur);d[Po>>2]=(d[Po>>2]|0)+24}else{Io=d[i>>2]|0;No=Co-Io|0;Do=(No|0)/24|0;Fo=Do+1|0;if((No|0)<-24)Ef(i);Uo=(Oo-Io|0)/24|0;if(Uo>>>0<1073741823){zo=Uo<<1;K=zo>>>0<Fo>>>0?Fo:zo}else K=2147483647;_l(Vu,K,Do,i+12|0);Go=Vu+8|0;Vo=d[Go>>2]|0;Pl(Vo,ur);d[Go>>2]=Vo+24;Bo(i,Vu);al(Vu)}Vc(ur);r=e+2|0;break e;break}case 108:{switch(f[e+1>>0]|0){case 101:{Yl(vr,13135);jo=i+4|0;Xo=d[jo>>2]|0;qo=d[i+8>>2]|0;if(Xo>>>0<qo>>>0){Pl(Xo,vr);d[jo>>2]=(d[jo>>2]|0)+24}else{Yo=d[i>>2]|0;Jo=Xo-Yo|0;Zo=(Jo|0)/24|0;Ko=Zo+1|0;if((Jo|0)<-24)Ef(i);Qo=(qo-Yo|0)/24|0;if(Qo>>>0<1073741823){$o=Qo<<1;Q=$o>>>0<Ko>>>0?Ko:$o}else Q=2147483647;_l(Vu,Q,Zo,i+12|0);ts=Vu+8|0;is=d[ts>>2]|0;Pl(is,vr);d[ts>>2]=is+24;Bo(i,Vu);al(Vu)}Vc(vr);r=e+2|0;break e;break}case 105:{rs=e+2|0;ns=Mn(rs,t,i)|0;if((ns|0)==(rs|0)){r=e;break e}as=d[i+4>>2]|0;if((d[i>>2]|0)==(as|0)){r=e;break e}Ac(as+-24|0,0,13146)|0;r=ns;break e;break}case 115:{Yl(xr,13158);os=i+4|0;ss=d[os>>2]|0;ls=d[i+8>>2]|0;if(ss>>>0<ls>>>0){Pl(ss,xr);d[os>>2]=(d[os>>2]|0)+24}else{us=d[i>>2]|0;fs=ss-us|0;hs=(fs|0)/24|0;ds=hs+1|0;if((fs|0)<-24)Ef(i);ps=(ls-us|0)/24|0;if(ps>>>0<1073741823){ms=ps<<1;$=ms>>>0<ds>>>0?ds:ms}else $=2147483647;_l(Vu,$,hs,i+12|0);vs=Vu+8|0;gs=d[vs>>2]|0;Pl(gs,xr);d[vs>>2]=gs+24;Bo(i,Vu);al(Vu)}Vc(xr);r=e+2|0;break e;break}case 83:{Tc(kr,13169);ys=i+4|0;bs=d[ys>>2]|0;ws=d[i+8>>2]|0;if(bs>>>0<ws>>>0){Pl(bs,kr);d[ys>>2]=(d[ys>>2]|0)+24}else{_s=d[i>>2]|0;xs=bs-_s|0;Es=(xs|0)/24|0;Ms=Es+1|0;if((xs|0)<-24)Ef(i);Ss=(ws-_s|0)/24|0;if(Ss>>>0<1073741823){Ts=Ss<<1;o=Ts>>>0<Ms>>>0?Ms:Ts}else o=2147483647;_l(Vu,o,Es,i+12|0);ks=Vu+8|0;As=d[ks>>2]|0;Pl(As,kr);d[ks>>2]=As+24;Bo(i,Vu);al(Vu)}Vc(kr);r=e+2|0;break e;break}case 116:{Jl(Cr,13181);Rs=i+4|0;Ls=d[Rs>>2]|0;Ps=d[i+8>>2]|0;if(Ls>>>0<Ps>>>0){Pl(Ls,Cr);d[Rs>>2]=(d[Rs>>2]|0)+24}else{Os=d[i>>2]|0;Is=Ls-Os|0;Ns=(Is|0)/24|0;Ds=Ns+1|0;if((Is|0)<-24)Ef(i);Bs=(Ps-Os|0)/24|0;if(Bs>>>0<1073741823){Us=Bs<<1;s=Us>>>0<Ds>>>0?Ds:Us}else s=2147483647;_l(Vu,s,Ns,i+12|0);zs=Vu+8|0;Hs=d[zs>>2]|0;Pl(Hs,Cr);d[zs>>2]=Hs+24;Bo(i,Vu);al(Vu)}Vc(Cr);r=e+2|0;break e;break}default:{r=e;break e}}break}case 109:{switch(f[e+1>>0]|0){case 105:{Jl(Br,13191);Vs=i+4|0;js=d[Vs>>2]|0;Ws=d[i+8>>2]|0;if(js>>>0<Ws>>>0){Pl(js,Br);d[Vs>>2]=(d[Vs>>2]|0)+24}else{qs=d[i>>2]|0;Ys=js-qs|0;Js=(Ys|0)/24|0;Zs=Js+1|0;if((Ys|0)<-24)Ef(i);Ks=(Ws-qs|0)/24|0;if(Ks>>>0<1073741823){Qs=Ks<<1;l=Qs>>>0<Zs>>>0?Zs:Qs}else l=2147483647;_l(Vu,l,Js,i+12|0);$s=Vu+8|0;el=d[$s>>2]|0;Pl(el,Br);d[$s>>2]=el+24;Bo(i,Vu);al(Vu)}Vc(Br);r=e+2|0;break e;break}case 73:{Yl(Vr,13201);il=i+4|0;rl=d[il>>2]|0;nl=d[i+8>>2]|0;if(rl>>>0<nl>>>0){Pl(rl,Vr);d[il>>2]=(d[il>>2]|0)+24}else{ol=d[i>>2]|0;sl=rl-ol|0;ll=(sl|0)/24|0;cl=ll+1|0;if((sl|0)<-24)Ef(i);ul=(nl-ol|0)/24|0;if(ul>>>0<1073741823){fl=ul<<1;c=fl>>>0<cl>>>0?cl:fl}else c=2147483647;_l(Vu,c,ll,i+12|0);dl=Vu+8|0;pl=d[dl>>2]|0;Pl(pl,Vr);d[dl>>2]=pl+24;Bo(i,Vu);al(Vu)}Vc(Vr);r=e+2|0;break e;break}case 108:{Jl(Yr,13024);ml=i+4|0;vl=d[ml>>2]|0;gl=d[i+8>>2]|0;if(vl>>>0<gl>>>0){Pl(vl,Yr);d[ml>>2]=(d[ml>>2]|0)+24}else{yl=d[i>>2]|0;bl=vl-yl|0;wl=(bl|0)/24|0;xl=wl+1|0;if((bl|0)<-24)Ef(i);Ml=(gl-yl|0)/24|0;if(Ml>>>0<1073741823){Sl=Ml<<1;u=Sl>>>0<xl>>>0?xl:Sl}else u=2147483647;_l(Vu,u,wl,i+12|0);Tl=Vu+8|0;kl=d[Tl>>2]|0;Pl(kl,Yr);d[Tl>>2]=kl+24;Bo(i,Vu);al(Vu)}Vc(Yr);r=e+2|0;break e;break}case 76:{Yl(en,13212);Al=i+4|0;Rl=d[Al>>2]|0;Ll=d[i+8>>2]|0;if(Rl>>>0<Ll>>>0){Pl(Rl,en);d[Al>>2]=(d[Al>>2]|0)+24}else{Cl=d[i>>2]|0;Ol=Rl-Cl|0;Il=(Ol|0)/24|0;Nl=Il+1|0;if((Ol|0)<-24)Ef(i);Dl=(Ll-Cl|0)/24|0;if(Dl>>>0<1073741823){Bl=Dl<<1;h=Bl>>>0<Nl>>>0?Nl:Bl}else h=2147483647;_l(Vu,h,Il,i+12|0);Ul=Vu+8|0;zl=d[Ul>>2]|0;Pl(zl,en);d[Ul>>2]=zl+24;Bo(i,Vu);al(Vu)}Vc(en);r=e+2|0;break e;break}case 109:{Yl(an,13223);Hl=i+4|0;Gl=d[Hl>>2]|0;jl=d[i+8>>2]|0;if(Gl>>>0<jl>>>0){Pl(Gl,an);d[Hl>>2]=(d[Hl>>2]|0)+24}else{Wl=d[i>>2]|0;Xl=Gl-Wl|0;ql=(Xl|0)/24|0;Zl=ql+1|0;if((Xl|0)<-24)Ef(i);Kl=(jl-Wl|0)/24|0;if(Kl>>>0<1073741823){Ql=Kl<<1;p=Ql>>>0<Zl>>>0?Zl:Ql}else p=2147483647;_l(Vu,p,ql,i+12|0);ec=Vu+8|0;tc=d[ec>>2]|0;Pl(tc,an);d[ec>>2]=tc+24;Bo(i,Vu);al(Vu)}Vc(an);r=e+2|0;break e;break}default:{r=e;break e}}break}case 110:{switch(f[e+1>>0]|0){case 97:{Ec(un,13234);ic=i+4|0;rc=d[ic>>2]|0;ac=d[i+8>>2]|0;if(rc>>>0<ac>>>0){Pl(rc,un);d[ic>>2]=(d[ic>>2]|0)+24}else{oc=d[i>>2]|0;sc=rc-oc|0;lc=(sc|0)/24|0;uc=lc+1|0;if((sc|0)<-24)Ef(i);fc=(ac-oc|0)/24|0;if(fc>>>0<1073741823){hc=fc<<1;m=hc>>>0<uc>>>0?uc:hc}else m=2147483647;_l(Vu,m,lc,i+12|0);dc=Vu+8|0;pc=d[dc>>2]|0;Pl(pc,un);d[dc>>2]=pc+24;Bo(i,Vu);al(Vu)}Vc(un);r=e+2|0;break e;break}case 101:{Yl(mn,13249);mc=i+4|0;vc=d[mc>>2]|0;gc=d[i+8>>2]|0;if(vc>>>0<gc>>>0){Pl(vc,mn);d[mc>>2]=(d[mc>>2]|0)+24}else{bc=d[i>>2]|0;wc=vc-bc|0;_c=(wc|0)/24|0;Mc=_c+1|0;if((wc|0)<-24)Ef(i);kc=(gc-bc|0)/24|0;if(kc>>>0<1073741823){Rc=kc<<1;v=Rc>>>0<Mc>>>0?Mc:Rc}else v=2147483647;_l(Vu,v,_c,i+12|0);Lc=Vu+8|0;Pc=d[Lc>>2]|0;Pl(Pc,mn);d[Lc>>2]=Pc+24;Bo(i,Vu);al(Vu)}Vc(mn);r=e+2|0;break e;break}case 103:{Jl(bn,13191);Cc=i+4|0;Oc=d[Cc>>2]|0;Ic=d[i+8>>2]|0;if(Oc>>>0<Ic>>>0){Pl(Oc,bn);d[Cc>>2]=(d[Cc>>2]|0)+24}else{Nc=d[i>>2]|0;Dc=Oc-Nc|0;Fc=(Dc|0)/24|0;Bc=Fc+1|0;if((Dc|0)<-24)Ef(i);Uc=(Ic-Nc|0)/24|0;if(Uc>>>0<1073741823){zc=Uc<<1;g=zc>>>0<Bc>>>0?Bc:zc}else g=2147483647;_l(Vu,g,Fc,i+12|0);Hc=Vu+8|0;Gc=d[Hc>>2]|0;Pl(Gc,bn);d[Hc>>2]=Gc+24;Bo(i,Vu);al(Vu)}Vc(bn);r=e+2|0;break e;break}case 116:{Jl(An,13260);jc=i+4|0;Wc=d[jc>>2]|0;Xc=d[i+8>>2]|0;if(Wc>>>0<Xc>>>0){Pl(Wc,An);d[jc>>2]=(d[jc>>2]|0)+24}else{qc=d[i>>2]|0;Yc=Wc-qc|0;Jc=(Yc|0)/24|0;Zc=Jc+1|0;if((Yc|0)<-24)Ef(i);Qc=(Xc-qc|0)/24|0;if(Qc>>>0<1073741823){$c=Qc<<1;b=$c>>>0<Zc>>>0?Zc:$c}else b=2147483647;_l(Vu,b,Jc,i+12|0);eu=Vu+8|0;tu=d[eu>>2]|0;Pl(tu,An);d[eu>>2]=tu+24;Bo(i,Vu);al(Vu)}Vc(An);r=e+2|0;break e;break}case 119:{Sc(Cn,13270);ru=i+4|0;nu=d[ru>>2]|0;au=d[i+8>>2]|0;if(nu>>>0<au>>>0){Pl(nu,Cn);d[ru>>2]=(d[ru>>2]|0)+24}else{su=d[i>>2]|0;lu=nu-su|0;cu=(lu|0)/24|0;uu=cu+1|0;if((lu|0)<-24)Ef(i);fu=(au-su|0)/24|0;if(fu>>>0<1073741823){du=fu<<1;x=du>>>0<uu>>>0?uu:du}else x=2147483647;_l(Vu,x,cu,i+12|0);pu=Vu+8|0;mu=d[pu>>2]|0;Pl(mu,Cn);d[pu>>2]=mu+24;Bo(i,Vu);al(Vu)}Vc(Cn);r=e+2|0;break e;break}default:{r=e;break e}}break}case 111:{switch(f[e+1>>0]|0){case 111:{Yl(Fn,13283);gu=i+4|0;yu=d[gu>>2]|0;bu=d[i+8>>2]|0;if(yu>>>0<bu>>>0){Pl(yu,Fn);d[gu>>2]=(d[gu>>2]|0)+24}else{wu=d[i>>2]|0;_u=yu-wu|0;xu=(_u|0)/24|0;Eu=xu+1|0;if((_u|0)<-24)Ef(i);Mu=(bu-wu|0)/24|0;if(Mu>>>0<1073741823){Su=Mu<<1;E=Su>>>0<Eu>>>0?Eu:Su}else E=2147483647;_l(Vu,E,xu,i+12|0);Tu=Vu+8|0;ku=d[Tu>>2]|0;Pl(ku,Fn);d[Tu>>2]=ku+24;Bo(i,Vu);al(Vu)}Vc(Fn);r=e+2|0;break e;break}case 114:{Jl(Gn,13294);Au=i+4|0;Ru=d[Au>>2]|0;Lu=d[i+8>>2]|0;if(Ru>>>0<Lu>>>0){Pl(Ru,Gn);d[Au>>2]=(d[Au>>2]|0)+24}else{Pu=d[i>>2]|0;Cu=Ru-Pu|0;Ou=(Cu|0)/24|0;Iu=Ou+1|0;if((Cu|0)<-24)Ef(i);Du=(Lu-Pu|0)/24|0;if(Du>>>0<1073741823){Fu=Du<<1;M=Fu>>>0<Iu>>>0?Iu:Fu}else M=2147483647;_l(Vu,M,Ou,i+12|0);Bu=Vu+8|0;Uu=d[Bu>>2]|0;Pl(Uu,Gn);d[Bu>>2]=Uu+24;Bo(i,Vu);al(Vu)}Vc(Gn);r=e+2|0;break e;break}case 82:{Yl(Yn,13304);zu=i+4|0;Hu=d[zu>>2]|0;Gu=d[i+8>>2]|0;if(Hu>>>0<Gu>>>0){Pl(Hu,Yn);d[zu>>2]=(d[zu>>2]|0)+24}else{ne=d[i>>2]|0;ae=Hu-ne|0;oe=(ae|0)/24|0;se=oe+1|0;if((ae|0)<-24)Ef(i);le=(Gu-ne|0)/24|0;if(le>>>0<1073741823){ce=le<<1;S=ce>>>0<se>>>0?se:ce}else S=2147483647;_l(Vu,S,oe,i+12|0);ue=Vu+8|0;fe=d[ue>>2]|0;Pl(fe,Yn);d[ue>>2]=fe+24;Bo(i,Vu);al(Vu)}Vc(Yn);r=e+2|0;break e;break}default:{r=e;break e}}break}case 112:{switch(f[e+1>>0]|0){case 109:{Tc(Qn,13315);he=i+4|0;de=d[he>>2]|0;me=d[i+8>>2]|0;if(de>>>0<me>>>0){Pl(de,Qn);d[he>>2]=(d[he>>2]|0)+24}else{ge=d[i>>2]|0;ye=de-ge|0;be=(ye|0)/24|0;we=be+1|0;if((ye|0)<-24)Ef(i);_e=(me-ge|0)/24|0;if(_e>>>0<1073741823){Ee=_e<<1;T=Ee>>>0<we>>>0?we:Ee}else T=2147483647;_l(Vu,T,be,i+12|0);Me=Vu+8|0;Se=d[Me>>2]|0;Pl(Se,Qn);d[Me>>2]=Se+24;Bo(i,Vu);al(Vu)}Vc(Qn);r=e+2|0;break e;break}case 108:{Jl(na,13327);Te=i+4|0;ke=d[Te>>2]|0;Ae=d[i+8>>2]|0;if(ke>>>0<Ae>>>0){Pl(ke,na);d[Te>>2]=(d[Te>>2]|0)+24}else{Re=d[i>>2]|0;Le=ke-Re|0;Pe=(Le|0)/24|0;Ce=Pe+1|0;if((Le|0)<-24)Ef(i);Oe=(Ae-Re|0)/24|0;if(Oe>>>0<1073741823){Ie=Oe<<1;k=Ie>>>0<Ce>>>0?Ce:Ie}else k=2147483647;_l(Vu,k,Pe,i+12|0);Ne=Vu+8|0;Fe=d[Ne>>2]|0;Pl(Fe,na);d[Ne>>2]=Fe+24;Bo(i,Vu);al(Vu)}Vc(na);r=e+2|0;break e;break}case 76:{Yl(ua,13337);Be=i+4|0;Ue=d[Be>>2]|0;ze=d[i+8>>2]|0;if(Ue>>>0<ze>>>0){Pl(Ue,ua);d[Be>>2]=(d[Be>>2]|0)+24}else{Ge=d[i>>2]|0;Ve=Ue-Ge|0;je=(Ve|0)/24|0;We=je+1|0;if((Ve|0)<-24)Ef(i);Xe=(ze-Ge|0)/24|0;if(Xe>>>0<1073741823){qe=Xe<<1;A=qe>>>0<We>>>0?We:qe}else A=2147483647;_l(Vu,A,je,i+12|0);Ye=Vu+8|0;Je=d[Ye>>2]|0;Pl(Je,ua);d[Ye>>2]=Je+24;Bo(i,Vu);al(Vu)}Vc(ua);r=e+2|0;break e;break}case 112:{Yl(ma,13348);Ze=i+4|0;$e=d[Ze>>2]|0;et=d[i+8>>2]|0;if($e>>>0<et>>>0){Pl($e,ma);d[Ze>>2]=(d[Ze>>2]|0)+24}else{tt=d[i>>2]|0;it=$e-tt|0;rt=(it|0)/24|0;nt=rt+1|0;if((it|0)<-24)Ef(i);at=(et-tt|0)/24|0;if(at>>>0<1073741823){ot=at<<1;R=ot>>>0<nt>>>0?nt:ot}else R=2147483647;_l(Vu,R,rt,i+12|0);st=Vu+8|0;lt=d[st>>2]|0;Pl(lt,ma);d[st>>2]=lt+24;Bo(i,Vu);al(Vu)}Vc(ma);r=e+2|0;break e;break}case 115:{Jl(wa,13327);ct=i+4|0;ut=d[ct>>2]|0;ft=d[i+8>>2]|0;if(ut>>>0<ft>>>0){Pl(ut,wa);d[ct>>2]=(d[ct>>2]|0)+24}else{ht=d[i>>2]|0;dt=ut-ht|0;pt=(dt|0)/24|0;mt=pt+1|0;if((dt|0)<-24)Ef(i);vt=(ft-ht|0)/24|0;if(vt>>>0<1073741823){gt=vt<<1;L=gt>>>0<mt>>>0?mt:gt}else L=2147483647;_l(Vu,L,pt,i+12|0);yt=Vu+8|0;bt=d[yt>>2]|0;Pl(bt,wa);d[yt>>2]=bt+24;Bo(i,Vu);al(Vu)}Vc(wa);r=e+2|0;break e;break}case 116:{Yl(Sa,13359);wt=i+4|0;_t=d[wt>>2]|0;xt=d[i+8>>2]|0;if(_t>>>0<xt>>>0){Pl(_t,Sa);d[wt>>2]=(d[wt>>2]|0)+24}else{Et=d[i>>2]|0;Mt=_t-Et|0;St=(Mt|0)/24|0;Tt=St+1|0;if((Mt|0)<-24)Ef(i);kt=(xt-Et|0)/24|0;if(kt>>>0<1073741823){Rt=kt<<1;C=Rt>>>0<Tt>>>0?Tt:Rt}else C=2147483647;_l(Vu,C,St,i+12|0);Lt=Vu+8|0;Pt=d[Lt>>2]|0;Pl(Pt,Sa);d[Lt>>2]=Pt+24;Bo(i,Vu);al(Vu)}Vc(Sa);r=e+2|0;break e;break}default:{r=e;break e}}break}case 113:{if((f[e+1>>0]|0)!=117){r=e;break e}Jl(La,13370);Ot=i+4|0;It=d[Ot>>2]|0;Nt=d[i+8>>2]|0;if(It>>>0<Nt>>>0){Pl(It,La);d[Ot>>2]=(d[Ot>>2]|0)+24}else{Ft=d[i>>2]|0;Bt=It-Ft|0;Ut=(Bt|0)/24|0;zt=Ut+1|0;if((Bt|0)<-24)Ef(i);Ht=(Nt-Ft|0)/24|0;if(Ht>>>0<1073741823){Gt=Ht<<1;O=Gt>>>0<zt>>>0?zt:Gt}else O=2147483647;_l(Vu,O,Ut,i+12|0);Wt=Vu+8|0;Xt=d[Wt>>2]|0;Pl(Xt,La);d[Wt>>2]=Xt+24;Bo(i,Vu);al(Vu)}Vc(La);r=e+2|0;break e;break}case 114:{switch(f[e+1>>0]|0){case 109:{Jl(Na,13380);qt=i+4|0;Yt=d[qt>>2]|0;Jt=d[i+8>>2]|0;if(Yt>>>0<Jt>>>0){Pl(Yt,Na);d[qt>>2]=(d[qt>>2]|0)+24}else{Zt=d[i>>2]|0;Kt=Yt-Zt|0;Qt=(Kt|0)/24|0;$t=Qt+1|0;if((Kt|0)<-24)Ef(i);ei=(Jt-Zt|0)/24|0;if(ei>>>0<1073741823){ti=ei<<1;I=ti>>>0<$t>>>0?$t:ti}else I=2147483647;_l(Vu,I,Qt,i+12|0);ii=Vu+8|0;ri=d[ii>>2]|0;Pl(ri,Na);d[ii>>2]=ri+24;Bo(i,Vu);al(Vu)}Vc(Na);r=e+2|0;break e;break}case 77:{Yl(Ua,13390);ni=i+4|0;ai=d[ni>>2]|0;oi=d[i+8>>2]|0;if(ai>>>0<oi>>>0){Pl(ai,Ua);d[ni>>2]=(d[ni>>2]|0)+24}else{li=d[i>>2]|0;ci=ai-li|0;ui=(ci|0)/24|0;fi=ui+1|0;if((ci|0)<-24)Ef(i);hi=(oi-li|0)/24|0;if(hi>>>0<1073741823){di=hi<<1;N=di>>>0<fi>>>0?fi:di}else N=2147483647;_l(Vu,N,ui,i+12|0);pi=Vu+8|0;mi=d[pi>>2]|0;Pl(mi,Ua);d[pi>>2]=mi+24;Bo(i,Vu);al(Vu)}Vc(Ua);r=e+2|0;break e;break}case 115:{Yl(Xa,13401);yi=i+4|0;bi=d[yi>>2]|0;wi=d[i+8>>2]|0;if(bi>>>0<wi>>>0){Pl(bi,Xa);d[yi>>2]=(d[yi>>2]|0)+24}else{_i=d[i>>2]|0;Ei=bi-_i|0;Mi=(Ei|0)/24|0;Si=Mi+1|0;if((Ei|0)<-24)Ef(i);Ti=(wi-_i|0)/24|0;if(Ti>>>0<1073741823){ki=Ti<<1;D=ki>>>0<Si>>>0?Si:ki}else D=2147483647;_l(Vu,D,Mi,i+12|0);Ai=Vu+8|0;Ri=d[Ai>>2]|0;Pl(Ri,Xa);d[Ai>>2]=Ri+24;Bo(i,Vu);al(Vu)}Vc(Xa);r=e+2|0;break e;break}case 83:{Tc(Qa,13412);Li=i+4|0;Pi=d[Li>>2]|0;Oi=d[i+8>>2]|0;if(Pi>>>0<Oi>>>0){Pl(Pi,Qa);d[Li>>2]=(d[Li>>2]|0)+24}else{Ii=d[i>>2]|0;Ni=Pi-Ii|0;Di=(Ni|0)/24|0;Ui=Di+1|0;if((Ni|0)<-24)Ef(i);zi=(Oi-Ii|0)/24|0;if(zi>>>0<1073741823){Hi=zi<<1;F=Hi>>>0<Ui>>>0?Ui:Hi}else F=2147483647;_l(Vu,F,Di,i+12|0);Gi=Vu+8|0;Vi=d[Gi>>2]|0;Pl(Vi,Qa);d[Gi>>2]=Vi+24;Bo(i,Vu);al(Vu)}Vc(Qa);r=e+2|0;break e;break}default:{r=e;break e}}break}case 118:{if(((f[e+1>>0]|0)+-48|0)>>>0>=10){r=e;break e}ji=e+2|0;Wi=Mn(ji,t,i)|0;if((Wi|0)==(ji|0)){r=e;break e}Xi=d[i+4>>2]|0;if((d[i>>2]|0)==(Xi|0)){r=e;break e}Ac(Xi+-24|0,0,12996)|0;r=Wi;break e;break}default:{r=e;break e}}}while(0);else r=e}while(0);w=Wu;return r|0}function wi(e,t,i,r,n,a,o,s,l,c,u,h){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;s=s|0;l=l|0;c=c|0;u=+u;h=h|0;var m=0,v=0,b=0,x=0,E=0,M=0,S=0.0,T=0.0,k=0.0,A=0.0,R=0.0,L=0.0,P=0.0,C=0.0,O=0,I=0,N=0,D=0,F=0,B=0.0,U=0.0,z=0.0,H=0.0,G=0,V=0,j=0.0,W=0,X=0,q=0,Y=0.0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0.0,re=0,ne=0.0,ae=0.0,oe=0,se=0.0,le=0,ce=0.0,ue=0.0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0.0,Te=0.0,ke=0.0,Ae=0.0,Re=0.0,Le=0.0,Pe=0.0,Ce=0,Oe=0.0,Ie=0.0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0.0,Je=0,Ze=0.0,Ke=0,Qe=0.0,$e=0.0,et=0.0,tt=0,it=0.0,rt=0.0,nt=0.0,at=0,ot=0.0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0.0,gt=0.0,yt=0.0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0.0,Ot=0,It=0.0,Nt=0.0,Dt=0,Ft=0.0,Bt=0,Ut=0.0,zt=0.0,Ht=0,Gt=0,Vt=0,jt=0.0,Xt=0,qt=0.0,Yt=0.0,Jt=0.0,Zt=0.0,Kt=0.0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0.0,ui=0,fi=0.0,hi=0.0,di=0,pi=0.0,mi=0,vi=0.0,gi=0.0,yi=0,bi=0,wi=0,_i=0,xi=0,Ei=0,Mi=0,Si=0.0,Ti=0.0,ki=0.0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0.0,zi=0.0,Hi=0.0,Gi=0.0,Vi=0.0,ji=0.0,Wi=0.0,Xi=0.0,qi=0.0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0.0,ir=0.0,rr=0.0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0.0,vr=0.0,gr=0,yr=0.0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0.0,Pr=0.0,Cr=0.0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0.0,Wr=0.0,Xr=0.0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0.0,on=0.0,sn=0.0,ln=0,un=0,fn=0,hn=0,dn=0,pn=0,mn=0,vn=0.0,gn=0,yn=0,bn=0,wn=0.0,_n=0.0,xn=0.0,En=0,Mn=0,Sn=0,Tn=0.0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0.0,Nn=0.0,Dn=0.0,Fn=0,Bn=0.0,Un=0,zn=0.0,Hn=0,Gn=0.0,Vn=0.0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Jn=0,Zn=0.0,Kn=0.0,Qn=0,$n=0.0,ea=0,ta=0.0,ia=0.0,ra=0.0,na=0,aa=0.0,oa=0,sa=0.0,la=0,ca=0.0,ua=0.0,fa=0,ha=0.0,da=0.0,pa=0,ma=0.0,ga=0,ya=0.0,ba=0.0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0.0,ka=0,Aa=0.0,Ra=0,La=0.0,Pa=0.0,Ca=0.0,Oa=0,Ia=0.0,Na=0.0,Da=0.0,Fa=0,Ba=0,Ua=0.0,za=0,Ga=0,Va=0,ja=0,Wa=0.0,Xa=0,qa=0.0,Ya=0,Ja=0.0,Za=0,Ka=0.0,Qa=0.0,$a=0,eo=0.0,to=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0.0,uo=0.0,fo=0.0,ho=0.0,po=0.0,mo=0.0,vo=0.0,go=0.0,yo=0,bo=0.0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Co=0.0,Oo=0.0,Io=0.0,No=0,Do=0,Fo=0,Bo=0,Uo=0,zo=0,Ho=0,Go=0,Vo=0,jo=0,Wo=0.0,Xo=0.0,qo=0.0,Yo=0,Jo=0,Zo=0,Ko=0,Qo=0,$o=0,es=0,ts=0,is=0,rs=0,ns=0.0,as=0.0,os=0.0,ss=0,ls=0,cs=0,us=0,fs=0,hs=0,ds=0,ps=0,ms=0,vs=0,gs=0,ys=0.0,bs=0.0,ws=0.0,_s=0.0,xs=0.0,Es=0.0,Ms=0.0,Ss=0.0,Ts=0.0,ks=0,As=0,Rs=0,Ls=0.0,Ps=0,Cs=0,Os=0.0,Is=0.0,Ns=0.0,Ds=0.0,Fs=0.0,Bs=0.0,Us=0.0,Hs=0.0,Gs=0,Vs=0,js=0.0,Ws=0,Xs=0,qs=0,Ys=0.0,Js=0,Zs=0.0,Ks=0.0,Qs=0.0,$s=0.0,el=0.0,tl=0.0,il=0.0,rl=0.0,nl=0.0,al=0,ol=0.0,sl=0,ll=0,cl=0,ul=0,fl=0,hl=0.0,dl=0.0,pl=0.0,ml=0.0,vl=0.0,gl=0.0,yl=0.0,bl=0.0,wl=0,_l=0,xl=0,El=0,Ml=0.0,Sl=0,Tl=0,kl=0.0,Al=0.0,Rl=0.0,Ll=0.0,Pl=0.0,Cl=0,Ol=0.0,Il=0.0,Nl=0,Dl=0,Fl=0,Bl=0,Ul=0,zl=0,Hl=0.0,Vl=0.0,jl=0.0,Wl=0.0,Xl=0.0,ql=0.0,Yl=0,Jl=0,Zl=0,Kl=0,Ql=0,$l=0,ec=0,tc=0.0,ic=0.0,rc=0.0,nc=0.0,ac=0.0,oc=0.0,sc=0,lc=0,cc=0,uc=0,fc=0,hc=0.0,dc=0.0,pc=0.0,mc=0.0,vc=0.0,gc=0.0,yc=0,bc=0,wc=0.0,_c=0.0,xc=0.0,Ec=0,Mc=0,Sc=0,Tc=0,kc=0,Ac=0,Rc=0,Lc=0,Pc=0,Cc=0,Oc=0,Ic=0,Nc=0,Dc=0,Fc=0,Bc=0,Uc=0,zc=0,Hc=0,Gc=0,Vc=0,jc=0,Wc=0,Xc=0,qc=0,Yc=0,Jc=0,Zc=0,Kc=0,Qc=0,$c=0,eu=0,tu=0,iu=0,ru=0,nu=0,au=0,ou=0,su=0,lu=0,cu=0,uu=0,fu=0,hu=0,du=0,pu=0,mu=0,vu=0,gu=0,yu=0,bu=0,wu=0,_u=0,xu=0,Eu=0,Mu=0,Su=0,Tu=0,ku=0,Au=0,Ru=0,Lu=0,Pu=0,Cu=0,Ou=0,Iu=0,Nu=0,Du=0,Fu=0,Bu=0,Uu=0,zu=0,Hu=0,Gu=0,Vu=0,ju=0,Wu=0,Xu=0,qu=0,Yu=0,Ju=0,Zu=0,Ku=0,Qu=0,$u=0,ef=0,tf=0,rf=0,nf=0,af=0,of=0,sf=0,lf=0,cf=0,uf=0,ff=0,hf=0,df=0,pf=0,mf=0,vf=0,gf=0,yf=0,bf=0,wf=0,_f=0,xf=0,Ef=0,Mf=0,Sf=0,Tf=0,kf=0,Af=0,Rf=0,Lf=0;Lf=w;w=w+240|0;if((w|0)>=(_|0))pe();ku=Lf+224|0;Tu=Lf+216|0;Su=Lf+208|0;Mu=Lf+200|0;Au=Lf+136|0;_u=Lf+72|0;xu=Lf;Zu=Lf+232|0;Mf=Lf+228|0;y[Au>>3]=100.0;y[Au+8>>3]=100.0;y[Au+16>>3]=110.0;y[Au+24>>3]=100.0;y[Au+32>>3]=110.0;y[Au+40>>3]=110.0;y[Au+48>>3]=100.0;y[Au+56>>3]=110.0;y[_u>>3]=+y[c>>3];y[_u+8>>3]=+y[c+8>>3];y[_u+16>>3]=+y[c+16>>3];y[_u+24>>3]=+y[c+24>>3];y[_u+32>>3]=+y[c+32>>3];y[_u+40>>3]=+y[c+40>>3];y[_u+48>>3]=+y[c+48>>3];y[_u+56>>3]=+y[c+56>>3];va(Au,_u,xu);ws=+y[_u>>3];Es=+y[_u+16>>3];Ts=ws-Es;Ls=+y[_u+8>>3];Os=+y[_u+24>>3];Ds=Ls-Os;Gs=~~(Ts*Ts+Ds*Ds);js=+y[_u+32>>3];Ys=+y[_u+48>>3];Zs=js-Ys;tl=+y[_u+40>>3];nl=+y[_u+56>>3];ol=tl-nl;fl=~~(Zs*Zs+ol*ol);pl=Es-js;gl=Os-tl;_l=~~(pl*pl+gl*gl);Ml=Ys-ws;kl=nl-Ls;Cl=~~(Ml*Ml+kl*kl);zl=~~(+(((fl|0)>(Gs|0)?fl:Gs)|0)*u*u);Yl=~~(+(((Cl|0)>(_l|0)?Cl:_l)|0)*u*u);if(!e){Ku=i;while(1)if((Ku|0)<(r|0)&(fe(Ku,Ku)|0)<(zl|0))Ku=Ku<<1;else{Qu=Ku;break}Sf=i;while(1)if((Sf|0)<(r|0)&(fe(Sf,Sf)|0)<(Yl|0))Sf=Sf<<1;else{tf=Qu;kf=Sf;break}}else{$u=i;while(1)if(($u|0)<(r|0)&(fe($u<<2,$u)|0)<(zl|0))$u=$u<<1;else{ef=$u;break}Tf=i;while(1)if((Tf|0)<(r|0)&(fe(Tf<<2,Tf)|0)<(Yl|0))Tf=Tf<<1;else{tf=ef;kf=Tf;break}}Eu=(tf|0)>(r|0)?r:tf;Af=(kf|0)>(r|0)?r:kf;Tc=(Eu|0)/(i|0)|0;v=(Af|0)/(i|0)|0;k=(1.0-u)*.5*10.0;R=u*10.0;O=fe(i,i)|0;e:do{if(!t){I=O*3|0;D=Gl(I,4)|0;if(!D){Ha(3,5471,Mu);Wt(1)}do{switch(s|0){case 0:{ns=k+100.0;as=+(Af|0);os=+(Eu|0);ss=xu+48|0;ls=xu+56|0;cs=xu+64|0;us=xu+8|0;fs=xu+16|0;hs=xu+24|0;ds=xu+32|0;ps=xu+40|0;ms=(e|0)==1;if((Af|0)>0){vs=(Eu|0)>0;eu=0;do{ys=ns+R*(+(eu|0)+.5)/as;if(vs){Ic=0;do{bs=ns+R*(+(Ic|0)+.5)/os;_s=+y[cs>>3]+(+y[ss>>3]*bs+ys*+y[ls>>3]);if(_s==0.0){Lc=D;Rf=278;break e}xs=(+y[fs>>3]+(bs*+y[xu>>3]+ys*+y[us>>3]))/_s;g[Zu>>2]=xs;Ms=(+y[ps>>3]+(bs*+y[hs>>3]+ys*+y[ds>>3]))/_s;g[Mf>>2]=Ms;zs(l,xs,Ms,Zu,Mf)|0;Ss=+g[Zu>>2];if(ms){Ru=((~~(Ss+1.0)|0)/2|0)<<1;rf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Ru=~~(Ss+.5);rf=~~(+g[Mf>>2]+.5)}if((Ru|0)>-1)if((rf|0)<(o|0)&((rf|0)>-1&(Ru|0)<(a|0))){ks=((fe(rf,a)|0)+Ru|0)*3|0;As=((fe((eu|0)/(v|0)|0,i)|0)+((Ic|0)/(Tc|0)|0)|0)*3|0;Rs=D+(As<<2)|0;d[Rs>>2]=(d[Rs>>2]|0)+(p[n+(ks+2)>>0]|0);Ps=D+(As+1<<2)|0;d[Ps>>2]=(d[Ps>>2]|0)+(p[n+(ks+1)>>0]|0);Cs=D+(As+2<<2)|0;d[Cs>>2]=(d[Cs>>2]|0)+(p[n+ks>>0]|0)}Ic=Ic+1|0}while((Ic|0)<(Eu|0))}eu=eu+1|0}while((eu|0)<(Af|0))}break}case 1:{Wo=k+100.0;Xo=+(Af|0);qo=+(Eu|0);Yo=xu+48|0;Jo=xu+56|0;Zo=xu+64|0;Ko=xu+8|0;Qo=xu+16|0;$o=xu+24|0;es=xu+32|0;ts=xu+40|0;is=(e|0)==1;if((Af|0)>0){rs=(Eu|0)>0;nu=0;do{Is=Wo+R*(+(nu|0)+.5)/Xo;if(rs){Wc=0;do{Ns=Wo+R*(+(Wc|0)+.5)/qo;Fs=+y[Zo>>3]+(+y[Yo>>3]*Ns+Is*+y[Jo>>3]);if(Fs==0.0){Lc=D;Rf=278;break e}Bs=(+y[Qo>>3]+(Ns*+y[xu>>3]+Is*+y[Ko>>3]))/Fs;g[Zu>>2]=Bs;Us=(+y[ts>>3]+(Ns*+y[$o>>3]+Is*+y[es>>3]))/Fs;g[Mf>>2]=Us;zs(l,Bs,Us,Zu,Mf)|0;Hs=+g[Zu>>2];if(is){Lu=((~~(Hs+1.0)|0)/2|0)<<1;nf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Lu=~~(Hs+.5);nf=~~(+g[Mf>>2]+.5)}if((Lu|0)>-1)if((nf|0)<(o|0)&((nf|0)>-1&(Lu|0)<(a|0))){Vs=((fe(nf,a)|0)+Lu|0)*3|0;Ws=((fe((nu|0)/(v|0)|0,i)|0)+((Wc|0)/(Tc|0)|0)|0)*3|0;Xs=D+(Ws<<2)|0;d[Xs>>2]=(d[Xs>>2]|0)+(p[n+Vs>>0]|0);qs=D+(Ws+1<<2)|0;d[qs>>2]=(d[qs>>2]|0)+(p[n+(Vs+1)>>0]|0);Js=D+(Ws+2<<2)|0;d[Js>>2]=(d[Js>>2]|0)+(p[n+(Vs+2)>>0]|0)}Wc=Wc+1|0}while((Wc|0)<(Eu|0))}nu=nu+1|0}while((nu|0)<(Af|0))}break}case 2:{Co=k+100.0;Oo=+(Af|0);Io=+(Eu|0);No=xu+48|0;Do=xu+56|0;Fo=xu+64|0;Bo=xu+8|0;Uo=xu+16|0;zo=xu+24|0;Ho=xu+32|0;Go=xu+40|0;Vo=(e|0)==1;if((Af|0)>0){jo=(Eu|0)>0;du=0;do{Ks=Co+R*(+(du|0)+.5)/Oo;if(jo){qc=0;do{Qs=Co+R*(+(qc|0)+.5)/Io;$s=+y[Fo>>3]+(+y[No>>3]*Qs+Ks*+y[Do>>3]);if($s==0.0){Lc=D;Rf=278;break e}el=(+y[Uo>>3]+(Qs*+y[xu>>3]+Ks*+y[Bo>>3]))/$s;g[Zu>>2]=el;il=(+y[Go>>3]+(Qs*+y[zo>>3]+Ks*+y[Ho>>3]))/$s;g[Mf>>2]=il;zs(l,el,il,Zu,Mf)|0;rl=+g[Zu>>2];if(Vo){Hu=((~~(rl+1.0)|0)/2|0)<<1;mf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Hu=~~(rl+.5);mf=~~(+g[Mf>>2]+.5)}if((Hu|0)>-1)if((mf|0)<(o|0)&((mf|0)>-1&(Hu|0)<(a|0))){al=(fe(mf,a)|0)+Hu<<2;sl=((fe((du|0)/(v|0)|0,i)|0)+((qc|0)/(Tc|0)|0)|0)*3|0;ll=D+(sl<<2)|0;d[ll>>2]=(d[ll>>2]|0)+(p[n+(al|2)>>0]|0);cl=D+(sl+1<<2)|0;d[cl>>2]=(d[cl>>2]|0)+(p[n+(al|1)>>0]|0);ul=D+(sl+2<<2)|0;d[ul>>2]=(d[ul>>2]|0)+(p[n+al>>0]|0)}qc=qc+1|0}while((qc|0)<(Eu|0))}du=du+1|0}while((du|0)<(Af|0))}break}case 3:{uo=k+100.0;ho=+(Af|0);mo=+(Eu|0);yo=xu+48|0;wo=xu+56|0;_o=xu+64|0;Mo=xu+8|0;So=xu+16|0;ko=xu+24|0;Ao=xu+32|0;Ro=xu+40|0;Lo=(e|0)==1;if((Af|0)>0){Po=(Eu|0)>0;pu=0;do{hl=uo+R*(+(pu|0)+.5)/ho;if(Po){Yc=0;do{dl=uo+R*(+(Yc|0)+.5)/mo;ml=+y[_o>>3]+(+y[yo>>3]*dl+hl*+y[wo>>3]);if(ml==0.0){Lc=D;Rf=278;break e}vl=(+y[So>>3]+(dl*+y[xu>>3]+hl*+y[Mo>>3]))/ml;g[Zu>>2]=vl;yl=(+y[Ro>>3]+(dl*+y[ko>>3]+hl*+y[Ao>>3]))/ml;g[Mf>>2]=yl;zs(l,vl,yl,Zu,Mf)|0;bl=+g[Zu>>2];if(Lo){Vu=((~~(bl+1.0)|0)/2|0)<<1;gf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Vu=~~(bl+.5);gf=~~(+g[Mf>>2]+.5)}if((Vu|0)>-1)if((gf|0)<(o|0)&((gf|0)>-1&(Vu|0)<(a|0))){wl=(fe(gf,a)|0)+Vu<<2;xl=((fe((pu|0)/(v|0)|0,i)|0)+((Yc|0)/(Tc|0)|0)|0)*3|0;El=D+(xl<<2)|0;d[El>>2]=(d[El>>2]|0)+(p[n+wl>>0]|0);Sl=D+(xl+1<<2)|0;d[Sl>>2]=(d[Sl>>2]|0)+(p[n+(wl|1)>>0]|0);Tl=D+(xl+2<<2)|0;d[Tl>>2]=(d[Tl>>2]|0)+(p[n+(wl|2)>>0]|0)}Yc=Yc+1|0}while((Yc|0)<(Eu|0))}pu=pu+1|0}while((pu|0)<(Af|0))}break}case 4:{Na=k+100.0;Da=+(Af|0);Ua=+(Eu|0);Ga=xu+48|0;ja=xu+56|0;Xa=xu+64|0;Ya=xu+8|0;Za=xu+16|0;$a=xu+24|0;to=xu+32|0;io=xu+40|0;ao=(e|0)==1;if((Af|0)>0){lo=(Eu|0)>0;mu=0;do{Al=Na+R*(+(mu|0)+.5)/Da;if(lo){Jc=0;do{Rl=Na+R*(+(Jc|0)+.5)/Ua;Ll=+y[Xa>>3]+(+y[Ga>>3]*Rl+Al*+y[ja>>3]);if(Ll==0.0){Lc=D;Rf=278;break e}Pl=(+y[Za>>3]+(Rl*+y[xu>>3]+Al*+y[Ya>>3]))/Ll;g[Zu>>2]=Pl;Ol=(+y[io>>3]+(Rl*+y[$a>>3]+Al*+y[to>>3]))/Ll;g[Mf>>2]=Ol;zs(l,Pl,Ol,Zu,Mf)|0;Il=+g[Zu>>2];if(ao){ju=((~~(Il+1.0)|0)/2|0)<<1;yf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{ju=~~(Il+.5);yf=~~(+g[Mf>>2]+.5)}if((ju|0)>-1)if((yf|0)<(o|0)&((yf|0)>-1&(ju|0)<(a|0))){Nl=(fe(yf,a)|0)+ju<<2;Dl=((fe((mu|0)/(v|0)|0,i)|0)+((Jc|0)/(Tc|0)|0)|0)*3|0;Fl=D+(Dl<<2)|0;d[Fl>>2]=(d[Fl>>2]|0)+(p[n+(Nl|1)>>0]|0);Bl=D+(Dl+1<<2)|0;d[Bl>>2]=(d[Bl>>2]|0)+(p[n+(Nl|2)>>0]|0);Ul=D+(Dl+2<<2)|0;d[Ul>>2]=(d[Ul>>2]|0)+(p[n+(Nl|3)>>0]|0)}Jc=Jc+1|0}while((Jc|0)<(Eu|0))}mu=mu+1|0}while((mu|0)<(Af|0))}break}case 5:case 12:case 13:case 14:{aa=k+100.0;sa=+(Af|0);ca=+(Eu|0);fa=xu+48|0;pa=xu+56|0;ga=xu+64|0;wa=xu+8|0;_a=xu+16|0;xa=xu+24|0;Sa=xu+32|0;ka=xu+40|0;Ra=(e|0)==1;if((Af|0)>0){Oa=(Eu|0)>0;vu=0;do{Hl=aa+R*(+(vu|0)+.5)/sa;if(Oa){Zc=0;do{Vl=aa+R*(+(Zc|0)+.5)/ca;jl=+y[ga>>3]+(+y[fa>>3]*Vl+Hl*+y[pa>>3]);if(jl==0.0){Lc=D;Rf=278;break e}Wl=(+y[_a>>3]+(Vl*+y[xu>>3]+Hl*+y[wa>>3]))/jl;g[Zu>>2]=Wl;Xl=(+y[ka>>3]+(Vl*+y[xa>>3]+Hl*+y[Sa>>3]))/jl;g[Mf>>2]=Xl;zs(l,Wl,Xl,Zu,Mf)|0;ql=+g[Zu>>2];if(Ra){Wu=((~~(ql+1.0)|0)/2|0)<<1;bf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Wu=~~(ql+.5);bf=~~(+g[Mf>>2]+.5)}if((Wu|0)>-1)if((bf|0)<(o|0)&((bf|0)>-1&(Wu|0)<(a|0))){Jl=n+((fe(bf,a)|0)+Wu)|0;Zl=p[Jl>>0]|0;Kl=((fe((vu|0)/(v|0)|0,i)|0)+((Zc|0)/(Tc|0)|0)|0)*3|0;Ql=D+(Kl<<2)|0;d[Ql>>2]=(d[Ql>>2]|0)+Zl;$l=D+(Kl+1<<2)|0;d[$l>>2]=(d[$l>>2]|0)+Zl;ec=D+(Kl+2<<2)|0;d[ec>>2]=(d[ec>>2]|0)+Zl}Zc=Zc+1|0}while((Zc|0)<(Eu|0))}vu=vu+1|0}while((vu|0)<(Af|0))}break}case 6:{vn=k+100.0;Tn=+(Af|0);In=+(Eu|0);Fn=xu+48|0;Un=xu+56|0;Hn=xu+64|0;jn=xu+8|0;Wn=xu+16|0;qn=xu+24|0;Jn=xu+32|0;Qn=xu+40|0;ea=(e|0)==1;if((Af|0)>0){na=(Eu|0)>0;gu=0;do{tc=vn+R*(+(gu|0)+.5)/Tn;if(na){Kc=0;do{ic=vn+R*(+(Kc|0)+.5)/In;rc=+y[Hn>>3]+(+y[Fn>>3]*ic+tc*+y[Un>>3]);if(rc==0.0){Lc=D;Rf=278;break e}nc=(+y[Wn>>3]+(ic*+y[xu>>3]+tc*+y[jn>>3]))/rc;g[Zu>>2]=nc;ac=(+y[Qn>>3]+(ic*+y[qn>>3]+tc*+y[Jn>>3]))/rc;g[Mf>>2]=ac;zs(l,nc,ac,Zu,Mf)|0;oc=+g[Zu>>2];if(ea){Xu=((~~(oc+1.0)|0)/2|0)<<1;wf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Xu=~~(oc+.5);wf=~~(+g[Mf>>2]+.5)}if((Xu|0)>-1)if((wf|0)<(o|0)&((wf|0)>-1&(Xu|0)<(a|0))){sc=(fe(wf,a)|0)+Xu<<2;lc=((fe((gu|0)/(v|0)|0,i)|0)+((Kc|0)/(Tc|0)|0)|0)*3|0;cc=D+(lc<<2)|0;d[cc>>2]=(d[cc>>2]|0)+(p[n+(sc|3)>>0]|0);uc=D+(lc+1<<2)|0;d[uc>>2]=(d[uc>>2]|0)+(p[n+(sc|2)>>0]|0);fc=D+(lc+2<<2)|0;d[fc>>2]=(d[fc>>2]|0)+(p[n+(sc|1)>>0]|0)}Kc=Kc+1|0}while((Kc|0)<(Eu|0))}gu=gu+1|0}while((gu|0)<(Af|0))}break}case 7:{Hi=k+100.0;Vi=+(Af|0);Wi=+(Eu|0);Yi=xu+48|0;Ji=xu+56|0;Ki=xu+64|0;Qi=xu+8|0;er=xu+16|0;sr=xu+24|0;gr=xu+32|0;Ar=xu+40|0;Br=(e|0)==1;if((Af|0)>0){nn=(Eu|0)>0;yu=0;do{hc=Hi+R*(+(yu|0)+.5)/Vi;if(nn){Qc=0;do{dc=Hi+R*(+(Qc|0)+.5)/Wi;pc=+y[Ki>>3]+(+y[Yi>>3]*dc+hc*+y[Ji>>3]);if(pc==0.0){Lc=D;Rf=278;break e}mc=(+y[er>>3]+(dc*+y[xu>>3]+hc*+y[Qi>>3]))/pc;g[Zu>>2]=mc;vc=(+y[Ar>>3]+(dc*+y[sr>>3]+hc*+y[gr>>3]))/pc;g[Mf>>2]=vc;zs(l,mc,vc,Zu,Mf)|0;gc=+g[Zu>>2];if(Br){qu=((~~(gc+1.0)|0)/2|0)<<1;_f=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{qu=~~(gc+.5);_f=~~(+g[Mf>>2]+.5)}if((qu|0)>-1)if((_f|0)<(o|0)&((_f|0)>-1&(qu|0)<(a|0))){yc=fe(_f,a)|0;bc=(qu&65534)+yc<<1;wc=+((p[n+bc>>0]|0)+-128|0);_c=+((p[n+(bc+2)>>0]|0)+-128|0);xc=+((p[n+(yc+qu<<1|1)>>0]|0)+-16|0)*298.0820007324219;Ec=~~(wc*516.4110107421875+xc)>>8;Mc=~~(xc-wc*100.29100036621094-_c*208.1199951171875)>>8;Sc=~~(xc+_c*408.5830078125)>>8;kc=(Ec|0)>0?Ec:0;Ac=((fe((yu|0)/(v|0)|0,i)|0)+((Qc|0)/(Tc|0)|0)|0)*3|0;Rc=D+(Ac<<2)|0;d[Rc>>2]=((kc|0)<255?kc:255)+(d[Rc>>2]|0);b=(Mc|0)>0?Mc:0;x=D+(Ac+1<<2)|0;d[x>>2]=((b|0)<255?b:255)+(d[x>>2]|0);E=(Sc|0)>0?Sc:0;M=D+(Ac+2<<2)|0;d[M>>2]=((E|0)<255?E:255)+(d[M>>2]|0)}Qc=Qc+1|0}while((Qc|0)<(Eu|0))}yu=yu+1|0}while((yu|0)<(Af|0))}break}case 8:{jt=k+100.0;qt=+(Af|0);Kt=+(Eu|0);si=xu+48|0;ui=xu+56|0;di=xu+64|0;mi=xu+8|0;yi=xu+16|0;bi=xu+24|0;_i=xu+32|0;xi=xu+40|0;Mi=(e|0)==1;if((Af|0)>0){Bi=(Eu|0)>0;bu=0;do{S=jt+R*(+(bu|0)+.5)/qt;if(Bi){$c=0;do{T=jt+R*(+($c|0)+.5)/Kt;A=+y[di>>3]+(+y[si>>3]*T+S*+y[ui>>3]);if(A==0.0){Lc=D;Rf=278;break e}L=(+y[yi>>3]+(T*+y[xu>>3]+S*+y[mi>>3]))/A;g[Zu>>2]=L;P=(+y[xi>>3]+(T*+y[bi>>3]+S*+y[_i>>3]))/A;g[Mf>>2]=P;zs(l,L,P,Zu,Mf)|0;C=+g[Zu>>2];if(Mi){Yu=((~~(C+1.0)|0)/2|0)<<1;xf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Yu=~~(C+.5);xf=~~(+g[Mf>>2]+.5)}if((Yu|0)>-1)if((xf|0)<(o|0)&((xf|0)>-1&(Yu|0)<(a|0))){N=fe(xf,a)|0;F=(Yu&65534)+N<<1;B=+((p[n+(F|1)>>0]|0)+-128|0);U=+((p[n+(F+3)>>0]|0)+-128|0);z=+((p[n+(N+Yu<<1)>>0]|0)+-16|0)*298.0820007324219;G=~~(z+B*516.4110107421875)>>8;V=~~(z-B*100.29100036621094-U*208.1199951171875)>>8;W=~~(z+U*408.5830078125)>>8;X=(G|0)>0?G:0;q=((fe((bu|0)/(v|0)|0,i)|0)+(($c|0)/(Tc|0)|0)|0)*3|0;J=D+(q<<2)|0;d[J>>2]=((X|0)<255?X:255)+(d[J>>2]|0);Z=(V|0)>0?V:0;K=D+(q+1<<2)|0;d[K>>2]=((Z|0)<255?Z:255)+(d[K>>2]|0);$=(W|0)>0?W:0;ee=D+(q+2<<2)|0;d[ee>>2]=(($|0)<255?$:255)+(d[ee>>2]|0)}$c=$c+1|0}while(($c|0)<(Eu|0))}bu=bu+1|0}while((bu|0)<(Af|0))}break}case 9:{rt=k+100.0;nt=+(Af|0);ot=+(Eu|0);ut=xu+48|0;dt=xu+56|0;pt=xu+64|0;wt=xu+8|0;Lt=xu+16|0;Ot=xu+24|0;Dt=xu+32|0;Bt=xu+40|0;Ht=(e|0)==1;if((Af|0)>0){Vt=(Eu|0)>0;wu=0;do{ie=rt+R*(+(wu|0)+.5)/nt;if(Vt){Pc=0;do{ne=rt+R*(+(Pc|0)+.5)/ot;ae=+y[pt>>3]+(+y[ut>>3]*ne+ie*+y[dt>>3]);if(ae==0.0){Lc=D;Rf=278;break e}se=(+y[Lt>>3]+(ne*+y[xu>>3]+ie*+y[wt>>3]))/ae;g[Zu>>2]=se;ce=(+y[Bt>>3]+(ne*+y[Ot>>3]+ie*+y[Dt>>3]))/ae;g[Mf>>2]=ce;zs(l,se,ce,Zu,Mf)|0;ue=+g[Zu>>2];if(Ht){Ju=((~~(ue+1.0)|0)/2|0)<<1;Ef=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Ju=~~(ue+.5);Ef=~~(+g[Mf>>2]+.5)}if((Ju|0)>-1)if((Ef|0)<(o|0)&((Ef|0)>-1&(Ju|0)<(a|0))){me=(fe(Ef,a)|0)+Ju<<1;ge=p[n+(me|1)>>0]|0;be=((fe((wu|0)/(v|0)|0,i)|0)+((Pc|0)/(Tc|0)|0)|0)*3|0;we=D+(be<<2)|0;d[we>>2]=(ge<<3&248|4)+(d[we>>2]|0);_e=p[n+me>>0]|0;xe=D+(be+1<<2)|0;d[xe>>2]=(_e<<5&224|ge>>>3&28|2)+(d[xe>>2]|0);Me=D+(be+2<<2)|0;d[Me>>2]=(_e&248|4)+(d[Me>>2]|0)}Pc=Pc+1|0}while((Pc|0)<(Eu|0))}wu=wu+1|0}while((wu|0)<(Af|0))}break}case 10:{Se=k+100.0;Ae=+(Af|0);Le=+(Eu|0);Ce=xu+48|0;Ne=xu+56|0;De=xu+64|0;Ue=xu+8|0;Ge=xu+16|0;je=xu+24|0;qe=xu+32|0;Je=xu+40|0;Ke=(e|0)==1;if((Af|0)>0){tt=(Eu|0)>0;tu=0;do{Te=Se+R*(+(tu|0)+.5)/Ae;if(tt){Cc=0;do{ke=Se+R*(+(Cc|0)+.5)/Le;Re=+y[De>>3]+(+y[Ce>>3]*ke+Te*+y[Ne>>3]);if(Re==0.0){Lc=D;Rf=278;break e}Pe=(+y[Ge>>3]+(ke*+y[xu>>3]+Te*+y[Ue>>3]))/Re;g[Zu>>2]=Pe;Oe=(+y[Je>>3]+(ke*+y[je>>3]+Te*+y[qe>>3]))/Re;g[Mf>>2]=Oe;zs(l,Pe,Oe,Zu,Mf)|0;Ie=+g[Zu>>2];if(Ke){Pu=((~~(Ie+1.0)|0)/2|0)<<1;af=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Pu=~~(Ie+.5);af=~~(+g[Mf>>2]+.5)}if((Pu|0)>-1)if((af|0)<(o|0)&((af|0)>-1&(Pu|0)<(a|0))){Fe=(fe(af,a)|0)+Pu<<1;Be=p[n+(Fe|1)>>0]|0;ze=((fe((tu|0)/(v|0)|0,i)|0)+((Cc|0)/(Tc|0)|0)|0)*3|0;He=D+(ze<<2)|0;d[He>>2]=(Be<<2&248|4)+(d[He>>2]|0);Ve=p[n+Fe>>0]|0;We=D+(ze+1<<2)|0;d[We>>2]=(Ve<<5&224|Be>>>3&24|4)+(d[We>>2]|0);Xe=D+(ze+2<<2)|0;d[Xe>>2]=(Ve&248|4)+(d[Xe>>2]|0)}Cc=Cc+1|0}while((Cc|0)<(Eu|0))}tu=tu+1|0}while((tu|0)<(Af|0))}break}case 11:{H=k+100.0;j=+(Af|0);Y=+(Eu|0);Q=xu+48|0;te=xu+56|0;re=xu+64|0;oe=xu+8|0;le=xu+16|0;he=xu+24|0;de=xu+32|0;ve=xu+40|0;ye=(e|0)==1;if((Af|0)>0){Ee=(Eu|0)>0;iu=0;do{Ye=H+R*(+(iu|0)+.5)/j;if(Ee){Oc=0;do{Ze=H+R*(+(Oc|0)+.5)/Y;Qe=+y[re>>3]+(+y[Q>>3]*Ze+Ye*+y[te>>3]);if(Qe==0.0){Lc=D;Rf=278;break e}$e=(+y[le>>3]+(Ze*+y[xu>>3]+Ye*+y[oe>>3]))/Qe;g[Zu>>2]=$e;et=(+y[ve>>3]+(Ze*+y[he>>3]+Ye*+y[de>>3]))/Qe;g[Mf>>2]=et;zs(l,$e,et,Zu,Mf)|0;it=+g[Zu>>2];if(ye){Cu=((~~(it+1.0)|0)/2|0)<<1;of=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Cu=~~(it+.5);of=~~(+g[Mf>>2]+.5)}if((Cu|0)>-1)if((of|0)<(o|0)&((of|0)>-1&(Cu|0)<(a|0))){at=(fe(of,a)|0)+Cu<<1;st=((fe((iu|0)/(v|0)|0,i)|0)+((Oc|0)/(Tc|0)|0)|0)*3|0;lt=D+(st<<2)|0;d[lt>>2]=(d[lt>>2]|0)+((p[n+(at|1)>>0]|0)&240|8);ct=p[n+at>>0]|0;ft=D+(st+1<<2)|0;d[ft>>2]=(ct<<4&240|8)+(d[ft>>2]|0);ht=D+(st+2<<2)|0;d[ht>>2]=(ct&240|8)+(d[ht>>2]|0)}Oc=Oc+1|0}while((Oc|0)<(Eu|0))}iu=iu+1|0}while((iu|0)<(Af|0))}break}default:{Ha(3,4615,Su);Lc=D;Rf=278;break e}}}while(0);gs=fe(v,Tc)|0;if(O){Nc=0;do{f[h+Nc>>0]=((d[D+(Nc<<2)>>2]|0)>>>0)/(gs>>>0)|0;Nc=Nc+1|0}while((Nc|0)<(I|0))}cn(D);m=0}else{mt=Gl(O,4)|0;if(!mt){Ha(3,5471,Tu);Wt(1)}t:do{if(s>>>0<2){vt=k+100.0;gt=+(Af|0);yt=+(Eu|0);bt=xu+48|0;_t=xu+56|0;xt=xu+64|0;Et=xu+8|0;Mt=xu+16|0;St=xu+24|0;Tt=xu+32|0;kt=xu+40|0;At=(e|0)==1;if((Af|0)>0){Rt=(Eu|0)>0;ru=0;do{Ct=vt+R*(+(ru|0)+.5)/gt;if(Rt){Dc=0;do{It=vt+R*(+(Dc|0)+.5)/yt;Nt=+y[xt>>3]+(+y[bt>>3]*It+Ct*+y[_t>>3]);if(Nt==0.0){Lc=mt;Rf=278;break e}Ft=(+y[Mt>>3]+(It*+y[xu>>3]+Ct*+y[Et>>3]))/Nt;g[Zu>>2]=Ft;Ut=(+y[kt>>3]+(It*+y[St>>3]+Ct*+y[Tt>>3]))/Nt;g[Mf>>2]=Ut;zs(l,Ft,Ut,Zu,Mf)|0;zt=+g[Zu>>2];if(At){Ou=((~~(zt+1.0)|0)/2|0)<<1;sf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Ou=~~(zt+.5);sf=~~(+g[Mf>>2]+.5)}if((Ou|0)>-1)if((sf|0)<(o|0)&((sf|0)>-1&(Ou|0)<(a|0))){Gt=((fe(sf,a)|0)+Ou|0)*3|0;Xt=mt+((fe((ru|0)/(v|0)|0,i)|0)+((Dc|0)/(Tc|0)|0)<<2)|0;d[Xt>>2]=(d[Xt>>2]|0)+((((p[n+(Gt+1)>>0]|0)+(p[n+Gt>>0]|0)+(p[n+(Gt+2)>>0]|0)|0)>>>0)/3|0)}Dc=Dc+1|0}while((Dc|0)<(Eu|0))}ru=ru+1|0}while((ru|0)<(Af|0))}}else{if((s&-2|0)==2){Yt=k+100.0;Jt=+(Af|0);Zt=+(Eu|0);Qt=xu+48|0;$t=xu+56|0;ei=xu+64|0;ti=xu+8|0;ii=xu+16|0;ri=xu+24|0;ni=xu+32|0;ai=xu+40|0;oi=(e|0)==1;if((Af|0)<=0)break;li=(Eu|0)>0;au=0;while(1){ci=Yt+R*(+(au|0)+.5)/Jt;if(li){Fc=0;do{fi=Yt+R*(+(Fc|0)+.5)/Zt;hi=+y[ei>>3]+(+y[Qt>>3]*fi+ci*+y[$t>>3]);if(hi==0.0){Lc=mt;Rf=278;break e}pi=(+y[ii>>3]+(fi*+y[xu>>3]+ci*+y[ti>>3]))/hi;g[Zu>>2]=pi;vi=(+y[ai>>3]+(fi*+y[ri>>3]+ci*+y[ni>>3]))/hi;g[Mf>>2]=vi;zs(l,pi,vi,Zu,Mf)|0;gi=+g[Zu>>2];if(oi){Iu=((~~(gi+1.0)|0)/2|0)<<1;lf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Iu=~~(gi+.5);lf=~~(+g[Mf>>2]+.5)}if((Iu|0)>-1)if((lf|0)<(o|0)&((lf|0)>-1&(Iu|0)<(a|0))){wi=(fe(lf,a)|0)+Iu<<2;Ei=mt+((fe((au|0)/(v|0)|0,i)|0)+((Fc|0)/(Tc|0)|0)<<2)|0;d[Ei>>2]=(d[Ei>>2]|0)+((((p[n+(wi|1)>>0]|0)+(p[n+wi>>0]|0)+(p[n+(wi|2)>>0]|0)|0)>>>0)/3|0)}Fc=Fc+1|0}while((Fc|0)<(Eu|0))}au=au+1|0;if((au|0)>=(Af|0))break t}}if((s&-3|0)==4){Si=k+100.0;Ti=+(Af|0);ki=+(Eu|0);Ai=xu+48|0;Ri=xu+56|0;Li=xu+64|0;Pi=xu+8|0;Ci=xu+16|0;Oi=xu+24|0;Ii=xu+32|0;Ni=xu+40|0;Di=(e|0)==1;if((Af|0)<=0)break;Fi=(Eu|0)>0;ou=0;while(1){Ui=Si+R*(+(ou|0)+.5)/Ti;if(Fi){Bc=0;do{zi=Si+R*(+(Bc|0)+.5)/ki;Gi=+y[Li>>3]+(+y[Ai>>3]*zi+Ui*+y[Ri>>3]);if(Gi==0.0){Lc=mt;Rf=278;break e}ji=(+y[Ci>>3]+(zi*+y[xu>>3]+Ui*+y[Pi>>3]))/Gi;g[Zu>>2]=ji;Xi=(+y[Ni>>3]+(zi*+y[Oi>>3]+Ui*+y[Ii>>3]))/Gi;g[Mf>>2]=Xi;zs(l,ji,Xi,Zu,Mf)|0;qi=+g[Zu>>2];if(Di){Nu=((~~(qi+1.0)|0)/2|0)<<1;cf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Nu=~~(qi+.5);cf=~~(+g[Mf>>2]+.5)}if((Nu|0)>-1)if((cf|0)<(o|0)&((cf|0)>-1&(Nu|0)<(a|0))){Zi=(fe(cf,a)|0)+Nu<<2;$i=mt+((fe((ou|0)/(v|0)|0,i)|0)+((Bc|0)/(Tc|0)|0)<<2)|0;d[$i>>2]=(d[$i>>2]|0)+((((p[n+(Zi|2)>>0]|0)+(p[n+(Zi|1)>>0]|0)+(p[n+(Zi|3)>>0]|0)|0)>>>0)/3|0)}Bc=Bc+1|0}while((Bc|0)<(Eu|0))}ou=ou+1|0;if((ou|0)>=(Af|0))break t}}switch(s|0){case 5:case 12:case 13:case 14:{wn=k+100.0;_n=+(Af|0);xn=+(Eu|0);En=xu+48|0;Mn=xu+56|0;Sn=xu+64|0;kn=xu+8|0;An=xu+16|0;Rn=xu+24|0;Ln=xu+32|0;Pn=xu+40|0;Cn=(e|0)==1;if((Af|0)<=0)break t;On=(Eu|0)>0;su=0;do{Nn=wn+R*(+(su|0)+.5)/_n;if(On){Uc=0;do{Dn=wn+R*(+(Uc|0)+.5)/xn;Bn=+y[Sn>>3]+(+y[En>>3]*Dn+Nn*+y[Mn>>3]);if(Bn==0.0){Lc=mt;Rf=278;break e}zn=(+y[An>>3]+(Dn*+y[xu>>3]+Nn*+y[kn>>3]))/Bn;g[Zu>>2]=zn;Gn=(+y[Pn>>3]+(Dn*+y[Rn>>3]+Nn*+y[Ln>>3]))/Bn;g[Mf>>2]=Gn;zs(l,zn,Gn,Zu,Mf)|0;Vn=+g[Zu>>2];if(Cn){Du=((~~(Vn+1.0)|0)/2|0)<<1;uf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Du=~~(Vn+.5);uf=~~(+g[Mf>>2]+.5)}if((Du|0)>-1)if((uf|0)<(o|0)&((uf|0)>-1&(Du|0)<(a|0))){Xn=n+((fe(uf,a)|0)+Du)|0;Yn=mt+((fe((su|0)/(v|0)|0,i)|0)+((Uc|0)/(Tc|0)|0)<<2)|0;d[Yn>>2]=(d[Yn>>2]|0)+(p[Xn>>0]|0)}Uc=Uc+1|0}while((Uc|0)<(Eu|0))}su=su+1|0}while((su|0)<(Af|0));break}case 7:{an=k+100.0;on=+(Af|0);sn=+(Eu|0);ln=xu+48|0;un=xu+56|0;fn=xu+64|0;hn=xu+8|0;dn=xu+16|0;pn=xu+24|0;mn=xu+32|0;gn=xu+40|0;yn=(e|0)==1;if((Af|0)<=0)break t;bn=(Eu|0)>0;lu=0;do{Zn=an+R*(+(lu|0)+.5)/on;if(bn){zc=0;do{Kn=an+R*(+(zc|0)+.5)/sn;$n=+y[fn>>3]+(+y[ln>>3]*Kn+Zn*+y[un>>3]);if($n==0.0){Lc=mt;Rf=278;break e}ta=(+y[dn>>3]+(Kn*+y[xu>>3]+Zn*+y[hn>>3]))/$n;g[Zu>>2]=ta;ia=(+y[gn>>3]+(Kn*+y[pn>>3]+Zn*+y[mn>>3]))/$n;g[Mf>>2]=ia;zs(l,ta,ia,Zu,Mf)|0;ra=+g[Zu>>2];if(yn){Fu=((~~(ra+1.0)|0)/2|0)<<1;ff=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Fu=~~(ra+.5);ff=~~(+g[Mf>>2]+.5)}if((Fu|0)>-1)if((ff|0)<(o|0)&((ff|0)>-1&(Fu|0)<(a|0))){oa=n+((fe(ff,a)|0)+Fu<<1|1)|0;la=mt+((fe((lu|0)/(v|0)|0,i)|0)+((zc|0)/(Tc|0)|0)<<2)|0;d[la>>2]=(d[la>>2]|0)+(p[oa>>0]|0)}zc=zc+1|0}while((zc|0)<(Eu|0))}lu=lu+1|0}while((lu|0)<(Af|0));break}case 8:{jr=k+100.0;Wr=+(Af|0);Xr=+(Eu|0);qr=xu+48|0;Yr=xu+56|0;Jr=xu+64|0;Zr=xu+8|0;Kr=xu+16|0;Qr=xu+24|0;$r=xu+32|0;en=xu+40|0;tn=(e|0)==1;if((Af|0)<=0)break t;rn=(Eu|0)>0;cu=0;do{ua=jr+R*(+(cu|0)+.5)/Wr;if(rn){Hc=0;do{ha=jr+R*(+(Hc|0)+.5)/Xr;da=+y[Jr>>3]+(+y[qr>>3]*ha+ua*+y[Yr>>3]);if(da==0.0){Lc=mt;Rf=278;break e}ma=(+y[Kr>>3]+(ha*+y[xu>>3]+ua*+y[Zr>>3]))/da;g[Zu>>2]=ma;ya=(+y[en>>3]+(ha*+y[Qr>>3]+ua*+y[$r>>3]))/da;g[Mf>>2]=ya;zs(l,ma,ya,Zu,Mf)|0;ba=+g[Zu>>2];if(tn){Bu=((~~(ba+1.0)|0)/2|0)<<1;hf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Bu=~~(ba+.5);hf=~~(+g[Mf>>2]+.5)}if((Bu|0)>-1)if((hf|0)<(o|0)&((hf|0)>-1&(Bu|0)<(a|0))){Ea=n+((fe(hf,a)|0)+Bu<<1)|0;Ma=mt+((fe((cu|0)/(v|0)|0,i)|0)+((Hc|0)/(Tc|0)|0)<<2)|0;d[Ma>>2]=(d[Ma>>2]|0)+(p[Ea>>0]|0)}Hc=Hc+1|0}while((Hc|0)<(Eu|0))}cu=cu+1|0}while((cu|0)<(Af|0));break}case 9:{Lr=k+100.0;Pr=+(Af|0);Cr=+(Eu|0);Or=xu+48|0;Ir=xu+56|0;Nr=xu+64|0;Dr=xu+8|0;Fr=xu+16|0;Ur=xu+24|0;zr=xu+32|0;Hr=xu+40|0;Gr=(e|0)==1;if((Af|0)<=0)break t;Vr=(Eu|0)>0;uu=0;do{Ta=Lr+R*(+(uu|0)+.5)/Pr;if(Vr){Gc=0;do{Aa=Lr+R*(+(Gc|0)+.5)/Cr;La=+y[Nr>>3]+(+y[Or>>3]*Aa+Ta*+y[Ir>>3]);if(La==0.0){Lc=mt;Rf=278;break e}Pa=(+y[Fr>>3]+(Aa*+y[xu>>3]+Ta*+y[Dr>>3]))/La;g[Zu>>2]=Pa;Ca=(+y[Hr>>3]+(Aa*+y[Ur>>3]+Ta*+y[zr>>3]))/La;g[Mf>>2]=Ca;zs(l,Pa,Ca,Zu,Mf)|0;Ia=+g[Zu>>2];if(Gr){Uu=((~~(Ia+1.0)|0)/2|0)<<1;df=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Uu=~~(Ia+.5);df=~~(+g[Mf>>2]+.5)}if((Uu|0)>-1)if((df|0)<(o|0)&((df|0)>-1&(Uu|0)<(a|0))){Fa=(fe(df,a)|0)+Uu<<1;Ba=p[n+Fa>>0]|0;za=p[n+(Fa|1)>>0]|0;Va=mt+((fe((uu|0)/(v|0)|0,i)|0)+((Gc|0)/(Tc|0)|0)<<2)|0;d[Va>>2]=(d[Va>>2]|0)+((((za<<3&248|4)+(Ba&248|4)+(Ba<<5&224|za>>>3&28|2)|0)>>>0)/3|0)}Gc=Gc+1|0}while((Gc|0)<(Eu|0))}uu=uu+1|0}while((uu|0)<(Af|0));break}case 10:{mr=k+100.0;vr=+(Af|0);yr=+(Eu|0);br=xu+48|0;wr=xu+56|0;_r=xu+64|0;xr=xu+8|0;Er=xu+16|0;Mr=xu+24|0;Sr=xu+32|0;Tr=xu+40|0;kr=(e|0)==1;if((Af|0)<=0)break t;Rr=(Eu|0)>0;fu=0;do{Wa=mr+R*(+(fu|0)+.5)/vr;if(Rr){Vc=0;do{qa=mr+R*(+(Vc|0)+.5)/yr;Ja=+y[_r>>3]+(+y[br>>3]*qa+Wa*+y[wr>>3]);if(Ja==0.0){Lc=mt;Rf=278;break e}Ka=(+y[Er>>3]+(qa*+y[xu>>3]+Wa*+y[xr>>3]))/Ja;g[Zu>>2]=Ka;Qa=(+y[Tr>>3]+(qa*+y[Mr>>3]+Wa*+y[Sr>>3]))/Ja;g[Mf>>2]=Qa;zs(l,Ka,Qa,Zu,Mf)|0;eo=+g[Zu>>2];if(kr){zu=((~~(eo+1.0)|0)/2|0)<<1;pf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{zu=~~(eo+.5);pf=~~(+g[Mf>>2]+.5)}if((zu|0)>-1)if((pf|0)<(o|0)&((pf|0)>-1&(zu|0)<(a|0))){ro=(fe(pf,a)|0)+zu<<1;no=p[n+ro>>0]|0;oo=p[n+(ro|1)>>0]|0;so=mt+((fe((fu|0)/(v|0)|0,i)|0)+((Vc|0)/(Tc|0)|0)<<2)|0;d[so>>2]=(d[so>>2]|0)+((((oo<<2&248|4)+(no&248|4)+(no<<5&224|oo>>>3&24|4)|0)>>>0)/3|0)}Vc=Vc+1|0}while((Vc|0)<(Eu|0))}fu=fu+1|0}while((fu|0)<(Af|0));break}case 11:{tr=k+100.0;ir=+(Af|0);rr=+(Eu|0);nr=xu+48|0;ar=xu+56|0;or=xu+64|0;lr=xu+8|0;cr=xu+16|0;ur=xu+24|0;fr=xu+32|0;hr=xu+40|0;dr=(e|0)==1;if((Af|0)<=0)break t;pr=(Eu|0)>0;hu=0;do{co=tr+R*(+(hu|0)+.5)/ir;if(pr){jc=0;do{fo=tr+R*(+(jc|0)+.5)/rr;po=+y[or>>3]+(+y[nr>>3]*fo+co*+y[ar>>3]);if(po==0.0){Lc=mt;Rf=278;break e}vo=(+y[cr>>3]+(fo*+y[xu>>3]+co*+y[lr>>3]))/po;g[Zu>>2]=vo;go=(+y[hr>>3]+(fo*+y[ur>>3]+co*+y[fr>>3]))/po;g[Mf>>2]=go;zs(l,vo,go,Zu,Mf)|0;bo=+g[Zu>>2];if(dr){Gu=((~~(bo+1.0)|0)/2|0)<<1;vf=((~~(+g[Mf>>2]+1.0)|0)/2|0)<<1}else{Gu=~~(bo+.5);vf=~~(+g[Mf>>2]+.5)}if((Gu|0)>-1)if((vf|0)<(o|0)&((vf|0)>-1&(Gu|0)<(a|0))){xo=(fe(vf,a)|0)+Gu<<1;Eo=p[n+xo>>0]|0;To=mt+((fe((hu|0)/(v|0)|0,i)|0)+((jc|0)/(Tc|0)|0)<<2)|0;d[To>>2]=(d[To>>2]|0)+((((Eo<<4&240|8)+(Eo&240|8)+((p[n+(xo|1)>>0]|0)&240|8)|0)>>>0)/3|0)}jc=jc+1|0}while((jc|0)<(Eu|0))}hu=hu+1|0}while((hu|0)<(Af|0));break}default:{Ha(3,4615,ku);Lc=mt;Rf=278;break e}}}}while(0);Pt=fe(v,Tc)|0;if(O){Xc=0;do{f[h+Xc>>0]=((d[mt+(Xc<<2)>>2]|0)>>>0)/(Pt>>>0)|0;Xc=Xc+1|0}while((Xc|0)<(O|0))}cn(mt);m=0}}while(0);if((Rf|0)==278){cn(Lc);m=-1}w=Lf;return m|0}function _i(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,gi=0,yi=0,bi=0,wi=0,_i=0,Ei=0,Mi=0,Si=0,Ti=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,ln=0,cn=0,un=0,fn=0,hn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Sn=0,Tn=0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Jn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ta=0,ia=0,ra=0,na=0,aa=0,oa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Ga=0,Va=0,ja=0,Wa=0,Xa=0,qa=0,Ya=0,Ja=0,Za=0,Ka=0,Qa=0,$a=0,eo=0,to=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0,fo=0,ho=0,po=0,mo=0,vo=0,go=0,yo=0,bo=0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0;Eo=w;w=w+720|0;if((w|0)>=(_|0))pe();_o=Eo+696|0;F=Eo+672|0;B=Eo+648|0;Ue=Eo+624|0;Bt=Eo+600|0;Li=Eo+576|0;Er=Eo+552|0;bn=Eo+528|0;da=Eo+504|0;oo=Eo+480|0;go=Eo+456|0;U=Eo+432|0;W=Eo+408|0;K=Eo+384|0;ie=Eo+360|0;se=Eo+336|0;fe=Eo+312|0;ye=Eo+288|0;Me=Eo+264|0;Re=Eo+240|0;Ie=Eo+216|0;ze=Eo+192|0;We=Eo+168|0;Ke=Eo+144|0;tt=Eo+120|0;st=Eo+96|0;dt=Eo+72|0;yt=Eo+48|0;Et=Eo+24|0;kt=Eo;e:do{if((e|0)==(t|0))r=e;else do{switch(f[e>>0]|0){case 118:{Ol(F,14176);qt=i+4|0;Qt=d[qt>>2]|0;li=d[i+8>>2]|0;if(Qt>>>0<li>>>0){Pl(Qt,F);d[qt>>2]=(d[qt>>2]|0)+24}else{Ui=d[i>>2]|0;ji=Qt-Ui|0;Zi=(ji|0)/24|0;tr=Zi+1|0;if((ji|0)<-24)Ef(i);br=(li-Ui|0)/24|0;if(br>>>0<1073741823){Rr=br<<1;n=Rr>>>0<tr>>>0?tr:Rr}else n=2147483647;_l(_o,n,Zi,i+12|0);Vr=_o+8|0;Yr=d[Vr>>2]|0;Pl(Yr,F);d[Vr>>2]=Yr+24;Bo(i,_o);al(_o)}Vc(F);r=e+1|0;break e;break}case 119:{f[B>>0]=14;ln=B+1|0;f[ln>>0]=f[13738]|0;f[ln+1>>0]=f[13739]|0;f[ln+2>>0]=f[13740]|0;f[ln+3>>0]=f[13741]|0;f[ln+4>>0]=f[13742]|0;f[ln+5>>0]=f[13743]|0;f[ln+6>>0]=f[13744]|0;f[B+8>>0]=0;wn=B+12|0;d[wn>>2]=0;d[wn+4>>2]=0;d[wn+8>>2]=0;Nn=i+4|0;Un=d[Nn>>2]|0;Jn=d[i+8>>2]|0;if(Un>>>0<Jn>>>0){Pl(Un,B);d[Nn>>2]=(d[Nn>>2]|0)+24}else{ka=d[i>>2]|0;Pa=Un-ka|0;Fa=(Pa|0)/24|0;Va=Fa+1|0;if((Pa|0)<-24)Ef(i);so=(Jn-ka|0)/24|0;if(so>>>0<1073741823){ho=so<<1;M=ho>>>0<Va>>>0?Va:ho}else M=2147483647;_l(_o,M,Fa,i+12|0);po=_o+8|0;mo=d[po>>2]|0;Pl(mo,B);d[po>>2]=mo+24;Bo(i,_o);al(_o)}Vc(B);r=e+1|0;break e;break}case 98:{Ol(Ue,14181);vo=i+4|0;yo=d[vo>>2]|0;bo=d[i+8>>2]|0;if(yo>>>0<bo>>>0){Pl(yo,Ue);d[vo>>2]=(d[vo>>2]|0)+24}else{wo=d[i>>2]|0;z=yo-wo|0;H=(z|0)/24|0;G=H+1|0;if((z|0)<-24)Ef(i);V=(bo-wo|0)/24|0;if(V>>>0<1073741823){j=V<<1;I=j>>>0<G>>>0?G:j}else I=2147483647;_l(_o,I,H,i+12|0);X=_o+8|0;q=d[X>>2]|0;Pl(q,Ue);d[X>>2]=q+24;Bo(i,_o);al(_o)}Vc(Ue);r=e+1|0;break e;break}case 99:{Ol(Bt,13757);Y=i+4|0;J=d[Y>>2]|0;Z=d[i+8>>2]|0;if(J>>>0<Z>>>0){Pl(J,Bt);d[Y>>2]=(d[Y>>2]|0)+24}else{Q=d[i>>2]|0;$=J-Q|0;ee=($|0)/24|0;te=ee+1|0;if(($|0)<-24)Ef(i);re=(Z-Q|0)/24|0;if(re>>>0<1073741823){ne=re<<1;m=ne>>>0<te>>>0?te:ne}else m=2147483647;_l(_o,m,ee,i+12|0);ae=_o+8|0;oe=d[ae>>2]|0;Pl(oe,Bt);d[ae>>2]=oe+24;Bo(i,_o);al(_o)}Vc(Bt);r=e+1|0;break e;break}case 97:{Tc(Li,13762);le=i+4|0;ce=d[le>>2]|0;ue=d[i+8>>2]|0;if(ce>>>0<ue>>>0){Pl(ce,Li);d[le>>2]=(d[le>>2]|0)+24}else{he=d[i>>2]|0;de=ce-he|0;me=(de|0)/24|0;ve=me+1|0;if((de|0)<-24)Ef(i);ge=(ue-he|0)/24|0;if(ge>>>0<1073741823){be=ge<<1;g=be>>>0<ve>>>0?ve:be}else g=2147483647;_l(_o,g,me,i+12|0);we=_o+8|0;_e=d[we>>2]|0;Pl(_e,Li);d[we>>2]=_e+24;Bo(i,_o);al(_o)}Vc(Li);r=e+1|0;break e;break}case 104:{Mc(Er,13774);xe=i+4|0;Ee=d[xe>>2]|0;Se=d[i+8>>2]|0;if(Ee>>>0<Se>>>0){Pl(Ee,Er);d[xe>>2]=(d[xe>>2]|0)+24}else{Te=d[i>>2]|0;ke=Ee-Te|0;Ae=(ke|0)/24|0;Le=Ae+1|0;if((ke|0)<-24)Ef(i);Pe=(Se-Te|0)/24|0;if(Pe>>>0<1073741823){Ce=Pe<<1;y=Ce>>>0<Le>>>0?Le:Ce}else y=2147483647;_l(_o,y,Ae,i+12|0);Oe=_o+8|0;Ne=d[Oe>>2]|0;Pl(Ne,Er);d[Oe>>2]=Ne+24;Bo(i,_o);al(_o)}Vc(Er);r=e+1|0;break e;break}case 115:{Bl(bn,13788);De=i+4|0;Fe=d[De>>2]|0;Be=d[i+8>>2]|0;if(Fe>>>0<Be>>>0){Pl(Fe,bn);d[De>>2]=(d[De>>2]|0)+24}else{He=d[i>>2]|0;Ge=Fe-He|0;Ve=(Ge|0)/24|0;je=Ve+1|0;if((Ge|0)<-24)Ef(i);Xe=(Be-He|0)/24|0;if(Xe>>>0<1073741823){qe=Xe<<1;b=qe>>>0<je>>>0?je:qe}else b=2147483647;_l(_o,b,Ve,i+12|0);Ye=_o+8|0;Je=d[Ye>>2]|0;Pl(Je,bn);d[Ye>>2]=Je+24;Bo(i,_o);al(_o)}Vc(bn);r=e+1|0;break e;break}case 116:{Ec(da,13794);Ze=i+4|0;Qe=d[Ze>>2]|0;$e=d[i+8>>2]|0;if(Qe>>>0<$e>>>0){Pl(Qe,da);d[Ze>>2]=(d[Ze>>2]|0)+24}else{et=d[i>>2]|0;it=Qe-et|0;rt=(it|0)/24|0;nt=rt+1|0;if((it|0)<-24)Ef(i);at=($e-et|0)/24|0;if(at>>>0<1073741823){ot=at<<1;x=ot>>>0<nt>>>0?nt:ot}else x=2147483647;_l(_o,x,rt,i+12|0);lt=_o+8|0;ct=d[lt>>2]|0;Pl(ct,da);d[lt>>2]=ct+24;Bo(i,_o);al(_o)}Vc(da);r=e+1|0;break e;break}case 105:{oc(oo,14186);ut=i+4|0;ft=d[ut>>2]|0;ht=d[i+8>>2]|0;if(ft>>>0<ht>>>0){Pl(ft,oo);d[ut>>2]=(d[ut>>2]|0)+24}else{pt=d[i>>2]|0;mt=ft-pt|0;vt=(mt|0)/24|0;gt=vt+1|0;if((mt|0)<-24)Ef(i);bt=(ht-pt|0)/24|0;if(bt>>>0<1073741823){wt=bt<<1;E=wt>>>0<gt>>>0?gt:wt}else E=2147483647;_l(_o,E,vt,i+12|0);_t=_o+8|0;xt=d[_t>>2]|0;Pl(xt,oo);d[_t>>2]=xt+24;Bo(i,_o);al(_o)}Vc(oo);r=e+1|0;break e;break}case 106:{Sc(go,14190);Mt=i+4|0;St=d[Mt>>2]|0;Tt=d[i+8>>2]|0;if(St>>>0<Tt>>>0){Pl(St,go);d[Mt>>2]=(d[Mt>>2]|0)+24}else{At=d[i>>2]|0;Rt=St-At|0;Lt=(Rt|0)/24|0;Pt=Lt+1|0;if((Rt|0)<-24)Ef(i);Ct=(Tt-At|0)/24|0;if(Ct>>>0<1073741823){Ot=Ct<<1;S=Ot>>>0<Pt>>>0?Pt:Ot}else S=2147483647;_l(_o,S,Lt,i+12|0);It=_o+8|0;Nt=d[It>>2]|0;Pl(Nt,go);d[It>>2]=Nt+24;Bo(i,_o);al(_o)}Vc(go);r=e+1|0;break e;break}case 108:{Ol(U,14203);Dt=i+4|0;Ft=d[Dt>>2]|0;Ut=d[i+8>>2]|0;if(Ft>>>0<Ut>>>0){Pl(Ft,U);d[Dt>>2]=(d[Dt>>2]|0)+24}else{zt=d[i>>2]|0;Ht=Ft-zt|0;Gt=(Ht|0)/24|0;Vt=Gt+1|0;if((Ht|0)<-24)Ef(i);jt=(Ut-zt|0)/24|0;if(jt>>>0<1073741823){Wt=jt<<1;T=Wt>>>0<Vt>>>0?Vt:Wt}else T=2147483647;_l(_o,T,Gt,i+12|0);Xt=_o+8|0;Yt=d[Xt>>2]|0;Pl(Yt,U);d[Xt>>2]=Yt+24;Bo(i,_o);al(_o)}Vc(U);r=e+1|0;break e;break}case 109:{Mc(W,14208);Jt=i+4|0;Zt=d[Jt>>2]|0;Kt=d[i+8>>2]|0;if(Zt>>>0<Kt>>>0){Pl(Zt,W);d[Jt>>2]=(d[Jt>>2]|0)+24}else{$t=d[i>>2]|0;ei=Zt-$t|0;ti=(ei|0)/24|0;ii=ti+1|0;if((ei|0)<-24)Ef(i);ri=(Kt-$t|0)/24|0;if(ri>>>0<1073741823){ni=ri<<1;k=ni>>>0<ii>>>0?ii:ni}else k=2147483647;_l(_o,k,ti,i+12|0);ai=_o+8|0;oi=d[ai>>2]|0;Pl(oi,W);d[ai>>2]=oi+24;Bo(i,_o);al(_o)}Vc(W);r=e+1|0;break e;break}case 120:{Jl(K,14222);si=i+4|0;ci=d[si>>2]|0;ui=d[i+8>>2]|0;if(ci>>>0<ui>>>0){Pl(ci,K);d[si>>2]=(d[si>>2]|0)+24}else{fi=d[i>>2]|0;hi=ci-fi|0;di=(hi|0)/24|0;pi=di+1|0;if((hi|0)<-24)Ef(i);mi=(ui-fi|0)/24|0;if(mi>>>0<1073741823){vi=mi<<1;A=vi>>>0<pi>>>0?pi:vi}else A=2147483647;_l(_o,A,di,i+12|0);gi=_o+8|0;yi=d[gi>>2]|0;Pl(yi,K);d[gi>>2]=yi+24;Bo(i,_o);al(_o)}Vc(K);r=e+1|0;break e;break}case 121:{bi=xi(32)|0;d[ie+8>>2]=bi;d[ie>>2]=33;d[ie+4>>2]=18;xo=bi;Mo=14232;So=xo+18|0;do{f[xo>>0]=f[Mo>>0]|0;xo=xo+1|0;Mo=Mo+1|0}while((xo|0)<(So|0));f[bi+18>>0]=0;wi=ie+12|0;d[wi>>2]=0;d[wi+4>>2]=0;d[wi+8>>2]=0;_i=i+4|0;Ei=d[_i>>2]|0;Mi=d[i+8>>2]|0;if(Ei>>>0<Mi>>>0){Pl(Ei,ie);d[_i>>2]=(d[_i>>2]|0)+24}else{Si=d[i>>2]|0;Ti=Ei-Si|0;ki=(Ti|0)/24|0;Ai=ki+1|0;if((Ti|0)<-24)Ef(i);Ri=(Mi-Si|0)/24|0;if(Ri>>>0<1073741823){Pi=Ri<<1;R=Pi>>>0<Ai>>>0?Ai:Pi}else R=2147483647;_l(_o,R,ki,i+12|0);Ci=_o+8|0;Oi=d[Ci>>2]|0;Pl(Oi,ie);d[Ci>>2]=Oi+24;Bo(i,_o);al(_o)}Vc(ie);r=e+1|0;break e;break}case 110:{is(se,13824);Ii=i+4|0;Ni=d[Ii>>2]|0;Di=d[i+8>>2]|0;if(Ni>>>0<Di>>>0){Pl(Ni,se);d[Ii>>2]=(d[Ii>>2]|0)+24}else{Fi=d[i>>2]|0;Bi=Ni-Fi|0;zi=(Bi|0)/24|0;Hi=zi+1|0;if((Bi|0)<-24)Ef(i);Gi=(Di-Fi|0)/24|0;if(Gi>>>0<1073741823){Vi=Gi<<1;L=Vi>>>0<Hi>>>0?Hi:Vi}else L=2147483647;_l(_o,L,zi,i+12|0);Wi=_o+8|0;Xi=d[Wi>>2]|0;Pl(Xi,se);d[Wi>>2]=Xi+24;Bo(i,_o);al(_o)}Vc(se);r=e+1|0;break e;break}case 111:{xc(fe,13833);qi=i+4|0;Yi=d[qi>>2]|0;Ji=d[i+8>>2]|0;if(Yi>>>0<Ji>>>0){Pl(Yi,fe);d[qi>>2]=(d[qi>>2]|0)+24}else{Ki=d[i>>2]|0;Qi=Yi-Ki|0;$i=(Qi|0)/24|0;er=$i+1|0;if((Qi|0)<-24)Ef(i);ir=(Ji-Ki|0)/24|0;if(ir>>>0<1073741823){rr=ir<<1;P=rr>>>0<er>>>0?er:rr}else P=2147483647;_l(_o,P,$i,i+12|0);nr=_o+8|0;ar=d[nr>>2]|0;Pl(ar,fe);d[nr>>2]=ar+24;Bo(i,_o);al(_o)}Vc(fe);r=e+1|0;break e;break}case 102:{Bl(ye,14251);or=i+4|0;sr=d[or>>2]|0;lr=d[i+8>>2]|0;if(sr>>>0<lr>>>0){Pl(sr,ye);d[or>>2]=(d[or>>2]|0)+24}else{cr=d[i>>2]|0;ur=sr-cr|0;fr=(ur|0)/24|0;hr=fr+1|0;if((ur|0)<-24)Ef(i);dr=(lr-cr|0)/24|0;if(dr>>>0<1073741823){pr=dr<<1;C=pr>>>0<hr>>>0?hr:pr}else C=2147483647;_l(_o,C,fr,i+12|0);mr=_o+8|0;vr=d[mr>>2]|0;Pl(vr,ye);d[mr>>2]=vr+24;Bo(i,_o);al(_o)}Vc(ye);r=e+1|0;break e;break}case 100:{f[Me>>0]=12;gr=Me+1|0;f[gr>>0]=f[14257]|0;f[gr+1>>0]=f[14258]|0;f[gr+2>>0]=f[14259]|0;f[gr+3>>0]=f[14260]|0;f[gr+4>>0]=f[14261]|0;f[gr+5>>0]=f[14262]|0;f[Me+7>>0]=0;yr=Me+12|0;d[yr>>2]=0;d[yr+4>>2]=0;d[yr+8>>2]=0;wr=i+4|0;_r=d[wr>>2]|0;xr=d[i+8>>2]|0;if(_r>>>0<xr>>>0){Pl(_r,Me);d[wr>>2]=(d[wr>>2]|0)+24}else{Mr=d[i>>2]|0;Sr=_r-Mr|0;Tr=(Sr|0)/24|0;kr=Tr+1|0;if((Sr|0)<-24)Ef(i);Ar=(xr-Mr|0)/24|0;if(Ar>>>0<1073741823){Lr=Ar<<1;O=Lr>>>0<kr>>>0?kr:Lr}else O=2147483647;_l(_o,O,Tr,i+12|0);Pr=_o+8|0;Cr=d[Pr>>2]|0;Pl(Cr,Me);d[Pr>>2]=Cr+24;Bo(i,_o);al(_o)}Vc(Me);r=e+1|0;break e;break}case 101:{Tc(Re,14264);Or=i+4|0;Ir=d[Or>>2]|0;Nr=d[i+8>>2]|0;if(Ir>>>0<Nr>>>0){Pl(Ir,Re);d[Or>>2]=(d[Or>>2]|0)+24}else{Dr=d[i>>2]|0;Fr=Ir-Dr|0;Br=(Fr|0)/24|0;Ur=Br+1|0;if((Fr|0)<-24)Ef(i);zr=(Nr-Dr|0)/24|0;if(zr>>>0<1073741823){Hr=zr<<1;N=Hr>>>0<Ur>>>0?Ur:Hr}else N=2147483647;_l(_o,N,Br,i+12|0);Gr=_o+8|0;jr=d[Gr>>2]|0;Pl(jr,Re);d[Gr>>2]=jr+24;Bo(i,_o);al(_o)}Vc(Re);r=e+1|0;break e;break}case 103:{Yl(Ie,14276);Wr=i+4|0;Xr=d[Wr>>2]|0;qr=d[i+8>>2]|0;if(Xr>>>0<qr>>>0){Pl(Xr,Ie);d[Wr>>2]=(d[Wr>>2]|0)+24}else{Jr=d[i>>2]|0;Zr=Xr-Jr|0;Kr=(Zr|0)/24|0;Qr=Kr+1|0;if((Zr|0)<-24)Ef(i);$r=(qr-Jr|0)/24|0;if($r>>>0<1073741823){en=$r<<1;D=en>>>0<Qr>>>0?Qr:en}else D=2147483647;_l(_o,D,Kr,i+12|0);tn=_o+8|0;rn=d[tn>>2]|0;Pl(rn,Ie);d[tn>>2]=rn+24;Bo(i,_o);al(_o)}Vc(Ie);r=e+1|0;break e;break}case 122:{oc(ze,14287);nn=i+4|0;an=d[nn>>2]|0;on=d[i+8>>2]|0;if(an>>>0<on>>>0){Pl(an,ze);d[nn>>2]=(d[nn>>2]|0)+24}else{sn=d[i>>2]|0;cn=an-sn|0;un=(cn|0)/24|0;fn=un+1|0;if((cn|0)<-24)Ef(i);hn=(on-sn|0)/24|0;if(hn>>>0<1073741823){dn=hn<<1;a=dn>>>0<fn>>>0?fn:dn}else a=2147483647;_l(_o,a,un,i+12|0);pn=_o+8|0;mn=d[pn>>2]|0;Pl(mn,ze);d[pn>>2]=mn+24;Bo(i,_o);al(_o)}Vc(ze);r=e+1|0;break e;break}case 117:{vn=e+1|0;gn=Mn(vn,t,i)|0;w=Eo;return((gn|0)==(vn|0)?e:gn)|0}case 68:{yn=e+1|0;if((yn|0)==(t|0)){r=e;break e}switch(f[yn>>0]|0){case 100:{Jl(We,14291);_n=i+4|0;xn=d[_n>>2]|0;En=d[i+8>>2]|0;if(xn>>>0<En>>>0){Pl(xn,We);d[_n>>2]=(d[_n>>2]|0)+24}else{Sn=d[i>>2]|0;Tn=xn-Sn|0;kn=(Tn|0)/24|0;An=kn+1|0;if((Tn|0)<-24)Ef(i);Rn=(En-Sn|0)/24|0;if(Rn>>>0<1073741823){Ln=Rn<<1;o=Ln>>>0<An>>>0?An:Ln}else o=2147483647;_l(_o,o,kn,i+12|0);Pn=_o+8|0;Cn=d[Pn>>2]|0;Pl(Cn,We);d[Pn>>2]=Cn+24;Bo(i,_o);al(_o)}Vc(We);r=e+2|0;break e;break}case 101:{Yl(Ke,14301);On=i+4|0;In=d[On>>2]|0;Dn=d[i+8>>2]|0;if(In>>>0<Dn>>>0){Pl(In,Ke);d[On>>2]=(d[On>>2]|0)+24}else{Fn=d[i>>2]|0;Bn=In-Fn|0;zn=(Bn|0)/24|0;Hn=zn+1|0;if((Bn|0)<-24)Ef(i);Gn=(Dn-Fn|0)/24|0;if(Gn>>>0<1073741823){Vn=Gn<<1;s=Vn>>>0<Hn>>>0?Hn:Vn}else s=2147483647;_l(_o,s,zn,i+12|0);jn=_o+8|0;Wn=d[jn>>2]|0;Pl(Wn,Ke);d[jn>>2]=Wn+24;Bo(i,_o);al(_o)}Vc(Ke);r=e+2|0;break e;break}case 102:{Jl(tt,14312);Xn=i+4|0;qn=d[Xn>>2]|0;Yn=d[i+8>>2]|0;if(qn>>>0<Yn>>>0){Pl(qn,tt);d[Xn>>2]=(d[Xn>>2]|0)+24}else{Zn=d[i>>2]|0;Kn=qn-Zn|0;Qn=(Kn|0)/24|0;$n=Qn+1|0;if((Kn|0)<-24)Ef(i);ea=(Yn-Zn|0)/24|0;if(ea>>>0<1073741823){ta=ea<<1;l=ta>>>0<$n>>>0?$n:ta}else l=2147483647;_l(_o,l,Qn,i+12|0);ia=_o+8|0;ra=d[ia>>2]|0;Pl(ra,tt);d[ia>>2]=ra+24;Bo(i,_o);al(_o)}Vc(tt);r=e+2|0;break e;break}case 104:{Jl(st,14322);na=i+4|0;aa=d[na>>2]|0;oa=d[i+8>>2]|0;if(aa>>>0<oa>>>0){Pl(aa,st);d[na>>2]=(d[na>>2]|0)+24}else{sa=d[i>>2]|0;la=aa-sa|0;ca=(la|0)/24|0;ua=ca+1|0;if((la|0)<-24)Ef(i);fa=(oa-sa|0)/24|0;if(fa>>>0<1073741823){ha=fa<<1;c=ha>>>0<ua>>>0?ua:ha}else c=2147483647;_l(_o,c,ca,i+12|0);pa=_o+8|0;ma=d[pa>>2]|0;Pl(ma,st);d[pa>>2]=ma+24;Bo(i,_o);al(_o)}Vc(st);r=e+2|0;break e;break}case 105:{is(dt,14332);va=i+4|0;ga=d[va>>2]|0;ya=d[i+8>>2]|0;if(ga>>>0<ya>>>0){Pl(ga,dt);d[va>>2]=(d[va>>2]|0)+24}else{ba=d[i>>2]|0;wa=ga-ba|0;_a=(wa|0)/24|0;xa=_a+1|0;if((wa|0)<-24)Ef(i);Ea=(ya-ba|0)/24|0;if(Ea>>>0<1073741823){Ma=Ea<<1;u=Ma>>>0<xa>>>0?xa:Ma}else u=2147483647;_l(_o,u,_a,i+12|0);Sa=_o+8|0;Ta=d[Sa>>2]|0;Pl(Ta,dt);d[Sa>>2]=Ta+24;Bo(i,_o);al(_o)}Vc(dt);r=e+2|0;break e;break}case 115:{is(yt,14341);Aa=i+4|0;Ra=d[Aa>>2]|0;La=d[i+8>>2]|0;if(Ra>>>0<La>>>0){Pl(Ra,yt);d[Aa>>2]=(d[Aa>>2]|0)+24}else{Ca=d[i>>2]|0;Oa=Ra-Ca|0;Ia=(Oa|0)/24|0;Na=Ia+1|0;if((Oa|0)<-24)Ef(i);Da=(La-Ca|0)/24|0;if(Da>>>0<1073741823){Ba=Da<<1;h=Ba>>>0<Na>>>0?Na:Ba}else h=2147483647;_l(_o,h,Ia,i+12|0);Ua=_o+8|0;za=d[Ua>>2]|0;Pl(za,yt);d[Ua>>2]=za+24;Bo(i,_o);al(_o)}Vc(yt);r=e+2|0;break e;break}case 97:{Ol(Et,14350);Ha=i+4|0;Ga=d[Ha>>2]|0;ja=d[i+8>>2]|0;if(Ga>>>0<ja>>>0){Pl(Ga,Et);d[Ha>>2]=(d[Ha>>2]|0)+24}else{Wa=d[i>>2]|0;Xa=Ga-Wa|0;qa=(Xa|0)/24|0;Ya=qa+1|0;if((Xa|0)<-24)Ef(i);Ja=(ja-Wa|0)/24|0;if(Ja>>>0<1073741823){Za=Ja<<1;p=Za>>>0<Ya>>>0?Ya:Za}else p=2147483647;_l(_o,p,qa,i+12|0);Ka=_o+8|0;Qa=d[Ka>>2]|0;Pl(Qa,Et);d[Ka>>2]=Qa+24;Bo(i,_o);al(_o)}Vc(Et);r=e+2|0;break e;break}case 110:{Ec(kt,14355);$a=i+4|0;eo=d[$a>>2]|0;to=d[i+8>>2]|0;if(eo>>>0<to>>>0){Pl(eo,kt);d[$a>>2]=(d[$a>>2]|0)+24}else{io=d[i>>2]|0;ro=eo-io|0;no=(ro|0)/24|0;ao=no+1|0;if((ro|0)<-24)Ef(i);lo=(to-io|0)/24|0;if(lo>>>0<1073741823){co=lo<<1;v=co>>>0<ao>>>0?ao:co}else v=2147483647;_l(_o,v,no,i+12|0);uo=_o+8|0;fo=d[uo>>2]|0;Pl(fo,kt);d[uo>>2]=fo+24;Bo(i,_o);al(_o)}Vc(kt);r=e+2|0;break e;break}default:{r=e;break e}}break}default:{r=e;break e}}}while(0)}while(0);w=Eo;return r|0}function xi(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,pe=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,gi=0,yi=0,bi=0,wi=0,_i=0,xi=0,Ei=0,Mi=0,Si=0,Ti=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,ln=0,cn=0,un=0,fn=0,hn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Mn=0,Sn=0,Tn=0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Jn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ta=0,ia=0,ra=0,na=0,aa=0,oa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Ga=0,Va=0,ja=0,Wa=0,Xa=0,qa=0,Ya=0,Ja=0,Za=0,Ka=0,Qa=0,$a=0,eo=0,to=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0,fo=0,ho=0,po=0,mo=0,vo=0,go=0,yo=0,bo=0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Co=0,Oo=0,Io=0,No=0,Do=0,Fo=0,Bo=0,Uo=0,zo=0,Ho=0,Go=0,Vo=0,jo=0,Wo=0,Xo=0,qo=0,Yo=0,Jo=0,Zo=0,Ko=0,Qo=0,$o=0,es=0,ts=0,is=0,rs=0,ns=0,as=0,os=0,ss=0,ls=0,cs=0,us=0,fs=0,hs=0,ds=0,ps=0;do{if(e>>>0<245){Zt=e>>>0<11?16:e+11&-8;ki=Zt>>>3;dr=d[756]|0;Xr=dr>>>ki;if(Xr&3){K=(Xr&1^1)+ki|0;ie=K<<1;ae=3064+(ie<<2)|0;fe=3064+(ie+2<<2)|0;ve=d[fe>>2]|0;_e=ve+8|0;Ae=d[_e>>2]|0;do{if((ae|0)==(Ae|0))d[756]=dr&~(1<<K);else{if(Ae>>>0<(d[760]|0)>>>0)rt();Ze=Ae+12|0;if((d[Ze>>2]|0)==(ve|0)){d[Ze>>2]=ae;d[fe>>2]=Ae;break}else rt()}}while(0);ot=K<<3;d[ve+4>>2]=ot|3;pt=ve+(ot|4)|0;d[pt>>2]=d[pt>>2]|1;Mo=_e;return Mo|0}At=d[758]|0;if(Zt>>>0>At>>>0){if(Xr){Wt=2<<ki;Qt=Xr<<ki&(Wt|0-Wt);ui=(Qt&0-Qt)+-1|0;gi=ui>>>12&16;_i=ui>>>gi;Mi=_i>>>5&8;Pi=_i>>>Mi;Bi=Pi>>>2&4;Xi=Pi>>>Bi;er=Xi>>>1&2;lr=Xi>>>er;gr=lr>>>1&1;Tr=(Mi|gi|Bi|er|gr)+(lr>>>gr)|0;Lr=Tr<<1;Or=3064+(Lr<<2)|0;Fr=3064+(Lr+2<<2)|0;zr=d[Fr>>2]|0;Vr=zr+8|0;qr=d[Vr>>2]|0;do{if((Or|0)==(qr|0)){d[756]=dr&~(1<<Tr);ea=At}else{if(qr>>>0<(d[760]|0)>>>0)rt();dn=qr+12|0;if((d[dn>>2]|0)==(zr|0)){d[dn>>2]=Or;d[Fr>>2]=qr;ea=d[758]|0;break}else rt()}}while(0);An=Tr<<3;Pn=An-Zt|0;d[zr+4>>2]=Zt|3;Fn=zr+Zt|0;d[zr+(Zt|4)>>2]=Pn|1;d[zr+An>>2]=Pn;if(ea){ia=d[761]|0;aa=ea>>>3;ca=aa<<1;da=3064+(ca<<2)|0;ma=d[756]|0;_a=1<<aa;if(!(ma&_a)){d[756]=ma|_a;w=3064+(ca+2<<2)|0;Ha=da}else{Na=3064+(ca+2<<2)|0;T=d[Na>>2]|0;if(T>>>0<(d[760]|0)>>>0)rt();else{w=Na;Ha=T}}d[w>>2]=ia;d[Ha+12>>2]=ia;d[ia+8>>2]=Ha;d[ia+12>>2]=da}d[758]=Pn;d[761]=Fn;Mo=Vr;return Mo|0}z=d[757]|0;if(!z)So=Zt;else{W=(z&0-z)+-1|0;X=W>>>12&16;q=W>>>X;Y=q>>>5&8;J=q>>>Y;Z=J>>>2&4;Q=J>>>Z;$=Q>>>1&2;ee=Q>>>$;te=ee>>>1&1;re=d[3328+((Y|X|Z|$|te)+(ee>>>te)<<2)>>2]|0;Ao=(d[re+4>>2]&-8)-Zt|0;Yo=re;as=re;while(1){ne=d[Yo+16>>2]|0;if(!ne){oe=d[Yo+20>>2]|0;if(!oe){Ro=Ao;os=as;break}else se=oe}else se=ne;le=(d[se+4>>2]&-8)-Zt|0;ce=le>>>0<Ao>>>0;Ao=ce?le:Ao;Yo=se;as=ce?se:as}ue=d[760]|0;if(os>>>0<ue>>>0)rt();he=os+Zt|0;if(os>>>0>=he>>>0)rt();de=d[os+24>>2]|0;pe=d[os+12>>2]|0;do{if((pe|0)==(os|0)){be=os+20|0;we=d[be>>2]|0;if(!we){xe=os+16|0;Ee=d[xe>>2]|0;if(!Ee){io=0;break}else{Za=Ee;ao=xe}}else{Za=we;ao=be}while(1){Me=Za+20|0;Se=d[Me>>2]|0;if(Se){Za=Se;ao=Me;continue}Te=Za+16|0;ke=d[Te>>2]|0;if(!ke){$a=Za;lo=ao;break}else{Za=ke;ao=Te}}if(lo>>>0<ue>>>0)rt();else{d[lo>>2]=0;io=$a;break}}else{me=d[os+8>>2]|0;if(me>>>0<ue>>>0)rt();ge=me+12|0;if((d[ge>>2]|0)!=(os|0))rt();ye=pe+8|0;if((d[ye>>2]|0)==(os|0)){d[ge>>2]=pe;d[ye>>2]=me;io=pe;break}else rt()}}while(0);do{if(de){Re=d[os+28>>2]|0;Le=3328+(Re<<2)|0;if((os|0)==(d[Le>>2]|0)){d[Le>>2]=io;if(!io){d[757]=d[757]&~(1<<Re);break}}else{if(de>>>0<(d[760]|0)>>>0)rt();Pe=de+16|0;if((d[Pe>>2]|0)==(os|0))d[Pe>>2]=io;else d[de+20>>2]=io;if(!io)break}Ce=d[760]|0;if(io>>>0<Ce>>>0)rt();d[io+24>>2]=de;Oe=d[os+16>>2]|0;do{if(Oe)if(Oe>>>0<Ce>>>0)rt();else{d[io+16>>2]=Oe;d[Oe+24>>2]=io;break}}while(0);Ie=d[os+20>>2]|0;if(Ie)if(Ie>>>0<(d[760]|0)>>>0)rt();else{d[io+20>>2]=Ie;d[Ie+24>>2]=io;break}}}while(0);if(Ro>>>0<16){Ne=Ro+Zt|0;d[os+4>>2]=Ne|3;De=os+(Ne+4)|0;d[De>>2]=d[De>>2]|1}else{d[os+4>>2]=Zt|3;d[os+(Zt|4)>>2]=Ro|1;d[os+(Ro+Zt)>>2]=Ro;Fe=d[758]|0;if(Fe){Be=d[761]|0;Ue=Fe>>>3;ze=Ue<<1;He=3064+(ze<<2)|0;Ge=d[756]|0;Ve=1<<Ue;if(!(Ge&Ve)){d[756]=Ge|Ve;y=3064+(ze+2<<2)|0;za=He}else{je=3064+(ze+2<<2)|0;We=d[je>>2]|0;if(We>>>0<(d[760]|0)>>>0)rt();else{y=je;za=We}}d[y>>2]=Be;d[za+12>>2]=Be;d[Be+8>>2]=za;d[Be+12>>2]=He}d[758]=Ro;d[761]=he}Mo=os+8|0;return Mo|0}}else So=Zt}else if(e>>>0>4294967231)So=-1;else{Xe=e+11|0;qe=Xe&-8;Ye=d[757]|0;if(!Ye)So=qe;else{Je=0-qe|0;Ke=Xe>>>8;if(!Ke)Eo=0;else if(qe>>>0>16777215)Eo=31;else{Qe=(Ke+1048320|0)>>>16&8;$e=Ke<<Qe;et=($e+520192|0)>>>16&4;tt=$e<<et;it=(tt+245760|0)>>>16&2;nt=14-(et|Qe|it)+(tt<<it>>>15)|0;Eo=qe>>>(nt+7|0)&1|nt<<1}at=d[3328+(Eo<<2)>>2]|0;e:do{if(!at){Co=Je;Zo=0;cs=0;ds=86}else{Lo=Je;No=0;Fo=qe<<((Eo|0)==31?0:25-(Eo>>>1)|0);Jo=at;ss=0;while(1){st=d[Jo+4>>2]&-8;lt=st-qe|0;if(lt>>>0<Lo>>>0)if((st|0)==(qe|0)){Io=lt;$o=Jo;hs=Jo;ds=90;break e}else{Po=lt;ls=Jo}else{Po=Lo;ls=ss}ct=d[Jo+20>>2]|0;Jo=d[Jo+16+(Fo>>>31<<2)>>2]|0;Do=(ct|0)==0|(ct|0)==(Jo|0)?No:ct;if(!Jo){Co=Po;Zo=Do;cs=ls;ds=86;break}else{Lo=Po;No=Do;Fo=Fo<<1;ss=ls}}}}while(0);if((ds|0)==86){if((Zo|0)==0&(cs|0)==0){ut=2<<Eo;ft=Ye&(ut|0-ut);if(!ft){So=qe;break}ht=(ft&0-ft)+-1|0;dt=ht>>>12&16;mt=ht>>>dt;vt=mt>>>5&8;gt=mt>>>vt;yt=gt>>>2&4;wt=gt>>>yt;_t=wt>>>1&2;xt=wt>>>_t;Et=xt>>>1&1;Ko=d[3328+((vt|dt|yt|_t|Et)+(xt>>>Et)<<2)>>2]|0;fs=0}else{Ko=Zo;fs=cs}if(!Ko){Oo=Co;us=fs}else{Io=Co;$o=Ko;hs=fs;ds=90}}if((ds|0)==90)while(1){ds=0;Mt=(d[$o+4>>2]&-8)-qe|0;St=Mt>>>0<Io>>>0;_=St?Mt:Io;Qo=St?$o:hs;kt=d[$o+16>>2]|0;if(kt){Io=_;$o=kt;hs=Qo;ds=90;continue}$o=d[$o+20>>2]|0;if(!$o){Oo=_;us=Qo;break}else{Io=_;hs=Qo;ds=90}}if(!us)So=qe;else if(Oo>>>0<((d[758]|0)-qe|0)>>>0){Rt=d[760]|0;if(us>>>0<Rt>>>0)rt();Lt=us+qe|0;if(us>>>0>=Lt>>>0)rt();Pt=d[us+24>>2]|0;Ct=d[us+12>>2]|0;do{if((Ct|0)==(us|0)){Dt=us+20|0;Ft=d[Dt>>2]|0;if(!Ft){Bt=us+16|0;Ut=d[Bt>>2]|0;if(!Ut){no=0;break}else{eo=Ut;co=Bt}}else{eo=Ft;co=Dt}while(1){zt=eo+20|0;Ht=d[zt>>2]|0;if(Ht){eo=Ht;co=zt;continue}Gt=eo+16|0;Vt=d[Gt>>2]|0;if(!Vt){to=eo;uo=co;break}else{eo=Vt;co=Gt}}if(uo>>>0<Rt>>>0)rt();else{d[uo>>2]=0;no=to;break}}else{Ot=d[us+8>>2]|0;if(Ot>>>0<Rt>>>0)rt();It=Ot+12|0;if((d[It>>2]|0)!=(us|0))rt();Nt=Ct+8|0;if((d[Nt>>2]|0)==(us|0)){d[It>>2]=Ct;d[Nt>>2]=Ot;no=Ct;break}else rt()}}while(0);do{if(Pt){jt=d[us+28>>2]|0;Xt=3328+(jt<<2)|0;if((us|0)==(d[Xt>>2]|0)){d[Xt>>2]=no;if(!no){d[757]=d[757]&~(1<<jt);break}}else{if(Pt>>>0<(d[760]|0)>>>0)rt();qt=Pt+16|0;if((d[qt>>2]|0)==(us|0))d[qt>>2]=no;else d[Pt+20>>2]=no;if(!no)break}Yt=d[760]|0;if(no>>>0<Yt>>>0)rt();d[no+24>>2]=Pt;Jt=d[us+16>>2]|0;do{if(Jt)if(Jt>>>0<Yt>>>0)rt();else{d[no+16>>2]=Jt;d[Jt+24>>2]=no;break}}while(0);Kt=d[us+20>>2]|0;if(Kt)if(Kt>>>0<(d[760]|0)>>>0)rt();else{d[no+20>>2]=Kt;d[Kt+24>>2]=no;break}}}while(0);e:do{if(Oo>>>0<16){$t=Oo+qe|0;d[us+4>>2]=$t|3;ei=us+($t+4)|0;d[ei>>2]=d[ei>>2]|1}else{d[us+4>>2]=qe|3;d[us+(qe|4)>>2]=Oo|1;d[us+(Oo+qe)>>2]=Oo;ti=Oo>>>3;if(Oo>>>0<256){ii=ti<<1;ni=3064+(ii<<2)|0;ai=d[756]|0;oi=1<<ti;if(!(ai&oi)){d[756]=ai|oi;g=3064+(ii+2<<2)|0;Va=ni}else{si=3064+(ii+2<<2)|0;li=d[si>>2]|0;if(li>>>0<(d[760]|0)>>>0)rt();else{g=si;Va=li}}d[g>>2]=Lt;d[Va+12>>2]=Lt;d[us+(qe+8)>>2]=Va;d[us+(qe+12)>>2]=ni;break}ci=Oo>>>8;if(!ci)Wa=0;else if(Oo>>>0>16777215)Wa=31;else{fi=(ci+1048320|0)>>>16&8;hi=ci<<fi;di=(hi+520192|0)>>>16&4;pi=hi<<di;mi=(pi+245760|0)>>>16&2;vi=14-(di|fi|mi)+(pi<<mi>>>15)|0;Wa=Oo>>>(vi+7|0)&1|vi<<1}yi=3328+(Wa<<2)|0;d[us+(qe+28)>>2]=Wa;d[us+(qe+20)>>2]=0;d[us+(qe+16)>>2]=0;bi=d[757]|0;wi=1<<Wa;if(!(bi&wi)){d[757]=bi|wi;d[yi>>2]=Lt;d[us+(qe+24)>>2]=yi;d[us+(qe+12)>>2]=Lt;d[us+(qe+8)>>2]=Lt;break}xi=d[yi>>2]|0;t:do{if((d[xi+4>>2]&-8|0)==(Oo|0))fo=xi;else{qa=Oo<<((Wa|0)==31?0:25-(Wa>>>1)|0);mo=xi;while(1){Si=mo+16+(qa>>>31<<2)|0;Ei=d[Si>>2]|0;if(!Ei){p=Si;vo=mo;break}if((d[Ei+4>>2]&-8|0)==(Oo|0)){fo=Ei;break t}else{qa=qa<<1;mo=Ei}}if(p>>>0<(d[760]|0)>>>0)rt();else{d[p>>2]=Lt;d[us+(qe+24)>>2]=vo;d[us+(qe+12)>>2]=Lt;d[us+(qe+8)>>2]=Lt;break e}}}while(0);Ti=fo+8|0;Ai=d[Ti>>2]|0;Ri=d[760]|0;if(Ai>>>0>=Ri>>>0&fo>>>0>=Ri>>>0){d[Ai+12>>2]=Lt;d[Ti>>2]=Lt;d[us+(qe+8)>>2]=Ai;d[us+(qe+12)>>2]=fo;d[us+(qe+24)>>2]=0;break}else rt()}}while(0);Mo=us+8|0;return Mo|0}else So=qe}}}while(0);Li=d[758]|0;if(Li>>>0>=So>>>0){Ci=Li-So|0;Oi=d[761]|0;if(Ci>>>0>15){d[761]=Oi+So;d[758]=Ci;d[Oi+(So+4)>>2]=Ci|1;d[Oi+Li>>2]=Ci;d[Oi+4>>2]=So|3}else{d[758]=0;d[761]=0;d[Oi+4>>2]=Li|3;Ii=Oi+(Li+4)|0;d[Ii>>2]=d[Ii>>2]|1}Mo=Oi+8|0;return Mo|0}Ni=d[759]|0;if(Ni>>>0>So>>>0){Di=Ni-So|0;d[759]=Di;Fi=d[762]|0;d[762]=Fi+So;d[Fi+(So+4)>>2]=Di|1;d[Fi+4>>2]=So|3;Mo=Fi+8|0;return Mo|0}do{if(!(d[874]|0)){Ui=Tt(30)|0;if(!(Ui+-1&Ui)){d[876]=Ui;d[875]=Ui;d[877]=-1;d[878]=-1;d[879]=0;d[867]=0;zi=(ri(0)|0)&-16^1431655768;d[874]=zi;break}else rt()}}while(0);Hi=So+48|0;Gi=d[876]|0;Vi=So+47|0;ji=Gi+Vi|0;Wi=0-Gi|0;qi=ji&Wi;if(qi>>>0<=So>>>0){Mo=0;return Mo|0}Yi=d[866]|0;if(Yi){Ji=d[864]|0;Zi=Ji+qi|0;if(Zi>>>0<=Ji>>>0|Zi>>>0>Yi>>>0){Mo=0;return Mo|0}}e:do{if(!(d[867]&4)){Ki=d[762]|0;t:do{if(!Ki)ds=174;else{Bo=3472;while(1){Qi=d[Bo>>2]|0;if(Qi>>>0<=Ki>>>0){$i=Bo+4|0;if((Qi+(d[$i>>2]|0)|0)>>>0>Ki>>>0){f=Bo;h=$i;break}}Bo=d[Bo+8>>2]|0;if(!Bo){ds=174;break t}}fr=ji-(d[759]|0)&Wi;if(fr>>>0<2147483647){hr=bt(fr|0)|0;pr=(hr|0)==((d[f>>2]|0)+(d[h>>2]|0)|0);t=pr?fr:0;if(pr)if((hr|0)==(-1|0))is=t;else{es=hr;ns=t;ds=194;break e}else{_o=hr;Xo=fr;ts=t;ds=184}}else is=0}}while(0);do{if((ds|0)==174){tr=bt(0)|0;if((tr|0)==(-1|0))is=0;else{ir=tr;rr=d[875]|0;nr=rr+-1|0;if(!(nr&ir))Wo=qi;else Wo=qi-ir+(nr+ir&0-rr)|0;ar=d[864]|0;or=ar+Wo|0;if(Wo>>>0>So>>>0&Wo>>>0<2147483647){sr=d[866]|0;if(sr)if(or>>>0<=ar>>>0|or>>>0>sr>>>0){is=0;break}cr=bt(Wo|0)|0;ur=(cr|0)==(tr|0);jo=ur?Wo:0;if(ur){es=tr;ns=jo;ds=194;break e}else{_o=cr;Xo=Wo;ts=jo;ds=184}}else is=0}}}while(0);t:do{if((ds|0)==184){mr=0-Xo|0;do{if(Hi>>>0>Xo>>>0&(Xo>>>0<2147483647&(_o|0)!=(-1|0))){vr=d[876]|0;yr=Vi-Xo+vr&0-vr;if(yr>>>0<2147483647)if((bt(yr|0)|0)==(-1|0)){bt(mr|0)|0;is=ts;break t}else{qo=yr+Xo|0;break}else qo=Xo}else qo=Xo}while(0);if((_o|0)==(-1|0))is=ts;else{es=_o;ns=qo;ds=194;break e}}}while(0);d[867]=d[867]|4;rs=is;ds=191}else{rs=0;ds=191}}while(0);if((ds|0)==191)if(qi>>>0<2147483647){br=bt(qi|0)|0;wr=bt(0)|0;if(br>>>0<wr>>>0&((br|0)!=(-1|0)&(wr|0)!=(-1|0))){_r=wr-br|0;xr=_r>>>0>(So+40|0)>>>0;if(xr){es=br;ns=xr?_r:rs;ds=194}}}if((ds|0)==194){Er=(d[864]|0)+ns|0;d[864]=Er;if(Er>>>0>(d[865]|0)>>>0)d[865]=Er;Mr=d[762]|0;e:do{if(!Mr){Sr=d[760]|0;if((Sr|0)==0|es>>>0<Sr>>>0)d[760]=es;d[868]=es;d[869]=ns;d[871]=0;d[765]=d[874];d[764]=-1;xo=0;do{kr=xo<<1;Ar=3064+(kr<<2)|0;d[3064+(kr+3<<2)>>2]=Ar;d[3064+(kr+2<<2)>>2]=Ar;xo=xo+1|0}while((xo|0)!=32);Rr=es+8|0;Pr=(Rr&7|0)==0?0:0-Rr&7;Cr=ns+-40-Pr|0;d[762]=es+Pr;d[759]=Cr;d[es+(Pr+4)>>2]=Cr|1;d[es+(ns+-36)>>2]=40;d[763]=d[878]}else{zo=3472;do{Ir=d[zo>>2]|0;Nr=zo+4|0;Dr=d[Nr>>2]|0;if((es|0)==(Ir+Dr|0)){l=Ir;c=Nr;u=Dr;Ho=zo;ds=204;break}zo=d[zo+8>>2]|0}while((zo|0)!=0);if((ds|0)==204)if(!(d[Ho+12>>2]&8))if(Mr>>>0<es>>>0&Mr>>>0>=l>>>0){d[c>>2]=u+ns;Br=(d[759]|0)+ns|0;Ur=Mr+8|0;Hr=(Ur&7|0)==0?0:0-Ur&7;Gr=Br-Hr|0;d[762]=Mr+Hr;d[759]=Gr;d[Mr+(Hr+4)>>2]=Gr|1;d[Mr+(Br+4)>>2]=40;d[763]=d[878];break}jr=d[760]|0;if(es>>>0<jr>>>0){d[760]=es;fn=es}else fn=jr;Wr=es+ns|0;Go=3472;while(1){if((d[Go>>2]|0)==(Wr|0)){s=Go;Vo=Go;ds=212;break}Go=d[Go+8>>2]|0;if(!Go){Uo=3472;break}}if((ds|0)==212)if(!(d[Vo+12>>2]&8)){d[s>>2]=es;Yr=Vo+4|0;d[Yr>>2]=(d[Yr>>2]|0)+ns;Jr=es+8|0;Zr=(Jr&7|0)==0?0:0-Jr&7;Kr=es+(ns+8)|0;Qr=(Kr&7|0)==0?0:0-Kr&7;$r=es+(Qr+ns)|0;x=Zr+So|0;en=es+x|0;tn=$r-(es+Zr)-So|0;d[es+(Zr+4)>>2]=So|3;t:do{if(($r|0)==(Mr|0)){rn=(d[759]|0)+tn|0;d[759]=rn;d[762]=en;d[es+(x+4)>>2]=rn|1}else{if(($r|0)==(d[761]|0)){nn=(d[758]|0)+tn|0;d[758]=nn;d[761]=en;d[es+(x+4)>>2]=nn|1;d[es+(nn+x)>>2]=nn;break}E=ns+4|0;an=d[es+(E+Qr)>>2]|0;if((an&3|0)==1){on=an&-8;sn=an>>>3;i:do{if(an>>>0<256){ln=d[es+((Qr|8)+ns)>>2]|0;cn=d[es+(ns+12+Qr)>>2]|0;un=3064+(sn<<1<<2)|0;do{if((ln|0)!=(un|0)){if(ln>>>0<fn>>>0)rt();if((d[ln+12>>2]|0)==($r|0))break;rt()}}while(0);if((cn|0)==(ln|0)){d[756]=d[756]&~(1<<sn);break}do{if((cn|0)==(un|0))b=cn+8|0;else{if(cn>>>0<fn>>>0)rt();hn=cn+8|0;if((d[hn>>2]|0)==($r|0)){b=hn;break}rt()}}while(0);d[ln+12>>2]=cn;d[b>>2]=ln}else{pn=d[es+((Qr|24)+ns)>>2]|0;mn=d[es+(ns+12+Qr)>>2]|0;do{if((mn|0)==($r|0)){S=Qr|16;bn=es+(E+S)|0;wn=d[bn>>2]|0;if(!wn){_n=es+(S+ns)|0;xn=d[_n>>2]|0;if(!xn){ro=0;break}else{Ka=xn;oo=_n}}else{Ka=wn;oo=bn}while(1){En=Ka+20|0;Mn=d[En>>2]|0;if(Mn){Ka=Mn;oo=En;continue}Sn=Ka+16|0;Tn=d[Sn>>2]|0;if(!Tn){Qa=Ka;so=oo;break}else{Ka=Tn;oo=Sn}}if(so>>>0<fn>>>0)rt();else{d[so>>2]=0;ro=Qa;break}}else{vn=d[es+((Qr|8)+ns)>>2]|0;if(vn>>>0<fn>>>0)rt();gn=vn+12|0;if((d[gn>>2]|0)!=($r|0))rt();yn=mn+8|0;if((d[yn>>2]|0)==($r|0)){d[gn>>2]=mn;d[yn>>2]=vn;ro=mn;break}else rt()}}while(0);if(!pn)break;kn=d[es+(ns+28+Qr)>>2]|0;Rn=3328+(kn<<2)|0;do{if(($r|0)==(d[Rn>>2]|0)){d[Rn>>2]=ro;if(ro)break;d[757]=d[757]&~(1<<kn);break i}else{if(pn>>>0<(d[760]|0)>>>0)rt();Ln=pn+16|0;if((d[Ln>>2]|0)==($r|0))d[Ln>>2]=ro;else d[pn+20>>2]=ro;if(!ro)break i}}while(0);Cn=d[760]|0;if(ro>>>0<Cn>>>0)rt();d[ro+24>>2]=pn;M=Qr|16;On=d[es+(M+ns)>>2]|0;do{if(On)if(On>>>0<Cn>>>0)rt();else{d[ro+16>>2]=On;d[On+24>>2]=ro;break}}while(0);In=d[es+(E+M)>>2]|0;if(!In)break;if(In>>>0<(d[760]|0)>>>0)rt();else{d[ro+20>>2]=In;d[In+24>>2]=ro;break}}}while(0);To=es+((on|Qr)+ns)|0;ko=on+tn|0}else{To=$r;ko=tn}Nn=To+4|0;d[Nn>>2]=d[Nn>>2]&-2;d[es+(x+4)>>2]=ko|1;d[es+(ko+x)>>2]=ko;Dn=ko>>>3;if(ko>>>0<256){Bn=Dn<<1;Un=3064+(Bn<<2)|0;zn=d[756]|0;Hn=1<<Dn;do{if(!(zn&Hn)){d[756]=zn|Hn;v=3064+(Bn+2<<2)|0;Ga=Un}else{Gn=3064+(Bn+2<<2)|0;Vn=d[Gn>>2]|0;if(Vn>>>0>=(d[760]|0)>>>0){v=Gn;Ga=Vn;break}rt()}}while(0);d[v>>2]=en;d[Ga+12>>2]=en;d[es+(x+8)>>2]=Ga;d[es+(x+12)>>2]=Un;break}jn=ko>>>8;do{if(!jn)Xa=0;else{if(ko>>>0>16777215){Xa=31;break}Wn=(jn+1048320|0)>>>16&8;Xn=jn<<Wn;qn=(Xn+520192|0)>>>16&4;Yn=Xn<<qn;Jn=(Yn+245760|0)>>>16&2;Zn=14-(qn|Wn|Jn)+(Yn<<Jn>>>15)|0;Xa=ko>>>(Zn+7|0)&1|Zn<<1}}while(0);Kn=3328+(Xa<<2)|0;d[es+(x+28)>>2]=Xa;d[es+(x+20)>>2]=0;d[es+(x+16)>>2]=0;Qn=d[757]|0;$n=1<<Xa;if(!(Qn&$n)){d[757]=Qn|$n;d[Kn>>2]=en;d[es+(x+24)>>2]=Kn;d[es+(x+12)>>2]=en;d[es+(x+8)>>2]=en;break}ta=d[Kn>>2]|0;i:do{if((d[ta+4>>2]&-8|0)==(ko|0))po=ta;else{Ja=ko<<((Xa|0)==31?0:25-(Xa>>>1)|0);go=ta;while(1){na=go+16+(Ja>>>31<<2)|0;ra=d[na>>2]|0;if(!ra){i=na;yo=go;break}if((d[ra+4>>2]&-8|0)==(ko|0)){po=ra;break i}else{Ja=Ja<<1;go=ra}}if(i>>>0<(d[760]|0)>>>0)rt();else{d[i>>2]=en;d[es+(x+24)>>2]=yo;d[es+(x+12)>>2]=en;d[es+(x+8)>>2]=en;break t}}}while(0);oa=po+8|0;sa=d[oa>>2]|0;la=d[760]|0;if(sa>>>0>=la>>>0&po>>>0>=la>>>0){d[sa+12>>2]=en;d[oa>>2]=en;d[es+(x+8)>>2]=sa;d[es+(x+12)>>2]=po;d[es+(x+24)>>2]=0;break}else rt()}}while(0);Mo=es+(Zr|8)|0;return Mo|0}else Uo=3472;while(1){ua=d[Uo>>2]|0;if(ua>>>0<=Mr>>>0){fa=d[Uo+4>>2]|0;ha=ua+fa|0;if(ha>>>0>Mr>>>0){n=ua;a=fa;o=ha;break}}Uo=d[Uo+8>>2]|0}pa=n+(a+-39)|0;va=n+(a+-47+((pa&7|0)==0?0:0-pa&7))|0;ga=Mr+16|0;ya=va>>>0<ga>>>0?Mr:va;ba=ya+8|0;wa=es+8|0;xa=(wa&7|0)==0?0:0-wa&7;Ea=ns+-40-xa|0;d[762]=es+xa;d[759]=Ea;d[es+(xa+4)>>2]=Ea|1;d[es+(ns+-36)>>2]=40;d[763]=d[878];Ma=ya+4|0;d[Ma>>2]=27;d[ba>>2]=d[868];d[ba+4>>2]=d[869];d[ba+8>>2]=d[870];d[ba+12>>2]=d[871];d[868]=es;d[869]=ns;d[871]=0;d[870]=ba;Sa=ya+28|0;d[Sa>>2]=7;if((ya+32|0)>>>0<o>>>0){Ta=Sa;do{ps=Ta;Ta=Ta+4|0;d[Ta>>2]=7}while((ps+8|0)>>>0<o>>>0)}if((ya|0)!=(Mr|0)){ka=ya-Mr|0;d[Ma>>2]=d[Ma>>2]&-2;d[Mr+4>>2]=ka|1;d[ya>>2]=ka;Aa=ka>>>3;if(ka>>>0<256){Ra=Aa<<1;La=3064+(Ra<<2)|0;Pa=d[756]|0;Ca=1<<Aa;if(!(Pa&Ca)){d[756]=Pa|Ca;m=3064+(Ra+2<<2)|0;Ua=La}else{Oa=3064+(Ra+2<<2)|0;Ia=d[Oa>>2]|0;if(Ia>>>0<(d[760]|0)>>>0)rt();else{m=Oa;Ua=Ia}}d[m>>2]=Mr;d[Ua+12>>2]=Mr;d[Mr+8>>2]=Ua;d[Mr+12>>2]=La;break}Da=ka>>>8;if(!Da)ja=0;else if(ka>>>0>16777215)ja=31;else{Fa=(Da+1048320|0)>>>16&8;Ba=Da<<Fa;k=(Ba+520192|0)>>>16&4;A=Ba<<k;R=(A+245760|0)>>>16&2;L=14-(k|Fa|R)+(A<<R>>>15)|0;ja=ka>>>(L+7|0)&1|L<<1}P=3328+(ja<<2)|0;d[Mr+28>>2]=ja;d[Mr+20>>2]=0;d[ga>>2]=0;C=d[757]|0;O=1<<ja;if(!(C&O)){d[757]=C|O;d[P>>2]=Mr;d[Mr+24>>2]=P;d[Mr+12>>2]=Mr;d[Mr+8>>2]=Mr;break}I=d[P>>2]|0;t:do{if((d[I+4>>2]&-8|0)==(ka|0))ho=I;else{Ya=ka<<((ja|0)==31?0:25-(ja>>>1)|0);bo=I;while(1){D=bo+16+(Ya>>>31<<2)|0;N=d[D>>2]|0;if(!N){r=D;wo=bo;break}if((d[N+4>>2]&-8|0)==(ka|0)){ho=N;break t}else{Ya=Ya<<1;bo=N}}if(r>>>0<(d[760]|0)>>>0)rt();else{d[r>>2]=Mr;d[Mr+24>>2]=wo;d[Mr+12>>2]=Mr;d[Mr+8>>2]=Mr;break e}}}while(0);F=ho+8|0;B=d[F>>2]|0;U=d[760]|0;if(B>>>0>=U>>>0&ho>>>0>=U>>>0){d[B+12>>2]=Mr;d[F>>2]=Mr;d[Mr+8>>2]=B;d[Mr+12>>2]=ho;d[Mr+24>>2]=0;break}else rt()}}}while(0);H=d[759]|0;if(H>>>0>So>>>0){G=H-So|0;d[759]=G;V=d[762]|0;d[762]=V+So;d[V+(So+4)>>2]=G|1;d[V+4>>2]=So|3;Mo=V+8|0;return Mo|0}}j=Ju()|0;d[j>>2]=12;Mo=0;return Mo|0}function Ei(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,n=0.0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,C=0,O=0,I=0,N=0,D=0,F=0.0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0.0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0.0,Ke=0.0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,gi=0,yi=0,bi=0,wi=0,_i=0,xi=0,Ei=0,Mi=0,Si=0,Ti=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0.0,Di=0,Fi=0.0,Bi=0.0,Ui=0.0,zi=0,Hi=0,Gi=0.0,Vi=0.0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0.0,Yr=0.0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,ln=0,cn=0,un=0,fn=0,hn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Mn=0,Sn=0,Tn=0,kn=0.0,An=0.0,Rn=0.0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Jn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ia=0,ra=0,na=0,aa=0,oa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Ga=0,Va=0,ja=0,Wa=0,Xa=0,qa=0.0,Ya=0.0,Ja=0.0,Za=0,Ka=0,Qa=0,$a=0,eo=0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0.0,fo=0.0,ho=0.0,po=0.0,mo=0.0,vo=0.0,go=0.0,yo=0.0,bo=0.0,wo=0.0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Co=0,Oo=0;Oo=w;w=w+512|0;if((w|0)>=(_|0))pe();co=Oo;switch(t|0){case 0:{Jr=24;Tn=-149;Co=4;break}case 1:{Jr=53;Tn=-1074;Co=4;break}case 2:{Jr=53;Tn=-1074;Co=4;break}default:r=0.0}e:do{if((Co|0)==4){U=e+4|0;z=e+100|0;do{he=d[U>>2]|0;if(he>>>0<(d[z>>2]|0)>>>0){d[U>>2]=he+1;Lr=p[he>>0]|0}else Lr=to(e)|0}while((th(Lr)|0)!=0);O=Lr;t:do{switch(O|0){case 43:case 45:{Z=1-(((O|0)==45&1)<<1)|0;re=d[U>>2]|0;if(re>>>0<(d[z>>2]|0)>>>0){d[U>>2]=re+1;Zr=p[re>>0]|0;Za=Z;break t}else{Zr=to(e)|0;Za=Z;break t}break}default:{Zr=O;Za=1}}}while(0);en=Zr;$n=0;while(1){if((en|32|0)!=(f[16458+$n>>0]|0)){Qr=en;Qn=$n;break}do{if($n>>>0<7){Ge=d[U>>2]|0;if(Ge>>>0<(d[z>>2]|0)>>>0){d[U>>2]=Ge+1;tn=p[Ge>>0]|0;break}else{tn=to(e)|0;break}}else tn=en}while(0);lt=$n+1|0;if(lt>>>0<8){en=tn;$n=lt}else{Qr=tn;Qn=lt;break}}t:do{switch(Qn|0){case 8:break;case 3:{Co=23;break}default:{wt=(i|0)!=0;if(wt&Qn>>>0>3)if((Qn|0)==8)break t;else{Co=23;break t}i:do{if(!Qn){an=Qr;ia=0;while(1){if((an|32|0)!=(f[18301+ia>>0]|0)){sn=an;ra=ia;break i}do{if(ia>>>0<2){Li=d[U>>2]|0;if(Li>>>0<(d[z>>2]|0)>>>0){d[U>>2]=Li+1;on=p[Li>>0]|0;break}else{on=to(e)|0;break}}else on=an}while(0);Xi=ia+1|0;if(Xi>>>0<3){an=on;ia=Xi}else{sn=on;ra=Xi;break}}}else{sn=Qr;ra=Qn}}while(0);switch(ra|0){case 3:{Zi=d[U>>2]|0;if(Zi>>>0<(d[z>>2]|0)>>>0){d[U>>2]=Zi+1;Ar=p[Zi>>0]|0}else Ar=to(e)|0;if((Ar|0)==40)na=1;else{if(!(d[z>>2]|0)){r=L;break e}d[U>>2]=(d[U>>2]|0)+-1;r=L;break e}while(1){Rr=d[U>>2]|0;if(Rr>>>0<(d[z>>2]|0)>>>0){d[U>>2]=Rr+1;Pr=p[Rr>>0]|0}else Pr=to(e)|0;if(!((Pr+-48|0)>>>0<10|(Pr+-65|0)>>>0<26))if(!((Pr|0)==95|(Pr+-97|0)>>>0<26)){E=Pr;aa=na;break}na=na+1|0}if((E|0)==41){r=L;break e}Cr=(d[z>>2]|0)==0;if(!Cr)d[U>>2]=(d[U>>2]|0)+-1;if(!wt){G=Ju()|0;d[G>>2]=22;Rc(e,0);r=0.0;break e}if(!aa){r=L;break e}else x=aa;while(1){x=x+-1|0;if(!Cr)d[U>>2]=(d[U>>2]|0)+-1;if(!x){r=L;break e}}break}case 0:{do{if((sn|0)==48){j=d[U>>2]|0;if(j>>>0<(d[z>>2]|0)>>>0){d[U>>2]=j+1;W=p[j>>0]|0}else W=to(e)|0;if((W|32|0)!=120){if(!(d[z>>2]|0)){ln=48;break}d[U>>2]=(d[U>>2]|0)+-1;ln=48;break}X=d[U>>2]|0;if(X>>>0<(d[z>>2]|0)>>>0){d[U>>2]=X+1;Kr=p[X>>0]|0;Ln=0}else{Kr=to(e)|0;Ln=0}i:while(1){switch(Kr|0){case 46:{Pn=Ln;Co=74;break i;break}case 48:break;default:{oe=0;se=0;Qi=0;$i=0;rn=Kr;In=Ln;Gn=0;Jn=0;qa=1.0;$a=0;uo=0.0;break i}}q=d[U>>2]|0;if(q>>>0<(d[z>>2]|0)>>>0){d[U>>2]=q+1;Kr=p[q>>0]|0;Ln=1;continue}else{Kr=to(e)|0;Ln=1;continue}}if((Co|0)==74){Y=d[U>>2]|0;if(Y>>>0<(d[z>>2]|0)>>>0){d[U>>2]=Y+1;$r=p[Y>>0]|0}else $r=to(e)|0;if(($r|0)==48){K=0;$=0;while(1){J=d[U>>2]|0;if(J>>>0<(d[z>>2]|0)>>>0){d[U>>2]=J+1;ie=p[J>>0]|0}else ie=to(e)|0;ee=Ku(K|0,$|0,-1,-1)|0;te=H;if((ie|0)==48){K=ee;$=te}else{oe=0;se=0;Qi=ee;$i=te;rn=ie;In=1;Gn=1;Jn=0;qa=1.0;$a=0;uo=0.0;break}}}else{oe=0;se=0;Qi=0;$i=0;rn=$r;In=Pn;Gn=1;Jn=0;qa=1.0;$a=0;uo=0.0}}while(1){ne=rn+-48|0;N=rn|32;if(ne>>>0<10)Co=86;else{ae=(rn|0)==46;if(!(ae|(N+-97|0)>>>0<6)){ye=se;be=Qi;_e=oe;xe=$i;nn=rn;Nn=In;Vn=Gn;eo=$a;fo=uo;break}if(ae)if(!Gn){er=se;tr=oe;ir=se;rr=oe;Fn=In;Wn=1;Kn=Jn;Ja=qa;ro=$a;mo=uo}else{ye=se;be=Qi;_e=oe;xe=$i;nn=46;Nn=In;Vn=Gn;eo=$a;fo=uo;break}else Co=86}if((Co|0)==86){Co=0;mn=(rn|0)>57?N+-87|0:ne;do{if((oe|0)<0|(oe|0)==0&se>>>0<8){Zn=Jn;Ya=qa;io=mn+($a<<4)|0;ho=uo}else{if((oe|0)<0|(oe|0)==0&se>>>0<14){le=qa*.0625;Zn=Jn;Ya=le;io=$a;ho=uo+le*+(mn|0);break}if((Jn|0)!=0|(mn|0)==0){Zn=Jn;Ya=qa;io=$a;ho=uo}else{Zn=1;Ya=qa;io=$a;ho=uo+qa*.5}}}while(0);ce=Ku(se|0,oe|0,1,0)|0;er=Qi;tr=$i;ir=ce;rr=H;Fn=1;Wn=Gn;Kn=Zn;Ja=Ya;ro=io;mo=ho}ue=d[U>>2]|0;if(ue>>>0<(d[z>>2]|0)>>>0){d[U>>2]=ue+1;oe=rr;se=ir;Qi=er;$i=tr;rn=p[ue>>0]|0;In=Fn;Gn=Wn;Jn=Kn;qa=Ja;$a=ro;uo=mo;continue}else{oe=rr;se=ir;Qi=er;$i=tr;rn=to(e)|0;In=Fn;Gn=Wn;Jn=Kn;qa=Ja;$a=ro;uo=mo;continue}}if(!Nn){de=(d[z>>2]|0)==0;if(!de)d[U>>2]=(d[U>>2]|0)+-1;if(!i)Rc(e,0);else if(!de){me=d[U>>2]|0;d[U>>2]=me+-1;if(Vn)d[U>>2]=me+-2}r=+(Za|0)*0.0;break e}ve=(Vn|0)==0;ge=ve?ye:be;we=ve?_e:xe;if((_e|0)<0|(_e|0)==0&ye>>>0<8){Me=ye;Se=_e;ao=eo;while(1){Ee=ao<<4;Me=Ku(Me|0,Se|0,1,0)|0;Se=H;if(!((Se|0)<0|(Se|0)==0&Me>>>0<8)){no=Ee;break}else ao=Ee}}else no=eo;if((nn|32|0)==112){Te=ta(e,i)|0;ke=H;if((Te|0)==0&(ke|0)==-2147483648){if(!i){Rc(e,0);r=0.0;break e}if(!(d[z>>2]|0)){Le=0;Pe=0}else{d[U>>2]=(d[U>>2]|0)+-1;Le=0;Pe=0}}else{Le=Te;Pe=ke}}else if(!(d[z>>2]|0)){Le=0;Pe=0}else{d[U>>2]=(d[U>>2]|0)+-1;Le=0;Pe=0}Ae=eu(ge|0,we|0,2)|0;Re=Ku(Ae|0,H|0,-32,-1)|0;Ce=Ku(Re|0,H|0,Le|0,Pe|0)|0;Oe=H;if(!no){r=+(Za|0)*0.0;break e}if((Oe|0)>0|(Oe|0)==0&Ce>>>0>(0-Tn|0)>>>0){Ie=Ju()|0;d[Ie>>2]=34;r=+(Za|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break e}Ne=Tn+-106|0;De=((Ne|0)<0)<<31>>31;if((Oe|0)<(De|0)|(Oe|0)==(De|0)&Ce>>>0<Ne>>>0){Fe=Ju()|0;d[Fe>>2]=34;r=+(Za|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((no|0)>-1){ze=Ce;He=Oe;so=no;bo=fo;while(1){Be=!(bo>=.5);Ue=Be&1|so<<1;lo=Ue^1;wo=bo+(Be?bo:bo+-1.0);Ve=Ku(ze|0,He|0,-1,-1)|0;je=H;if((Ue|0)>-1){ze=Ve;He=je;so=lo;bo=wo}else{Xe=Ve;qe=je;oo=lo;yo=wo;break}}}else{Xe=Ce;qe=Oe;oo=no;yo=fo}We=_u(32,0,Tn|0,((Tn|0)<0)<<31>>31|0)|0;Ye=Ku(Xe|0,qe|0,We|0,H|0)|0;Je=H;if(0>(Je|0)|0==(Je|0)&Jr>>>0>Ye>>>0)if((Ye|0)<0){s=0;Co=127}else{o=Ye;Co=125}else{o=Jr;Co=125}if((Co|0)==125)if((o|0)<53){s=o;Co=127}else{l=o;F=+(Za|0);qr=0.0}if((Co|0)==127){Ze=+(Za|0);l=s;F=Ze;qr=+hh(+$o(1.0,84-s|0),Ze)}Na=(oo&1|0)==0&(yo!=0.0&(l|0)<32);Ke=F*(Na?0.0:yo)+(qr+F*+(((Na&1)+oo|0)>>>0))-qr;if(!(Ke!=0.0)){Qe=Ju()|0;d[Qe>>2]=34}r=+dh(Ke,Xe);break e}else ln=sn}while(0);Qa=Tn+Jr|0;$e=0-Qa|0;c=ln;Cn=0;i:while(1){switch(c|0){case 46:{On=Cn;Co=138;break i;break}case 48:break;default:{v=c;nr=0;ar=0;Dn=Cn;jn=0;break i}}et=d[U>>2]|0;if(et>>>0<(d[z>>2]|0)>>>0){d[U>>2]=et+1;c=p[et>>0]|0;Cn=1;continue}else{c=to(e)|0;Cn=1;continue}}if((Co|0)==138){tt=d[U>>2]|0;if(tt>>>0<(d[z>>2]|0)>>>0){d[U>>2]=tt+1;h=p[tt>>0]|0}else h=to(e)|0;if((h|0)==48){it=0;rt=0;while(1){nt=Ku(it|0,rt|0,-1,-1)|0;at=H;ot=d[U>>2]|0;if(ot>>>0<(d[z>>2]|0)>>>0){d[U>>2]=ot+1;u=p[ot>>0]|0}else u=to(e)|0;if((u|0)==48){it=nt;rt=at}else{v=u;nr=nt;ar=at;Dn=1;jn=1;break}}}else{v=h;nr=0;ar=0;Dn=On;jn=1}}d[co>>2]=0;st=v+-48|0;ct=(v|0)==46;i:do{if(ct|st>>>0<10){ut=co+496|0;b=v;ft=0;ht=0;or=ct;sr=st;lr=nr;cr=ar;Un=Dn;qn=jn;sa=0;ma=0;ka=0;r:while(1){do{if(or)if(!qn){ur=ft;fr=ht;hr=ft;dr=ht;Hn=Un;Yn=1;ha=sa;wa=ma;Ca=ka}else{pr=lr;mr=cr;vr=ft;gr=ht;zn=Un;la=sa;va=ma;Aa=ka;break r}else{dt=Ku(ft|0,ht|0,1,0)|0;pt=H;mt=(b|0)!=48;if((ma|0)>=125){if(!mt){ur=lr;fr=cr;hr=dt;dr=pt;Hn=Un;Yn=qn;ha=sa;wa=ma;Ca=ka;break}d[ut>>2]=d[ut>>2]|1;ur=lr;fr=cr;hr=dt;dr=pt;Hn=Un;Yn=qn;ha=sa;wa=ma;Ca=ka;break}vt=co+(ma<<2)|0;if(!sa)Ka=sr;else Ka=b+-48+((d[vt>>2]|0)*10|0)|0;d[vt>>2]=Ka;gt=sa+1|0;yt=(gt|0)==9;ur=lr;fr=cr;hr=dt;dr=pt;Hn=1;Yn=qn;ha=yt?0:gt;wa=(yt&1)+ma|0;Ca=mt?dt:ka}}while(0);bt=d[U>>2]|0;if(bt>>>0<(d[z>>2]|0)>>>0){d[U>>2]=bt+1;g=p[bt>>0]|0}else g=to(e)|0;sr=g+-48|0;or=(g|0)==46;if(!(or|sr>>>0<10)){y=g;Et=hr;Mt=ur;Tt=dr;kt=fr;Bn=Hn;Xn=Yn;oa=ha;pa=wa;Ta=Ca;Co=161;break i}else{b=g;ft=hr;ht=dr;lr=ur;cr=fr;Un=Hn;qn=Yn;sa=ha;ma=wa;ka=Ca}}yr=vr;br=gr;wr=pr;_r=mr;xr=(zn|0)!=0;fa=la;ba=va;Pa=Aa;Co=169}else{y=v;Et=0;Mt=nr;Tt=0;kt=ar;Bn=Dn;Xn=jn;oa=0;pa=0;Ta=0;Co=161}}while(0);do{if((Co|0)==161){_t=(Xn|0)==0;xt=_t?Et:Mt;St=_t?Tt:kt;At=(Bn|0)!=0;if(!((y|32|0)==101&At))if((y|0)>-1){yr=Et;br=Tt;wr=xt;_r=St;xr=At;fa=oa;ba=pa;Pa=Ta;Co=169;break}else{Er=Et;Mr=Tt;Sr=At;Tr=xt;kr=St;ua=oa;ya=pa;La=Ta;Co=171;break}Rt=ta(e,i)|0;Lt=H;if((Rt|0)==0&(Lt|0)==-2147483648){if(!i){Rc(e,0);n=0.0;break}if(!(d[z>>2]|0)){Pt=0;Ct=0}else{d[U>>2]=(d[U>>2]|0)+-1;Pt=0;Ct=0}}else{Pt=Rt;Ct=Lt}Ot=Ku(Pt|0,Ct|0,xt|0,St|0)|0;Ft=Ot;Bt=Et;Ut=H;zt=Tt;ca=oa;ga=pa;Ra=Ta;Co=173}}while(0);if((Co|0)==169)if(!(d[z>>2]|0)){Er=yr;Mr=br;Sr=xr;Tr=wr;kr=_r;ua=fa;ya=ba;La=Pa;Co=171}else{d[U>>2]=(d[U>>2]|0)+-1;if(xr){Ft=wr;Bt=yr;Ut=_r;zt=br;ca=fa;ga=ba;Ra=Pa;Co=173}else Co=172}if((Co|0)==171)if(Sr){Ft=Tr;Bt=Er;Ut=kr;zt=Mr;ca=ua;ga=ya;Ra=La;Co=173}else Co=172;do{if((Co|0)==172){Nt=Ju()|0;d[Nt>>2]=22;Rc(e,0);n=0.0}else if((Co|0)==173){Dt=d[co>>2]|0;if(!Dt){n=+(Za|0)*0.0;break}if(((zt|0)<0|(zt|0)==0&Bt>>>0<10)&((Ft|0)==(Bt|0)&(Ut|0)==(zt|0)))if(Jr>>>0>30|(Dt>>>Jr|0)==0){n=+(Za|0)*+(Dt>>>0);break}Ht=(Tn|0)/-2|0;Gt=((Ht|0)<0)<<31>>31;if((Ut|0)>(Gt|0)|(Ut|0)==(Gt|0)&Ft>>>0>Ht>>>0){Vt=Ju()|0;d[Vt>>2]=34;n=+(Za|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break}jt=Tn+-106|0;Wt=((jt|0)<0)<<31>>31;if((Ut|0)<(Wt|0)|(Ut|0)==(Wt|0)&Ft>>>0<jt>>>0){Xt=Ju()|0;d[Xt>>2]=34;n=+(Za|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(!ca)_a=ga;else{if((ca|0)<9){qt=co+(ga<<2)|0;Jt=d[qt>>2]|0;da=ca;while(1){Yt=Jt*10|0;da=da+1|0;if((da|0)==9){C=Yt;break}else Jt=Yt}d[qt>>2]=C}_a=ga+1|0}if((Ra|0)<9)if((Ra|0)<=(Ft|0)&(Ft|0)<18){if((Ft|0)==9){n=+(Za|0)*+((d[co>>2]|0)>>>0);break}if((Ft|0)<9){n=+(Za|0)*+((d[co>>2]|0)>>>0)/+(d[2648+(8-Ft<<2)>>2]|0);break}Zt=Jr+27+(fe(Ft,-3)|0)|0;D=d[co>>2]|0;if((Zt|0)>30|(D>>>Zt|0)==0){n=+(Za|0)*+(D>>>0)*+(d[2648+(Ft+-10<<2)>>2]|0);break}}Kt=(Ft|0)%9|0;if(!Kt){Fr=0;bn=0;za=Ft;Eo=_a}else{Qt=(Ft|0)>-1?Kt:Kt+9|0;$t=d[2648+(8-Qt<<2)>>2]|0;if(!_a){Or=0;Da=Ft;_o=0}else{ei=1e9/($t|0)|0;Ir=0;cn=0;xa=0;Fa=Ft;while(1){ti=co+(xa<<2)|0;ii=d[ti>>2]|0;ri=((ii>>>0)/($t>>>0)|0)+cn|0;d[ti>>2]=ri;ni=fe((ii>>>0)%($t>>>0)|0,ei)|0;Oa=(xa|0)==(Ir|0)&(ri|0)==0;xa=xa+1|0;Ba=Oa?Fa+-9|0:Fa;Nr=Oa?xa&127:Ir;if((xa|0)==(_a|0)){R=ni;Dr=Nr;Ua=Ba;break}else{Ir=Nr;cn=ni;Fa=Ba}}if(!R){Or=Dr;Da=Ua;_o=_a}else{d[co+(_a<<2)>>2]=R;Or=Dr;Da=Ua;_o=_a+1|0}}Fr=Or;bn=0;za=9-Qt+Da|0;Eo=_o}i:while(1){ai=(za|0)<18;oi=(za|0)==18;si=co+(Fr<<2)|0;yn=bn;xo=Eo;while(1){if(!ai){if(!oi){Hr=Fr;xn=yn;Ga=za;Ro=xo;break i}if((d[si>>2]|0)>>>0>=9007199){Hr=Fr;xn=yn;Ga=18;Ro=xo;break i}}un=0;Ma=xo+127|0;Mo=xo;while(1){Ea=Ma&127;li=co+(Ea<<2)|0;ci=eu(d[li>>2]|0,0,29)|0;ui=Ku(ci|0,H|0,un|0,0)|0;fi=H;if(fi>>>0>0|(fi|0)==0&ui>>>0>1e9){hi=ef(ui|0,fi|0,1e9,0)|0;di=gc(ui|0,fi|0,1e9,0)|0;B=di;fn=hi}else{B=ui;fn=0}d[li>>2]=B;pi=(Ea|0)==(Fr|0);So=(Ea|0)!=(Mo+127&127|0)|pi?Mo:(B|0)==0?Ea:Mo;if(pi){hn=fn;To=So;break}else{un=fn;Ma=Ea+-1|0;Mo=So}}mi=yn+-29|0;if(!hn){yn=mi;xo=To}else{A=mi;dn=hn;ko=To;break}}vi=Fr+127&127;if((vi|0)==(ko|0)){gi=ko+127&127;yi=co+((ko+126&127)<<2)|0;d[yi>>2]=d[yi>>2]|d[co+(gi<<2)>>2];Ao=gi}else Ao=ko;d[co+(vi<<2)>>2]=dn;Fr=vi;bn=A;za=za+9|0;Eo=Ao}i:while(1){Pi=Ro+1&127;Ci=co+((Ro+127&127)<<2)|0;Gr=Hr;En=xn;Ha=Ga;while(1){Oi=(Ha|0)==18;m=(Ha|0)>27?9:1;I=Oi^1;Br=Gr;wn=En;while(1){bi=Br&127;wi=(bi|0)==(Ro|0);do{if(wi)Co=219;else{_i=d[co+(bi<<2)>>2]|0;if(_i>>>0<9007199){Co=219;break}if(_i>>>0>9007199)break;xi=Br+1&127;if((xi|0)==(Ro|0)){Co=219;break}Ki=d[co+(xi<<2)>>2]|0;if(Ki>>>0<254740991){Co=219;break}if(!(Ki>>>0>254740991|I)){Ii=bi;zr=Br;_n=wn;Po=Ro;break i}}}while(0);if((Co|0)==219){Co=0;if(Oi){Co=220;break i}}Ei=wn+m|0;if((Br|0)==(Ro|0)){Br=Ro;wn=Ei}else{M=Ei;Ur=Br;break}}Mi=(1<<m)+-1|0;Si=1e9>>>m;Vr=Ur;pn=0;Sa=Ur;Va=Ha;while(1){Ti=co+(Sa<<2)|0;ki=d[Ti>>2]|0;Ai=(ki>>>m)+pn|0;d[Ti>>2]=Ai;Ri=fe(ki&Mi,Si)|0;Ia=(Sa|0)==(Vr|0)&(Ai|0)==0;Sa=Sa+1&127;ja=Ia?Va+-9|0:Va;jr=Ia?Sa:Vr;if((Sa|0)==(Ro|0)){T=Ri;Wr=jr;Wa=ja;break}else{Vr=jr;pn=Ri;Va=ja}}if(!T){Gr=Wr;En=M;Ha=Wa;continue}if((Pi|0)!=(Wr|0)){S=M;k=T;Xr=Wr;Xa=Wa;break}d[Ci>>2]=d[Ci>>2]|1;Gr=Wr;En=M;Ha=Wa}d[co+(Ro<<2)>>2]=k;Hr=Xr;xn=S;Ga=Xa;Ro=Pi}if((Co|0)==220)if(wi){d[co+(Pi+-1<<2)>>2]=0;Ii=Ro;zr=Br;_n=wn;Po=Pi}else{Ii=bi;zr=Br;_n=wn;Po=Ro}Ni=+((d[co+(Ii<<2)>>2]|0)>>>0);Di=zr+1&127;if((Di|0)==(Po|0)){Ji=zr+2&127;d[co+(Ji+-1<<2)>>2]=0;Lo=Ji}else Lo=Po;Gi=+(Za|0);Fi=Gi*(Ni*1.0e9+ +((d[co+(Di<<2)>>2]|0)>>>0));ji=_n+53|0;Wi=ji-Tn|0;qi=(Wi|0)<(Jr|0);vn=qi&1;a=qi?(Wi|0)<0?0:Wi:Jr;if((a|0)<53){Bi=+hh(+$o(1.0,105-a|0),Fi);Ui=+wh(Fi,+$o(1.0,53-a|0));Yr=Bi;kn=Ui;po=Bi+(Fi-Ui)}else{Yr=0.0;kn=0.0;po=Fi}zi=zr+2&127;do{if((zi|0)==(Lo|0))Rn=kn;else{Hi=d[co+(zi<<2)>>2]|0;do{if(Hi>>>0<5e8){if(!Hi)if((zr+3&127|0)==(Lo|0)){An=kn;break}An=Gi*.25+kn}else{if(Hi>>>0>5e8){An=Gi*.75+kn;break}if((zr+3&127|0)==(Lo|0)){An=Gi*.5+kn;break}else{An=Gi*.75+kn;break}}}while(0);if((53-a|0)<=1){Rn=An;break}if(+wh(An,1.0)!=0.0){Rn=An;break}Rn=An+1.0}}while(0);Vi=po+Rn-Yr;do{if((ji&2147483647|0)>(-2-Qa|0)){if(!(+Q(+Vi)>=9007199254740992.0)){gn=vn;Mn=_n;vo=Vi}else{gn=qi&(a|0)==(Wi|0)?0:vn;Mn=_n+1|0;vo=Vi*.5}if((Mn+50|0)<=($e|0))if(!(Rn!=0.0&(gn|0)!=0)){Sn=Mn;go=vo;break}Yi=Ju()|0;d[Yi>>2]=34;Sn=Mn;go=vo}else{Sn=_n;go=Vi}}while(0);n=+dh(go,Sn)}}while(0);r=n;break e;break}default:{if(d[z>>2]|0)d[U>>2]=(d[U>>2]|0)+-1;V=Ju()|0;d[V>>2]=22;Rc(e,0);r=0.0;break e}}}}}while(0);if((Co|0)==23){It=(d[z>>2]|0)==0;if(!It)d[U>>2]=(d[U>>2]|0)+-1;if((i|0)!=0&Qn>>>0>3){ea=Qn;do{if(!It)d[U>>2]=(d[U>>2]|0)+-1;ea=ea+-1|0}while(ea>>>0>3)}}r=+(Za|0)*P}}while(0);w=Oo;return+r}function Mi(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,gi=0,yi=0,bi=0,wi=0,_i=0,xi=0,Ei=0,Si=0,Ti=0,Ai=0,Li=0,Pi=0,Ci=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,cn=0,un=0,fn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Mn=0,Sn=0,Tn=0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0;Gn=w;w=w+304|0;if((w|0)>=(_|0))pe();yn=Gn+276|0;bn=Gn+264|0;wn=Gn+252|0;g=Gn+240|0;y=Gn+224|0;Ee=Gn+216|0;_n=Gn+204|0;rt=Gn+192|0;Dt=Gn+176|0;mi=Gn+168|0;xn=Gn+156|0;ar=Gn+144|0;Ur=Gn+128|0;qr=Gn+124|0;En=Gn+112|0;nn=Gn+96|0;b=Gn+76|0;Mn=Gn+64|0;C=Gn+48|0;V=Gn+8|0;K=Gn;te=Gn+80|0;se=Gn+60|0;Un=Gn+36|0;zn=Gn+24|0;fe=t;e:do{if((fe-e|0)>1){v=(f[e>>0]|0)==76?e+1|0:e;Ie=f[v>>0]|0;switch(Ie<<24>>24|0){case 78:{t:do{if((v|0)==(t|0))m=t;else if(Ie<<24>>24==78){Ke=ds(v+1|0,t,bn)|0;if((Ke|0)==(t|0))m=v;else{nt=i+52|0;d[nt>>2]=0;switch(f[Ke>>0]|0){case 82:{d[nt>>2]=1;An=Ke+1|0;break}case 79:{d[nt>>2]=2;An=Ke+1|0;break}default:An=Ke}vt=i+4|0;xt=d[vt>>2]|0;kt=d[i+8>>2]|0;if(xt>>>0<kt>>>0){d[xt>>2]=0;d[xt+4>>2]=0;d[xt+8>>2]=0;d[xt+12>>2]=0;d[xt+16>>2]=0;d[xt+20>>2]=0;d[xt>>2]=0;d[xt+4>>2]=0;d[xt+8>>2]=0;Gt=xt+12|0;d[Gt>>2]=0;d[Gt+4>>2]=0;d[Gt+8>>2]=0;d[vt>>2]=(d[vt>>2]|0)+24}else{hi=d[i>>2]|0;vi=xt-hi|0;xi=(vi|0)/24|0;Ai=xi+1|0;if((vi|0)<-24)Ef(i);Xi=(kt-hi|0)/24|0;if(Xi>>>0<1073741823){er=Xi<<1;a=er>>>0<Ai>>>0?Ai:er}else a=2147483647;_l(yn,a,xi,i+12|0);cr=yn+8|0;dr=d[cr>>2]|0;d[dr>>2]=0;d[dr+4>>2]=0;d[dr+8>>2]=0;d[dr+12>>2]=0;d[dr+16>>2]=0;d[dr+20>>2]=0;d[dr>>2]=0;d[dr+4>>2]=0;d[dr+8>>2]=0;Mr=dr+12|0;d[Mr>>2]=0;d[Mr+4>>2]=0;d[Mr+8>>2]=0;d[cr>>2]=dr+24;Bo(i,yn);al(yn)}if((fe-An|0)>1)if((f[An>>0]|0)==83)if((f[An+1>>0]|0)==116){Ho((d[vt>>2]|0)+-24|0,12872,3);Rn=An+2|0}else Rn=An;else Rn=An;else Rn=An;if((Rn|0)==(t|0)){X=d[vt>>2]|0;q=X+-24|0;J=X;while(1){Y=J+-24|0;d[vt>>2]=Y;Vc(Y);J=d[vt>>2]|0;if((J|0)==(q|0)){m=v;break t}}}Yr=En+8|0;Jr=En+1|0;Zr=En+4|0;Kr=i+12|0;Qr=i+16|0;$r=i+20|0;en=i+24|0;tn=nn+12|0;rn=nn+4|0;an=nn+8|0;on=i+28|0;sn=yn+8|0;cn=V+12|0;un=V+4|0;fn=V+8|0;dn=yn+8|0;pn=C+8|0;mn=C+1|0;vn=C+4|0;x=g+8|0;E=g+1|0;M=g+4|0;S=y+12|0;T=y+4|0;k=y+8|0;A=yn+8|0;R=Dt+12|0;L=Dt+4|0;P=Dt+8|0;O=yn+8|0;I=rt+8|0;N=rt+1|0;D=rt+4|0;F=Ur+12|0;B=Ur+4|0;U=Ur+8|0;z=yn+8|0;H=ar+8|0;G=ar+1|0;j=ar+4|0;W=f[Rn>>0]|0;i:do{if(W<<24>>24==69){Sn=0;Pn=Rn}else{Xr=W;Tn=0;On=Rn;r:while(1){Z=Xr;In=On;n:while(1){switch(Z<<24>>24|0){case 83:{Nn=In;Hn=25;break n;break}case 84:{Dn=In;Hn=44;break n;break}case 68:{Fn=In;Hn=61;break n;break}case 73:{mt=ln(In,t,i)|0;if((mt|0)==(In|0)|(mt|0)==(t|0)){m=v;break t}el(En,(d[vt>>2]|0)+-24|0);gt=d[vt>>2]|0;yt=gt+-24|0;wt=gt;do{bt=wt+-24|0;d[vt>>2]=bt;Vc(bt);wt=d[vt>>2]|0}while((wt|0)!=(yt|0));_t=f[En>>0]|0;Et=(_t&1)==0;Go(gt+-48|0,Et?Jr:d[Yr>>2]|0,Et?(_t&255)>>>1:d[Zr>>2]|0)|0;Mt=(d[vt>>2]|0)+-24|0;d[b>>2]=d[Kr>>2];xs(nn,Mt,b);St=d[$r>>2]|0;Tt=d[en>>2]|0;if(St>>>0<Tt>>>0){d[St+12>>2]=d[tn>>2];d[St>>2]=d[nn>>2];d[St+4>>2]=d[rn>>2];d[St+8>>2]=d[an>>2];d[an>>2]=0;d[rn>>2]=0;d[nn>>2]=0;d[$r>>2]=(d[$r>>2]|0)+16}else{At=d[Qr>>2]|0;Rt=St-At|0;Lt=Rt>>4;Pt=Lt+1|0;if((Rt|0)<-16){Hn=86;break r}Ct=Tt-At|0;if(Ct>>4>>>0<1073741823){Ot=Ct>>3;c=Ot>>>0<Pt>>>0?Pt:Ot}else c=2147483647;vl(yn,c,Lt,on);It=d[sn>>2]|0;d[It+12>>2]=d[tn>>2];d[It>>2]=d[nn>>2];d[It+4>>2]=d[rn>>2];d[It+8>>2]=d[an>>2];d[an>>2]=0;d[rn>>2]=0;d[nn>>2]=0;d[sn>>2]=It+16;Ga(Qr,yn);Cs(yn)}ol(nn);Lu(En);Ln=mt;break}case 76:{Nt=In+1|0;if((Nt|0)==(t|0)){m=v;break t}else Ln=Nt;break}default:{Bn=In;Hn=93;break n}}Z=f[Ln>>0]|0;if(Z<<24>>24==69){Sn=Tn;Pn=Ln;break i}else In=Ln}n:do{if((Hn|0)==25){Hn=0;Q=Nn+1|0;if((Q|0)!=(t|0))if((f[Q>>0]|0)==116){Bn=Nn;Hn=93;break}$=Oi(Nn,t,i)|0;if(($|0)==(Nn|0)|($|0)==(t|0)){m=v;break t}el(wn,(d[vt>>2]|0)+-24|0);ee=d[vt>>2]|0;ie=ee+-24|0;ne=ee;do{re=ne+-24|0;d[vt>>2]=re;Vc(re);ne=d[vt>>2]|0}while((ne|0)!=(ie|0));ae=ee+-48|0;oe=f[ae>>0]|0;if(!(oe&1))le=(oe&255)>>>1;else le=d[ee+-44>>2]|0;if(!le)Xl(ae,wn);else{gs(g,12876,wn);ce=f[g>>0]|0;ue=(ce&1)==0;Go(ae,ue?E:d[x>>2]|0,ue?(ce&255)>>>1:d[M>>2]|0)|0;Lu(g);he=(d[vt>>2]|0)+-24|0;d[Ee>>2]=d[Kr>>2];xs(y,he,Ee);de=d[$r>>2]|0;me=d[en>>2]|0;if(de>>>0<me>>>0){d[de+12>>2]=d[S>>2];d[de>>2]=d[y>>2];d[de+4>>2]=d[T>>2];d[de+8>>2]=d[k>>2];d[k>>2]=0;d[T>>2]=0;d[y>>2]=0;d[$r>>2]=(d[$r>>2]|0)+16}else{ve=d[Qr>>2]|0;ge=de-ve|0;ye=ge>>4;be=ye+1|0;if((ge|0)<-16){Hn=37;break r}we=me-ve|0;if(we>>4>>>0<1073741823){_e=we>>3;o=_e>>>0<be>>>0?be:_e}else o=2147483647;vl(yn,o,ye,on);xe=d[A>>2]|0;d[xe+12>>2]=d[S>>2];d[xe>>2]=d[y>>2];d[xe+4>>2]=d[T>>2];d[xe+8>>2]=d[k>>2];d[k>>2]=0;d[T>>2]=0;d[y>>2]=0;d[A>>2]=xe+16;Ga(Qr,yn);Cs(yn)}ol(y)}Lu(wn);Cn=$}else if((Hn|0)==44){Hn=0;Me=hn(Dn,t,i)|0;if((Me|0)==(Dn|0)|(Me|0)==(t|0)){m=v;break t}el(_n,(d[vt>>2]|0)+-24|0);Se=d[vt>>2]|0;Te=Se+-24|0;Ae=Se;do{ke=Ae+-24|0;d[vt>>2]=ke;Vc(ke);Ae=d[vt>>2]|0}while((Ae|0)!=(Te|0));Re=Se+-48|0;Le=f[Re>>0]|0;if(!(Le&1))Pe=(Le&255)>>>1;else Pe=d[Se+-44>>2]|0;if(!Pe)Xl(Re,_n);else{gs(rt,12876,_n);Ce=f[rt>>0]|0;Oe=(Ce&1)==0;Go(Re,Oe?N:d[I>>2]|0,Oe?(Ce&255)>>>1:d[D>>2]|0)|0;Lu(rt)}Ne=(d[vt>>2]|0)+-24|0;d[mi>>2]=d[Kr>>2];xs(Dt,Ne,mi);De=d[$r>>2]|0;Fe=d[en>>2]|0;if(De>>>0<Fe>>>0){d[De+12>>2]=d[R>>2];d[De>>2]=d[Dt>>2];d[De+4>>2]=d[L>>2];d[De+8>>2]=d[P>>2];d[P>>2]=0;d[L>>2]=0;d[Dt>>2]=0;d[$r>>2]=(d[$r>>2]|0)+16}else{Be=d[Qr>>2]|0;Ue=De-Be|0;ze=Ue>>4;He=ze+1|0;if((Ue|0)<-16){Hn=56;break r}Ge=Fe-Be|0;if(Ge>>4>>>0<1073741823){Ve=Ge>>3;s=Ve>>>0<He>>>0?He:Ve}else s=2147483647;vl(yn,s,ze,on);je=d[O>>2]|0;d[je+12>>2]=d[R>>2];d[je>>2]=d[Dt>>2];d[je+4>>2]=d[L>>2];d[je+8>>2]=d[P>>2];d[P>>2]=0;d[L>>2]=0;d[Dt>>2]=0;d[O>>2]=je+16;Ga(Qr,yn);Cs(yn)}ol(Dt);Lu(_n);Cn=Me}else if((Hn|0)==61){Hn=0;We=Fn+1|0;if((We|0)!=(t|0))switch(f[We>>0]|0){case 84:case 116:break;default:{Bn=Fn;Hn=93;break n}}Xe=da(Fn,t,i)|0;if((Xe|0)==(Fn|0)|(Xe|0)==(t|0)){m=v;break t}el(xn,(d[vt>>2]|0)+-24|0);qe=d[vt>>2]|0;Ye=qe+-24|0;Ze=qe;do{Je=Ze+-24|0;d[vt>>2]=Je;Vc(Je);Ze=d[vt>>2]|0}while((Ze|0)!=(Ye|0));Qe=qe+-48|0;$e=f[Qe>>0]|0;if(!($e&1))et=($e&255)>>>1;else et=d[qe+-44>>2]|0;if(!et)Xl(Qe,xn);else{gs(ar,12876,xn);tt=f[ar>>0]|0;it=(tt&1)==0;Go(Qe,it?G:d[H>>2]|0,it?(tt&255)>>>1:d[j>>2]|0)|0;Lu(ar)}at=(d[vt>>2]|0)+-24|0;d[qr>>2]=d[Kr>>2];xs(Ur,at,qr);ot=d[$r>>2]|0;st=d[en>>2]|0;if(ot>>>0<st>>>0){d[ot+12>>2]=d[F>>2];d[ot>>2]=d[Ur>>2];d[ot+4>>2]=d[B>>2];d[ot+8>>2]=d[U>>2];d[U>>2]=0;d[B>>2]=0;d[Ur>>2]=0;d[$r>>2]=(d[$r>>2]|0)+16}else{lt=d[Qr>>2]|0;ct=ot-lt|0;ut=ct>>4;ft=ut+1|0;if((ct|0)<-16){Hn=75;break r}ht=st-lt|0;if(ht>>4>>>0<1073741823){dt=ht>>3;l=dt>>>0<ft>>>0?ft:dt}else l=2147483647;vl(yn,l,ut,on);pt=d[z>>2]|0;d[pt+12>>2]=d[F>>2];d[pt>>2]=d[Ur>>2];d[pt+4>>2]=d[B>>2];d[pt+8>>2]=d[U>>2];d[U>>2]=0;d[B>>2]=0;d[Ur>>2]=0;d[z>>2]=pt+16;Ga(Qr,yn);Cs(yn)}ol(Ur);Lu(xn);Cn=Xe}}while(0);if((Hn|0)==93){Hn=0;Ft=Ri(Bn,t,i)|0;if((Ft|0)==(Bn|0)|(Ft|0)==(t|0)){m=v;break t}el(Mn,(d[vt>>2]|0)+-24|0);Bt=d[vt>>2]|0;Ut=Bt+-24|0;Ht=Bt;do{zt=Ht+-24|0;d[vt>>2]=zt;Vc(zt);Ht=d[vt>>2]|0}while((Ht|0)!=(Ut|0));Vt=Bt+-48|0;jt=f[Vt>>0]|0;if(!(jt&1))Wt=(jt&255)>>>1;else Wt=d[Bt+-44>>2]|0;if(!Wt)Xl(Vt,Mn);else{gs(C,12876,Mn);Xt=f[C>>0]|0;qt=(Xt&1)==0;Go(Vt,qt?mn:d[pn>>2]|0,qt?(Xt&255)>>>1:d[vn>>2]|0)|0;Lu(C)}Yt=(d[vt>>2]|0)+-24|0;d[K>>2]=d[Kr>>2];xs(V,Yt,K);Jt=d[$r>>2]|0;Zt=d[en>>2]|0;if(Jt>>>0<Zt>>>0){d[Jt+12>>2]=d[cn>>2];d[Jt>>2]=d[V>>2];d[Jt+4>>2]=d[un>>2];d[Jt+8>>2]=d[fn>>2];d[fn>>2]=0;d[un>>2]=0;d[V>>2]=0;d[$r>>2]=(d[$r>>2]|0)+16}else{Kt=d[Qr>>2]|0;Qt=Jt-Kt|0;$t=Qt>>4;ei=$t+1|0;if((Qt|0)<-16){Hn=105;break}ti=Zt-Kt|0;if(ti>>4>>>0<1073741823){ii=ti>>3;u=ii>>>0<ei>>>0?ei:ii}else u=2147483647;vl(yn,u,$t,on);ri=d[dn>>2]|0;d[ri+12>>2]=d[cn>>2];d[ri>>2]=d[V>>2];d[ri+4>>2]=d[un>>2];d[ri+8>>2]=d[fn>>2];d[fn>>2]=0;d[un>>2]=0;d[V>>2]=0;d[dn>>2]=ri+16;Ga(Qr,yn);Cs(yn)}ol(V);Lu(Mn);Cn=Ft}Xr=f[Cn>>0]|0;if(Xr<<24>>24==69){Sn=1;Pn=Cn;break i}else{Tn=1;On=Cn}}if((Hn|0)==37)Ef(Qr);else if((Hn|0)==56)Ef(Qr);else if((Hn|0)==75)Ef(Qr);else if((Hn|0)==86)Ef(Qr);else if((Hn|0)==105)Ef(Qr)}}while(0);ni=Pn+1|0;d[i+48>>2]=d[bn>>2];if(Sn){ai=d[$r>>2]|0;if((d[i+16>>2]|0)==(ai|0))m=ni;else{oi=ai+-16|0;li=ai;do{si=li+-16|0;d[$r>>2]=si;ol(si);li=d[$r>>2]|0}while((li|0)!=(oi|0));m=ni}}else m=ni}}else m=v}while(0);p=(m|0)==(v|0)?e:m;break e;break}case 90:{t:do{if((v|0)==(t|0))h=t;else if(Ie<<24>>24==90){ci=v+1|0;ui=ki(ci,t,i)|0;if((ui|0)==(ci|0)|(ui|0)==(t|0))h=v;else if((f[ui>>0]|0)==69){fi=ui+1|0;if((fi|0)==(t|0))h=v;else switch(f[fi>>0]|0){case 115:{di=Ya(ui+2|0,t)|0;pi=d[i+4>>2]|0;if((d[i>>2]|0)==(pi|0)){h=di;break t}Gc(pi+-24|0,12879)|0;h=di;break t;break}case 100:{gi=ui+2|0;if((gi|0)==(t|0)){h=v;break t}yi=Ms(gi,t)|0;if((yi|0)==(t|0)){h=v;break t}if((f[yi>>0]|0)!=95){h=v;break t}bi=yi+1|0;wi=Mi(bi,t,i)|0;_i=i+4|0;Ei=d[_i>>2]|0;if((wi|0)==(bi|0)){Ni=Ei+-24|0;Fi=Ei;while(1){Di=Fi+-24|0;d[_i>>2]=Di;Vc(Di);Fi=d[_i>>2]|0;if((Fi|0)==(Ni|0)){h=v;break t}}}if(((Ei-(d[i>>2]|0)|0)/24|0)>>>0<2){h=v;break t}el(yn,Ei+-24|0);Si=d[_i>>2]|0;Ti=Si+-24|0;Pi=Si;do{Li=Pi+-24|0;d[_i>>2]=Li;Vc(Li);Pi=d[_i>>2]|0}while((Pi|0)!=(Ti|0));Gc(Si+-48|0,12876)|0;Ci=f[yn>>0]|0;Ii=(Ci&1)==0;Go((d[_i>>2]|0)+-24|0,Ii?yn+1|0:d[yn+8>>2]|0,Ii?(Ci&255)>>>1:d[yn+4>>2]|0)|0;Lu(yn);h=wi;break t;break}default:{Bi=Mi(fi,t,i)|0;if((Bi|0)==(fi|0)){Ji=i+4|0;Zi=d[Ji>>2]|0;Ki=Zi+-24|0;$i=Zi;while(1){Qi=$i+-24|0;d[Ji>>2]=Qi;Vc(Qi);$i=d[Ji>>2]|0;if(($i|0)==(Ki|0)){h=v;break t}}}Ui=Ya(Bi,t)|0;zi=i+4|0;Hi=d[zi>>2]|0;if(((Hi-(d[i>>2]|0)|0)/24|0)>>>0<2){h=Ui;break t}el(bn,Hi+-24|0);Gi=d[zi>>2]|0;Vi=Gi+-24|0;Wi=Gi;do{ji=Wi+-24|0;d[zi>>2]=ji;Vc(ji);Wi=d[zi>>2]|0}while((Wi|0)!=(Vi|0));Gc(Gi+-48|0,12876)|0;qi=f[bn>>0]|0;Yi=(qi&1)==0;Go((d[zi>>2]|0)+-24|0,Yi?bn+1|0:d[bn+8>>2]|0,Yi?(qi&255)>>>1:d[bn+4>>2]|0)|0;Lu(bn);h=Ui;break t}}}else h=v}else h=v}while(0);w=Gn;return((h|0)==(v|0)?e:h)|0}default:{do{if((fe-v|0)>1){if(Ie<<24>>24==83)if((f[v+1>>0]|0)==116){tr=v+2|0;if((tr|0)==(t|0)){gn=0;kn=t}else{gn=0;kn=(f[tr>>0]|0)==76?v+3|0:tr}}else{gn=1;kn=v}else{gn=1;kn=v}ir=Ri(kn,t,i)|0;rr=(ir|0)==(kn|0);if(gn|rr)r=rr?v:ir;else{nr=d[i+4>>2]|0;if((d[i>>2]|0)==(nr|0))break;Ac(nr+-24|0,0,12896)|0;r=ir}if((r|0)!=(v|0)){if((r|0)==(t|0)){p=t;break e}if((f[r>>0]|0)!=73){p=r;break e}or=i+4|0;sr=d[or>>2]|0;if((d[i>>2]|0)==(sr|0)){p=e;break e}lr=i+16|0;d[se>>2]=d[i+12>>2];xs(te,sr+-24|0,se);ur=i+20|0;fr=d[ur>>2]|0;hr=d[i+24>>2]|0;if(fr>>>0<hr>>>0){d[fr+12>>2]=d[te+12>>2];d[fr>>2]=d[te>>2];pr=te+4|0;d[fr+4>>2]=d[pr>>2];mr=te+8|0;d[fr+8>>2]=d[mr>>2];d[mr>>2]=0;d[pr>>2]=0;d[te>>2]=0;d[ur>>2]=(d[ur>>2]|0)+16}else{vr=d[lr>>2]|0;gr=fr-vr|0;yr=gr>>4;br=yr+1|0;if((gr|0)<-16)Ef(lr);wr=hr-vr|0;if(wr>>4>>>0<1073741823){_r=wr>>3;n=_r>>>0<br>>>0?br:_r}else n=2147483647;vl(yn,n,yr,i+28|0);xr=yn+8|0;Er=d[xr>>2]|0;d[Er+12>>2]=d[te+12>>2];d[Er>>2]=d[te>>2];Sr=te+4|0;d[Er+4>>2]=d[Sr>>2];Tr=te+8|0;d[Er+8>>2]=d[Tr>>2];d[Tr>>2]=0;d[Sr>>2]=0;d[te>>2]=0;d[xr>>2]=Er+16;Ga(lr,yn);Cs(yn)}ol(te);kr=ln(r,t,i)|0;if((kr|0)==(r|0)){p=e;break e}Ar=d[or>>2]|0;if(((Ar-(d[i>>2]|0)|0)/24|0)>>>0<2){p=e;break e}el(Un,Ar+-24|0);Rr=d[or>>2]|0;Lr=Rr+-24|0;Cr=Rr;do{Pr=Cr+-24|0;d[or>>2]=Pr;Vc(Pr);Cr=d[or>>2]|0}while((Cr|0)!=(Lr|0));Or=f[Un>>0]|0;Ir=(Or&1)==0;Go(Rr+-48|0,Ir?Un+1|0:d[Un+8>>2]|0,Ir?(Or&255)>>>1:d[Un+4>>2]|0)|0;Lu(Un);p=kr;break e}}}while(0);Nr=Oi(v,t,i)|0;if((Nr|0)==(v|0)|(Nr|0)==(t|0)){p=e;break e}if((f[Nr>>0]|0)!=73){p=e;break e}Dr=ln(Nr,t,i)|0;if((Dr|0)==(Nr|0)){p=e;break e}Fr=i+4|0;Br=d[Fr>>2]|0;if(((Br-(d[i>>2]|0)|0)/24|0)>>>0<2){p=e;break e}el(zn,Br+-24|0);zr=d[Fr>>2]|0;Hr=zr+-24|0;Vr=zr;do{Gr=Vr+-24|0;d[Fr>>2]=Gr;Vc(Gr);Vr=d[Fr>>2]|0}while((Vr|0)!=(Hr|0));jr=f[zn>>0]|0;Wr=(jr&1)==0;Go(zr+-48|0,Wr?zn+1|0:d[zn+8>>2]|0,Wr?(jr&255)>>>1:d[zn+4>>2]|0)|0;Lu(zn);p=Dr;break e}}}else p=e}while(0);w=Gn;return p|0}function Si(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0.0,v=0.0,g=0,b=0.0,E=0.0,M=0,S=0,T=0,k=0.0,A=0,R=0,L=0.0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0.0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0.0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0.0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0.0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,gi=0,yi=0,bi=0,wi=0,_i=0,xi=0,Ei=0,Mi=0,Si=0,Ti=0,ki=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0,er=0,tr=0,ir=0,rr=0,nr=0,ar=0,or=0,sr=0,lr=0,cr=0,ur=0,fr=0,hr=0,dr=0,pr=0,mr=0,vr=0,gr=0,yr=0,br=0,wr=0,_r=0,xr=0,Er=0,Mr=0,Sr=0,Tr=0,kr=0,Ar=0,Rr=0,Lr=0,Pr=0,Cr=0,Or=0,Ir=0,Nr=0,Dr=0,Fr=0,Br=0,Ur=0,zr=0,Hr=0,Gr=0,Vr=0,jr=0,Wr=0,Xr=0,qr=0,Yr=0,Jr=0,Zr=0,Kr=0,Qr=0,$r=0,en=0,tn=0,rn=0,nn=0,an=0,on=0,sn=0,ln=0,cn=0,un=0,fn=0,hn=0,dn=0,pn=0,mn=0,vn=0,gn=0,yn=0,bn=0,wn=0,_n=0,xn=0,En=0,Mn=0,Sn=0,Tn=0,kn=0,An=0,Rn=0,Ln=0,Pn=0,Cn=0,On=0,In=0,Nn=0,Dn=0,Fn=0,Bn=0,Un=0,zn=0,Hn=0,Gn=0,Vn=0,jn=0,Wn=0,Xn=0,qn=0,Yn=0,Jn=0,Zn=0,Kn=0,Qn=0,$n=0,ea=0,ta=0,ia=0,ra=0,na=0,aa=0,sa=0,la=0,ca=0,ua=0,ha=0,da=0,pa=0,ma=0,va=0,ga=0,ya=0,ba=0,wa=0,_a=0,xa=0,Ea=0,Ma=0,Sa=0,Ta=0,ka=0,Aa=0,Ra=0,La=0,Pa=0,Ca=0,Oa=0,Ia=0,Na=0,Da=0,Fa=0,Ba=0,Ua=0,za=0,Ha=0,Ga=0,Va=0,ja=0,Wa=0,Xa=0,qa=0,Ya=0,Ja=0,Za=0,Ka=0,Qa=0,$a=0.0,to=0.0,io=0,ro=0,no=0,ao=0,oo=0,so=0,lo=0,co=0,uo=0,fo=0,ho=0.0,po=0.0,mo=0,vo=0,go=0,yo=0,bo=0,wo=0,_o=0,xo=0,Eo=0,Mo=0,So=0,To=0,ko=0,Ao=0,Ro=0,Lo=0,Po=0,Oo=0,Io=0,No=0,Do=0,Fo=0,Bo=0,Uo=0,zo=0,Ho=0,Go=0,jo=0,Wo=0,Xo=0,qo=0;qo=w;w=w+624|0;if((w|0)>=(_|0))pe();cn=qo+24|0;Pn=qo+16|0;fn=qo+588|0;Cn=qo+576|0;sn=qo;un=qo+536|0;To=qo+8|0;Ia=qo+528|0;se=(e|0)!=0;le=un+40|0;ze=le;yt=un+39|0;Vt=To+4|0;yi=Cn+12|0;Zi=Cn+11|0;kr=fn;Hr=yi;Gr=Hr-kr|0;ce=-2-kr|0;ve=Hr+2|0;ge=cn+288|0;ye=fn+9|0;Me=ye;Re=fn+8|0;pn=0;qn=t;Sa=0;Ra=0;e:while(1){do{if((pn|0)>-1)if((Sa|0)>(2147483647-pn|0)){Be=Ju()|0;d[Be>>2]=75;mn=-1;break}else{mn=Sa+pn|0;break}else mn=pn}while(0);Ve=f[qn>>0]|0;if(!(Ve<<24>>24)){vn=mn;La=Ra;Xo=245;break}else{Je=Ve;Xn=qn}t:while(1){switch(Je<<24>>24){case 37:{Wn=Xn;Po=Xn;Xo=9;break t;break}case 0:{jn=Xn;Lo=Xn;break t;break}default:{}}Ke=Xn+1|0;Je=f[Ke>>0]|0;Xn=Ke}t:do{if((Xo|0)==9)while(1){Xo=0;if((f[Wn+1>>0]|0)!=37){jn=Wn;Lo=Po;break t}ft=Po+1|0;mt=Wn+2|0;if((f[mt>>0]|0)==37){Wn=mt;Po=ft;Xo=9}else{jn=mt;Lo=ft;break}}}while(0);Tt=Lo-qn|0;if(se)if(!(d[e>>2]&32))eo(qn,Tt,e)|0;if((Lo|0)!=(qn|0)){pn=mn;qn=jn;Sa=Tt;continue}Bt=jn+1|0;jt=f[Bt>>0]|0;pa=(jt<<24>>24)+-48|0;if(pa>>>0<10){ei=(f[jn+2>>0]|0)==36;I=ei?jn+3|0:Bt;oi=f[I>>0]|0;ln=ei?pa:-1;Pa=ei?1:Ra;go=I}else{oi=jt;ln=-1;Pa=Ra;go=Bt}ri=oi<<24>>24;t:do{if((ri&-32|0)==32){xi=ri;Fi=oi;Fn=0;bo=go;while(1){if(!(1<<xi+-32&75913)){vr=Fi;Bn=Fn;wo=bo;break t}Yi=1<<(Fi<<24>>24)+-32|Fn;Ki=bo+1|0;ir=f[Ki>>0]|0;xi=ir<<24>>24;if((xi&-32|0)!=32){vr=ir;Bn=Yi;wo=Ki;break}else{Fi=ir;Fn=Yi;bo=Ki}}}else{vr=oi;Bn=0;wo=go}}while(0);do{if(vr<<24>>24==42){_r=wo+1|0;ga=(f[_r>>0]|0)+-48|0;if(ga>>>0<10)if((f[wo+2>>0]|0)==36){d[n+(ga<<2)>>2]=10;Ca=1;yo=wo+3|0;Eo=d[r+((f[_r>>0]|0)+-48<<3)>>2]|0}else Xo=24;else Xo=24;if((Xo|0)==24){Xo=0;if(Pa){a=-1;break e}if(!se){Un=Bn;Yn=_r;Oa=0;Mo=0;break}Vr=(d[i>>2]|0)+(4-1)&~(4-1);jr=d[Vr>>2]|0;d[i>>2]=Vr+4;Ca=0;yo=_r;Eo=jr}if((Eo|0)<0){Un=Bn|8192;Yn=yo;Oa=Ca;Mo=0-Eo|0}else{Un=Bn;Yn=yo;Oa=Ca;Mo=Eo}}else{ma=(vr<<24>>24)+-48|0;if(ma>>>0<10){ue=wo;ia=0;ya=ma;while(1){Wr=(ia*10|0)+ya|0;Xr=ue+1|0;ya=(f[Xr>>0]|0)+-48|0;if(ya>>>0>=10){U=Wr;G=Xr;break}else{ue=Xr;ia=Wr}}if((U|0)<0){a=-1;break e}else{Un=Bn;Yn=G;Oa=Pa;Mo=U}}else{Un=Bn;Yn=wo;Oa=Pa;Mo=0}}}while(0);t:do{if((f[Yn>>0]|0)==46){he=Yn+1|0;de=f[he>>0]|0;if(de<<24>>24!=42){va=(de<<24>>24)+-48|0;if(va>>>0<10){Ee=he;ra=0;ba=va}else{Kn=he;Da=0;break}while(1){_e=(ra*10|0)+ba|0;xe=Ee+1|0;ba=(f[xe>>0]|0)+-48|0;if(ba>>>0>=10){Kn=xe;Da=_e;break t}else{Ee=xe;ra=_e}}}me=Yn+2|0;wa=(f[me>>0]|0)+-48|0;if(wa>>>0<10)if((f[Yn+3>>0]|0)==36){d[n+(wa<<2)>>2]=10;Kn=Yn+4|0;Da=d[r+((f[me>>0]|0)+-48<<3)>>2]|0;break}if(Oa){a=-1;break e}if(se){be=(d[i>>2]|0)+(4-1)&~(4-1);we=d[be>>2]|0;d[i>>2]=be+4;Kn=me;Da=we}else{Kn=me;Da=0}}else{Kn=Yn;Da=-1}}while(0);Jn=Kn;mo=0;while(1){Se=(f[Jn>>0]|0)+-65|0;if(Se>>>0>57){a=-1;break e}Te=Jn+1|0;ke=f[17777+(mo*58|0)+Se>>0]|0;Ae=ke&255;if((Ae+-1|0)>>>0<8){Jn=Te;mo=Ae}else{V=Te;j=ke;W=Ae;Zn=Jn;vo=mo;break}}if(!(j<<24>>24)){a=-1;break}Le=(ln|0)>-1;do{if(j<<24>>24==19)if(Le){a=-1;break e}else Xo=52;else{if(Le){d[n+(ln<<2)>>2]=W;Pe=r+(ln<<3)|0;Ce=d[Pe+4>>2]|0;Oe=sn;d[Oe>>2]=d[Pe>>2];d[Oe+4>>2]=Ce;Xo=52;break}if(!se){a=0;break e}oa(sn,W,i)}}while(0);if((Xo|0)==52){Xo=0;if(!se){pn=mn;qn=V;Sa=Tt;Ra=Oa;continue}}Ie=f[Zn>>0]|0;_o=(vo|0)!=0&(Ie&15|0)==3?Ie&-33:Ie;Ne=Un&-65537;zn=(Un&8192|0)==0?Un:Ne;t:do{switch(_o|0){case 110:{switch(vo|0){case 0:{d[d[sn>>2]>>2]=mn;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}case 1:{d[d[sn>>2]>>2]=mn;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}case 2:{Fe=d[sn>>2]|0;d[Fe>>2]=mn;d[Fe+4>>2]=((mn|0)<0)<<31>>31;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}case 3:{h[d[sn>>2]>>1]=mn;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}case 4:{f[d[sn>>2]>>0]=mn;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}case 6:{d[d[sn>>2]>>2]=mn;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}case 7:{Ue=d[sn>>2]|0;d[Ue>>2]=mn;d[Ue+4>>2]=((mn|0)<0)<<31>>31;pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e;break}default:{pn=mn;qn=V;Sa=Tt;Ra=Oa;continue e}}break}case 112:{Hn=zn|8;Fa=Da>>>0>8?Da:8;xo=120;Xo=64;break}case 88:case 120:{Hn=zn;Fa=Da;xo=_o;Xo=64;break}case 111:{Qe=sn;$e=d[Qe>>2]|0;et=d[Qe+4>>2]|0;if(($e|0)==0&(et|0)==0)s=le;else{u=le;tt=$e;rt=et;while(1){it=u+-1|0;f[it>>0]=tt&7|48;tt=ru(tt|0,rt|0,3)|0;rt=H;if((tt|0)==0&(rt|0)==0){s=it;break}else u=it}}if(!(zn&8)){qr=s;Gn=zn;Ba=Da;Va=0;Ja=18257;Xo=77}else{nt=ze-s+1|0;qr=s;Gn=zn;Ba=(Da|0)<(nt|0)?nt:Da;Va=0;Ja=18257;Xo=77}break}case 105:case 100:{at=sn;ot=d[at>>2]|0;st=d[at+4>>2]|0;if((st|0)<0){lt=_u(0,0,ot|0,st|0)|0;ct=H;ut=sn;d[ut>>2]=lt;d[ut+4>>2]=ct;dt=lt;pt=ct;Ha=1;Xa=18257;Xo=76;break t}if(!(zn&2048)){ht=zn&1;dt=ot;pt=st;Ha=ht;Xa=(ht|0)==0?18257:18259;Xo=76}else{dt=ot;pt=st;Ha=1;Xa=18258;Xo=76}break}case 117:{De=sn;dt=d[De>>2]|0;pt=d[De+4>>2]|0;Ha=0;Xa=18257;Xo=76;break}case 99:{f[yt>>0]=d[sn>>2];Kr=yt;Vn=Ne;za=1;Wa=0;Za=18257;No=le;break}case 109:{wt=Ju()|0;Yr=ms(d[wt>>2]|0)|0;Xo=82;break}case 115:{_t=d[sn>>2]|0;Yr=(_t|0)!=0?_t:18267;Xo=82;break}case 67:{d[To>>2]=d[sn>>2];d[Vt>>2]=0;d[sn>>2]=To;Ua=-1;Xo=86;break}case 83:{if(!Da){Vo(e,32,Mo,0,zn);$n=0;Xo=98}else{Ua=Da;Xo=86}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{Lt=+y[sn>>3];d[Pn>>2]=0;y[x>>3]=Lt;if((d[x+4>>2]|0)<0){m=-Lt;Ga=1;Ya=18274}else if(!(zn&2048)){Pt=zn&1;m=Lt;Ga=Pt;Ya=(Pt|0)==0?18275:18280}else{m=Lt;Ga=1;Ya=18277}y[x>>3]=m;Ct=d[x+4>>2]&2146435072;do{if(Ct>>>0<2146435072|(Ct|0)==2146435072&0<0){Ut=+gh(m,Pn)*2.0;zt=Ut!=0.0;if(zt)d[Pn>>2]=(d[Pn>>2]|0)+-1;Ht=_o|32;if((Ht|0)==97){Gt=_o&32;qa=(Gt|0)==0?Ya:Ya+9|0;Wt=Ga|2;Xt=12-Da|0;do{if(Da>>>0>11|(Xt|0)==0)v=Ut;else{Qa=Xt;$a=8.0;while(1){Qa=Qa+-1|0;qt=$a*16.0;if(!Qa){Z=qt;break}else $a=qt}if((f[qa>>0]|0)==45){v=-(Z+(-Ut-Z));break}else{v=Ut+Z-Z;break}}}while(0);Yt=d[Pn>>2]|0;Jt=(Yt|0)<0?0-Yt|0:Yt;Zt=Co(Jt,((Jt|0)<0)<<31>>31,yi)|0;if((Zt|0)==(yi|0)){f[Zi>>0]=48;On=Zi}else On=Zt;f[On+-1>>0]=(Yt>>31&2)+43;Kt=On+-2|0;f[Kt>>0]=_o+15;Na=(Da|0)<1;Qt=(zn&8|0)==0;b=v;io=fn;while(1){$t=~~b;ti=io+1|0;f[io>>0]=p[18241+$t>>0]|Gt;b=(b-+($t|0))*16.0;do{if((ti-kr|0)==1){if(Qt&(Na&b==0.0)){ro=ti;break}f[ti>>0]=46;ro=io+2|0}else ro=ti}while(0);if(!(b!=0.0)){no=ro;break}else io=ro}ae=no;Ta=(Da|0)!=0&(ce+ae|0)<(Da|0)?ve+Da-Kt|0:Gr-Kt+ae|0;ii=Ta+Wt|0;Vo(e,32,Mo,ii,zn);if(!(d[e>>2]&32))eo(qa,Wt,e)|0;Vo(e,48,Mo,ii,zn^65536);ni=ae-kr|0;if(!(d[e>>2]&32))eo(fn,ni,e)|0;ai=Hr-Kt|0;Vo(e,48,Ta-(ni+ai)|0,0,0);if(!(d[e>>2]&32))eo(Kt,ai,e)|0;Vo(e,32,Mo,ii,zn^8192);o=(ii|0)<(Mo|0)?Mo:ii;break}ee=(Da|0)<0?6:Da;if(zt){si=(d[Pn>>2]|0)+-28|0;d[Pn>>2]=si;k=Ut*268435456.0;li=si}else{k=Ut;li=d[Pn>>2]|0}A=(li|0)<0?cn:ge;ci=A;L=k;Ro=A;while(1){ui=~~L>>>0;d[Ro>>2]=ui;fi=Ro+4|0;L=(L-+(ui>>>0))*1.0e9;if(!(L!=0.0)){X=fi;break}else Ro=fi}ie=d[Pn>>2]|0;if((ie|0)>0){hi=ie;Zr=A;Io=X;while(1){di=(hi|0)>29?29:hi;gn=Io+-4|0;do{if(gn>>>0<Zr>>>0)Qr=Zr;else{hn=0;yn=gn;while(1){pi=eu(d[yn>>2]|0,0,di|0)|0;mi=Ku(pi|0,H|0,hn|0,0)|0;vi=H;gi=gc(mi|0,vi|0,1e9,0)|0;d[yn>>2]=gi;bi=ef(mi|0,vi|0,1e9,0)|0;yn=yn+-4|0;if(yn>>>0<Zr>>>0){q=bi;break}else hn=bi}if(!q){Qr=Zr;break}wi=Zr+-4|0;d[wi>>2]=q;Qr=wi}}while(0);Do=Io;while(1){if(Do>>>0<=Qr>>>0){Fo=Do;break}_i=Do+-4|0;if(!(d[_i>>2]|0))Do=_i;else{Fo=Do;break}}Ei=(d[Pn>>2]|0)-di|0;d[Pn>>2]=Ei;if((Ei|0)>0){hi=Ei;Zr=Qr;Io=Fo}else{re=Ei;Jr=Qr;Oo=Fo;break}}}else{re=ie;Jr=A;Oo=X}if((re|0)<0){Mi=((ee+25|0)/9|0)+1|0;Si=(Ht|0)==102;ki=re;en=Jr;Uo=Oo;while(1){Ti=0-ki|0;Ai=(Ti|0)>9?9:Ti;do{if(en>>>0<Uo>>>0){Ri=(1<<Ai)+-1|0;Li=1e9>>>Ai;dn=0;bn=en;while(1){Pi=d[bn>>2]|0;d[bn>>2]=(Pi>>>Ai)+dn;Ci=fe(Pi&Ri,Li)|0;bn=bn+4|0;if(bn>>>0>=Uo>>>0){Y=Ci;break}else dn=Ci}D=(d[en>>2]|0)==0?en+4|0:en;if(!Y){F=D;zo=Uo;break}d[Uo>>2]=Y;F=D;zo=Uo+4|0}else{F=(d[en>>2]|0)==0?en+4|0:en;zo=Uo}}while(0);Oi=Si?A:F;oe=(zo-Oi>>2|0)>(Mi|0)?Oi+(Mi<<2)|0:zo;ki=(d[Pn>>2]|0)+Ai|0;d[Pn>>2]=ki;if((ki|0)>=0){$r=F;Bo=oe;break}else{en=F;Uo=oe}}}else{$r=Jr;Bo=Oo}do{if($r>>>0<Bo>>>0){Ii=(ci-$r>>2)*9|0;Ni=d[$r>>2]|0;if(Ni>>>0<10){kn=Ii;break}else{Tn=Ii;ta=10}while(1){ta=ta*10|0;Di=Tn+1|0;if(Ni>>>0<ta>>>0){kn=Di;break}else Tn=Di}}else kn=0}while(0);Bi=(Ht|0)==103;Ui=(ee|0)!=0;zi=ee-((Ht|0)!=102?kn:0)+((Ui&Bi)<<31>>31)|0;if((zi|0)<(((Bo-ci>>2)*9|0)+-9|0)){Hi=zi+9216|0;Gi=(Hi|0)/9|0;Vi=A+(Gi+-1023<<2)|0;_a=((Hi|0)%9|0)+1|0;if((_a|0)<9){aa=10;xa=_a;while(1){ji=aa*10|0;xa=xa+1|0;if((xa|0)==9){na=ji;break}else aa=ji}}else na=10;Wi=d[Vi>>2]|0;Xi=(Wi>>>0)%(na>>>0)|0;if(!Xi)if((A+(Gi+-1022<<2)|0)==(Bo|0)){an=$r;xn=Vi;Rn=kn}else Xo=163;else Xo=163;do{if((Xo|0)==163){Xo=0;E=(((Wi>>>0)/(na>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;qi=(na|0)/2|0;do{if(Xi>>>0<qi>>>0)ho=.5;else{if((Xi|0)==(qi|0))if((A+(Gi+-1022<<2)|0)==(Bo|0)){ho=1.0;break}ho=1.5}}while(0);do{if(!Ga){to=E;po=ho}else{if((f[Ya>>0]|0)!=45){to=E;po=ho;break}to=-E;po=-ho}}while(0);Ji=Wi-Xi|0;d[Vi>>2]=Ji;if(!(to+po!=to)){an=$r;xn=Vi;Rn=kn;break}Qi=Ji+na|0;d[Vi>>2]=Qi;if(Qi>>>0>999999999){rn=$r;_n=Vi;while(1){$i=_n+-4|0;d[_n>>2]=0;if($i>>>0<rn>>>0){er=rn+-4|0;d[er>>2]=0;nn=er}else nn=rn;tr=(d[$i>>2]|0)+1|0;d[$i>>2]=tr;if(tr>>>0>999999999){rn=nn;_n=$i}else{tn=nn;wn=$i;break}}}else{tn=$r;wn=Vi}rr=(ci-tn>>2)*9|0;nr=d[tn>>2]|0;if(nr>>>0<10){an=tn;xn=wn;Rn=rr;break}else{An=rr;ua=10}while(1){ua=ua*10|0;ar=An+1|0;if(nr>>>0<ua>>>0){an=tn;xn=wn;Rn=ar;break}else An=ar}}}while(0);or=xn+4|0;on=an;Ln=Rn;Wo=Bo>>>0>or>>>0?or:Bo}else{on=$r;Ln=kn;Wo=Bo}sr=0-Ln|0;Go=Wo;while(1){if(Go>>>0<=on>>>0){z=0;jo=Go;break}lr=Go+-4|0;if(!(d[lr>>2]|0))Go=lr;else{z=1;jo=Go;break}}do{if(Bi){Q=(Ui&1^1)+ee|0;if((Q|0)>(Ln|0)&(Ln|0)>-5){c=_o+-1|0;S=Q+-1-Ln|0}else{c=_o+-2|0;S=Q+-1|0}cr=zn&8;if(cr){g=c;R=S;ne=cr;break}do{if(z){ur=d[jo+-4>>2]|0;if(!ur){Ma=9;break}if(!((ur>>>0)%10|0)){da=10;Ea=0}else{Ma=0;break}while(1){da=da*10|0;fr=Ea+1|0;if((ur>>>0)%(da>>>0)|0){Ma=fr;break}else Ea=fr}}else Ma=9}while(0);hr=((jo-ci>>2)*9|0)+-9|0;if((c|32|0)==102){dr=hr-Ma|0;M=(dr|0)<0?0:dr;g=c;R=(S|0)<(M|0)?S:M;ne=0;break}else{pr=hr+Ln-Ma|0;T=(pr|0)<0?0:pr;g=c;R=(S|0)<(T|0)?S:T;ne=0;break}}else{g=_o;R=ee;ne=zn&8}}while(0);mr=R|ne;gr=(mr|0)!=0&1;yr=(g|32|0)==102;if(yr){te=(Ln|0)>0?Ln:0;Dn=0}else{br=(Ln|0)<0?sr:Ln;wr=Co(br,((br|0)<0)<<31>>31,yi)|0;if((Hr-wr|0)<2){Nn=wr;while(1){xr=Nn+-1|0;f[xr>>0]=48;if((Hr-xr|0)<2)Nn=xr;else{In=xr;break}}}else In=wr;f[In+-1>>0]=(Ln>>31&2)+43;Er=In+-2|0;f[Er>>0]=g;te=Hr-Er|0;Dn=Er}Mr=Ga+1+R+gr+te|0;Vo(e,32,Mo,Mr,zn);if(!(d[e>>2]&32))eo(Ya,Ga,e)|0;Vo(e,48,Mo,Mr,zn^65536);do{if(yr){Ka=on>>>0>A>>>0?A:on;En=Ka;while(1){Sr=Co(d[En>>2]|0,0,ye)|0;do{if((En|0)==(Ka|0)){if((Sr|0)!=(ye|0)){oo=Sr;break}f[Re>>0]=48;oo=Re}else{if(Sr>>>0>fn>>>0)ao=Sr;else{oo=Sr;break}while(1){Tr=ao+-1|0;f[Tr>>0]=48;if(Tr>>>0>fn>>>0)ao=Tr;else{oo=Tr;break}}}}while(0);if(!(d[e>>2]&32))eo(oo,Me-oo|0,e)|0;Ar=En+4|0;if(Ar>>>0>A>>>0){J=Ar;break}else En=Ar}do{if(mr){if(d[e>>2]&32)break;eo(18309,1,e)|0}}while(0);if((R|0)>0&J>>>0<jo>>>0){C=R;Mn=J;while(1){Rr=Co(d[Mn>>2]|0,0,ye)|0;if(Rr>>>0>fn>>>0){lo=Rr;while(1){Lr=lo+-1|0;f[Lr>>0]=48;if(Lr>>>0>fn>>>0)lo=Lr;else{so=Lr;break}}}else so=Rr;if(!(d[e>>2]&32))eo(so,(C|0)>9?9:C,e)|0;Mn=Mn+4|0;Pr=C+-9|0;if(!((C|0)>9&Mn>>>0<jo>>>0)){P=Pr;break}else C=Pr}}else P=R;Vo(e,48,P+9|0,9,0)}else{Ho=z?jo:on+4|0;if((R|0)>-1){Cr=(ne|0)==0;N=R;Sn=on;while(1){Or=Co(d[Sn>>2]|0,0,ye)|0;if((Or|0)==(ye|0)){f[Re>>0]=48;co=Re}else co=Or;do{if((Sn|0)==(on|0)){Nr=co+1|0;if(!(d[e>>2]&32))eo(co,1,e)|0;if(Cr&(N|0)<1){fo=Nr;break}if(d[e>>2]&32){fo=Nr;break}eo(18309,1,e)|0;fo=Nr}else{if(co>>>0>fn>>>0)uo=co;else{fo=co;break}while(1){Ir=uo+-1|0;f[Ir>>0]=48;if(Ir>>>0>fn>>>0)uo=Ir;else{fo=Ir;break}}}}while(0);Dr=Me-fo|0;if(!(d[e>>2]&32))eo(fo,(N|0)>(Dr|0)?Dr:N,e)|0;Fr=N-Dr|0;Sn=Sn+4|0;if(!(Sn>>>0<Ho>>>0&(Fr|0)>-1)){O=Fr;break}else N=Fr}}else O=R;Vo(e,48,O+18|0,18,0);if(d[e>>2]&32)break;eo(Dn,Hr-Dn|0,e)|0}}while(0);Vo(e,32,Mo,Mr,zn^8192);o=(Mr|0)<(Mo|0)?Mo:Mr}else{Ot=(_o&32|0)!=0;It=m!=m|0.0!=0.0;ja=It?0:Ga;Nt=ja+3|0;Vo(e,32,Mo,Nt,Ne);Dt=d[e>>2]|0;if(!(Dt&32)){eo(Ya,ja,e)|0;Ft=d[e>>2]|0}else Ft=Dt;if(!(Ft&32))eo(It?Ot?18301:18305:Ot?18293:18297,3,e)|0;Vo(e,32,Mo,Nt,zn^8192);o=(Nt|0)<(Mo|0)?Mo:Nt}}while(0);pn=mn;qn=V;Sa=o;Ra=Oa;continue e;break}default:{Kr=qn;Vn=zn;za=Da;Wa=0;Za=18257;No=le}}}while(0);t:do{if((Xo|0)==64){Xo=0;He=sn;Ge=d[He>>2]|0;je=d[He+4>>2]|0;We=xo&32;if((Ge|0)==0&(je|0)==0){qr=le;Gn=Hn;Ba=Fa;Va=0;Ja=18257;Xo=77}else{l=le;Xe=Ge;Ye=je;while(1){qe=l+-1|0;f[qe>>0]=p[18241+(Xe&15)>>0]|We;Xe=ru(Xe|0,Ye|0,4)|0;Ye=H;if((Xe|0)==0&(Ye|0)==0){K=qe;break}else l=qe}Ze=sn;if((Hn&8|0)==0|(d[Ze>>2]|0)==0&(d[Ze+4>>2]|0)==0){qr=K;Gn=Hn;Ba=Fa;Va=0;Ja=18257;Xo=77}else{qr=K;Gn=Hn;Ba=Fa;Va=2;Ja=18257+(xo>>4)|0;Xo=77}}}else if((Xo|0)==76){Xo=0;qr=Co(dt,pt,le)|0;Gn=zn;Ba=Da;Va=Ha;Ja=Xa;Xo=77}else if((Xo|0)==82){Xo=0;xt=fa(Yr,0,Da)|0;Et=(xt|0)==0;Kr=Yr;Vn=Ne;za=Et?Da:xt-Yr|0;Wa=0;Za=18257;No=Et?Yr+Da|0:xt}else if((Xo|0)==86){Xo=0;ea=0;ka=0;ko=d[sn>>2]|0;while(1){Mt=d[ko>>2]|0;if(!Mt){Qn=ea;Aa=ka;break}St=xf(Ia,Mt)|0;if((St|0)<0|St>>>0>(Ua-ea|0)>>>0){Qn=ea;Aa=St;break}kt=St+ea|0;if(Ua>>>0>kt>>>0){ea=kt;ka=St;ko=ko+4|0}else{Qn=kt;Aa=St;break}}if((Aa|0)<0){a=-1;break e}Vo(e,32,Mo,Qn,zn);if(!Qn){$n=0;Xo=98}else{sa=0;Ao=d[sn>>2]|0;while(1){At=d[Ao>>2]|0;if(!At){$n=Qn;Xo=98;break t}Rt=xf(Ia,At)|0;sa=Rt+sa|0;if((sa|0)>(Qn|0)){$n=Qn;Xo=98;break t}if(!(d[e>>2]&32))eo(Ia,Rt,e)|0;if(sa>>>0>=Qn>>>0){$n=Qn;Xo=98;break}else Ao=Ao+4|0}}}}while(0);if((Xo|0)==98){Xo=0;Vo(e,32,Mo,$n,zn^8192);pn=mn;qn=V;Sa=(Mo|0)>($n|0)?Mo:$n;Ra=Oa;continue}if((Xo|0)==77){Xo=0;B=(Ba|0)>-1?Gn&-65537:Gn;vt=sn;gt=(d[vt>>2]|0)!=0|(d[vt+4>>2]|0)!=0;if((Ba|0)!=0|gt){bt=(gt&1^1)+(ze-qr)|0;Kr=qr;Vn=B;za=(Ba|0)>(bt|0)?Ba:bt;Wa=Va;Za=Ja;No=le}else{Kr=le;Vn=B;za=0;Wa=Va;Za=Ja;No=le}}Br=No-Kr|0;$=(za|0)<(Br|0)?Br:za;Ur=Wa+$|0;So=(Mo|0)<(Ur|0)?Ur:Mo;Vo(e,32,So,Ur,Vn);if(!(d[e>>2]&32))eo(Za,Wa,e)|0;Vo(e,48,So,Ur,Vn^65536);Vo(e,48,$,Br,0);if(!(d[e>>2]&32))eo(Kr,Br,e)|0;Vo(e,32,So,Ur,Vn^8192);pn=mn;qn=V;Sa=So;Ra=Oa}e:do{if((Xo|0)==245)if(!e)if(!La)a=0;else{la=1;while(1){zr=d[n+(la<<2)>>2]|0;if(!zr){ca=la;break}oa(r+(la<<3)|0,zr,i);la=la+1|0;if((la|0)>=10){a=1;break e}}if((ca|0)<10){ha=ca;while(1){if(d[n+(ha<<2)>>2]|0){a=-1;break e}ha=ha+1|0;if((ha|0)>=10){a=1;break}}}else a=1}else a=vn}while(0);w=qo;return a|0}function Ti(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,yi=0,bi=0,wi=0,_i=0,Ei=0,Mi=0,Si=0,Ti=0,Ai=0,Ri=0,Li=0,Pi=0,Ci=0,Oi=0,Ii=0,Ni=0,Di=0,Fi=0,Bi=0,Ui=0,zi=0,Hi=0,Gi=0,Vi=0,ji=0,Wi=0,Xi=0,qi=0,Yi=0,Ji=0,Zi=0,Ki=0,Qi=0,$i=0;Qi=w;w=w+480|0;if((w|0)>=(_|0))pe();Zi=Qi+72|0;Ji=Qi+48|0;Yi=Qi+24|0;R=Qi;ji=Qi+432|0;L=Qi+408|0;Ie=Qi+396|0;Et=Qi+384|0;$t=Qi+360|0;ri=Qi+336|0;li=Qi+320|0;pi=Qi+308|0;bi=Qi+296|0;Ti=Qi+284|0;P=Qi+272|0;B=Qi+260|0;X=Qi+248|0;ee=Qi+236|0;ae=Qi+224|0;fe=Qi+212|0;ve=Qi+200|0;be=Qi+188|0;Me=Qi+176|0;Re=Qi+152|0;Ne=Qi+140|0;Ue=Qi+128|0;je=Qi+116|0;Je=Qi+104|0;et=Qi+92|0;nt=t;e:do{if((nt-e|0)>3)if((f[e>>0]|0)==76){At=e+1|0;do{switch(f[At>>0]|0){case 84:{r=e;break e;break}case 119:{Ut=e+2|0;fl(Et,13738,7);Gt=In(Ut,t,Et,i)|0;Lu(Et);r=(Gt|0)==(Ut|0)?e:Gt;break e;break}case 98:{if((f[e+3>>0]|0)!=69){r=e;break e}switch(f[e+2>>0]|0){case 48:{Bl($t,13746);ei=i+4|0;ti=d[ei>>2]|0;ii=d[i+8>>2]|0;if(ti>>>0<ii>>>0){Pl(ti,$t);d[ei>>2]=(d[ei>>2]|0)+24}else{ni=d[i>>2]|0;ai=ti-ni|0;oi=(ai|0)/24|0;si=oi+1|0;if((ai|0)<-24)Ef(i);ci=(ii-ni|0)/24|0;if(ci>>>0<1073741823){ui=ci<<1;a=ui>>>0<si>>>0?si:ui}else a=2147483647;_l(R,a,oi,i+12|0);fi=R+8|0;hi=d[fi>>2]|0;Pl(hi,$t);d[fi>>2]=hi+24;Bo(i,R);al(R)}Vc($t);r=e+4|0;break e;break}case 49:{Ol(ri,13752);di=i+4|0;mi=d[di>>2]|0;vi=d[i+8>>2]|0;if(mi>>>0<vi>>>0){Pl(mi,ri);d[di>>2]=(d[di>>2]|0)+24}else{yi=d[i>>2]|0;wi=mi-yi|0;_i=(wi|0)/24|0;Ei=_i+1|0;if((wi|0)<-24)Ef(i);Mi=(vi-yi|0)/24|0;if(Mi>>>0<1073741823){Si=Mi<<1;c=Si>>>0<Ei>>>0?Ei:Si}else c=2147483647;_l(R,c,_i,i+12|0);Ai=R+8|0;Ri=d[Ai>>2]|0;Pl(Ri,ri);d[Ai>>2]=Ri+24;Bo(i,R);al(R)}Vc(ri);r=e+4|0;break e;break}default:{r=e;break e}}break}case 99:{Li=e+2|0;fl(li,13757,4);Pi=In(Li,t,li,i)|0;Lu(li);r=(Pi|0)==(Li|0)?e:Pi;break e;break}case 97:{Ci=e+2|0;fl(pi,13762,11);Oi=In(Ci,t,pi,i)|0;Lu(pi);r=(Oi|0)==(Ci|0)?e:Oi;break e;break}case 104:{C=e+2|0;fl(bi,13774,13);O=In(C,t,bi,i)|0;Lu(bi);r=(O|0)==(C|0)?e:O;break e;break}case 115:{I=e+2|0;fl(Ti,13788,5);N=In(I,t,Ti,i)|0;Lu(Ti);r=(N|0)==(I|0)?e:N;break e;break}case 116:{D=e+2|0;fl(P,13794,14);F=In(D,t,P,i)|0;Lu(P);r=(F|0)==(D|0)?e:F;break e;break}case 105:{U=e+2|0;fl(B,13809,0);z=In(U,t,B,i)|0;Lu(B);r=(z|0)==(U|0)?e:z;break e;break}case 106:{H=e+2|0;fl(X,13810,1);G=In(H,t,X,i)|0;Lu(X);r=(G|0)==(H|0)?e:G;break e;break}case 108:{V=e+2|0;fl(ee,13812,1);j=In(V,t,ee,i)|0;Lu(ee);r=(j|0)==(V|0)?e:j;break e;break}case 109:{W=e+2|0;fl(ae,13814,2);q=In(W,t,ae,i)|0;Lu(ae);r=(q|0)==(W|0)?e:q;break e;break}case 120:{Y=e+2|0;fl(fe,13817,2);J=In(Y,t,fe,i)|0;Lu(fe);r=(J|0)==(Y|0)?e:J;break e;break}case 121:{Z=e+2|0;fl(ve,13820,3);K=In(Z,t,ve,i)|0;Lu(ve);r=(K|0)==(Z|0)?e:K;break e;break}case 110:{Q=e+2|0;fl(be,13824,8);$=In(Q,t,be,i)|0;Lu(be);r=($|0)==(Q|0)?e:$;break e;break}case 111:{te=e+2|0;fl(Me,13833,17);ie=In(te,t,Me,i)|0;Lu(Me);r=(ie|0)==(te|0)?e:ie;break e;break}case 102:{re=e+2|0;t:do{if((nt-re|0)>>>0>8){ne=e+10|0;oe=f[re>>0]|0;le=e;Di=R;Wi=re;while(1){if(!(uf(oe<<24>>24)|0)){n=re;break t}se=f[Wi>>0]|0;ue=f[le+3>>0]|0;f[Di>>0]=(((ue<<24>>24)+-48|0)>>>0<10?208:169)+(ue&255)+(((se+-48|0)>>>0<10?0:9)+se<<4);he=Wi+2|0;de=Di+1|0;me=f[he>>0]|0;if((he|0)==(ne|0)){E=de;M=me;Fi=Di;break}else{ce=Wi;oe=me;Di=de;Wi=he;le=ce}}if(M<<24>>24==69){if((R|0)!=(E|0)&R>>>0<Fi>>>0){p=R;ye=Fi;do{ge=f[p>>0]|0;f[p>>0]=f[ye>>0]|0;f[ye>>0]=ge;p=p+1|0;ye=ye+-1|0}while(p>>>0<ye>>>0)}Ki=ji;$i=Ki+24|0;do{f[Ki>>0]=0;Ki=Ki+1|0}while((Ki|0)<($i|0));y[Yi>>3]=+g[R>>2];we=_c(ji,24,13851,Yi)|0;if(we>>>0>23)n=re;else{fl(Ie,ji,we);Kl(L,Ie);_e=i+4|0;xe=d[_e>>2]|0;Ee=d[i+8>>2]|0;if(xe>>>0<Ee>>>0){Pl(xe,L);d[_e>>2]=(d[_e>>2]|0)+24}else{Se=d[i>>2]|0;Te=xe-Se|0;ke=(Te|0)/24|0;Ae=ke+1|0;if((Te|0)<-24)Ef(i);Le=(Ee-Se|0)/24|0;if(Le>>>0<1073741823){Pe=Le<<1;o=Pe>>>0<Ae>>>0?Ae:Pe}else o=2147483647;_l(Yi,o,ke,i+12|0);Ce=Yi+8|0;Oe=d[Ce>>2]|0;Pl(Oe,L);d[Ce>>2]=Oe+24;Bo(i,Yi);al(Yi)}Vc(L);Lu(Ie);n=e+11|0}}else n=re}else n=re}while(0);r=(n|0)==(re|0)?e:n;break e;break}case 100:{De=e+2|0;t:do{if((nt-De|0)>>>0>16){Fe=e+18|0;Be=f[De>>0]|0;He=e;Bi=R;Xi=De;while(1){if(!(uf(Be<<24>>24)|0)){h=De;break t}ze=f[Xi>>0]|0;Ve=f[He+3>>0]|0;f[Bi>>0]=(((Ve<<24>>24)+-48|0)>>>0<10?208:169)+(Ve&255)+(((ze+-48|0)>>>0<10?0:9)+ze<<4);We=Xi+2|0;Xe=Bi+1|0;qe=f[We>>0]|0;if((We|0)==(Fe|0)){S=Xe;T=qe;Ui=Bi;break}else{Ge=Xi;Be=qe;Bi=Xe;Xi=We;He=Ge}}if(T<<24>>24==69){if((R|0)!=(S|0)&R>>>0<Ui>>>0){m=R;Ze=Ui;do{Ye=f[m>>0]|0;f[m>>0]=f[Ze>>0]|0;f[Ze>>0]=Ye;m=m+1|0;Ze=Ze+-1|0}while(m>>>0<Ze>>>0)}Ki=ji;$i=Ki+32|0;do{f[Ki>>0]=0;Ki=Ki+1|0}while((Ki|0)<($i|0));y[Ji>>3]=+y[R>>3];Ke=_c(ji,32,13855,Ji)|0;if(Ke>>>0>31)h=De;else{fl(Ie,ji,Ke);Kl(L,Ie);Qe=i+4|0;$e=d[Qe>>2]|0;tt=d[i+8>>2]|0;if($e>>>0<tt>>>0){Pl($e,L);d[Qe>>2]=(d[Qe>>2]|0)+24}else{it=d[i>>2]|0;rt=$e-it|0;at=(rt|0)/24|0;ot=at+1|0;if((rt|0)<-24)Ef(i);st=(tt-it|0)/24|0;if(st>>>0<1073741823){lt=st<<1;s=lt>>>0<ot>>>0?ot:lt}else s=2147483647;_l(Ji,s,at,i+12|0);ct=Ji+8|0;ut=d[ct>>2]|0;Pl(ut,L);d[ct>>2]=ut+24;Bo(i,Ji);al(Ji)}Vc(L);Lu(Ie);h=e+19|0}}else h=De}else h=De}while(0);r=(h|0)==(De|0)?e:h;break e;break}case 101:{ft=e+2|0;t:do{if((nt-ft|0)>>>0>20){ht=e+22|0;dt=f[ft>>0]|0;mt=e;zi=R;qi=ft;while(1){if(!(uf(dt<<24>>24)|0)){b=ft;break t}pt=f[qi>>0]|0;gt=f[mt+3>>0]|0;f[zi>>0]=(((gt<<24>>24)+-48|0)>>>0<10?208:169)+(gt&255)+(((pt+-48|0)>>>0<10?0:9)+pt<<4);yt=qi+2|0;bt=zi+1|0;wt=f[yt>>0]|0;if((yt|0)==(ht|0)){k=bt;A=wt;Hi=zi;break}else{vt=qi;dt=wt;zi=bt;qi=yt;mt=vt}}if(A<<24>>24==69){if((R|0)!=(k|0)&R>>>0<Hi>>>0){v=R;xt=Hi;do{_t=f[v>>0]|0;f[v>>0]=f[xt>>0]|0;f[xt>>0]=_t;v=v+1|0;xt=xt+-1|0}while(v>>>0<xt>>>0)}Ki=ji;$i=Ki+40|0;do{f[Ki>>0]=0;Ki=Ki+1|0}while((Ki|0)<($i|0));y[Zi>>3]=+y[R>>3];Mt=_c(ji,40,13858,Zi)|0;if(Mt>>>0>39){b=ft;break}fl(Ie,ji,Mt);Kl(L,Ie);St=i+4|0;Tt=d[St>>2]|0;kt=d[i+8>>2]|0;if(Tt>>>0<kt>>>0){Pl(Tt,L);d[St>>2]=(d[St>>2]|0)+24}else{Rt=d[i>>2]|0;Lt=Tt-Rt|0;Pt=(Lt|0)/24|0;Ct=Pt+1|0;if((Lt|0)<-24)Ef(i);Ot=(kt-Rt|0)/24|0;if(Ot>>>0<1073741823){It=Ot<<1;l=It>>>0<Ct>>>0?Ct:It}else l=2147483647;_l(Zi,l,Pt,i+12|0);Nt=Zi+8|0;Dt=d[Nt>>2]|0;Pl(Dt,L);d[Nt>>2]=Dt+24;Bo(i,Zi);al(Zi)}Vc(L);Lu(Ie);b=e+23|0}else b=ft}else b=ft}while(0);r=(b|0)==(ft|0)?e:b;break e;break}case 95:{if((f[e+2>>0]|0)!=90){r=e;break e}Ft=e+3|0;Bt=ki(Ft,t,i)|0;if((Bt|0)==(Ft|0)|(Bt|0)==(t|0)){r=e;break e}w=Qi;return((f[Bt>>0]|0)==69?Bt+1|0:e)|0}default:{zt=gi(At,t,i)|0;if((zt|0)==(At|0)|(zt|0)==(t|0)){r=e;break e}if((f[zt>>0]|0)==69){r=zt+1|0;break e}if((zt|0)==(t|0)){r=e;break e}else Gi=zt;while(1){Ht=f[Gi>>0]|0;if(((Ht<<24>>24)+-48|0)>>>0>=10){x=Ht;Vi=Gi;break}Gi=Gi+1|0;if((Gi|0)==(t|0)){r=e;break e}}if(!((Vi|0)!=(zt|0)&x<<24>>24==69)){r=e;break e}Vt=d[i+4>>2]|0;if((d[i>>2]|0)==(Vt|0)){r=e;break e}jt=Vt+-24|0;el(Je,jt);Wt=Ac(Je,0,12688)|0;d[je>>2]=d[Wt>>2];d[je+4>>2]=d[Wt+4>>2];d[je+8>>2]=d[Wt+8>>2];d[Wt>>2]=0;d[Wt+4>>2]=0;d[Wt+8>>2]=0;Xt=Gc(je,12593)|0;d[Ue>>2]=d[Xt>>2];d[Ue+4>>2]=d[Xt+4>>2];d[Ue+8>>2]=d[Xt+8>>2];d[Xt>>2]=0;d[Xt+4>>2]=0;d[Xt+8>>2]=0;qt=Vi-zt|0;if(qt>>>0>4294967279)bf(et);if(qt>>>0<11){f[et>>0]=qt<<1;Ni=et+1|0}else{Yt=qt+16&-16;Jt=xi(Yt)|0;d[et+8>>2]=Jt;d[et>>2]=Yt|1;d[et+4>>2]=qt;Ni=Jt}if((zt|0)!=(Vi|0)){u=zt;Ii=Ni;while(1){f[Ii>>0]=f[u>>0]|0;u=u+1|0;if((u|0)==(Vi|0))break;else Ii=Ii+1|0}}f[Ni+qt>>0]=0;Zt=f[et>>0]|0;Kt=(Zt&1)==0;Qt=Go(Ue,Kt?et+1|0:d[et+8>>2]|0,Kt?(Zt&255)>>>1:d[et+4>>2]|0)|0;d[Ne>>2]=d[Qt>>2];d[Ne+4>>2]=d[Qt+4>>2];d[Ne+8>>2]=d[Qt+8>>2];d[Qt>>2]=0;d[Qt+4>>2]=0;d[Qt+8>>2]=0;Kl(Re,Ne);Jn(jt,Re);Vc(Re);Lu(Ne);Lu(et);Lu(Ue);Lu(je);Lu(Je);r=Vi+1|0;break e}}}while(0)}else r=e;else r=e}while(0);w=Qi;return r|0}function ki(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0;oi=w;w=w+112|0;if((w|0)>=(_|0))pe();Jt=oi+96|0;m=oi+84|0;v=oi+72|0;K=oi+60|0;Se=oi+48|0;$t=oi+36|0;Qt=oi+24|0;ni=oi+12|0;st=oi;e:do{if((e|0)==(t|0))a=e;else{St=i+56|0;Lt=d[St>>2]|0;Nt=Lt+1|0;d[St>>2]=Nt;zt=i+61|0;g=f[zt>>0]|0;if(Nt>>>0>1)f[zt>>0]=1;T=f[e>>0]|0;t:do{switch(T|0){case 84:case 71:{i:do{if((t-e|0)>2){switch(T|0){case 84:break;case 71:{switch(f[e+1>>0]|0){case 86:{z=e+2|0;H=Mi(z,t,i)|0;if((H|0)==(z|0)){r=e;break i}V=d[i+4>>2]|0;if((d[i>>2]|0)==(V|0)){r=e;break i}Ac(V+-24|0,0,14521)|0;r=H;break i;break}case 82:{j=e+2|0;W=Mi(j,t,i)|0;if((W|0)==(j|0)){r=e;break i}X=d[i+4>>2]|0;if((d[i>>2]|0)==(X|0)){r=e;break i}Ac(X+-24|0,0,14541)|0;r=W;break i;break}default:{r=e;break i}}break}default:{r=e;break i}}G=e+1|0;switch(f[G>>0]|0){case 86:{re=e+2|0;ae=gi(re,t,i)|0;if((ae|0)==(re|0)){r=e;break i}he=d[i+4>>2]|0;if((d[i>>2]|0)==(he|0)){r=e;break i}Ac(he+-24|0,0,14370)|0;r=ae;break i;break}case 84:{Me=e+2|0;Te=gi(Me,t,i)|0;if((Te|0)==(Me|0)){r=e;break i}ze=d[i+4>>2]|0;if((d[i>>2]|0)==(ze|0)){r=e;break i}Ac(ze+-24|0,0,14382)|0;r=Te;break i;break}case 73:{Ze=e+2|0;$e=gi(Ze,t,i)|0;if(($e|0)==(Ze|0)){r=e;break i}pt=d[i+4>>2]|0;if((d[i>>2]|0)==(pt|0)){r=e;break i}Ac(pt+-24|0,0,14391)|0;r=$e;break i;break}case 83:{yt=e+2|0;bt=gi(yt,t,i)|0;if((bt|0)==(yt|0)){r=e;break i}wt=d[i+4>>2]|0;if((d[i>>2]|0)==(wt|0)){r=e;break i}Ac(wt+-24|0,0,14405)|0;r=bt;break i;break}case 99:{_t=e+2|0;xt=wo(_t,t)|0;if((xt|0)==(_t|0)){r=e;break i}Et=wo(xt,t)|0;if((Et|0)==(xt|0)){r=e;break i}Mt=ki(Et,t,i)|0;if((Mt|0)==(Et|0)){r=e;break i}Tt=d[i+4>>2]|0;if((d[i>>2]|0)==(Tt|0)){r=e;break i}Ac(Tt+-24|0,0,14424)|0;r=Mt;break i;break}case 67:{kt=e+2|0;At=gi(kt,t,i)|0;if((At|0)==(kt|0)){r=e;break i}Rt=Ms(At,t)|0;if((Rt|0)==(At|0)|(Rt|0)==(t|0)){r=e;break i}if((f[Rt>>0]|0)!=95){r=e;break i}Pt=Rt+1|0;Ct=gi(Pt,t,i)|0;if((Ct|0)==(Pt|0)){r=e;break i}Ot=i+4|0;It=d[Ot>>2]|0;if(((It-(d[i>>2]|0)|0)/24|0)>>>0<2){r=e;break i}el(Jt,It+-24|0);Dt=d[Ot>>2]|0;Ft=Dt+-24|0;Ut=Dt;do{Bt=Ut+-24|0;d[Ot>>2]=Bt;Vc(Bt);Ut=d[Ot>>2]|0}while((Ut|0)!=(Ft|0));Ht=Dt+-48|0;Gt=Ac(Jt,0,14451)|0;d[K>>2]=d[Gt>>2];d[K+4>>2]=d[Gt+4>>2];d[K+8>>2]=d[Gt+8>>2];d[Gt>>2]=0;d[Gt+4>>2]=0;d[Gt+8>>2]=0;Vt=Gc(K,14476)|0;d[v>>2]=d[Vt>>2];d[v+4>>2]=d[Vt+4>>2];d[v+8>>2]=d[Vt+8>>2];d[Vt>>2]=0;d[Vt+4>>2]=0;d[Vt+8>>2]=0;el(Se,(d[Ot>>2]|0)+-24|0);jt=f[Se>>0]|0;y=(jt&1)==0;b=Go(v,y?Se+1|0:d[Se+8>>2]|0,y?(jt&255)>>>1:d[Se+4>>2]|0)|0;d[m>>2]=d[b>>2];d[m+4>>2]=d[b+4>>2];d[m+8>>2]=d[b+8>>2];d[b>>2]=0;d[b+4>>2]=0;d[b+8>>2]=0;do{if(!(f[Ht>>0]&1)){f[Ht+1>>0]=0;f[Ht>>0]=0}else{x=Dt+-40|0;f[d[x>>2]>>0]=0;E=Dt+-44|0;d[E>>2]=0;p=f[Ht>>0]|0;if(!(p&1)){S=p;R=10}else{M=d[Ht>>2]|0;S=M&255;R=(M&-2)+-1|0}if(!(S&1)){k=(S&255)>>>1;if((S&255)<22){A=10;N=k;gt=1}else{A=(k+16&240)+-1|0;N=k;gt=1}}else{A=10;N=0;gt=0}if((A|0)!=(R|0)){if((A|0)==10){C=Ht+1|0;O=d[x>>2]|0;if(gt){il(C|0,O|0,((S&255)>>>1)+1|0)|0;cn(O)}else{f[C>>0]=f[O>>0]|0;cn(O)}f[Ht>>0]=N<<1;break}L=A+1|0;P=xi(L)|0;if(!(A>>>0<=R>>>0&(P|0)==0)){if(gt)il(P|0,Ht+1|0,((S&255)>>>1)+1|0)|0;else{I=d[x>>2]|0;f[P>>0]=f[I>>0]|0;cn(I)}d[Ht>>2]=L|1;d[E>>2]=N;d[x>>2]=P}}}}while(0);d[Ht>>2]=d[m>>2];d[Ht+4>>2]=d[m+4>>2];d[Ht+8>>2]=d[m+8>>2];d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;Lu(m);Lu(Se);Lu(v);Lu(K);Lu(Jt);r=Ct;break i;break}default:{D=wo(G,t)|0;if((D|0)==(G|0)){r=e;break i}F=ki(D,t,i)|0;if((F|0)==(D|0)){r=e;break i}B=d[i+4>>2]|0;if((d[i>>2]|0)==(B|0)){r=e;break i}U=B+-24|0;if((f[e+2>>0]|0)==118){Ac(U,0,14481)|0;r=F;break i}else{Ac(U,0,14499)|0;r=F;break i}}}}else r=e}while(0);n=r;break}default:{q=Mi(e,t,i)|0;Y=d[i+48>>2]|0;J=d[i+52>>2]|0;if((q|0)==(e|0))n=e;else if((q|0)==(t|0))n=t;else{switch(f[q>>0]|0){case 46:case 69:{n=q;break t;break}default:{}}Z=f[zt>>0]|0;f[zt>>0]=0;d[$t>>2]=0;d[$t+4>>2]=0;d[$t+8>>2]=0;Q=i+4|0;$=d[Q>>2]|0;i:do{if((d[i>>2]|0)!=($|0)){ee=$+-24|0;te=f[ee>>0]|0;ie=(te&1)==0;if(ie)ne=(te&255)>>>1;else ne=d[$+-20>>2]|0;if(ne){if(!(f[i+60>>0]|0)){if(ie){oe=(te&255)>>>1;se=ee+1|0}else{oe=d[$+-20>>2]|0;se=d[$+-16>>2]|0}if((f[se+(oe+-1)>>0]|0)==62){if(ie){o=(te&255)>>>1;le=ee+1|0}else{o=d[$+-20>>2]|0;le=d[$+-16>>2]|0}if((f[le+(o+-2)>>0]|0)==45){Ie=$;ei=q}else{if(ie){s=(te&255)>>>1;ce=ee+1|0}else{s=d[$+-20>>2]|0;ce=d[$+-16>>2]|0}if((f[ce+(s+-2)>>0]|0)==62){Ie=$;ei=q}else{ue=gi(q,t,i)|0;if((ue|0)==(q|0))break;fe=d[Q>>2]|0;if(((fe-(d[i>>2]|0)|0)/24|0)>>>0<2)break;de=fe+-24|0;d[Qt>>2]=d[de>>2];d[Qt+4>>2]=d[de+4>>2];d[Qt+8>>2]=d[de+8>>2];d[de>>2]=0;d[de+4>>2]=0;d[de+8>>2]=0;me=fe+-12|0;r:do{if(!(f[$t>>0]&1)){f[$t+1>>0]=0;f[$t>>0]=0}else{ve=$t+8|0;ge=d[ve>>2]|0;f[ge>>0]=0;ye=$t+4|0;d[ye>>2]=0;be=d[$t>>2]|0;Zt=(be&-2)+-1|0;we=be&255;do{if(!(we&1)){_e=be>>>1&127;if((we&255)<22){il($t+1|0,ge|0,(be>>>1&127)+1|0)|0;cn(ge);h=_e;break}xe=_e+16&240;Kt=xe+-1|0;if((Kt|0)==(Zt|0))break r;Ee=xi(xe)|0;if(Kt>>>0<=Zt>>>0&(Ee|0)==0)break r;il(Ee|0,$t+1|0,(be>>>1&127)+1|0)|0;d[$t>>2]=xe|1;d[ye>>2]=_e;d[ve>>2]=Ee;break r}else{f[$t+1>>0]=0;cn(ge);h=0}}while(0);f[$t>>0]=h<<1}}while(0);d[$t>>2]=d[me>>2];d[$t+4>>2]=d[me+4>>2];d[$t+8>>2]=d[me+8>>2];d[me>>2]=0;d[me+4>>2]=0;d[me+8>>2]=0;ke=f[$t>>0]|0;if(!(((ke&1)==0?(ke&255)>>>1:d[$t+4>>2]|0)|0))yo(Qt,32);Ae=d[Q>>2]|0;Re=Ae+-24|0;Pe=Ae;do{Le=Pe+-24|0;d[Q>>2]=Le;Vc(Le);Pe=d[Q>>2]|0}while((Pe|0)!=(Re|0));Ce=f[Qt>>0]|0;Oe=(Ce&1)==0;Xa(Ae+-48|0,0,Oe?Qt+1|0:d[Qt+8>>2]|0,Oe?(Ce&255)>>>1:d[Qt+4>>2]|0)|0;Lu(Qt);Ie=d[Q>>2]|0;ei=ue}}}else{Ie=$;ei=q}}else{Ie=$;ei=q}yo(Ie+-24|0,40);if((ei|0)==(t|0))ai=105;else if((f[ei>>0]|0)==118){ht=d[i>>2]|0;dt=d[Q>>2]|0;ri=ei+1|0}else ai=105;r:do{if((ai|0)==105){Ne=ni+4|0;De=st+8|0;Fe=st+1|0;Be=st+4|0;Ue=ni+8|0;He=ni+1|0;Ge=ni+4|0;Ve=ni+8|0;Wt=1;ii=ei;while(1){je=d[Q>>2]|0;We=d[i>>2]|0;ti=ii;while(1){Xe=(je-We|0)/24|0;qe=gi(ti,t,i)|0;je=d[Q>>2]|0;We=d[i>>2]|0;Ye=(je-We|0)/24|0;if((qe|0)==(ti|0)){ht=We;dt=je;ri=ti;break r}if(Ye>>>0>Xe>>>0){l=Xe;c=qe;u=Ye;break}else ti=qe}d[ni>>2]=0;d[Ge>>2]=0;d[Ve>>2]=0;if(l>>>0<u>>>0){qt=l;do{Je=f[ni>>0]|0;if(((Je&1)==0?(Je&255)>>>1:d[Ne>>2]|0)|0)Gc(ni,12690)|0;el(st,(d[i>>2]|0)+(qt*24|0)|0);Ke=f[st>>0]|0;Qe=(Ke&1)==0;Go(ni,Qe?Fe:d[De>>2]|0,Qe?(Ke&255)>>>1:d[Be>>2]|0)|0;Lu(st);qt=qt+1|0}while(qt>>>0<u>>>0)}if(l>>>0<u>>>0){Yt=l;do{et=d[Q>>2]|0;tt=et+-24|0;rt=et;do{it=rt+-24|0;d[Q>>2]=it;Vc(it);rt=d[Q>>2]|0}while((rt|0)!=(tt|0));Yt=Yt+1|0}while(Yt>>>0<u>>>0)}nt=f[ni>>0]|0;at=d[Ne>>2]|0;if(!(((nt&1)==0?(nt&255)>>>1:at)|0))Xt=Wt;else{ot=d[Q>>2]|0;if((d[i>>2]|0)==(ot|0))break;if(Wt){lt=ot;ct=nt;ft=at}else{Gc(ot+-24|0,12690)|0;lt=d[Q>>2]|0;ct=f[ni>>0]|0;ft=d[Ne>>2]|0}ut=(ct&1)==0;Go(lt+-24|0,ut?He:d[Ue>>2]|0,ut?(ct&255)>>>1:ft)|0;Xt=0}Lu(ni);Wt=Xt;ii=c}Lu(ni);break i}}while(0);if((ht|0)!=(dt|0)){yo(dt+-24|0,41);if(Y&1)Gc((d[Q>>2]|0)+-24|0,12643)|0;if(Y&2)Gc((d[Q>>2]|0)+-24|0,12650)|0;if(Y&4)Gc((d[Q>>2]|0)+-24|0,12660)|0;switch(J|0){case 1:{Gc((d[Q>>2]|0)+-24|0,12693)|0;break}case 2:{Gc((d[Q>>2]|0)+-24|0,12696)|0;break}default:{}}mt=f[$t>>0]|0;vt=(mt&1)==0;Go((d[Q>>2]|0)+-24|0,vt?$t+1|0:d[$t+8>>2]|0,vt?(mt&255)>>>1:d[$t+4>>2]|0)|0;Lu($t);f[zt>>0]=Z;n=ri;break t}}}}while(0);Lu($t);f[zt>>0]=g;d[St>>2]=Lt;a=e;break e}}}}while(0);f[zt>>0]=g;d[St>>2]=Lt;a=n}}while(0);w=oi;return a|0}function Ai(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0.0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0,di=0,pi=0,mi=0,vi=0,gi=0,yi=0,bi=0,wi=0,_i=0,Mi=0,Si=0,Ti=0;Ti=w;w=w+304|0;if((w|0)>=(_|0))pe();at=Ti+16|0;oi=Ti+8|0;ni=Ti+33|0;si=Ti;v=Ti+32|0;if((d[e+76>>2]|0)>-1)Ce=Ih(e)|0;else Ce=0;Be=f[t>>0]|0;e:do{if(!(Be<<24>>24))Rt=0;else{Ge=e+4|0;Ve=e+100|0;Xe=e+108|0;b=e+8|0;T=ni+10|0;L=ni+33|0;O=oi+4|0;N=ni+46|0;B=ni+94|0;q=Be;Mt=0;Lt=t;Wt=0;Yt=0;li=0;t:while(1){i:do{if(!(th(q&255)|0)){Ne=(f[Lt>>0]|0)==37;r:do{if(Ne){De=Lt+1|0;Fe=f[De>>0]|0;n:do{switch(Fe<<24>>24){case 37:{break r;break}case 42:{lt=0;Nt=Lt+2|0;break}default:{_t=(Fe&255)+-48|0;if(_t>>>0<10)if((f[Lt+2>>0]|0)==36){d[at>>2]=d[i>>2];ct=_t;while(1){je=(d[at>>2]|0)+(4-1)&~(4-1);We=d[je>>2]|0;d[at>>2]=je+4;if(ct>>>0>1)ct=ct+-1|0;else{n=We;break}}lt=n;Nt=Lt+3|0;break n}qe=(d[i>>2]|0)+(4-1)&~(4-1);Ye=d[qe>>2]|0;d[i>>2]=qe+4;lt=Ye;Nt=De}}}while(0);Je=f[Nt>>0]|0;Ze=Je&255;if((Ze+-48|0)>>>0<10){Qe=Ze;Ft=Nt;_i=0;while(1){Ke=(_i*10|0)+-48+Qe|0;$e=Ft+1|0;et=f[$e>>0]|0;Qe=et&255;if((Qe+-48|0)>>>0>=10){a=et;Dt=$e;wi=Ke;break}else{Ft=$e;_i=Ke}}}else{a=Je;Dt=Nt;wi=0}if(a<<24>>24==109){x=Dt+1|0;M=f[x>>0]|0;tt=(lt|0)!=0&1;Bt=x;Zt=0;ui=0}else{M=a;tt=0;Bt=Dt;Zt=Yt;ui=li}E=Bt+1|0;switch(M&255|0){case 104:{S=(f[E>>0]|0)==104;Ut=S?Bt+2|0:E;ai=S?-2:-1;break}case 108:{k=(f[E>>0]|0)==108;Ut=k?Bt+2|0:E;ai=k?3:1;break}case 106:{Ut=E;ai=3;break}case 116:case 122:{Ut=E;ai=1;break}case 76:{Ut=E;ai=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{Ut=Bt;ai=0;break}default:{it=tt;Tt=Mt;ti=Zt;gi=ui;Si=152;break t}}A=p[Ut>>0]|0;R=(A&47|0)==3;r=R?A|32:A;m=R?1:ai;switch(r|0){case 99:{Xt=Wt;Mi=(wi|0)<1?1:wi;break}case 91:{Xt=Wt;Mi=wi;break}case 110:{if(!lt){kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i}switch(m|0){case-2:{f[lt>>0]=Wt;kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i;break}case-1:{h[lt>>1]=Wt;kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i;break}case 0:{d[lt>>2]=Wt;kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i;break}case 1:{d[lt>>2]=Wt;kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i;break}case 3:{P=lt;d[P>>2]=Wt;d[P+4>>2]=((Wt|0)<0)<<31>>31;kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i;break}default:{kt=Mt;It=Ut;qt=Wt;ei=Zt;vi=ui;break i}}break}default:{Rc(e,0);do{C=d[Ge>>2]|0;if(C>>>0<(d[Ve>>2]|0)>>>0){d[Ge>>2]=C+1;I=p[C>>0]|0}else I=to(e)|0}while((th(I)|0)!=0);c=d[Ge>>2]|0;if(!(d[Ve>>2]|0))F=c;else{D=c+-1|0;d[Ge>>2]=D;F=D}Xt=(d[Xe>>2]|0)+Wt+F-(d[b>>2]|0)|0;Mi=wi}}Rc(e,Mi);U=d[Ge>>2]|0;z=d[Ve>>2]|0;if(U>>>0<z>>>0){d[Ge>>2]=U+1;G=z}else{if((to(e)|0)<0){it=tt;Tt=Mt;ti=Zt;gi=ui;Si=152;break t}G=d[Ve>>2]|0}if(G)d[Ge>>2]=(d[Ge>>2]|0)+-1;n:do{switch(r|0){case 91:case 99:case 115:{V=(r|0)==99;a:do{if((r&239|0)==99){ul(ni|0,-1,257)|0;f[ni>>0]=0;if((r|0)==115){f[L>>0]=0;f[T>>0]=0;f[T+1>>0]=0;f[T+2>>0]=0;f[T+3>>0]=0;f[T+4>>0]=0;jt=Ut}else jt=Ut}else{j=Ut+1|0;W=(f[j>>0]|0)==94;wt=W&1;X=W?j:Ut;zt=W?Ut+2|0:j;ul(ni|0,W&1|0,257)|0;f[ni>>0]=0;switch(f[zt>>0]|0){case 45:{Y=(wt^1)&255;f[N>>0]=Y;l=Y;Gt=X+2|0;break}case 93:{J=(wt^1)&255;f[B>>0]=J;l=J;Gt=X+2|0;break}default:{l=(wt^1)&255;Gt=zt}}Ht=Gt;while(1){Z=f[Ht>>0]|0;o:do{switch(Z<<24>>24){case 0:{it=tt;Tt=Mt;ti=Zt;gi=ui;Si=152;break t;break}case 93:{jt=Ht;break a;break}case 45:{K=Ht+1|0;Q=f[K>>0]|0;switch(Q<<24>>24){case 93:case 0:{te=45;Vt=Ht;break o;break}default:{}}$=f[Ht+-1>>0]|0;if(($&255)<(Q&255)){st=$&255;do{st=st+1|0;f[ni+st>>0]=l;ee=f[K>>0]|0}while((st|0)<(ee&255|0));te=ee;Vt=K}else{te=Q;Vt=K}break}default:{te=Z;Vt=Ht}}}while(0);f[ni+((te&255)+1)>>0]=l;Ht=Vt+1|0}}}while(0);ie=V?Mi+1|0:31;re=(m|0)==1;ne=(tt|0)!=0;a:do{if(re){if(ne){ae=xi(ie<<2)|0;if(!ae){it=tt;Tt=Mt;ti=0;gi=ae;Si=152;break t}else fi=ae}else fi=lt;d[oi>>2]=0;d[O>>2]=0;ut=0;xt=ie;hi=fi;o:while(1){se=(hi|0)==0;ht=ut;while(1){s:while(1){le=d[Ge>>2]|0;if(le>>>0<(d[Ve>>2]|0)>>>0){d[Ge>>2]=le+1;ce=p[le>>0]|0}else ce=to(e)|0;if(!(f[ni+(ce+1)>>0]|0)){dt=ht;di=hi;break o}f[v>>0]=ce;switch(wa(si,v,1,oi)|0){case-1:{it=tt;Tt=Mt;ti=0;gi=hi;Si=152;break t;break}case-2:break;default:break s}}if(se)pt=ht;else{d[hi+(ht<<2)>>2]=d[si>>2];pt=ht+1|0}if(ne&(pt|0)==(xt|0))break;else ht=pt}ue=xt<<1|1;fe=As(hi,ue<<2)|0;if(!fe){it=tt;Tt=Mt;ti=0;gi=hi;Si=152;break t}ft=xt;xt=ue;hi=fe;ut=ft}if(!(Af(oi)|0)){it=tt;Tt=Mt;ti=0;gi=di;Si=152;break t}else{bt=dt;Qt=0;pi=di}}else{if(ne){he=xi(ie)|0;if(!he){it=tt;Tt=Mt;ti=0;gi=0;Si=152;break t}else{vt=0;Et=ie;Kt=he}while(1){mt=vt;do{de=d[Ge>>2]|0;if(de>>>0<(d[Ve>>2]|0)>>>0){d[Ge>>2]=de+1;me=p[de>>0]|0}else me=to(e)|0;if(!(f[ni+(me+1)>>0]|0)){bt=mt;Qt=Kt;pi=0;break a}f[Kt+mt>>0]=me;mt=mt+1|0}while((mt|0)!=(Et|0));ve=Et<<1|1;ge=As(Kt,ve)|0;if(!ge){it=tt;Tt=Mt;ti=Kt;gi=0;Si=152;break t}else{gt=Et;Et=ve;Kt=ge;vt=gt}}}if(!lt){Ee=G;while(1){xe=d[Ge>>2]|0;if(xe>>>0<Ee>>>0){d[Ge>>2]=xe+1;Me=p[xe>>0]|0}else Me=to(e)|0;if(!(f[ni+(Me+1)>>0]|0)){bt=0;Qt=0;pi=0;break a}Ee=d[Ve>>2]|0}}else{we=G;yt=0;while(1){ye=d[Ge>>2]|0;if(ye>>>0<we>>>0){d[Ge>>2]=ye+1;_e=p[ye>>0]|0}else _e=to(e)|0;if(!(f[ni+(_e+1)>>0]|0)){bt=yt;Qt=lt;pi=0;break a}f[lt+yt>>0]=_e;we=d[Ve>>2]|0;yt=yt+1|0}}}}while(0);u=d[Ge>>2]|0;if(!(d[Ve>>2]|0))Te=u;else{Se=u+-1|0;d[Ge>>2]=Se;Te=Se}ke=Te-(d[b>>2]|0)+(d[Xe>>2]|0)|0;if(!ke){nt=tt;At=Mt;ri=Qt;bi=pi;break t}if(!((ke|0)==(Mi|0)|V^1)){nt=tt;At=Mt;ri=Qt;bi=pi;break t}do{if(ne)if(re){d[lt>>2]=pi;break}else{d[lt>>2]=Qt;break}}while(0);if(V){Ot=jt;$t=Qt;mi=pi}else{if(pi)d[pi+(bt<<2)>>2]=0;if(!Qt){Ot=jt;$t=0;mi=pi;break n}f[Qt+bt>>0]=0;Ot=jt;$t=Qt;mi=pi}break}case 120:case 88:case 112:{ot=16;Si=134;break}case 111:{ot=8;Si=134;break}case 117:case 100:{ot=10;Si=134;break}case 105:{ot=0;Si=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{Le=+Ei(e,m,0);if((d[Xe>>2]|0)==((d[b>>2]|0)-(d[Ge>>2]|0)|0)){nt=tt;At=Mt;ri=Zt;bi=ui;break t}if(!lt){Ot=Ut;$t=Zt;mi=ui}else switch(m|0){case 0:{g[lt>>2]=Le;Ot=Ut;$t=Zt;mi=ui;break n;break}case 1:{y[lt>>3]=Le;Ot=Ut;$t=Zt;mi=ui;break n;break}case 2:{y[lt>>3]=Le;Ot=Ut;$t=Zt;mi=ui;break n;break}default:{Ot=Ut;$t=Zt;mi=ui;break n}}break}default:{Ot=Ut;$t=Zt;mi=ui}}}while(0);n:do{if((Si|0)==134){Si=0;Ae=un(e,ot,0,-1,-1)|0;if((d[Xe>>2]|0)==((d[b>>2]|0)-(d[Ge>>2]|0)|0)){nt=tt;At=Mt;ri=Zt;bi=ui;break t}if((lt|0)!=0&(r|0)==112){d[lt>>2]=Ae;Ot=Ut;$t=Zt;mi=ui;break}if(!lt){Ot=Ut;$t=Zt;mi=ui}else switch(m|0){case-2:{f[lt>>0]=Ae;Ot=Ut;$t=Zt;mi=ui;break n;break}case-1:{h[lt>>1]=Ae;Ot=Ut;$t=Zt;mi=ui;break n;break}case 0:{d[lt>>2]=Ae;Ot=Ut;$t=Zt;mi=ui;break n;break}case 1:{d[lt>>2]=Ae;Ot=Ut;$t=Zt;mi=ui;break n;break}case 3:{Re=lt;d[Re>>2]=Ae;d[Re+4>>2]=H;Ot=Ut;$t=Zt;mi=ui;break n;break}default:{Ot=Ut;$t=Zt;mi=ui;break n}}}}while(0);kt=((lt|0)!=0&1)+Mt|0;It=Ot;qt=(d[Xe>>2]|0)+Xt+(d[Ge>>2]|0)-(d[b>>2]|0)|0;ei=$t;vi=mi;break i}}while(0);Ue=Lt+(Ne&1)|0;Rc(e,0);ze=d[Ge>>2]|0;if(ze>>>0<(d[Ve>>2]|0)>>>0){d[Ge>>2]=ze+1;He=p[ze>>0]|0}else He=to(e)|0;if((He|0)!=(p[Ue>>0]|0)){o=He;St=Mt;Jt=Yt;ci=li;Si=21;break t}kt=Mt;It=Ue;qt=Wt+1|0;ei=Yt;vi=li}else{Pt=Lt;while(1){oe=Pt+1|0;if(!(th(p[oe>>0]|0)|0)){Ct=Pt;break}else Pt=oe}Rc(e,0);do{be=d[Ge>>2]|0;if(be>>>0<(d[Ve>>2]|0)>>>0){d[Ge>>2]=be+1;Pe=p[be>>0]|0}else Pe=to(e)|0}while((th(Pe)|0)!=0);s=d[Ge>>2]|0;if(!(d[Ve>>2]|0))Ie=s;else{Oe=s+-1|0;d[Ge>>2]=Oe;Ie=Oe}kt=Mt;It=Ct;qt=(d[Xe>>2]|0)+Wt+Ie-(d[b>>2]|0)|0;ei=Yt;vi=li}}while(0);Lt=It+1|0;q=f[Lt>>0]|0;if(!(q<<24>>24)){Rt=kt;break e}else{Mt=kt;Wt=qt;Yt=ei;li=vi}}if((Si|0)==21){if(d[Ve>>2]|0)d[Ge>>2]=(d[Ge>>2]|0)+-1;if((St|0)!=0|(o|0)>-1){Rt=St;break}else{rt=0;ii=Jt;yi=ci;Si=153}}else if((Si|0)==152)if(!Tt){rt=it;ii=ti;yi=gi;Si=153}else{nt=it;At=Tt;ri=ti;bi=gi}if((Si|0)==153){nt=rt;At=-1;ri=ii;bi=yi}if(!nt)Rt=At;else{cn(ri);cn(bi);Rt=At}}}while(0);if(Ce)Oh(e);w=Ti;return Rt|0}function Ri(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0;Xt=w;w=w+128|0;if((w|0)>=(_|0))pe();Ct=Xt+104|0;v=Xt+80|0;g=Xt+64|0;ce=Xt+40|0;Xe=Xt+24|0;jt=Xt+12|0;lt=Xt;e:do{if((e|0)==(t|0))r=e;else{pt=f[e>>0]|0;wt=pt<<24>>24;switch(wt|0){case 68:case 67:{t:do{if((t-e|0)>1){P=i+4|0;D=d[P>>2]|0;if((d[i>>2]|0)==(D|0))c=e;else switch(wt|0){case 67:{switch(f[e+1>>0]|0){case 53:case 51:case 50:case 49:break;default:{c=e;break t}}zn(g,D+-24|0);Kl(v,g);ue=d[P>>2]|0;ye=d[i+8>>2]|0;if(ue>>>0<ye>>>0){Pl(ue,v);d[P>>2]=(d[P>>2]|0)+24}else{Ve=d[i>>2]|0;qe=ue-Ve|0;Ke=(qe|0)/24|0;et=Ke+1|0;if((qe|0)<-24)Ef(i);ot=(ye-Ve|0)/24|0;if(ot>>>0<1073741823){st=ot<<1;n=st>>>0<et>>>0?et:st}else n=2147483647;_l(Ct,n,Ke,i+12|0);ct=Ct+8|0;ut=d[ct>>2]|0;Pl(ut,v);d[ct>>2]=ut+24;Bo(i,Ct);al(Ct)}Vc(v);Lu(g);f[i+60>>0]=1;c=e+2|0;break t;break}case 68:{switch(f[e+1>>0]|0){case 53:case 50:case 49:case 48:break;default:{c=e;break t}}zn(jt,D+-24|0);ft=Ac(jt,0,12902)|0;d[Xe>>2]=d[ft>>2];d[Xe+4>>2]=d[ft+4>>2];d[Xe+8>>2]=d[ft+8>>2];d[ft>>2]=0;d[ft+4>>2]=0;d[ft+8>>2]=0;Kl(ce,Xe);ht=d[P>>2]|0;dt=d[i+8>>2]|0;if(ht>>>0<dt>>>0){Pl(ht,ce);d[P>>2]=(d[P>>2]|0)+24}else{mt=d[i>>2]|0;vt=ht-mt|0;gt=(vt|0)/24|0;yt=gt+1|0;if((vt|0)<-24)Ef(i);bt=(dt-mt|0)/24|0;if(bt>>>0<1073741823){_t=bt<<1;s=_t>>>0<yt>>>0?yt:_t}else s=2147483647;_l(Ct,s,gt,i+12|0);xt=Ct+8|0;Et=d[xt>>2]|0;Pl(Et,ce);d[xt>>2]=Et+24;Bo(i,Ct);al(Ct)}Vc(ce);Lu(Xe);Lu(jt);f[i+60>>0]=1;c=e+2|0;break t;break}default:{c=e;break t}}}else c=e}while(0);r=c;break e;break}case 85:{t:do{if((t-e|0)>2&pt<<24>>24==85){switch(f[e+1>>0]|0){case 116:{fl(g,12904,8);Kl(v,g);Mt=i+4|0;St=d[Mt>>2]|0;Tt=d[i+8>>2]|0;if(St>>>0<Tt>>>0){Pl(St,v);d[Mt>>2]=(d[Mt>>2]|0)+24}else{kt=d[i>>2]|0;At=St-kt|0;Rt=(At|0)/24|0;y=Rt+1|0;if((At|0)<-24)Ef(i);b=(Tt-kt|0)/24|0;if(b>>>0<1073741823){x=b<<1;a=x>>>0<y>>>0?y:x}else a=2147483647;_l(Ct,a,Rt,i+12|0);E=Ct+8|0;M=d[E>>2]|0;Pl(M,v);d[E>>2]=M+24;Bo(i,Ct);al(Ct)}Vc(v);Lu(g);S=e+2|0;if((S|0)==(t|0)){T=d[Mt>>2]|0;k=T+-24|0;R=T;while(1){A=R+-24|0;d[Mt>>2]=A;Vc(A);R=d[Mt>>2]|0;if((R|0)==(k|0)){u=e;break t}}}if(((f[S>>0]|0)+-48|0)>>>0<10){L=e+3|0;i:do{if((L|0)==(t|0))zt=t;else{Ht=L;while(1){if(((f[Ht>>0]|0)+-48|0)>>>0>=10){zt=Ht;break i}Ht=Ht+1|0;if((Ht|0)==(t|0)){zt=t;break}}}}while(0);ja((d[Mt>>2]|0)+-24|0,S,zt);Nt=zt}else Nt=S;yo((d[Mt>>2]|0)+-24|0,39);if((Nt|0)!=(t|0))if((f[Nt>>0]|0)==95){u=Nt+1|0;break t}C=d[Mt>>2]|0;O=C+-24|0;N=C;while(1){I=N+-24|0;d[Mt>>2]=I;Vc(I);N=d[Mt>>2]|0;if((N|0)==(O|0)){u=e;break t}}break}case 108:break;default:{u=e;break t}}fl(Xe,12913,9);Kl(ce,Xe);F=i+4|0;B=d[F>>2]|0;U=d[i+8>>2]|0;if(B>>>0<U>>>0){Pl(B,ce);d[F>>2]=(d[F>>2]|0)+24}else{z=d[i>>2]|0;H=B-z|0;G=(H|0)/24|0;V=G+1|0;if((H|0)<-24)Ef(i);j=(U-z|0)/24|0;if(j>>>0<1073741823){W=j<<1;o=W>>>0<V>>>0?V:W}else o=2147483647;_l(Ct,o,G,i+12|0);X=Ct+8|0;q=d[X>>2]|0;Pl(q,ce);d[X>>2]=q+24;Bo(i,Ct);al(Ct)}Vc(ce);Lu(Xe);Y=e+2|0;do{if((f[Y>>0]|0)==118){yo((d[F>>2]|0)+-24|0,41);Bt=e+3|0}else{J=gi(Y,t,i)|0;Z=d[F>>2]|0;if((J|0)==(Y|0)){K=Z+-24|0;$=Z;while(1){Q=$+-24|0;d[F>>2]=Q;Vc(Q);$=d[F>>2]|0;if(($|0)==(K|0)){u=e;break t}}}if(((Z-(d[i>>2]|0)|0)/24|0)>>>0<2){u=e;break t}el(jt,Z+-24|0);ee=d[F>>2]|0;te=ee+-24|0;re=ee;do{ie=re+-24|0;d[F>>2]=ie;Vc(ie);re=d[F>>2]|0}while((re|0)!=(te|0));ne=f[jt>>0]|0;ae=(ne&1)==0;oe=jt+8|0;se=jt+1|0;le=jt+4|0;Go(ee+-48|0,ae?se:d[oe>>2]|0,ae?(ne&255)>>>1:d[le>>2]|0)|0;fe=lt+4|0;he=lt+8|0;m=ne;Dt=J;while(1){de=gi(Dt,t,i)|0;me=d[F>>2]|0;if((de|0)==(Dt|0)){h=me;Ft=Dt;Wt=79;break}if(((me-(d[i>>2]|0)|0)/24|0)>>>0<2){Wt=113;break}el(lt,me+-24|0);i:do{if(!(m&1)){f[se>>0]=0;f[jt>>0]=0}else{ve=d[oe>>2]|0;f[ve>>0]=0;d[le>>2]=0;ge=d[jt>>2]|0;Ot=(ge&-2)+-1|0;be=ge&255;do{if(!(be&1)){we=ge>>>1&127;if((be&255)<22){il(se|0,ve|0,(ge>>>1&127)+1|0)|0;cn(ve);p=we;break}_e=we+16&240;It=_e+-1|0;if((It|0)==(Ot|0))break i;xe=xi(_e)|0;if(It>>>0<=Ot>>>0&(xe|0)==0)break i;il(xe|0,se|0,(ge>>>1&127)+1|0)|0;d[jt>>2]=_e|1;d[le>>2]=we;d[oe>>2]=xe;break i}else{f[se>>0]=0;cn(ve);p=0}}while(0);f[jt>>0]=p<<1}}while(0);d[jt>>2]=d[lt>>2];d[jt+4>>2]=d[lt+4>>2];d[jt+8>>2]=d[lt+8>>2];d[lt>>2]=0;d[fe>>2]=0;d[he>>2]=0;Lu(lt);Ee=d[F>>2]|0;Me=Ee+-24|0;Te=Ee;do{Se=Te+-24|0;d[F>>2]=Se;Vc(Se);Te=d[F>>2]|0}while((Te|0)!=(Me|0));ke=f[jt>>0]|0;Ae=(ke&1)==0;Re=Ae?(ke&255)>>>1:d[le>>2]|0;if(!Re){m=ke;Dt=de;continue}Gc(Ee+-48|0,12690)|0;Go((d[F>>2]|0)+-24|0,Ae?se:d[oe>>2]|0,Re)|0;m=ke;Dt=de}if((Wt|0)==79){Gc(h+-24|0,12593)|0;Lu(jt);Bt=Ft;break}else if((Wt|0)==113){Lu(jt);u=e;break t}}}while(0);if((Bt|0)!=(t|0))if((f[Bt>>0]|0)==69){Ie=Bt+1|0;if((Ie|0)==(t|0)){Ne=d[F>>2]|0;De=Ne+-24|0;Be=Ne;while(1){Fe=Be+-24|0;d[F>>2]=Fe;Vc(Fe);Be=d[F>>2]|0;if((Be|0)==(De|0)){u=e;break t}}}if(((f[Ie>>0]|0)+-48|0)>>>0<10){Ue=Bt+2|0;i:do{if((Ue|0)==(t|0))Gt=t;else{Vt=Ue;while(1){if(((f[Vt>>0]|0)+-48|0)>>>0>=10){Gt=Vt;break i}Vt=Vt+1|0;if((Vt|0)==(t|0)){Gt=t;break}}}}while(0);ze=d[F>>2]|0;He=ze+-24|0;Ge=f[He>>0]|0;if(!(Ge&1)){Ye=10;Je=(Ge&255)>>>1;Ze=Ge}else{je=d[He>>2]|0;Ye=(je&-2)+-1|0;Je=d[ze+-20>>2]|0;Ze=je&255}We=Gt-Ie|0;if((Gt|0)==(Ie|0))Ut=Ie;else{if((Ye-Je|0)>>>0<We>>>0){Eo(He,Ye,Je+We-Ye|0,Je,7,We);Lt=d[ze+-16>>2]|0}else{if(!(Ze&1))Qe=He+1|0;else Qe=d[ze+-16>>2]|0;if((Je|0)==7)Lt=Qe;else{cc(Qe+(We+7)|0,Qe+7|0,Je+-7|0)|0;Lt=Qe}}$e=Je+We|0;if(!(f[He>>0]&1))f[He>>0]=$e<<1;else d[ze+-20>>2]=$e;f[Lt+$e>>0]=0;if((Ie|0)==(Gt|0))Ut=Gt;else{l=Ie;Pt=Lt+7|0;while(1){f[Pt>>0]=f[l>>0]|0;l=l+1|0;if((l|0)==(Gt|0)){Ut=Gt;break}else Pt=Pt+1|0}}}}else Ut=Ie;if((Ut|0)!=(t|0))if((f[Ut>>0]|0)==95){u=Ut+1|0;break}tt=d[F>>2]|0;it=tt+-24|0;nt=tt;while(1){rt=nt+-24|0;d[F>>2]=rt;Vc(rt);nt=d[F>>2]|0;if((nt|0)==(it|0)){u=e;break t}}}Le=d[F>>2]|0;Pe=Le+-24|0;Oe=Le;do{Ce=Oe+-24|0;d[F>>2]=Ce;Vc(Ce);Oe=d[F>>2]|0}while((Oe|0)!=(Pe|0));u=e}else u=e}while(0);r=u;break e;break}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{at=Mn(e,t,i)|0;w=Xt;return at|0}default:{r=bi(e,t,i)|0;break e}}}}while(0);w=Xt;return r|0}function Li(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0.0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0.0,v=0.0,g=0.0,b=0.0,x=0.0,E=0.0,M=0,S=0.0,T=0.0,k=0.0,A=0.0,R=0,L=0.0,P=0,C=0.0,O=0.0,I=0,N=0.0,D=0,F=0,B=0.0,U=0,z=0,H=0,G=0,V=0,j=0.0,W=0,X=0.0,q=0,Y=0.0,J=0,Z=0.0,K=0,ee=0.0,te=0.0,ie=0,re=0.0,ne=0.0,ae=0,oe=0.0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0.0,ye=0,be=0.0,we=0,_e=0.0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0.0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0.0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0.0,Je=0,Ze=0,Ke=0.0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0,It=0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0,ti=0,ii=0,ri=0.0,ni=0,ai=0,oi=0,si=0,li=0.0,ci=0.0,ui=0.0,fi=0.0,hi=0.0,di=0,pi=0,mi=0.0,vi=0.0,gi=0.0,yi=0.0,bi=0.0,wi=0.0,_i=0,xi=0,Ei=0,Mi=0;_i=w;w=w+16|0;if((w|0)>=(_|0))pe();Qe=_i;n=e+4|0;a=d[n>>2]|0;q=e+8|0;Re=d[q>>2]|0;De=(Re|0)<(a|0)?Re:a;e:do{if((a|0)<2|(Re|0)<2)r=-1;else{Ge=t+8|0;if((d[Ge>>2]|0)==(Re|0)){s=t+4|0;if((d[s>>2]|0)==(De|0)){M=i+4|0;if((d[M>>2]|0)==(De|0)){D=hc(De,De)|0;U=D+4|0;if((d[U>>2]|0)==(De|0)){K=D+8|0;if((d[K>>2]|0)==(De|0)){ce=(a|0)<(Re|0);ue=d[n>>2]|0;ye=d[q>>2]|0;if(ce){if((De|0)!=(ue|0)){Wf(D)|0;r=-1;break}Ee=d[D>>2]|0;if((De|0)>0){$e=(De|0)==0;Le=(ye|0)>0;ft=0;ei=Ee;while(1){Ce=fe(ft,ye)|0;if(!$e){kt=0;ii=ei;while(1){if((kt|0)<(ft|0)){Oe=Ee+((fe(kt,De)|0)+ft<<3)|0;y[ii>>3]=+y[Oe>>3]}else{Ie=d[e>>2]|0;y[ii>>3]=0.0;if(Le){Ne=0.0;_t=Ie+(Ce<<3)|0;Et=Ie+((fe(kt,ye)|0)<<3)|0;It=0;while(1){Ne=Ne+ +y[_t>>3]*+y[Et>>3];y[ii>>3]=Ne;It=It+1|0;if((It|0)>=(ye|0))break;else{_t=_t+8|0;Et=Et+8|0}}}}kt=kt+1|0;if((kt|0)==(De|0))break;else ii=ii+8|0}}ft=ft+1|0;if((ft|0)>=(De|0))break;else ei=ei+(De<<3)|0}}}else{if((De|0)!=(ye|0)){Wf(D)|0;r=-1;break}Fe=d[D>>2]|0;if((De|0)>0){et=(De|0)==0;Be=(ue|0)>0;ut=0;$t=Fe;while(1){if(!et){Tt=0;ti=$t;while(1){if((Tt|0)<(ut|0)){Ue=Fe+((fe(Tt,De)|0)+ut<<3)|0;y[ti>>3]=+y[Ue>>3]}else{ze=d[e>>2]|0;y[ti>>3]=0.0;if(Be){He=0.0;xt=ze+(ut<<3)|0;Mt=ze+(Tt<<3)|0;Nt=0;while(1){He=He+ +y[xt>>3]*+y[Mt>>3];y[ti>>3]=He;Nt=Nt+1|0;if((Nt|0)>=(ue|0))break;else{xt=xt+(De<<3)|0;Mt=Mt+(De<<3)|0}}}}Tt=Tt+1|0;if((Tt|0)==(De|0))break;else ti=ti+8|0}}ut=ut+1|0;if((ut|0)>=(De|0))break;else $t=$t+(De<<3)|0}}}do{if((De|0)>=2)if((d[M>>2]|0)==(De|0)){Ve=Uc(De)|0;if(Ve){je=De+-1|0;d[Qe+4>>2]=je;d[Qe>>2]=(d[Ve>>2]|0)+8;if((Ln(D,i,Qe)|0)<0){rh(Ve)|0;break}We=d[Ve>>2]|0;y[We>>3]=0.0;if((je|0)>0){nt=(De|0)==0;ot=je;do{At=ot;while(1){if((At|0)<=0){Rt=At;break}Ye=+Q(+ +y[We+(At<<3)>>3]);Je=At+-1|0;Ze=d[i>>2]|0;o=+Q(+ +y[Ze+(Je<<3)>>3]);if(Ye>(o+ +Q(+ +y[Ze+(At<<3)>>3]))*1.0e-06)At=Je;else{Rt=At;break}}Ei=ot;ot=ot+-1|0;t:do{if((Rt|0)!=(Ei|0)){l=We+(Ei<<3)|0;c=We+(Rt+1<<3)|0;u=(Rt|0)<(Ei|0);St=0;do{if((St|0)>99)break t;St=St+1|0;f=d[i>>2]|0;h=f+(ot<<3)|0;p=f+(Ei<<3)|0;m=+y[p>>3];v=(+y[h>>3]-m)*.5;g=+y[l>>3];b=g*g;x=+$(+(b+v*v));if(u){Dt=Rt;vi=+y[f+(Rt<<3)>>3]-m+b/(v+(v<0.0?-x:x));bi=+y[c>>3];while(1){E=+Q(+vi);do{if(!(E>=+Q(+bi))){k=-vi/bi;A=1.0/+$(+(k*k+1.0));Ke=k*A;ri=A}else{if(!(E>1.0e-16)){Ke=1.0;ri=0.0;break}S=-bi/vi;T=1.0/+$(+(S*S+1.0));Ke=T;ri=S*T}}while(0);R=f+(Dt<<3)|0;L=+y[R>>3];xi=Dt;Dt=Dt+1|0;P=f+(Dt<<3)|0;C=+y[P>>3];O=L-C;I=We+(Dt<<3)|0;N=ri*(ri*O+Ke*2.0*+y[I>>3]);y[R>>3]=L-N;y[P>>3]=C+N;if((xi|0)>(Rt|0)){F=We+(xi<<3)|0;y[F>>3]=Ke*+y[F>>3]-bi*ri}B=+y[I>>3];y[I>>3]=B+ri*(Ke*O-ri*2.0*B);z=fe(xi,De)|0;H=fe(Dt,De)|0;if(nt){gi=vi;wi=bi}else{G=d[D>>2]|0;dt=0;do{V=G+(dt+z<<3)|0;j=+y[V>>3];W=G+(dt+H<<3)|0;X=+y[W>>3];y[V>>3]=Ke*j-ri*X;y[W>>3]=ri*j+Ke*X;dt=dt+1|0}while((dt|0)!=(De|0));gi=j;wi=X}if((xi|0)<(ot|0)){Y=+y[I>>3];J=We+(xi+2<<3)|0;Z=+y[J>>3];y[J>>3]=Ke*Z;mi=Y;yi=-(ri*Z)}else{mi=gi;yi=wi}if((Dt|0)>=(Ei|0))break;else{vi=mi;bi=yi}}}ee=+Q(+ +y[l>>3]);te=+Q(+ +y[h>>3])}while(ee>(te+ +Q(+ +y[p>>3]))*1.0e-06)}}while(0)}while((Ei|0)>1)}if(je){Xe=d[i>>2]|0;qe=d[D>>2]|0;tt=(De|0)==0;Bt=0;do{ie=Xe+(Bt<<3)|0;re=+y[ie>>3];Mi=Bt;Bt=Bt+1|0;if((Bt|0)<(De|0)){lt=Mi;gt=Bt;fi=re;while(1){ne=+y[Xe+(gt<<3)>>3];ae=ne>fi;hi=ae?ne:fi;ct=ae?gt:lt;gt=gt+1|0;if((gt|0)>=(De|0)){st=ct;ui=hi;break}else{lt=ct;fi=hi}}}else{st=Mi;ui=re}y[Xe+(st<<3)>>3]=re;y[ie>>3]=ui;if(!tt){wt=0;di=qe+((fe(st,De)|0)<<3)|0;pi=qe+((fe(Mi,De)|0)<<3)|0;while(1){oe=+y[di>>3];y[di>>3]=+y[pi>>3];y[pi>>3]=oe;wt=wt+1|0;if((wt|0)==(De|0))break;else{di=di+8|0;pi=pi+8|0}}}}while((Bt|0)!=(je|0))}rh(Ve)|0;t:do{if(ce){se=d[n>>2]|0;le=d[q>>2]|0;do{if(!((se|0)<1|(le|0)<1)){if((d[U>>2]|0)!=(se|0))break;if((d[K>>2]|0)!=(se|0))break;if((d[s>>2]|0)!=(se|0))break;if((d[Ge>>2]|0)!=(le|0))break;if((d[M>>2]|0)!=(se|0))break;he=d[t>>2]|0;i:do{if((se|0)>0){de=d[i>>2]|0;rt=(le|0)==0;it=(se|0)==0;pt=0;zt=he;while(1){ge=+y[de+(pt<<3)>>3];if(ge<1.0e-16){ht=pt;Ut=zt;break i}be=1.0/+$(+ +Q(+ge));we=fe(pt,se)|0;if(!rt){Lt=0;Ht=zt;while(1){if(it)li=0.0;else{Ft=0;jt=(d[D>>2]|0)+(we<<3)|0;qt=(d[e>>2]|0)+(Lt<<3)|0;ci=0.0;while(1){_e=ci+ +y[jt>>3]*+y[qt>>3];Ft=Ft+1|0;if((Ft|0)==(se|0)){li=_e;break}else{jt=jt+8|0;qt=qt+(le<<3)|0;ci=_e}}}y[Ht>>3]=be*li;Lt=Lt+1|0;if((Lt|0)==(le|0))break;else Ht=Ht+8|0}}ni=zt+(le<<3)|0;xe=pt+1|0;if((xe|0)<(se|0)){pt=xe;zt=ni}else{ht=xe;Ut=ni;break}}}else{ht=0;Ut=he}}while(0);oi=(le|0)>0?le:0;if((ht|0)>=(se|0))break t;me=d[i>>2]|0;ve=(le|0)>0;yt=ht;Gt=Ut;while(1){y[me+(yt<<3)>>3]=0.0;if(ve){Ct=0;Vt=Gt;while(1){y[Vt>>3]=0.0;Ct=Ct+1|0;if((Ct|0)>=(le|0))break;else Vt=Vt+8|0}}yt=yt+1|0;if((yt|0)>=(se|0))break t;else Gt=Gt+(oi<<3)|0}}}while(0);Wf(D)|0;r=-1;break e}else{Me=d[t>>2]|0;Se=(a|0)>(Re|0)?Re:a;i:do{if((De|0)>0){Te=d[i>>2]|0;at=(Se|0)==0;vt=0;Wt=d[D>>2]|0;Jt=Me;while(1){if(+y[Te+(vt<<3)>>3]<1.0e-16){mt=vt;Yt=Jt;break i}if(!at){Pt=0;Xt=Wt;Zt=Jt;while(1){y[Zt>>3]=+y[Xt>>3];Pt=Pt+1|0;if((Pt|0)==(Se|0))break;else{Xt=Xt+8|0;Zt=Zt+8|0}}}Wt=Wt+(Se<<3)|0;ai=Jt+(Se<<3)|0;Pe=vt+1|0;if((Pe|0)>=(De|0)){mt=Pe;Yt=ai;break}else{vt=Pe;Jt=ai}}}else{mt=0;Yt=Me}}while(0);si=(Se|0)>0?Se:0;if((mt|0)<(De|0)){ke=d[i>>2]|0;Ae=(De|0)>0;bt=mt;Kt=Yt;while(1){y[ke+(bt<<3)>>3]=0.0;if(Ae){Ot=0;Qt=Kt;while(1){y[Qt>>3]=0.0;Ot=Ot+1|0;if((Ot|0)>=(De|0))break;else Qt=Qt+8|0}}bt=bt+1|0;if((bt|0)>=(De|0))break;else Kt=Kt+(si<<3)|0}}}}while(0);Wf(D)|0;r=0;break e}}}while(0);Wf(D)|0;r=-1;break}}Wf(D)|0;r=-1}else r=-1}else r=-1}else r=-1}}while(0);w=_i;return r|0}function Pi(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0.0,o=0.0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0.0,K=0,Q=0,$=0.0,ee=0.0,te=0.0,ie=0,re=0.0,ne=0.0,ae=0,oe=0,se=0,le=0.0,ce=0,ue=0,fe=0,he=0,de=0.0,me=0,ve=0.0,ge=0.0,ye=0,be=0,we=0,_e=0.0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0.0,Ae=0,Re=0.0,Le=0.0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0.0,Ze=0.0,Ke=0.0,Qe=0.0,$e=0.0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0.0,Pt=0.0,Ct=0.0,Ot=0.0,It=0.0,Nt=0,Dt=0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0,Gt=0,Vt=0,jt=0,Wt=0,Xt=0,qt=0,Yt=0,Jt=0,Zt=0,Kt=0,Qt=0,$t=0,ei=0.0,ti=0.0,ii=0,ri=0,ni=0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0;fi=w;w=w+80|0;if((w|0)>=(_|0))pe();ci=fi+32|0;li=fi+24|0;si=fi;ai=fi+52|0;Qt=fi+40|0;oi=fi+64|0;b=e+44|0;d[b>>2]=0;x=e+7062388|0;K=d[x>>2]|0;e:do{if((K|0)==4){at=e+7062396|0;ot=d[at>>2]|0;do{if((ot|0)>0){s=4;ri=ot+-1|0}else{pt=e+16|0;bt=d[pt>>2]|0;E=e+7062400|0;L=(d[E>>2]|0)+bt|0;i=(L|0)>255?255:L;d[ai>>2]=i;D=e+7062404|0;H=bt-(d[D>>2]|0)|0;ni=(H|0)<0?0:H;d[ai+4>>2]=ni;d[ai+8>>2]=bt;Q=e+36|0;ie=e+40|0;ae=e+4|0;ue=e+12|0;me=e+20|0;ye=e+4834144|0;be=e+15416|0;Me=e+15408|0;Se=e+7062384|0;Ae=e+24|0;Ce=e+32|0;Ie=e+7062416|0;Be=e+48|0;Ge=e+7062424|0;Nt=0;do{if((nr(t,d[Q>>2]|0,d[ie>>2]|0,d[ae>>2]|0,d[e>>2]|0,d[ue>>2]|0,d[ai+(Nt<<2)>>2]|0,d[me>>2]|0,ye,0)|0)<0){r=-1;break e}if((vn(d[Q>>2]|0,d[ie>>2]|0,ye,d[me>>2]|0,1e6,70,1.0,be,Me)|0)<0){r=-1;break e}if((qn(t,d[Q>>2]|0,d[ie>>2]|0,d[ae>>2]|0,be,d[Me>>2]|0,d[Se>>2]|0,d[me>>2]|0,d[Ae>>2]|0,(d[Ce>>2]|0)+184|0,+y[Ie>>3],Be,b,d[Ge>>2]|0)|0)<0){r=-1;break e}d[Qt+(Nt<<2)>>2]=d[b>>2];Nt=Nt+1|0}while((Nt|0)<3);if((d[e>>2]|0)==1){st=d[Qt+4>>2]|0;lt=d[Qt+8>>2]|0;ct=d[Qt>>2]|0;d[si>>2]=ni;d[si+4>>2]=st;d[si+8>>2]=bt;d[si+12>>2]=lt;d[si+16>>2]=i;d[si+20>>2]=ct;Ha(3,4153,si);ut=ct;ft=lt}else{ut=d[Qt>>2]|0;ft=d[Qt+8>>2]|0}v=d[Qt+4>>2]|0;if((ut|0)>(ft|0)|(v|0)>(ft|0)){wt=(ut|0)>=(v|0)?i:ni;d[pt>>2]=wt;_t=wt-bt|0;if((_t|0)>0){d[E>>2]=_t;ii=1}else{d[E>>2]=1;ii=0-_t|0}d[D>>2]=ii;if((d[e>>2]|0)==1){d[li>>2]=wt;Ha(3,4229,li)}s=d[x>>2]|0;ri=d[e+7062392>>2]|0;break}ht=d[E>>2]|0;dt=d[D>>2]|0;do{if((ht|0)<(dt|0)){mt=ht+1|0;d[E>>2]=mt;gt=mt}else if((ht|0)>(dt|0)){d[D>>2]=dt+1;gt=ht;break}else{vt=ht+1|0;d[E>>2]=vt;d[D>>2]=dt+1;gt=vt;break}}while(0);if((gt+bt|0)>254){d[E>>2]=1;yt=1}else yt=gt;if((bt|0)<=(yt|0))d[D>>2]=1;d[at>>2]=d[e+7062392>>2];ui=47;break e}}while(0);d[at>>2]=ri;M=s;ui=30}else{M=K;ui=30}}while(0);e:do{if((ui|0)==30){t:do{switch(M|0){case 3:{S=e+7062408|0;T=Yn(d[S>>2]|0,t,9,-7)|0;if((T|0)<0){r=T;break e}k=d[S>>2]|0;A=e+4834144|0;R=nr(d[k>>2]|0,d[k+8>>2]|0,d[k+12>>2]|0,5,d[e>>2]|0,d[e+12>>2]|0,0,0,A,d[k+4>>2]|0)|0;if((R|0)<0){r=R;break e}l=e+36|0;c=e+40|0;u=e+20|0;m=A;break}case 2:case 1:{P=e+7062396|0;C=d[P>>2]|0;if((C|0)>0){d[P>>2]=C+-1;ui=44;break t}O=d[e+7062408>>2]|0;if((M|0)==1)$t=xu(O,t,oi)|0;else $t=Sa(O,t,oi)|0;if(($t|0)<0){r=$t;break e}I=e+16|0;if((d[e>>2]|0)==1){N=p[oi>>0]|0;if((d[I>>2]|0)!=(N|0)){d[ci>>2]=(d[x>>2]|0)==1?4281:4288;d[ci+4>>2]=N;Ha(3,4293,ci)}}d[I>>2]=p[oi>>0];d[P>>2]=d[e+7062392>>2];ui=44;break}default:ui=44}}while(0);if((ui|0)==44){F=e+36|0;B=e+40|0;U=e+20|0;z=e+4834144|0;if((nr(t,d[F>>2]|0,d[B>>2]|0,d[e+4>>2]|0,d[e>>2]|0,d[e+12>>2]|0,d[e+16>>2]|0,d[U>>2]|0,z,0)|0)<0){r=-1;break}else{l=F;c=B;u=U;m=z}}G=e+15416|0;V=e+15408|0;if((vn(d[l>>2]|0,d[c>>2]|0,m,d[u>>2]|0,1e6,70,1.0,G,V)|0)<0)r=-1;else if((qn(t,d[l>>2]|0,d[c>>2]|0,d[e+4>>2]|0,G,d[V>>2]|0,d[e+7062384>>2]|0,d[u>>2]|0,d[e+24>>2]|0,(d[e+32>>2]|0)+184|0,+y[e+7062416>>3],e+48|0,b,d[e+7062424>>2]|0)|0)<0)r=-1;else ui=47}}while(0);e:do{if((ui|0)==47){j=e+28|0;if((d[j>>2]|0)==1){Aa(e);r=0;break}W=e+4818296|0;X=e+24|0;g=d[W>>2]|0;if((g|0)>0){Dt=0;do{q=d[b>>2]|0;Y=e+4818304+(Dt*264|0)+56|0;J=e+4818304+(Dt*264|0)+64|0;if((q|0)>0){Z=+(d[e+4818304+(Dt*264|0)>>2]|0);At=-1;zt=0;ei=.5;while(1){$=+(d[e+48+(zt<<8)>>2]|0);ee=Z/$;if(ee<.7|ee>1.43){Rt=At;ti=ei}else{te=+y[e+48+(zt<<8)+56>>3]-+y[Y>>3];re=+y[e+48+(zt<<8)+64>>3]-+y[J>>3];ne=(te*te+re*re)/$;if(ne<ei){Rt=zt;ti=ne}else{Rt=At;ti=ei}}zt=zt+1|0;if((zt|0)>=(q|0)){kt=Rt;break}else{At=Rt;ei=ti}}}else kt=-1;t:do{if((kt|0)>-1){oe=d[X>>2]|0;switch(oe|0){case 2:case 1:case 0:break;case 4:case 3:{we=e+48+(kt<<8)+40|0;_e=+y[e+4818304+(Dt*264|0)+40>>3];if(+y[we>>3]<_e){f=e+4818304+(Dt*264|0)+48|0;h=e+48+(kt<<8)+48|0}else{xe=e+48+(kt<<8)+48|0;Ee=e+4818304+(Dt*264|0)+48|0;if(+y[xe>>3]<+y[Ee>>3]){f=Ee;h=xe}else break t}y[we>>3]=_e;d[e+48+(kt<<8)+8>>2]=d[e+4818304+(Dt*264|0)+8>>2];y[h>>3]=+y[f>>3];d[e+48+(kt<<8)+12>>2]=d[e+4818304+(Dt*264|0)+12>>2];Mt=-1;It=1.0e8;Gt=0;while(1){Pt=0.0;Kt=0;while(1){Te=(Kt+Gt|0)%4|0;ke=+y[e+4818304+(Dt*264|0)+168+(Kt<<4)>>3]-+y[e+48+(kt<<8)+168+(Te<<4)>>3];Re=+y[e+4818304+(Dt*264|0)+168+(Kt<<4)+8>>3]-+y[e+48+(kt<<8)+168+(Te<<4)+8>>3];Le=Pt+(ke*ke+Re*Re);Kt=Kt+1|0;if((Kt|0)==4){a=Le;break}else Pt=Le}Pe=a<It;St=Pe?Gt:Mt;Gt=Gt+1|0;if((Gt|0)==4){Tt=St;break}else{Mt=St;It=Pe?a:It}}Oe=4-Tt|0;d[e+48+(kt<<8)+20>>2]=(Oe+(d[e+4818304+(Dt*264|0)+20>>2]|0)|0)%4|0;d[e+48+(kt<<8)+24>>2]=(Oe+(d[e+4818304+(Dt*264|0)+24>>2]|0)|0)%4|0;break t;break}default:{r=-1;break e}}se=e+48+(kt<<8)+32|0;le=+y[e+4818304+(Dt*264|0)+32>>3];if(+y[se>>3]<le){y[se>>3]=le;ce=d[e+4818304+(Dt*264|0)+4>>2]|0;d[e+48+(kt<<8)+4>>2]=ce;fe=e+4818304+(Dt*264|0)+16|0;it=-1;Ct=1.0e8;Ht=0;while(1){Lt=0.0;Zt=0;while(1){he=(Zt+Ht|0)%4|0;de=+y[e+4818304+(Dt*264|0)+168+(Zt<<4)>>3]-+y[e+48+(kt<<8)+168+(he<<4)>>3];ve=+y[e+4818304+(Dt*264|0)+168+(Zt<<4)+8>>3]-+y[e+48+(kt<<8)+168+(he<<4)+8>>3];ge=Lt+(de*de+ve*ve);Zt=Zt+1|0;if((Zt|0)==4){o=ge;break}else Lt=ge}if(o<Ct){xt=(4-Ht+(d[fe>>2]|0)|0)%4|0;Ot=o}else{xt=it;Ot=Ct}Ht=Ht+1|0;if((Ht|0)==4){Et=xt;break}else{it=xt;Ct=Ot}}d[e+48+(kt<<8)+16>>2]=Et;if(oe>>>0<2){d[e+48+(kt<<8)+8>>2]=ce;y[e+48+(kt<<8)+40>>3]=le;d[e+48+(kt<<8)+20>>2]=Et;break}else{d[e+48+(kt<<8)+12>>2]=ce;y[e+48+(kt<<8)+48>>3]=le;d[e+48+(kt<<8)+24>>2]=Et;break}}}}while(0);Dt=Dt+1|0}while((Dt|0)<(g|0))}Aa(e);if((d[W>>2]|0)>0){Ft=0;jt=0;while(1){Ne=e+4818304+(Ft*264|0)|0;De=e+4818304+(Ft*264|0)+256|0;Fe=(d[De>>2]|0)+1|0;d[De>>2]=Fe;if((Fe|0)<4){if((Ft|0)!=(jt|0))il(e+4818304+(jt*264|0)|0,Ne|0,264)|0;Wt=jt+1|0}else Wt=jt;Ft=Ft+1|0;if((Ft|0)>=(d[W>>2]|0)){Vt=Wt;break}else jt=Wt}}else Vt=0;d[W>>2]=Vt;Ue=d[b>>2]|0;t:do{if((Ue|0)>0){rt=Ue;Bt=0;while(1){ze=e+48+(Bt<<8)|0;He=d[e+48+(Bt<<8)+4>>2]|0;if((He|0)>=0){Ve=d[W>>2]|0;i:do{if((Ve|0)>0){qt=0;while(1){if((d[e+4818304+(qt*264|0)+4>>2]|0)==(He|0)){Xt=qt;break i}je=qt+1|0;if((je|0)<(Ve|0))qt=je;else{Xt=je;break}}}else Xt=0}while(0);if((Xt|0)==(Ve|0)){if((Ve|0)==60){n=rt;break t}d[W>>2]=Ve+1}il(e+4818304+(Xt*264|0)|0,ze|0,256)|0;d[e+4818304+(Xt*264|0)+256>>2]=1}Bt=Bt+1|0;We=d[b>>2]|0;if((Bt|0)>=(We|0)){n=We;break}else rt=We}}else n=Ue}while(0);if((d[j>>2]|0)==2)r=0;else if((d[W>>2]|0)>0){Ye=n;Ut=0;while(1){Xe=e+4818304+(Ut*264|0)+56|0;qe=e+4818304+(Ut*264|0)+64|0;t:do{if((Ye|0)>0){Je=+(d[e+4818304+(Ut*264|0)>>2]|0);Jt=0;while(1){Ze=+(d[e+48+(Jt<<8)>>2]|0);Ke=Je/Ze;if(!(Ke<.7|Ke>1.43)){Qe=+y[e+48+(Jt<<8)+56>>3]-+y[Xe>>3];$e=+y[e+48+(Jt<<8)+64>>3]-+y[qe>>3];if((Qe*Qe+$e*$e)/Ze<.5){Yt=Jt;break t}}et=Jt+1|0;if((et|0)<(Ye|0))Jt=et;else{Yt=et;break}}}else Yt=0}while(0);if((Yt|0)==(Ye|0)){il(e+48+(Ye<<8)|0,e+4818304+(Ut*264|0)|0,256)|0;tt=(d[b>>2]|0)+1|0;d[b>>2]=tt;nt=tt}else nt=Ye;Ut=Ut+1|0;if((Ut|0)>=(d[W>>2]|0)){r=0;break}else Ye=nt}}else r=0}}while(0);w=fi;return r|0}function Ci(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+144|0;if((w|0)>=(_|0))pe();ct=Mt+132|0;ht=Mt+120|0;l=Mt+108|0;dt=Mt+96|0;c=Mt+84|0;ut=Mt+72|0;pt=Mt+60|0;$=Mt+48|0;mt=Mt+36|0;Oe=Mt+24|0;vt=Mt+12|0;Ue=Mt;Ve=t;e:do{if((Ve-e|0)>2){if((f[e>>0]|0)==103){S=(f[e+1>>0]|0)==115;ft=S;gt=S?e+2|0:e}else{ft=0;gt=e}P=Vn(gt,t,i)|0;if((P|0)!=(gt|0)){if(!ft){r=P;break}Y=d[i+4>>2]|0;if((d[i>>2]|0)==(Y|0)){r=e;break}Ac(Y+-24|0,0,12876)|0;r=P;break}if((Ve-gt|0)>2)if((f[gt>>0]|0)==115)if((f[gt+1>>0]|0)==114){Ie=gt+2|0;if((f[Ie>>0]|0)==78){Ne=gt+3|0;De=mn(Ne,t,i)|0;if((De|0)==(Ne|0)|(De|0)==(t|0)){r=e;break}Fe=ln(De,t,i)|0;n=i+4|0;do{if((Fe|0)==(De|0)){a=i;bt=De}else{Be=d[n>>2]|0;if(((Be-(d[i>>2]|0)|0)/24|0)>>>0<2){r=e;break e}el(ct,Be+-24|0);ze=d[n>>2]|0;He=ze+-24|0;je=ze;do{Ge=je+-24|0;d[n>>2]=Ge;Vc(Ge);je=d[n>>2]|0}while((je|0)!=(He|0));We=f[ct>>0]|0;Xe=(We&1)==0;Go(ze+-48|0,Xe?ct+1|0:d[ct+8>>2]|0,Xe?(We&255)>>>1:d[ct+4>>2]|0)|0;if((Fe|0)!=(t|0)){Lu(ct);a=i;bt=Fe;break}qe=d[n>>2]|0;Ye=qe+-24|0;Ze=qe;do{Je=Ze+-24|0;d[n>>2]=Je;Vc(Je);Ze=d[n>>2]|0}while((Ze|0)!=(Ye|0));Lu(ct);r=e;break e}}while(0);Ke=l+8|0;Qe=l+1|0;$e=l+4|0;if((f[bt>>0]|0)==69)yt=bt;else{wt=bt;while(1){et=Fa(wt,t,i)|0;if((et|0)==(wt|0)|(et|0)==(t|0)){r=e;break e}tt=d[n>>2]|0;if(((tt-(d[a>>2]|0)|0)/24|0)>>>0<2){r=e;break e}el(ht,tt+-24|0);it=d[n>>2]|0;rt=it+-24|0;at=it;do{nt=at+-24|0;d[n>>2]=nt;Vc(nt);at=d[n>>2]|0}while((at|0)!=(rt|0));ot=Ac(ht,0,12876)|0;d[l>>2]=d[ot>>2];d[l+4>>2]=d[ot+4>>2];d[l+8>>2]=d[ot+8>>2];d[ot>>2]=0;d[ot+4>>2]=0;d[ot+8>>2]=0;st=f[l>>0]|0;lt=(st&1)==0;Go(it+-48|0,lt?Qe:d[Ke>>2]|0,lt?(st&255)>>>1:d[$e>>2]|0)|0;Lu(l);Lu(ht);if((f[et>>0]|0)==69){yt=et;break}else wt=et}}u=yt+1|0;h=Vn(u,t,i)|0;if((h|0)==(u|0)){p=d[n>>2]|0;if((d[a>>2]|0)==(p|0)){r=e;break}m=p+-24|0;g=p;while(1){v=g+-24|0;d[n>>2]=v;Vc(v);g=d[n>>2]|0;if((g|0)==(m|0)){r=e;break e}}}y=d[n>>2]|0;if(((y-(d[a>>2]|0)|0)/24|0)>>>0<2){r=e;break}el(dt,y+-24|0);b=d[n>>2]|0;x=b+-24|0;M=b;do{E=M+-24|0;d[n>>2]=E;Vc(E);M=d[n>>2]|0}while((M|0)!=(x|0));T=Ac(dt,0,12876)|0;d[c>>2]=d[T>>2];d[c+4>>2]=d[T+4>>2];d[c+8>>2]=d[T+8>>2];d[T>>2]=0;d[T+4>>2]=0;d[T+8>>2]=0;k=f[c>>0]|0;A=(k&1)==0;Go(b+-48|0,A?c+1|0:d[c+8>>2]|0,A?(k&255)>>>1:d[c+4>>2]|0)|0;Lu(c);Lu(dt);r=h;break}R=mn(Ie,t,i)|0;if((R|0)!=(Ie|0)){L=ln(R,t,i)|0;if((L|0)==(R|0))_t=R;else{C=i+4|0;O=d[C>>2]|0;if(((O-(d[i>>2]|0)|0)/24|0)>>>0<2){r=e;break}el(ut,O+-24|0);I=d[C>>2]|0;N=I+-24|0;F=I;do{D=F+-24|0;d[C>>2]=D;Vc(D);F=d[C>>2]|0}while((F|0)!=(N|0));B=f[ut>>0]|0;U=(B&1)==0;Go(I+-48|0,U?ut+1|0:d[ut+8>>2]|0,U?(B&255)>>>1:d[ut+4>>2]|0)|0;Lu(ut);_t=L}z=Vn(_t,t,i)|0;if((z|0)==(_t|0)){H=i+4|0;G=d[H>>2]|0;if((d[i>>2]|0)==(G|0)){r=e;break}V=G+-24|0;W=G;while(1){j=W+-24|0;d[H>>2]=j;Vc(j);W=d[H>>2]|0;if((W|0)==(V|0)){r=e;break e}}}X=i+4|0;q=d[X>>2]|0;if(((q-(d[i>>2]|0)|0)/24|0)>>>0<2){r=e;break}el(pt,q+-24|0);J=d[X>>2]|0;Z=J+-24|0;Q=J;do{K=Q+-24|0;d[X>>2]=K;Vc(K);Q=d[X>>2]|0}while((Q|0)!=(Z|0));ee=Ac(pt,0,12876)|0;d[$>>2]=d[ee>>2];d[$+4>>2]=d[ee+4>>2];d[$+8>>2]=d[ee+8>>2];d[ee>>2]=0;d[ee+4>>2]=0;d[ee+8>>2]=0;te=f[$>>0]|0;ie=(te&1)==0;Go(J+-48|0,ie?$+1|0:d[$+8>>2]|0,ie?(te&255)>>>1:d[$+4>>2]|0)|0;Lu($);Lu(pt);r=z;break}re=Fa(Ie,t,i)|0;if((re|0)==(Ie|0)|(re|0)==(t|0))r=e;else{if(ft){ne=i+4|0;ae=d[ne>>2]|0;if((d[i>>2]|0)==(ae|0)){r=e;break}Ac(ae+-24|0,0,12876)|0;o=ne;s=i}else{o=i+4|0;s=i}oe=Oe+8|0;se=Oe+1|0;le=Oe+4|0;if((f[re>>0]|0)==69)xt=re;else{Et=re;while(1){ce=Fa(Et,t,i)|0;if((ce|0)==(Et|0)|(ce|0)==(t|0)){r=e;break e}ue=d[o>>2]|0;if(((ue-(d[s>>2]|0)|0)/24|0)>>>0<2){r=e;break e}el(mt,ue+-24|0);fe=d[o>>2]|0;he=fe+-24|0;me=fe;do{de=me+-24|0;d[o>>2]=de;Vc(de);me=d[o>>2]|0}while((me|0)!=(he|0));ve=Ac(mt,0,12876)|0;d[Oe>>2]=d[ve>>2];d[Oe+4>>2]=d[ve+4>>2];d[Oe+8>>2]=d[ve+8>>2];d[ve>>2]=0;d[ve+4>>2]=0;d[ve+8>>2]=0;ge=f[Oe>>0]|0;ye=(ge&1)==0;Go(fe+-48|0,ye?se:d[oe>>2]|0,ye?(ge&255)>>>1:d[le>>2]|0)|0;Lu(Oe);Lu(mt);if((f[ce>>0]|0)==69){xt=ce;break}else Et=ce}}be=xt+1|0;we=Vn(be,t,i)|0;if((we|0)==(be|0)){_e=d[o>>2]|0;if((d[s>>2]|0)==(_e|0)){r=e;break}xe=_e+-24|0;Me=_e;while(1){Ee=Me+-24|0;d[o>>2]=Ee;Vc(Ee);Me=d[o>>2]|0;if((Me|0)==(xe|0)){r=e;break e}}}Se=d[o>>2]|0;if(((Se-(d[s>>2]|0)|0)/24|0)>>>0<2)r=e;else{el(vt,Se+-24|0);Te=d[o>>2]|0;ke=Te+-24|0;Re=Te;do{Ae=Re+-24|0;d[o>>2]=Ae;Vc(Ae);Re=d[o>>2]|0}while((Re|0)!=(ke|0));Le=Ac(vt,0,12876)|0;d[Ue>>2]=d[Le>>2];d[Ue+4>>2]=d[Le+4>>2];d[Ue+8>>2]=d[Le+8>>2];d[Le>>2]=0;d[Le+4>>2]=0;d[Le+8>>2]=0;Pe=f[Ue>>0]|0;Ce=(Pe&1)==0;Go(Te+-48|0,Ce?Ue+1|0:d[Ue+8>>2]|0,Ce?(Pe&255)>>>1:d[Ue+4>>2]|0)|0;Lu(Ue);Lu(vt);r=we}}}else r=e;else r=e;else r=e}else r=e}while(0);w=Mt;return r|0}function Oi(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+176|0;if((w|0)>=(_|0))pe();Et=Lt+144|0;m=Lt+120|0;v=Lt+96|0;de=Lt+72|0;We=Lt+48|0;Ze=Lt+24|0;et=Lt;e:do{if((t-e|0)>1)if((f[e>>0]|0)==83){A=e+1|0;C=f[A>>0]|0;B=C<<24>>24;switch(B|0){case 97:{Ec(m,12787);j=i+4|0;J=d[j>>2]|0;ne=d[i+8>>2]|0;if(J>>>0<ne>>>0){Pl(J,m);d[j>>2]=(d[j>>2]|0)+24}else{Ne=d[i>>2]|0;Be=J-Ne|0;Ve=(Be|0)/24|0;je=Ve+1|0;if((Be|0)<-24)Ef(i);Xe=(ne-Ne|0)/24|0;if(Xe>>>0<1073741823){qe=Xe<<1;n=qe>>>0<je>>>0?je:qe}else n=2147483647;_l(Et,n,Ve,i+12|0);Ye=Et+8|0;Je=d[Ye>>2]|0;Pl(Je,m);d[Ye>>2]=Je+24;Bo(i,Et);al(Et)}Vc(m);r=e+2|0;break e;break}case 98:{xc(v,12802);Ke=i+4|0;Qe=d[Ke>>2]|0;$e=d[i+8>>2]|0;if(Qe>>>0<$e>>>0){Pl(Qe,v);d[Ke>>2]=(d[Ke>>2]|0)+24}else{tt=d[i>>2]|0;it=Qe-tt|0;rt=(it|0)/24|0;nt=rt+1|0;if((it|0)<-24)Ef(i);at=($e-tt|0)/24|0;if(at>>>0<1073741823){ot=at<<1;a=ot>>>0<nt>>>0?nt:ot}else a=2147483647;_l(Et,a,rt,i+12|0);st=Et+8|0;lt=d[st>>2]|0;Pl(lt,v);d[st>>2]=lt+24;Bo(i,Et);al(Et)}Vc(v);r=e+2|0;break e;break}case 115:{Tc(de,12820);ct=i+4|0;ut=d[ct>>2]|0;ft=d[i+8>>2]|0;if(ut>>>0<ft>>>0){Pl(ut,de);d[ct>>2]=(d[ct>>2]|0)+24}else{ht=d[i>>2]|0;dt=ut-ht|0;pt=(dt|0)/24|0;mt=pt+1|0;if((dt|0)<-24)Ef(i);vt=(ft-ht|0)/24|0;if(vt>>>0<1073741823){gt=vt<<1;o=gt>>>0<mt>>>0?mt:gt}else o=2147483647;_l(Et,o,pt,i+12|0);yt=Et+8|0;bt=d[yt>>2]|0;Pl(bt,de);d[yt>>2]=bt+24;Bo(i,Et);al(Et)}Vc(de);r=e+2|0;break e;break}case 105:{Sc(We,12832);wt=i+4|0;_t=d[wt>>2]|0;xt=d[i+8>>2]|0;if(_t>>>0<xt>>>0){Pl(_t,We);d[wt>>2]=(d[wt>>2]|0)+24}else{g=d[i>>2]|0;y=_t-g|0;b=(y|0)/24|0;x=b+1|0;if((y|0)<-24)Ef(i);E=(xt-g|0)/24|0;if(E>>>0<1073741823){M=E<<1;s=M>>>0<x>>>0?x:M}else s=2147483647;_l(Et,s,b,i+12|0);S=Et+8|0;T=d[S>>2]|0;Pl(T,We);d[S>>2]=T+24;Bo(i,Et);al(Et)}Vc(We);r=e+2|0;break e;break}case 111:{Sc(Ze,12845);k=i+4|0;R=d[k>>2]|0;L=d[i+8>>2]|0;if(R>>>0<L>>>0){Pl(R,Ze);d[k>>2]=(d[k>>2]|0)+24}else{P=d[i>>2]|0;O=R-P|0;I=(O|0)/24|0;N=I+1|0;if((O|0)<-24)Ef(i);D=(L-P|0)/24|0;if(D>>>0<1073741823){F=D<<1;l=F>>>0<N>>>0?N:F}else l=2147483647;_l(Et,l,I,i+12|0);U=Et+8|0;z=d[U>>2]|0;Pl(z,Ze);d[U>>2]=z+24;Bo(i,Et);al(Et)}Vc(Ze);r=e+2|0;break e;break}case 100:{Mc(et,12858);H=i+4|0;G=d[H>>2]|0;V=d[i+8>>2]|0;if(G>>>0<V>>>0){Pl(G,et);d[H>>2]=(d[H>>2]|0)+24}else{W=d[i>>2]|0;X=G-W|0;q=(X|0)/24|0;Y=q+1|0;if((X|0)<-24)Ef(i);Z=(V-W|0)/24|0;if(Z>>>0<1073741823){K=Z<<1;c=K>>>0<Y>>>0?Y:K}else c=2147483647;_l(Et,c,q,i+12|0);Q=Et+8|0;$=d[Q>>2]|0;Pl($,et);d[Q>>2]=$+24;Bo(i,Et);al(Et)}Vc(et);r=e+2|0;break e;break}case 95:{ee=d[i+16>>2]|0;if((ee|0)==(d[i+20>>2]|0)){r=e;break e}te=d[ee>>2]|0;ie=d[ee+4>>2]|0;re=i+4|0;ae=i+8|0;oe=i+12|0;se=Et+8|0;t:do{if((te|0)!=(ie|0)){ce=te;while(1){le=d[re>>2]|0;if((le|0)==(d[ae>>2]|0)){ue=le-(d[i>>2]|0)|0;fe=(ue|0)/24|0;he=fe+1|0;if((ue|0)<-24)break;if(fe>>>0<1073741823){me=fe<<1;u=me>>>0<he>>>0?he:me}else u=2147483647;_l(Et,u,fe,oe);ve=d[se>>2]|0;Dl(ve,ce);Dl(ve+12|0,ce+12|0);d[se>>2]=ve+24;Bo(i,Et);al(Et)}else{Dl(le,ce);Dl(le+12|0,ce+12|0);d[re>>2]=(d[re>>2]|0)+24}ce=ce+24|0;if((ce|0)==(ie|0))break t}Ef(i)}}while(0);r=e+2|0;break e;break}default:{if((B+-48|0)>>>0<10)ye=C;else{if(!(bh(B)|0)){r=e;break e}ye=f[A>>0]|0}ge=ye<<24>>24;Mt=ge+-48|0;be=e+2|0;if((be|0)==(t|0)){r=e;break e}Tt=Mt>>>0<10?Mt:ge+-55|0;At=be;while(1){we=f[At>>0]|0;_e=we<<24>>24;if((_e+-48|0)>>>0<10)Se=we;else{xe=(bh(_e)|0)==0;Ee=f[At>>0]|0;if(xe){p=Ee;kt=Tt;Rt=At;break}else Se=Ee}Me=Se<<24>>24;St=Me+-48|0;At=At+1|0;if((At|0)==(t|0)){r=e;break e}else Tt=(St>>>0<10?St:Me+-55|0)+(Tt*36|0)|0}if(p<<24>>24!=95){r=e;break e}Te=kt+1|0;ke=d[i+16>>2]|0;if(Te>>>0>=(d[i+20>>2]|0)-ke>>4>>>0){r=e;break e}Ae=d[ke+(Te<<4)>>2]|0;Re=d[ke+(Te<<4)+4>>2]|0;Le=i+4|0;Pe=i+8|0;Ce=i+12|0;Oe=Et+8|0;t:do{if((Ae|0)!=(Re|0)){De=Ae;while(1){Ie=d[Le>>2]|0;if((Ie|0)==(d[Pe>>2]|0)){Fe=Ie-(d[i>>2]|0)|0;Ue=(Fe|0)/24|0;ze=Ue+1|0;if((Fe|0)<-24)break;if(Ue>>>0<1073741823){He=Ue<<1;h=He>>>0<ze>>>0?ze:He}else h=2147483647;_l(Et,h,Ue,Ce);Ge=d[Oe>>2]|0;Dl(Ge,De);Dl(Ge+12|0,De+12|0);d[Oe>>2]=Ge+24;Bo(i,Et);al(Et)}else{Dl(Ie,De);Dl(Ie+12|0,De+12|0);d[Le>>2]=(d[Le>>2]|0)+24}De=De+24|0;if((De|0)==(Re|0))break t}Ef(i)}}while(0);r=Rt+1|0;break e}}}else r=e;else r=e}while(0);w=Lt;return r|0}function Ii(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0.0,o=0.0,s=0.0,l=0.0,c=0,u=0.0,f=0.0,h=0.0,p=0.0,m=0.0,v=0.0,g=0.0,b=0.0,x=0.0,E=0.0,M=0.0,S=0.0,T=0.0,k=0.0,A=0,R=0,L=0,P=0,C=0,O=0,I=0.0,N=0.0,D=0.0,F=0.0,B=0.0,U=0.0,z=0.0,H=0.0,G=0.0,V=0.0,j=0.0,W=0.0,X=0.0,q=0.0,Y=0.0,J=0.0,Z=0.0,K=0.0,Q=0.0,ee=0.0,te=0.0,ie=0.0,re=0.0,ne=0.0,ae=0.0,oe=0.0,se=0.0,le=0.0,ce=0.0,ue=0.0,fe=0.0,he=0.0,de=0.0,me=0.0,ve=0.0,ge=0.0,ye=0.0,be=0.0,we=0,_e=0.0,xe=0.0,Ee=0.0,Me=0.0,Se=0.0,Te=0.0,ke=0.0,Ae=0.0,Re=0.0,Le=0.0,Pe=0.0,Ce=0.0,Oe=0.0,Ie=0.0,Ne=0.0,De=0.0,Fe=0.0,Be=0.0,Ue=0,ze=0,He=0,Ge=0.0,Ve=0.0,je=0.0,We=0.0,Xe=0.0,qe=0.0,Ye=0.0,Je=0.0,Ze=0.0,Ke=0.0,Qe=0,$e=0.0,et=0.0,tt=0.0,it=0.0,rt=0,nt=0.0,at=0.0,ot=0.0,st=0.0,lt=0,ct=0,ut=0.0,ft=0,ht=0.0,dt=0.0,pt=0.0,mt=0,vt=0.0,gt=0.0,yt=0,bt=0.0,wt=0.0,_t=0.0,xt=0.0,Et=0.0,Mt=0.0,St=0,Tt=0.0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0.0,Ot=0.0,It=0.0,Nt=0.0,Dt=0.0,Ft=0,Bt=0,Ut=0,zt=0,Ht=0.0,Gt=0.0,Vt=0.0,jt=0.0,Wt=0.0,Xt=0.0,qt=0.0,Yt=0.0,Jt=0.0,Zt=0.0,Kt=0.0,Qt=0.0,$t=0.0,ei=0.0,ti=0.0,ii=0.0,ri=0.0,ni=0.0,ai=0,oi=0,si=0,li=0,ci=0,ui=0,fi=0,hi=0;hi=w;w=w+64|0;if((w|0)>=(_|0))pe();si=hi+48|0;fi=hi+40|0;ui=hi+32|0;ci=hi+24|0;li=hi+16|0;oi=hi+8|0;ai=hi;e:do{if((r|0)<4)c=-1;else{Ut=0;while(1){if((Ut|0)>=(r|0))break;if(+y[i+(Ut*24|0)+16>>3]!=0.0){c=-1;break e}else Ut=Ut+1|0}if(+y[e>>3]==0.0)c=-1;else if(+y[e+32>>3]!=0.0)c=-1;else{P=e+40|0;if(+y[P>>3]==0.0)c=-1;else if(+y[e+64>>3]!=0.0)c=-1;else if(+y[e+72>>3]!=0.0)c=-1;else if(+y[e+80>>3]!=1.0)c=-1;else if(+y[e+24>>3]!=0.0)c=-1;else if(+y[e+56>>3]!=0.0)c=-1;else if(+y[e+88>>3]!=0.0)c=-1;else{Qe=r<<1;rt=hc(Qe,8)|0;if(!rt){Ha(3,5124,ai);c=-1;break}ft=hc(Qe,1)|0;if(!ft){Wf(rt)|0;Ha(3,5150,oi);c=-1;break}if(r){mt=d[rt>>2]|0;yt=d[ft>>2]|0;zt=0;do{St=i+(zt*24|0)|0;kt=zt<<4;y[mt+(kt<<3)>>3]=+y[St>>3];At=i+(zt*24|0)+8|0;y[mt+((kt|1)<<3)>>3]=+y[At>>3];y[mt+((kt|2)<<3)>>3]=1.0;y[mt+((kt|3)<<3)>>3]=0.0;y[mt+((kt|4)<<3)>>3]=0.0;y[mt+((kt|5)<<3)>>3]=0.0;Rt=t+(zt<<4)|0;y[mt+((kt|6)<<3)>>3]=-(+y[St>>3]*+y[Rt>>3]);y[mt+((kt|7)<<3)>>3]=-(+y[At>>3]*+y[Rt>>3]);y[mt+((kt|8)<<3)>>3]=0.0;y[mt+((kt|9)<<3)>>3]=0.0;y[mt+((kt|10)<<3)>>3]=0.0;y[mt+((kt|11)<<3)>>3]=+y[St>>3];y[mt+((kt|12)<<3)>>3]=+y[At>>3];y[mt+((kt|13)<<3)>>3]=1.0;Lt=t+(zt<<4)+8|0;y[mt+((kt|14)<<3)>>3]=-(+y[St>>3]*+y[Lt>>3]);y[mt+((kt|15)<<3)>>3]=-(+y[At>>3]*+y[Lt>>3]);Pt=zt<<1;y[yt+(Pt<<3)>>3]=+y[Rt>>3];y[yt+((Pt|1)<<3)>>3]=+y[Lt>>3];zt=zt+1|0}while((zt|0)!=(r|0))}A=jc(rt)|0;if(!A){Wf(rt)|0;Wf(ft)|0;Ha(3,5176,li);c=-1;break}R=Xc(A,rt)|0;if(!R){Wf(rt)|0;Wf(ft)|0;Wf(A)|0;Ha(3,5202,ci);c=-1;break}L=Xc(A,ft)|0;if(!L){Wf(rt)|0;Wf(ft)|0;Wf(A)|0;Wf(R)|0;Ha(3,5228,ui);c=-1;break}if((Cn(R)|0)<0){Wf(rt)|0;Wf(ft)|0;Wf(A)|0;Wf(R)|0;Wf(L)|0;Ha(3,5254,fi);c=-1;break}C=Xc(R,L)|0;if(!C){Wf(rt)|0;Wf(ft)|0;Wf(A)|0;Wf(R)|0;Wf(L)|0;Ha(3,5280,si);c=-1;break}O=d[C>>2]|0;I=+y[O+48>>3];N=+y[e+48>>3];D=+y[P>>3];F=(+y[O+24>>3]-I*N)/D;B=+y[e+16>>3];U=+y[e+8>>3];z=+y[e>>3];H=(+y[O>>3]-I*B-F*U)/z;G=+y[O+56>>3];V=(+y[O+32>>3]-N*G)/D;j=(+y[O+8>>3]-B*G-U*V)/z;W=(+y[O+40>>3]-N)/D;X=(+y[O+16>>3]-B-U*W)/z;Wf(rt)|0;Wf(ft)|0;Wf(A)|0;Wf(R)|0;Wf(L)|0;Wf(C)|0;q=+$(+(I*I+(F*F+H*H)));Y=+$(+(G*G+(V*V+j*j)));J=H/q;Z=F/q;K=I/q;Q=j/Y;ee=V/Y;te=G/Y;ie=(q+Y)*.5;re=X/ie;ne=1.0/ie;if(ne<0.0){E=-Z;ae=-te;oe=-ee;se=-K;ce=-Q;ue=-J;Ht=-re;Gt=-ne}else{E=Z;ae=te;oe=ee;se=K;ce=Q;ue=J;Ht=re;Gt=W/ie}le=ae*E-oe*se;fe=ce*se-ae*ue;he=oe*ue-ce*E;de=+$(+(he*he+(le*le+fe*fe)));do{if(de==0.0){M=E;vt=ae;gt=oe;bt=se;_t=ce;xt=ue}else{me=le/de;ve=fe/de;ge=he/de;ye=ae*se+(oe*E+ce*ue);Ct=ye<0.0?-ye:ye;be=(+$(+(Ct+1.0))+ +$(+(1.0-Ct)))*.5;if(ue*ve-E*me!=0.0){Ft=0;Vt=ue;jt=E;Wt=se;Jt=me;Qt=ve;ii=ge}else{we=ue*ge-se*me!=0.0;Ft=we?1:2;Vt=we?ue:se;jt=we?se:E;Wt=we?E:ue;Jt=we?me:ge;Qt=we?ge:ve;ii=we?ve:me}_e=Vt*Qt;xe=jt*Jt;Ee=_e-xe;if(Ee==0.0){M=E;vt=ae;gt=oe;bt=se;_t=ce;xt=ue;break}Me=(jt*ii-Wt*Qt)/Ee;Se=be*Qt/Ee;Te=xe-_e;ke=(Vt*ii-Wt*Jt)/Te;Ae=be*Jt/Te;Re=Me*Me+ke*ke+1.0;Le=Me*Se+ke*Ae;Pe=Le*Le-Re*(Se*Se+Ae*Ae+-1.0);if(Pe<0.0){M=E;vt=ae;gt=oe;bt=se;_t=ce;xt=ue;break}Ce=+$(+Pe);Oe=(Ce-Le)/Re;Ie=Se+Me*Oe;Ne=Ae+ke*Oe;De=(-Le-Ce)/Re;Fe=Se+Me*De;Be=Ae+ke*De;Ue=(Ft|0)==1;$t=Ue?Qt:ii;ri=Ue?ii:Qt;x=Ue?Oe:Ne;T=Ue?Ne:Oe;k=Ue?De:Be;f=Ue?Be:De;ze=(Ft|0)==2&(Ue^1);Zt=ze?Jt:$t;ei=ze?$t:Jt;S=ze?T:Ie;l=ze?Ie:T;u=ze?f:Fe;a=ze?Fe:f;if(ce*ri-oe*ei!=0.0){Bt=0;Xt=ce;qt=oe;Yt=ae;Kt=ei;ti=ri;ni=Zt}else{He=ce*Zt-ae*ei!=0.0;Bt=He?1:2;Xt=He?ce:ae;qt=He?ae:oe;Yt=He?oe:ce;Kt=He?ei:Zt;ti=He?Zt:ri;ni=He?ri:ei}Ge=Xt*ti;Ve=qt*Kt;je=Ge-Ve;if(je==0.0){M=E;vt=ae;gt=oe;bt=se;_t=ce;xt=ue;break}We=(qt*ni-Yt*ti)/je;Xe=be*ti/je;qe=Ve-Ge;Ye=(Xt*ni-Yt*Kt)/qe;Je=be*Kt/qe;Ze=We*We+Ye*Ye+1.0;Ke=We*Xe+Ye*Je;$e=Ke*Ke-Ze*(Xe*Xe+Je*Je+-1.0);if($e<0.0){M=E;vt=ae;gt=oe;bt=se;_t=ce;xt=ue;break}et=+$(+$e);tt=(et-Ke)/Ze;it=Xe+We*tt;nt=Je+Ye*tt;at=(-Ke-et)/Ze;ot=Xe+We*at;st=Je+Ye*at;lt=(Bt|0)==1;h=lt?tt:nt;m=lt?nt:tt;v=lt?at:st;b=lt?st:at;ct=(Bt|0)==2&(lt^1);p=ct?m:it;o=ct?it:m;g=ct?b:ot;s=ct?ot:b;ut=l*o+(x*h+S*p);Ot=ut<0.0?-ut:ut;ht=l*s+(x*v+S*g);It=ht<0.0?-ht:ht;dt=a*o+(k*h+u*p);Nt=dt<0.0?-dt:dt;pt=a*s+(k*v+u*g);Dt=pt<0.0?-pt:pt;if(Ot<It)if(Ot<Nt){if(Ot<Dt){M=x;vt=o;gt=h;bt=l;_t=p;xt=S;break}M=k;vt=s;gt=v;bt=a;_t=g;xt=u;break}else{if(Nt<Dt){M=k;vt=o;gt=h;bt=a;_t=p;xt=u;break}M=k;vt=s;gt=v;bt=a;_t=g;xt=u;break}else if(It<Nt){if(It<Dt){M=x;vt=s;gt=v;bt=l;_t=g;xt=S;break}M=k;vt=s;gt=v;bt=a;_t=g;xt=u;break}else{if(Nt<Dt){M=k;vt=o;gt=h;bt=a;_t=p;xt=u;break}M=k;vt=s;gt=v;bt=a;_t=g;xt=u;break}}}while(0);wt=vt*M-gt*bt;Et=_t*bt-vt*xt;Mt=gt*xt-_t*M;Tt=+$(+(Mt*Mt+(wt*wt+Et*Et)));y[n>>3]=xt;y[n+32>>3]=M;y[n+64>>3]=bt;y[n+8>>3]=_t;y[n+40>>3]=gt;y[n+72>>3]=vt;y[n+16>>3]=wt/Tt;y[n+48>>3]=Et/Tt;y[n+80>>3]=Mt/Tt;y[n+24>>3]=Ht;y[n+56>>3]=Gt;y[n+88>>3]=ne;c=0}}}}while(0);w=hi;return c|0}function Ni(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0.0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0.0,P=0,C=0,O=0,I=0,N=0.0,D=0.0,F=0.0,B=0.0,U=0.0,z=0,H=0.0,G=0,V=0.0,j=0.0,W=0.0,X=0.0,q=0.0,Y=0.0,J=0,Z=0.0,K=0.0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0.0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0.0,ge=0.0,ye=0.0,be=0.0,we=0.0,_e=0.0,xe=0.0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0;at=w;w=w+208|0;if((w|0)>=(_|0))pe();et=at+200|0;$e=at+192|0;Ke=at+96|0;Qe=at;s=r+4|0;l=d[s>>2]|0;R=r+112|0;J=r+120|0;if((l|0)>0){se=d[r>>2]|0;ce=(i|0)>0;ue=(i|0)>0;Ee=0;do{if(!(d[se+(Ee*320|0)+4>>2]|0)){if(ce){S=d[se+(Ee*320|0)>>2]|0;ke=0;Ue=-1;while(1){if((d[t+(ke<<8)+8>>2]|0)==(S|0)){L=+y[t+(ke<<8)+40>>3];if(L<+y[R>>3])ze=Ue;else if((Ue|0)==-1)ze=ke;else if(+y[t+(Ue<<8)+40>>3]<L)ze=ke;else ze=Ue}else ze=Ue;ke=ke+1|0;if((ke|0)>=(i|0)){Be=ze;break}else Ue=ze}}else Be=-1;d[se+(Ee*320|0)+304>>2]=Be;if((Be|0)>-1)d[t+(Be<<8)+16>>2]=d[t+(Be<<8)+20>>2]}else{h=se+(Ee*320|0)+312|0;b=se+(Ee*320|0)|0;if(ue){Re=0;Ge=-1;while(1){ie=d[t+(Re<<8)+12>>2]|0;if(!ie){re=t+(Re<<8)+248|0;ne=d[re>>2]|0;ae=d[re+4>>2]|0;if((ne|0)==0&(ae|0)==0)nt=19;else{oe=h;if((ne|0)==(d[oe>>2]|0)?(ae|0)==(d[oe+4>>2]|0):0)nt=20;else Ve=Ge}}else nt=19;if((nt|0)==19){nt=0;if((ie|0)==(d[b>>2]|0))nt=20;else Ve=Ge}if((nt|0)==20){nt=0;le=+y[t+(Re<<8)+48>>3];if(le<+y[J>>3])Ve=Ge;else if((Ge|0)==-1)Ve=Re;else if(+y[t+(Ge<<8)+48>>3]<le)Ve=Re;else Ve=Ge}Re=Re+1|0;if((Re|0)>=(i|0)){He=Ve;break}else Ge=Ve}}else He=-1;d[se+(Ee*320|0)+304>>2]=He;if((He|0)>-1)d[t+(He<<8)+16>>2]=d[t+(He<<8)+24>>2]}Ee=Ee+1|0}while((Ee|0)<(l|0))}if((l|0)>0){Me=0;We=0;Ye=0;it=0;while(1){fe=d[r>>2]|0;he=d[fe+(Me*320|0)+304>>2]|0;do{if((he|0)<0){qe=We;Ze=Ye;rt=it}else{de=t+(he<<8)|0;if(+ga(e,de,+y[fe+(Me*320|0)+8>>3],Qe)>4.0){d[(d[r>>2]|0)+(Me*320|0)+304>>2]=-1;me=t+(he<<8)+236|0;if(d[me>>2]|0){qe=We;Ze=Ye;rt=it;break}d[me>>2]=7;qe=We;Ze=Ye;rt=it;break}o=d[de>>2]|0;if((it|0)==0|(Ye|0)<(o|0)){Le=0;do{y[Ke+(Le<<5)>>3]=+y[Qe+(Le<<5)>>3];y[Ke+(Le<<5)+8>>3]=+y[Qe+(Le<<5)+8>>3];y[Ke+(Le<<5)+16>>3]=+y[Qe+(Le<<5)+16>>3];y[Ke+(Le<<5)+24>>3]=+y[Qe+(Le<<5)+24>>3];Le=Le+1|0}while((Le|0)!=3);Xe=Me;Je=o}else{Xe=We;Je=Ye}qe=Xe;Ze=Je;rt=it+1|0}}while(0);Me=Me+1|0;if((Me|0)>=(d[s>>2]|0)){je=qe;tt=rt;break}else{We=qe;Ye=Ze;it=rt}}}else{je=0;tt=0}do{if(!tt)nt=38;else if((tt|0)<(d[r+128>>2]|0))nt=38;else{Hs(Ke,(d[r>>2]|0)+(je*320|0)+112|0,Qe)|0;c=tt<<2;u=xi(tt<<6)|0;if(!u){Ha(3,5471,$e);Wt(1)}f=xi(tt*96|0)|0;if(!f){Ha(3,5471,et);Wt(1)}p=d[s>>2]|0;if((p|0)>0){m=d[r>>2]|0;Se=0;Pe=0;while(1){v=d[m+(Se*320|0)+304>>2]|0;if((v|0)<0)Ce=Pe;else{g=d[t+(v<<8)+16>>2]|0;x=(4-g|0)%4|0;E=Pe<<3;y[u+(E<<3)>>3]=+y[t+(v<<8)+168+(x<<4)>>3];y[u+((E|1)<<3)>>3]=+y[t+(v<<8)+168+(x<<4)+8>>3];M=(5-g|0)%4|0;y[u+((E|2)<<3)>>3]=+y[t+(v<<8)+168+(M<<4)>>3];y[u+((E|3)<<3)>>3]=+y[t+(v<<8)+168+(M<<4)+8>>3];T=(6-g|0)%4|0;y[u+((E|4)<<3)>>3]=+y[t+(v<<8)+168+(T<<4)>>3];y[u+((E|5)<<3)>>3]=+y[t+(v<<8)+168+(T<<4)+8>>3];k=(7-g|0)%4|0;y[u+((E|6)<<3)>>3]=+y[t+(v<<8)+168+(k<<4)>>3];y[u+((E|7)<<3)>>3]=+y[t+(v<<8)+168+(k<<4)+8>>3];A=Pe*12|0;y[f+(A<<3)>>3]=+y[m+(Se*320|0)+208>>3];y[f+((A|1)<<3)>>3]=+y[m+(Se*320|0)+216>>3];y[f+((A|2)<<3)>>3]=+y[m+(Se*320|0)+224>>3];y[f+((A|3)<<3)>>3]=+y[m+(Se*320|0)+232>>3];y[f+(A+4<<3)>>3]=+y[m+(Se*320|0)+240>>3];y[f+(A+5<<3)>>3]=+y[m+(Se*320|0)+248>>3];y[f+(A+6<<3)>>3]=+y[m+(Se*320|0)+256>>3];y[f+(A+7<<3)>>3]=+y[m+(Se*320|0)+264>>3];y[f+(A+8<<3)>>3]=+y[m+(Se*320|0)+272>>3];y[f+(A+9<<3)>>3]=+y[m+(Se*320|0)+280>>3];P=d[r>>2]|0;y[f+(A+10<<3)>>3]=+y[P+(Se*320|0)+288>>3];y[f+(A+11<<3)>>3]=+y[P+(Se*320|0)+296>>3];Ce=Pe+1|0}Se=Se+1|0;if((Se|0)>=(p|0))break;else Pe=Ce}}C=r+104|0;O=(n|0)!=0;if(!(d[C>>2]|0)){I=r+8|0;N=+$a(e,Qe,u,f,c,I);if(O&N>=20.0){vu(d[e>>2]|0,.8)|0;D=+Qa(e,Qe,u,f,c,I);if(!(D>=20.0))ve=D;else{vu(d[e>>2]|0,.6)|0;F=+Qa(e,Qe,u,f,c,I);if(!(F>=20.0))ve=F;else{vu(d[e>>2]|0,.4)|0;B=+Qa(e,Qe,u,f,c,I);if(!(B>=20.0))ve=B;else{vu(d[e>>2]|0,0.0)|0;ve=+Qa(e,Qe,u,f,c,I)}}}}else ve=N;cn(f);cn(u);xe=ve}else{U=+$a(e,Qe,u,f,c,Ke);z=r+8|0;H=+$a(e,z,u,f,c,z);G=U<H;do{if(O){if(G){Oe=0;do{y[r+8+(Oe<<5)>>3]=+y[Ke+(Oe<<5)>>3];y[r+8+(Oe<<5)+8>>3]=+y[Ke+(Oe<<5)+8>>3];y[r+8+(Oe<<5)+16>>3]=+y[Ke+(Oe<<5)+16>>3];y[r+8+(Oe<<5)+24>>3]=+y[Ke+(Oe<<5)+24>>3];Oe=Oe+1|0}while((Oe|0)!=3);ge=U}else ge=H;if(!(ge>=20.0))_e=ge;else{vu(d[e>>2]|0,.8)|0;V=+Qa(e,Qe,u,f,c,Ke);j=+Qa(e,z,u,f,c,z);if(V<j){Ie=0;do{y[r+8+(Ie<<5)>>3]=+y[Ke+(Ie<<5)>>3];y[r+8+(Ie<<5)+8>>3]=+y[Ke+(Ie<<5)+8>>3];y[r+8+(Ie<<5)+16>>3]=+y[Ke+(Ie<<5)+16>>3];y[r+8+(Ie<<5)+24>>3]=+y[Ke+(Ie<<5)+24>>3];Ie=Ie+1|0}while((Ie|0)!=3);ye=V}else ye=j;if(!(ye>=20.0))_e=ye;else{vu(d[e>>2]|0,.6)|0;W=+Qa(e,Qe,u,f,c,Ke);X=+Qa(e,z,u,f,c,z);if(W<X){Ne=0;do{y[r+8+(Ne<<5)>>3]=+y[Ke+(Ne<<5)>>3];y[r+8+(Ne<<5)+8>>3]=+y[Ke+(Ne<<5)+8>>3];y[r+8+(Ne<<5)+16>>3]=+y[Ke+(Ne<<5)+16>>3];y[r+8+(Ne<<5)+24>>3]=+y[Ke+(Ne<<5)+24>>3];Ne=Ne+1|0}while((Ne|0)!=3);be=W}else be=X;if(!(be>=20.0))_e=be;else{vu(d[e>>2]|0,.4)|0;q=+Qa(e,Qe,u,f,c,Ke);Y=+Qa(e,z,u,f,c,z);if(q<Y){De=0;do{y[r+8+(De<<5)>>3]=+y[Ke+(De<<5)>>3];y[r+8+(De<<5)+8>>3]=+y[Ke+(De<<5)+8>>3];y[r+8+(De<<5)+16>>3]=+y[Ke+(De<<5)+16>>3];y[r+8+(De<<5)+24>>3]=+y[Ke+(De<<5)+24>>3];De=De+1|0}while((De|0)!=3);we=q}else we=Y;if(!(we>=20.0))_e=we;else{vu(d[e>>2]|0,0.0)|0;Z=+Qa(e,Qe,u,f,c,Ke);K=+Qa(e,z,u,f,c,z);if(Z<K)Fe=0;else{_e=K;break}do{y[r+8+(Fe<<5)>>3]=+y[Ke+(Fe<<5)>>3];y[r+8+(Fe<<5)+8>>3]=+y[Ke+(Fe<<5)+8>>3];y[r+8+(Fe<<5)+16>>3]=+y[Ke+(Fe<<5)+16>>3];y[r+8+(Fe<<5)+24>>3]=+y[Ke+(Fe<<5)+24>>3];Fe=Fe+1|0}while((Fe|0)!=3);_e=Z}}}}}else if(G){Ae=0;do{y[r+8+(Ae<<5)>>3]=+y[Ke+(Ae<<5)>>3];y[r+8+(Ae<<5)+8>>3]=+y[Ke+(Ae<<5)+8>>3];y[r+8+(Ae<<5)+16>>3]=+y[Ke+(Ae<<5)+16>>3];y[r+8+(Ae<<5)+24>>3]=+y[Ke+(Ae<<5)+24>>3];Ae=Ae+1|0}while((Ae|0)!=3);_e=U}else _e=H}while(0);cn(f);cn(u);xe=_e}if(xe<20.0){d[C>>2]=1;a=xe;break}d[C>>2]=0;Q=d[s>>2]|0;if((Q|0)>0){$=d[r>>2]|0;Te=0;do{ee=d[$+(Te*320|0)+304>>2]|0;if((ee|0)>=0){te=t+(ee<<8)+236|0;if(!(d[te>>2]|0))d[te>>2]=8}Te=Te+1|0}while((Te|0)<(Q|0));a=xe}else a=xe}}while(0);if((nt|0)==38){d[r+104>>2]=0;a=-1.0}w=at;return+a}function Di(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0;mt=w;w=w+16|0;if((w|0)>=(_|0))pe();n=mt+8|0;a=mt+4|0;Q=mt;d[a>>2]=e;do{if(e>>>0<212){Ie=vs(3520,3712,a,n)|0;i=d[Ie>>2]|0}else{Ve=(e>>>0)/210|0;Ye=Ve*210|0;d[Q>>2]=e-Ye;m=(vs(3712,3904,Q,n)|0)-3712>>2;lt=m;ut=Ve;ft=(d[3712+(m<<2)>>2]|0)+Ye|0;e:while(1){ct=5;while(1){if(ct>>>0>=47){st=211;pt=8;break}G=d[3520+(ct<<2)>>2]|0;q=(ft>>>0)/(G>>>0)|0;if(q>>>0<G>>>0){dt=ft;pt=106;break e}if((ft|0)==(fe(q,G)|0))break;else ct=ct+1|0}t:do{if((pt|0)==8)while(1){pt=0;ge=(ft>>>0)/(st>>>0)|0;if(ge>>>0<st>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ge,st)|0))break t;Ae=st+10|0;Re=(ft>>>0)/(Ae>>>0)|0;if(Re>>>0<Ae>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Re,Ae)|0))break t;Le=st+12|0;Pe=(ft>>>0)/(Le>>>0)|0;if(Pe>>>0<Le>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Pe,Le)|0))break t;Ce=st+16|0;Oe=(ft>>>0)/(Ce>>>0)|0;if(Oe>>>0<Ce>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Oe,Ce)|0))break t;Ne=st+18|0;De=(ft>>>0)/(Ne>>>0)|0;if(De>>>0<Ne>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(De,Ne)|0))break t;Fe=st+22|0;Be=(ft>>>0)/(Fe>>>0)|0;if(Be>>>0<Fe>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Be,Fe)|0))break t;Ue=st+28|0;ze=(ft>>>0)/(Ue>>>0)|0;if(ze>>>0<Ue>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ze,Ue)|0))break t;He=st+30|0;Ge=(ft>>>0)/(He>>>0)|0;if(Ge>>>0<He>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Ge,He)|0))break t;je=st+36|0;We=(ft>>>0)/(je>>>0)|0;if(We>>>0<je>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(We,je)|0))break t;Xe=st+40|0;qe=(ft>>>0)/(Xe>>>0)|0;if(qe>>>0<Xe>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(qe,Xe)|0))break t;Je=st+42|0;Ze=(ft>>>0)/(Je>>>0)|0;if(Ze>>>0<Je>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Ze,Je)|0))break t;Ke=st+46|0;Qe=(ft>>>0)/(Ke>>>0)|0;if(Qe>>>0<Ke>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Qe,Ke)|0))break t;$e=st+52|0;et=(ft>>>0)/($e>>>0)|0;if(et>>>0<$e>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(et,$e)|0))break t;tt=st+58|0;it=(ft>>>0)/(tt>>>0)|0;if(it>>>0<tt>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(it,tt)|0))break t;rt=st+60|0;nt=(ft>>>0)/(rt>>>0)|0;if(nt>>>0<rt>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(nt,rt)|0))break t;at=st+66|0;ot=(ft>>>0)/(at>>>0)|0;if(ot>>>0<at>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ot,at)|0))break t;o=st+70|0;s=(ft>>>0)/(o>>>0)|0;if(s>>>0<o>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(s,o)|0))break t;l=st+72|0;c=(ft>>>0)/(l>>>0)|0;if(c>>>0<l>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(c,l)|0))break t;u=st+78|0;f=(ft>>>0)/(u>>>0)|0;if(f>>>0<u>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(f,u)|0))break t;h=st+82|0;p=(ft>>>0)/(h>>>0)|0;if(p>>>0<h>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(p,h)|0))break t;v=st+88|0;g=(ft>>>0)/(v>>>0)|0;if(g>>>0<v>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(g,v)|0))break t;y=st+96|0;b=(ft>>>0)/(y>>>0)|0;if(b>>>0<y>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(b,y)|0))break t;x=st+100|0;E=(ft>>>0)/(x>>>0)|0;if(E>>>0<x>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(E,x)|0))break t;M=st+102|0;S=(ft>>>0)/(M>>>0)|0;if(S>>>0<M>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(S,M)|0))break t;T=st+106|0;k=(ft>>>0)/(T>>>0)|0;if(k>>>0<T>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(k,T)|0))break t;A=st+108|0;R=(ft>>>0)/(A>>>0)|0;if(R>>>0<A>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(R,A)|0))break t;L=st+112|0;P=(ft>>>0)/(L>>>0)|0;if(P>>>0<L>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(P,L)|0))break t;C=st+120|0;O=(ft>>>0)/(C>>>0)|0;if(O>>>0<C>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(O,C)|0))break t;I=st+126|0;N=(ft>>>0)/(I>>>0)|0;if(N>>>0<I>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(N,I)|0))break t;D=st+130|0;F=(ft>>>0)/(D>>>0)|0;if(F>>>0<D>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(F,D)|0))break t;B=st+136|0;U=(ft>>>0)/(B>>>0)|0;if(U>>>0<B>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(U,B)|0))break t;z=st+138|0;H=(ft>>>0)/(z>>>0)|0;if(H>>>0<z>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(H,z)|0))break t;V=st+142|0;j=(ft>>>0)/(V>>>0)|0;if(j>>>0<V>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(j,V)|0))break t;W=st+148|0;X=(ft>>>0)/(W>>>0)|0;if(X>>>0<W>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(X,W)|0))break t;Y=st+150|0;J=(ft>>>0)/(Y>>>0)|0;if(J>>>0<Y>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(J,Y)|0))break t;Z=st+156|0;K=(ft>>>0)/(Z>>>0)|0;if(K>>>0<Z>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(K,Z)|0))break t;$=st+162|0;ee=(ft>>>0)/($>>>0)|0;if(ee>>>0<$>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ee,$)|0))break t;te=st+166|0;ie=(ft>>>0)/(te>>>0)|0;if(ie>>>0<te>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ie,te)|0))break t;re=st+168|0;ne=(ft>>>0)/(re>>>0)|0;if(ne>>>0<re>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ne,re)|0))break t;ae=st+172|0;oe=(ft>>>0)/(ae>>>0)|0;if(oe>>>0<ae>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(oe,ae)|0))break t;se=st+178|0;le=(ft>>>0)/(se>>>0)|0;if(le>>>0<se>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(le,se)|0))break t;ce=st+180|0;ue=(ft>>>0)/(ce>>>0)|0;if(ue>>>0<ce>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ue,ce)|0))break t;he=st+186|0;de=(ft>>>0)/(he>>>0)|0;if(de>>>0<he>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(de,he)|0))break t;me=st+190|0;ve=(ft>>>0)/(me>>>0)|0;if(ve>>>0<me>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(ve,me)|0))break t;ye=st+192|0;be=(ft>>>0)/(ye>>>0)|0;if(be>>>0<ye>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(be,ye)|0))break t;we=st+196|0;_e=(ft>>>0)/(we>>>0)|0;if(_e>>>0<we>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(_e,we)|0))break t;xe=st+198|0;Ee=(ft>>>0)/(xe>>>0)|0;if(Ee>>>0<xe>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Ee,xe)|0))break t;Me=st+208|0;Se=(ft>>>0)/(Me>>>0)|0;if(Se>>>0<Me>>>0){ht=ft;pt=105;break e}if((ft|0)==(fe(Se,Me)|0))break;else{st=st+210|0;pt=8}}}while(0);Te=lt+1|0;ke=(Te|0)==48;t=ke?0:Te;r=(ke&1)+ut|0;lt=t;ut=r;ft=(d[3712+(t<<2)>>2]|0)+(r*210|0)|0}if((pt|0)==105){d[a>>2]=ht;i=ht;break}else if((pt|0)==106){d[a>>2]=dt;i=dt;break}}}while(0);w=mt;return i|0}function Fi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Ue=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(Ue<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}P=n+1179664|0;I=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){te=(Ue|0)>1;Ge=(d[n+4>>2]|0)+I|0;Qe=1;ot=e+I|0;dt=l+(I<<1)|0;vt=r+I|0;Tt=0;t:while(1){if(te){je=Ge;qe=1;lt=ot;mt=dt;yt=vt;At=Tt;while(1){do{if((p[lt>>0]|0)>(p[yt>>0]|0)){f[je>>0]=-1;ye=h[mt+(B<<1)>>1]|0;if(ye<<16>>16>0){h[mt>>1]=ye;Me=(ye<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Qe;d[n+1310736+(Me+-1<<2)>>2]=Qe;Rt=At;break}Ae=h[mt+(o<<1)>>1]|0;Re=Ae<<16>>16;Le=h[mt+(s<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[mt>>1]=Le;R=Pe*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+qe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Qe;N=n+1310736+(R+-3<<2)|0;if((d[N>>2]|0)<(qe|0))d[N>>2]=qe;d[n+1310736+(R+-1<<2)>>2]=Qe;Rt=At;break}D=h[mt+-2>>1]|0;if(D<<16>>16>0){h[mt>>1]=D;F=(D<<16>>16)*7|0;U=n+1310736+(F+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(F+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+qe;H=n+1310736+(F+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Qe;G=n+1310736+(F+-3<<2)|0;if((d[G>>2]|0)>=(qe|0)){Rt=At;break}d[G>>2]=qe;Rt=At;break}else{V=At+1|0;if((At|0)>32767)break t;h[mt>>1]=V;d[n+1179664+(At<<2)>>2]=V<<16>>16;j=At*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=qe;d[n+1310736+(j+2<<2)>>2]=Qe;d[n+1310736+(j+3<<2)>>2]=qe;d[n+1310736+(j+4<<2)>>2]=qe;d[n+1310736+(j+5<<2)>>2]=Qe;d[n+1310736+(j+6<<2)>>2]=Qe;Rt=V;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[mt>>1]=Ie;if((At|0)>0){it=0;wt=P;while(1){if((d[wt>>2]|0)==(Oe|0))d[wt>>2]=Ie;it=it+1|0;if((it|0)>=(At|0)){Ne=Ie;break}else wt=wt+4|0}}else Ne=Ie}else{h[mt>>1]=Oe;if((Oe|0)<(Ie|0)&(At|0)>0){rt=0;_t=P;while(1){if((d[_t>>2]|0)==(Ie|0))d[_t>>2]=Oe;rt=rt+1|0;if((rt|0)>=(At|0)){Ne=Oe;break}else _t=_t+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+qe;ze=n+1310736+(De+-5<<2)|0;d[ze>>2]=(d[ze>>2]|0)+Qe;d[n+1310736+(De+-1<<2)>>2]=Qe;Rt=At;break}He=h[mt+-2>>1]|0;if(He<<16>>16<=0){h[mt>>1]=Ae;M=Re*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+qe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Qe;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(qe|0))d[A>>2]=qe;d[n+1310736+(M+-1<<2)>>2]=Qe;Rt=At;break}u=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((He<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[mt>>1]=m;if((At|0)>0){nt=0;xt=P;while(1){if((d[xt>>2]|0)==(u|0))d[xt>>2]=m;nt=nt+1|0;if((nt|0)>=(At|0)){v=m;break}else xt=xt+4|0}}else v=m}else{h[mt>>1]=u;if((u|0)<(m|0)&(At|0)>0){at=0;Et=P;while(1){if((d[Et>>2]|0)==(m|0))d[Et>>2]=u;at=at+1|0;if((at|0)>=(At|0)){v=u;break}else Et=Et+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+qe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Qe;Rt=At}else{h[mt>>1]=0;f[je>>0]=0;Rt=At}}while(0);qe=qe+1|0;W=lt+1|0;X=yt+1|0;q=mt+2|0;Y=je+1|0;if((qe|0)>=(Ue|0)){Ve=Y;st=W;pt=q;gt=X;kt=Rt;break}else{je=Y;lt=W;mt=q;yt=X;At=Rt}}}else{Ve=Ge;st=ot;pt=dt;gt=vt;kt=Tt}Qe=Qe+1|0;if((Qe|0)>=(c|0)){St=kt;Lt=52;break e}else{Ge=Ve+2|0;ot=st+2|0;dt=pt+4|0;vt=gt+2|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){J=n+12|0;if((St|0)<1)$e=1;else{Ye=1;et=1;Mt=P;while(1){Z=d[Mt>>2]|0;if((Z|0)==(Ye|0)){K=et;tt=et+1|0}else{K=d[n+1179664+(Z+-1<<2)>>2]|0;tt=et}d[Mt>>2]=K;if((Ye|0)<(St|0)){Ye=Ye+1|0;et=tt;Mt=Mt+4|0}else{$e=tt;break}}}Q=n+8|0;$=$e+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(J|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if(($e|0)>1){Je=0;do{ee=Je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[Q>>2]|0))}if((St|0)>0){Ze=0;do{ie=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;re=Ze*7|0;ne=n+12+(ie<<2)|0;d[ne>>2]=(d[ne>>2]|0)+(d[n+1310736+(re<<2)>>2]|0);ae=ie<<1;oe=n+655376+(ae<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(re+1<<2)>>2]|0);se=n+655376+((ae|1)<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(re+2<<2)>>2]|0);le=ie<<2;ce=n+131084+(le<<2)|0;ue=d[n+1310736+(re+3<<2)>>2]|0;if((d[ce>>2]|0)>(ue|0))d[ce>>2]=ue;he=n+131084+((le|1)<<2)|0;de=d[n+1310736+(re+4<<2)>>2]|0;if((d[he>>2]|0)<(de|0))d[he>>2]=de;me=n+131084+((le|2)<<2)|0;ve=d[n+1310736+(re+5<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((le|3)<<2)|0;be=d[n+1310736+(re+6<<2)>>2]|0;if((d[ge>>2]|0)<(be|0))d[ge>>2]=be;Ze=Ze+1|0}while((Ze|0)<(St|0))}if((d[Q>>2]|0)>0){Ke=0;do{we=n+12+(Ke<<2)|0;_e=Ke<<1;xe=n+655376+(_e<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[we>>2]|0);Ee=n+655376+((_e|1)<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[we>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[Q>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Bi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Ue=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(Ue<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}P=n+1179664|0;I=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){te=(Ue|0)>1;Ge=(d[n+4>>2]|0)+I|0;Qe=1;ot=e+I|0;dt=l+(I<<1)|0;vt=r+I|0;Tt=0;t:while(1){if(te){je=Ge;qe=1;lt=ot;mt=dt;yt=vt;At=Tt;while(1){do{if((p[lt>>0]|0)>(p[yt>>0]|0)){h[mt>>1]=0;f[je>>0]=0;Rt=At}else{f[je>>0]=-1;ye=h[mt+(B<<1)>>1]|0;if(ye<<16>>16>0){h[mt>>1]=ye;Me=(ye<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Qe;d[n+1310736+(Me+-1<<2)>>2]=Qe;Rt=At;break}Ae=h[mt+(o<<1)>>1]|0;Re=Ae<<16>>16;Le=h[mt+(s<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[mt>>1]=Le;R=Pe*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+qe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Qe;N=n+1310736+(R+-3<<2)|0;if((d[N>>2]|0)<(qe|0))d[N>>2]=qe;d[n+1310736+(R+-1<<2)>>2]=Qe;Rt=At;break}D=h[mt+-2>>1]|0;if(D<<16>>16>0){h[mt>>1]=D;F=(D<<16>>16)*7|0;U=n+1310736+(F+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(F+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+qe;H=n+1310736+(F+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Qe;G=n+1310736+(F+-3<<2)|0;if((d[G>>2]|0)>=(qe|0)){Rt=At;break}d[G>>2]=qe;Rt=At;break}else{V=At+1|0;if((At|0)>32767)break t;h[mt>>1]=V;d[n+1179664+(At<<2)>>2]=V<<16>>16;j=At*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=qe;d[n+1310736+(j+2<<2)>>2]=Qe;d[n+1310736+(j+3<<2)>>2]=qe;d[n+1310736+(j+4<<2)>>2]=qe;d[n+1310736+(j+5<<2)>>2]=Qe;d[n+1310736+(j+6<<2)>>2]=Qe;Rt=V;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[mt>>1]=Ie;if((At|0)>0){it=0;wt=P;while(1){if((d[wt>>2]|0)==(Oe|0))d[wt>>2]=Ie;it=it+1|0;if((it|0)>=(At|0)){Ne=Ie;break}else wt=wt+4|0}}else Ne=Ie}else{h[mt>>1]=Oe;if((Oe|0)<(Ie|0)&(At|0)>0){rt=0;_t=P;while(1){if((d[_t>>2]|0)==(Ie|0))d[_t>>2]=Oe;rt=rt+1|0;if((rt|0)>=(At|0)){Ne=Oe;break}else _t=_t+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+qe;ze=n+1310736+(De+-5<<2)|0;d[ze>>2]=(d[ze>>2]|0)+Qe;d[n+1310736+(De+-1<<2)>>2]=Qe;Rt=At;break}He=h[mt+-2>>1]|0;if(He<<16>>16<=0){h[mt>>1]=Ae;M=Re*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+qe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Qe;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(qe|0))d[A>>2]=qe;d[n+1310736+(M+-1<<2)>>2]=Qe;Rt=At;break}u=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((He<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[mt>>1]=m;if((At|0)>0){nt=0;xt=P;while(1){if((d[xt>>2]|0)==(u|0))d[xt>>2]=m;nt=nt+1|0;if((nt|0)>=(At|0)){v=m;break}else xt=xt+4|0}}else v=m}else{h[mt>>1]=u;if((u|0)<(m|0)&(At|0)>0){at=0;Et=P;while(1){if((d[Et>>2]|0)==(m|0))d[Et>>2]=u;at=at+1|0;if((at|0)>=(At|0)){v=u;break}else Et=Et+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+qe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Qe;Rt=At}}while(0);qe=qe+1|0;W=lt+1|0;X=yt+1|0;q=mt+2|0;Y=je+1|0;if((qe|0)>=(Ue|0)){Ve=Y;st=W;pt=q;gt=X;kt=Rt;break}else{je=Y;lt=W;mt=q;yt=X;At=Rt}}}else{Ve=Ge;st=ot;pt=dt;gt=vt;kt=Tt}Qe=Qe+1|0;if((Qe|0)>=(c|0)){St=kt;Lt=52;break e}else{Ge=Ve+2|0;ot=st+2|0;dt=pt+4|0;vt=gt+2|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){J=n+12|0;if((St|0)<1)$e=1;else{Ye=1;et=1;Mt=P;while(1){Z=d[Mt>>2]|0;if((Z|0)==(Ye|0)){K=et;tt=et+1|0}else{K=d[n+1179664+(Z+-1<<2)>>2]|0;tt=et}d[Mt>>2]=K;if((Ye|0)<(St|0)){Ye=Ye+1|0;et=tt;Mt=Mt+4|0}else{$e=tt;break}}}Q=n+8|0;$=$e+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(J|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if(($e|0)>1){Je=0;do{ee=Je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[Q>>2]|0))}if((St|0)>0){Ze=0;do{ie=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;re=Ze*7|0;ne=n+12+(ie<<2)|0;d[ne>>2]=(d[ne>>2]|0)+(d[n+1310736+(re<<2)>>2]|0);ae=ie<<1;oe=n+655376+(ae<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(re+1<<2)>>2]|0);se=n+655376+((ae|1)<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(re+2<<2)>>2]|0);le=ie<<2;ce=n+131084+(le<<2)|0;ue=d[n+1310736+(re+3<<2)>>2]|0;if((d[ce>>2]|0)>(ue|0))d[ce>>2]=ue;he=n+131084+((le|1)<<2)|0;de=d[n+1310736+(re+4<<2)>>2]|0;if((d[he>>2]|0)<(de|0))d[he>>2]=de;me=n+131084+((le|2)<<2)|0;ve=d[n+1310736+(re+5<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((le|3)<<2)|0;be=d[n+1310736+(re+6<<2)>>2]|0;if((d[ge>>2]|0)<(be|0))d[ge>>2]=be;Ze=Ze+1|0}while((Ze|0)<(St|0))}if((d[Q>>2]|0)>0){Ke=0;do{we=n+12+(Ke<<2)|0;_e=Ke<<1;xe=n+655376+(_e<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[we>>2]|0);Ee=n+655376+((_e|1)<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[we>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[Q>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Ui(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0;Ot=w;w=w+16|0;if((w|0)>=(_|0))pe();_t=Ot;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ze=0;pt=W;vt=W+((fe(ge,c)|0)<<1)|0;while(1){h[vt>>1]=0;h[pt>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(c|0))break;else{pt=pt+2|0;vt=vt+2|0}}}b=r*3|0;M=c+-1|0;if((i|0)>1){Ke=0;mt=W;gt=W+(M<<1)|0;while(1){h[gt>>1]=0;h[mt>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(u|0))break;else{mt=mt+(c<<1)|0;gt=gt+(c<<1)|0}}}G=n+1179664|0;X=c+1|0;Q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){xe=(M|0)>1;qe=(d[n+4>>2]|0)+X|0;rt=1;ft=e+((t<<2)+4)|0;yt=W+(X<<1)|0;At=0;t:while(1){if(xe){Je=qe;Qe=1;dt=ft;wt=yt;Lt=At;while(1){Ae=p[dt>>0]|0;Oe=p[dt+1>>0]|0;do{if(((Ae&248)+12+(Ae<<5&224)+(Oe>>>3&24)+(Oe<<2&248)|0)>(b|0)){f[Je>>0]=-1;Ie=h[wt+(Q<<1)>>1]|0;if(Ie<<16>>16>0){h[wt>>1]=Ie;Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Qe;Be=n+1310736+(Ne+-5<<2)|0;d[Be>>2]=(d[Be>>2]|0)+rt;d[n+1310736+(Ne+-1<<2)>>2]=rt;Pt=Lt;break}Ue=h[wt+(s<<1)>>1]|0;ze=Ue<<16>>16;He=h[wt+(l<<1)>>1]|0;Ge=He<<16>>16;Ve=He<<16>>16>0;if(Ue<<16>>16<=0){if(Ve){h[wt>>1]=He;F=Ge*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Qe;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+rt;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)<(Qe|0))d[H>>2]=Qe;d[n+1310736+(F+-1<<2)>>2]=rt;Pt=Lt;break}V=h[wt+-2>>1]|0;if(V<<16>>16>0){h[wt>>1]=V;j=(V<<16>>16)*7|0;q=n+1310736+(j+-7<<2)|0;d[q>>2]=(d[q>>2]|0)+1;Y=n+1310736+(j+-6<<2)|0;d[Y>>2]=(d[Y>>2]|0)+Qe;J=n+1310736+(j+-5<<2)|0;d[J>>2]=(d[J>>2]|0)+rt;Z=n+1310736+(j+-3<<2)|0;if((d[Z>>2]|0)>=(Qe|0)){Pt=Lt;break}d[Z>>2]=Qe;Pt=Lt;break}else{K=Lt+1|0;if((Lt|0)>32767)break t;h[wt>>1]=K;d[n+1179664+(Lt<<2)>>2]=K<<16>>16;$=Lt*7|0;d[n+1310736+($<<2)>>2]=1;d[n+1310736+($+1<<2)>>2]=Qe;d[n+1310736+($+2<<2)>>2]=rt;d[n+1310736+($+3<<2)>>2]=Qe;d[n+1310736+($+4<<2)>>2]=Qe;d[n+1310736+($+5<<2)>>2]=rt;d[n+1310736+($+6<<2)>>2]=rt;Pt=K;break}}if(Ve){je=d[n+1179664+(ze+-1<<2)>>2]|0;We=d[n+1179664+(Ge+-1<<2)>>2]|0;if((je|0)>(We|0)){h[wt>>1]=We;if((Lt|0)>0){st=0;xt=G;while(1){if((d[xt>>2]|0)==(je|0))d[xt>>2]=We;st=st+1|0;if((st|0)>=(Lt|0)){Xe=We;break}else xt=xt+4|0}}else Xe=We}else{h[wt>>1]=je;if((je|0)<(We|0)&(Lt|0)>0){lt=0;Et=G;while(1){if((d[Et>>2]|0)==(We|0))d[Et>>2]=je;lt=lt+1|0;if((lt|0)>=(Lt|0)){Xe=je;break}else Et=Et+4|0}}else Xe=je}m=(Xe<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+Qe;x=n+1310736+(m+-5<<2)|0;d[x>>2]=(d[x>>2]|0)+rt;d[n+1310736+(m+-1<<2)>>2]=rt;Pt=Lt;break}E=h[wt+-2>>1]|0;if(E<<16>>16<=0){h[wt>>1]=Ue;C=ze*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Qe;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+rt;D=n+1310736+(C+-4<<2)|0;if((d[D>>2]|0)>(Qe|0))d[D>>2]=Qe;d[n+1310736+(C+-1<<2)>>2]=rt;Pt=Lt;break}S=d[n+1179664+(ze+-1<<2)>>2]|0;T=d[n+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(T|0)){h[wt>>1]=T;if((Lt|0)>0){ct=0;Mt=G;while(1){if((d[Mt>>2]|0)==(S|0))d[Mt>>2]=T;ct=ct+1|0;if((ct|0)>=(Lt|0)){k=T;break}else Mt=Mt+4|0}}else k=T}else{h[wt>>1]=S;if((S|0)<(T|0)&(Lt|0)>0){ut=0;St=G;while(1){if((d[St>>2]|0)==(T|0))d[St>>2]=S;ut=ut+1|0;if((ut|0)>=(Lt|0)){k=S;break}else St=St+4|0}}else k=S}A=(k<<16>>16)*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+rt;Pt=Lt}else{h[wt>>1]=0;f[Je>>0]=0;Pt=Lt}}while(0);Qe=Qe+1|0;ee=dt+4|0;te=wt+2|0;ie=Je+1|0;if((Qe|0)>=(M|0)){Ye=ie;ht=ee;bt=te;Rt=Pt;break}else{Je=ie;dt=ee;wt=te;Lt=Pt}}}else{Ye=qe;ht=ft;bt=yt;Rt=At}rt=rt+1|0;if((rt|0)>=(ge|0)){kt=Rt;Ct=52;break e}else{qe=Ye+2|0;ft=ht+o|0;yt=bt+4|0;At=Rt}}Ha(3,3904,_t);a=-1}else{kt=0;Ct=52}}while(0);if((Ct|0)==52){re=n+12|0;if((kt|0)<1)nt=1;else{$e=1;at=1;Tt=G;while(1){ne=d[Tt>>2]|0;if((ne|0)==($e|0)){ae=at;ot=at+1|0}else{ae=d[n+1179664+(ne+-1<<2)>>2]|0;ot=at}d[Tt>>2]=ae;if(($e|0)<(kt|0)){$e=$e+1|0;at=ot;Tt=Tt+4|0}else{nt=ot;break}}}oe=n+8|0;se=nt+-1|0;d[oe>>2]=se;if(!se)a=0;else{ul(re|0,0,se<<2|0)|0;ul(n+655376|0,0,se<<4|0)|0;if((nt|0)>1){et=0;do{le=et<<2;d[n+131084+(le<<2)>>2]=c;d[n+131084+((le|1)<<2)>>2]=0;d[n+131084+((le|2)<<2)>>2]=u;d[n+131084+((le|3)<<2)>>2]=0;et=et+1|0}while((et|0)<(d[oe>>2]|0))}if((kt|0)>0){tt=0;do{ce=(d[n+1179664+(tt<<2)>>2]|0)+-1|0;ue=tt*7|0;he=n+12+(ce<<2)|0;d[he>>2]=(d[he>>2]|0)+(d[n+1310736+(ue<<2)>>2]|0);de=ce<<1;me=n+655376+(de<<3)|0;y[me>>3]=+y[me>>3]+ +(d[n+1310736+(ue+1<<2)>>2]|0);ve=n+655376+((de|1)<<3)|0;y[ve>>3]=+y[ve>>3]+ +(d[n+1310736+(ue+2<<2)>>2]|0);ye=ce<<2;be=n+131084+(ye<<2)|0;we=d[n+1310736+(ue+3<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ye|1)<<2)|0;Ee=d[n+1310736+(ue+4<<2)>>2]|0;if((d[_e>>2]|0)<(Ee|0))d[_e>>2]=Ee;Me=n+131084+((ye|2)<<2)|0;Se=d[n+1310736+(ue+5<<2)>>2]|0;if((d[Me>>2]|0)>(Se|0))d[Me>>2]=Se;Te=n+131084+((ye|3)<<2)|0;ke=d[n+1310736+(ue+6<<2)>>2]|0;if((d[Te>>2]|0)<(ke|0))d[Te>>2]=ke;tt=tt+1|0}while((tt|0)<(kt|0))}if((d[oe>>2]|0)>0){it=0;do{Re=n+12+(it<<2)|0;Le=it<<1;Pe=n+655376+(Le<<3)|0;y[Pe>>3]=+y[Pe>>3]/+(d[Re>>2]|0);Ce=n+655376+((Le|1)<<3)|0;y[Ce>>3]=+y[Ce>>3]/+(d[Re>>2]|0);it=it+1|0}while((it|0)<(d[oe>>2]|0));a=0}else a=0}}w=Ot;return a|0}function zi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0;Ot=w;w=w+16|0;if((w|0)>=(_|0))pe();_t=Ot;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ze=0;pt=W;vt=W+((fe(ge,c)|0)<<1)|0;while(1){h[vt>>1]=0;h[pt>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(c|0))break;else{pt=pt+2|0;vt=vt+2|0}}}b=r*3|0;M=c+-1|0;if((i|0)>1){Ke=0;mt=W;gt=W+(M<<1)|0;while(1){h[gt>>1]=0;h[mt>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(u|0))break;else{mt=mt+(c<<1)|0;gt=gt+(c<<1)|0}}}G=n+1179664|0;X=c+1|0;Q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){xe=(M|0)>1;qe=(d[n+4>>2]|0)+X|0;rt=1;ft=e+((t<<2)+4)|0;yt=W+(X<<1)|0;At=0;t:while(1){if(xe){Je=qe;Qe=1;dt=ft;wt=yt;Lt=At;while(1){Ae=p[dt>>0]|0;Oe=p[dt+1>>0]|0;do{if(((Ae&248)+12+(Ae<<5&224)+(Oe>>>3&24)+(Oe<<2&248)|0)>(b|0)){h[wt>>1]=0;f[Je>>0]=0;Pt=Lt}else{f[Je>>0]=-1;Ie=h[wt+(Q<<1)>>1]|0;if(Ie<<16>>16>0){h[wt>>1]=Ie;Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Qe;Be=n+1310736+(Ne+-5<<2)|0;d[Be>>2]=(d[Be>>2]|0)+rt;d[n+1310736+(Ne+-1<<2)>>2]=rt;Pt=Lt;break}Ue=h[wt+(s<<1)>>1]|0;ze=Ue<<16>>16;He=h[wt+(l<<1)>>1]|0;Ge=He<<16>>16;Ve=He<<16>>16>0;if(Ue<<16>>16<=0){if(Ve){h[wt>>1]=He;F=Ge*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Qe;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+rt;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)<(Qe|0))d[H>>2]=Qe;d[n+1310736+(F+-1<<2)>>2]=rt;Pt=Lt;break}V=h[wt+-2>>1]|0;if(V<<16>>16>0){h[wt>>1]=V;j=(V<<16>>16)*7|0;q=n+1310736+(j+-7<<2)|0;d[q>>2]=(d[q>>2]|0)+1;Y=n+1310736+(j+-6<<2)|0;d[Y>>2]=(d[Y>>2]|0)+Qe;J=n+1310736+(j+-5<<2)|0;d[J>>2]=(d[J>>2]|0)+rt;Z=n+1310736+(j+-3<<2)|0;if((d[Z>>2]|0)>=(Qe|0)){Pt=Lt;break}d[Z>>2]=Qe;Pt=Lt;break}else{K=Lt+1|0;if((Lt|0)>32767)break t;h[wt>>1]=K;d[n+1179664+(Lt<<2)>>2]=K<<16>>16;$=Lt*7|0;d[n+1310736+($<<2)>>2]=1;d[n+1310736+($+1<<2)>>2]=Qe;d[n+1310736+($+2<<2)>>2]=rt;d[n+1310736+($+3<<2)>>2]=Qe;d[n+1310736+($+4<<2)>>2]=Qe;d[n+1310736+($+5<<2)>>2]=rt;d[n+1310736+($+6<<2)>>2]=rt;Pt=K;break}}if(Ve){je=d[n+1179664+(ze+-1<<2)>>2]|0;We=d[n+1179664+(Ge+-1<<2)>>2]|0;if((je|0)>(We|0)){h[wt>>1]=We;if((Lt|0)>0){st=0;xt=G;while(1){if((d[xt>>2]|0)==(je|0))d[xt>>2]=We;st=st+1|0;if((st|0)>=(Lt|0)){Xe=We;break}else xt=xt+4|0}}else Xe=We}else{h[wt>>1]=je;if((je|0)<(We|0)&(Lt|0)>0){lt=0;Et=G;while(1){if((d[Et>>2]|0)==(We|0))d[Et>>2]=je;lt=lt+1|0;if((lt|0)>=(Lt|0)){Xe=je;break}else Et=Et+4|0}}else Xe=je}m=(Xe<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+Qe;x=n+1310736+(m+-5<<2)|0;d[x>>2]=(d[x>>2]|0)+rt;d[n+1310736+(m+-1<<2)>>2]=rt;Pt=Lt;break}E=h[wt+-2>>1]|0;if(E<<16>>16<=0){h[wt>>1]=Ue;C=ze*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Qe;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+rt;D=n+1310736+(C+-4<<2)|0;if((d[D>>2]|0)>(Qe|0))d[D>>2]=Qe;d[n+1310736+(C+-1<<2)>>2]=rt;Pt=Lt;break}S=d[n+1179664+(ze+-1<<2)>>2]|0;T=d[n+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(T|0)){h[wt>>1]=T;if((Lt|0)>0){ct=0;Mt=G;while(1){if((d[Mt>>2]|0)==(S|0))d[Mt>>2]=T;ct=ct+1|0;if((ct|0)>=(Lt|0)){k=T;break}else Mt=Mt+4|0}}else k=T}else{h[wt>>1]=S;if((S|0)<(T|0)&(Lt|0)>0){ut=0;St=G;while(1){if((d[St>>2]|0)==(T|0))d[St>>2]=S;ut=ut+1|0;if((ut|0)>=(Lt|0)){k=S;break}else St=St+4|0}}else k=S}A=(k<<16>>16)*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+rt;Pt=Lt}}while(0);Qe=Qe+1|0;ee=dt+4|0;te=wt+2|0;ie=Je+1|0;if((Qe|0)>=(M|0)){Ye=ie;ht=ee;bt=te;Rt=Pt;break}else{Je=ie;dt=ee;wt=te;Lt=Pt}}}else{Ye=qe;ht=ft;bt=yt;Rt=At}rt=rt+1|0;if((rt|0)>=(ge|0)){kt=Rt;Ct=52;break e}else{qe=Ye+2|0;ft=ht+o|0;yt=bt+4|0;At=Rt}}Ha(3,3904,_t);a=-1}else{kt=0;Ct=52}}while(0);if((Ct|0)==52){re=n+12|0;if((kt|0)<1)nt=1;else{$e=1;at=1;Tt=G;while(1){ne=d[Tt>>2]|0;if((ne|0)==($e|0)){ae=at;ot=at+1|0}else{ae=d[n+1179664+(ne+-1<<2)>>2]|0;ot=at}d[Tt>>2]=ae;if(($e|0)<(kt|0)){$e=$e+1|0;at=ot;Tt=Tt+4|0}else{nt=ot;break}}}oe=n+8|0;se=nt+-1|0;d[oe>>2]=se;if(!se)a=0;else{ul(re|0,0,se<<2|0)|0;ul(n+655376|0,0,se<<4|0)|0;if((nt|0)>1){et=0;do{le=et<<2;d[n+131084+(le<<2)>>2]=c;d[n+131084+((le|1)<<2)>>2]=0;d[n+131084+((le|2)<<2)>>2]=u;d[n+131084+((le|3)<<2)>>2]=0;et=et+1|0}while((et|0)<(d[oe>>2]|0))}if((kt|0)>0){tt=0;do{ce=(d[n+1179664+(tt<<2)>>2]|0)+-1|0;ue=tt*7|0;he=n+12+(ce<<2)|0;d[he>>2]=(d[he>>2]|0)+(d[n+1310736+(ue<<2)>>2]|0);de=ce<<1;me=n+655376+(de<<3)|0;y[me>>3]=+y[me>>3]+ +(d[n+1310736+(ue+1<<2)>>2]|0);ve=n+655376+((de|1)<<3)|0;y[ve>>3]=+y[ve>>3]+ +(d[n+1310736+(ue+2<<2)>>2]|0);ye=ce<<2;be=n+131084+(ye<<2)|0;we=d[n+1310736+(ue+3<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ye|1)<<2)|0;Ee=d[n+1310736+(ue+4<<2)>>2]|0;if((d[_e>>2]|0)<(Ee|0))d[_e>>2]=Ee;Me=n+131084+((ye|2)<<2)|0;Se=d[n+1310736+(ue+5<<2)>>2]|0;if((d[Me>>2]|0)>(Se|0))d[Me>>2]=Se;Te=n+131084+((ye|3)<<2)|0;ke=d[n+1310736+(ue+6<<2)>>2]|0;if((d[Te>>2]|0)<(ke|0))d[Te>>2]=ke;tt=tt+1|0}while((tt|0)<(kt|0))}if((d[oe>>2]|0)>0){it=0;do{Re=n+12+(it<<2)|0;Le=it<<1;Pe=n+655376+(Le<<3)|0;y[Pe>>3]=+y[Pe>>3]/+(d[Re>>2]|0);Ce=n+655376+((Le|1)<<3)|0;y[Ce>>3]=+y[Ce>>3]/+(d[Re>>2]|0);it=it+1|0}while((it|0)<(d[oe>>2]|0));a=0}else a=0}}w=Ot;return a|0}function Hi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0;Ot=w;w=w+16|0;if((w|0)>=(_|0))pe();_t=Ot;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ze=0;pt=W;vt=W+((fe(ge,c)|0)<<1)|0;while(1){h[vt>>1]=0;h[pt>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(c|0))break;else{pt=pt+2|0;vt=vt+2|0}}}b=r*3|0;M=c+-1|0;if((i|0)>1){Ke=0;mt=W;gt=W+(M<<1)|0;while(1){h[gt>>1]=0;h[mt>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(u|0))break;else{mt=mt+(c<<1)|0;gt=gt+(c<<1)|0}}}G=n+1179664|0;X=c+1|0;Q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){xe=(M|0)>1;qe=(d[n+4>>2]|0)+X|0;rt=1;ft=e+((t<<2)+4)|0;yt=W+(X<<1)|0;At=0;t:while(1){if(xe){Je=qe;Qe=1;dt=ft;wt=yt;Lt=At;while(1){Ae=p[dt>>0]|0;Oe=p[dt+1>>0]|0;do{if(((Ae&248)+10+(Ae<<5&224)+(Oe>>>3&28)+(Oe<<3&248)|0)>(b|0)){f[Je>>0]=-1;Ie=h[wt+(Q<<1)>>1]|0;if(Ie<<16>>16>0){h[wt>>1]=Ie;Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Qe;Be=n+1310736+(Ne+-5<<2)|0;d[Be>>2]=(d[Be>>2]|0)+rt;d[n+1310736+(Ne+-1<<2)>>2]=rt;Pt=Lt;break}Ue=h[wt+(s<<1)>>1]|0;ze=Ue<<16>>16;He=h[wt+(l<<1)>>1]|0;Ge=He<<16>>16;Ve=He<<16>>16>0;if(Ue<<16>>16<=0){if(Ve){h[wt>>1]=He;F=Ge*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Qe;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+rt;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)<(Qe|0))d[H>>2]=Qe;d[n+1310736+(F+-1<<2)>>2]=rt;Pt=Lt;break}V=h[wt+-2>>1]|0;if(V<<16>>16>0){h[wt>>1]=V;j=(V<<16>>16)*7|0;q=n+1310736+(j+-7<<2)|0;d[q>>2]=(d[q>>2]|0)+1;Y=n+1310736+(j+-6<<2)|0;d[Y>>2]=(d[Y>>2]|0)+Qe;J=n+1310736+(j+-5<<2)|0;d[J>>2]=(d[J>>2]|0)+rt;Z=n+1310736+(j+-3<<2)|0;if((d[Z>>2]|0)>=(Qe|0)){Pt=Lt;break}d[Z>>2]=Qe;Pt=Lt;break}else{K=Lt+1|0;if((Lt|0)>32767)break t;h[wt>>1]=K;d[n+1179664+(Lt<<2)>>2]=K<<16>>16;$=Lt*7|0;d[n+1310736+($<<2)>>2]=1;d[n+1310736+($+1<<2)>>2]=Qe;d[n+1310736+($+2<<2)>>2]=rt;d[n+1310736+($+3<<2)>>2]=Qe;d[n+1310736+($+4<<2)>>2]=Qe;d[n+1310736+($+5<<2)>>2]=rt;d[n+1310736+($+6<<2)>>2]=rt;Pt=K;break}}if(Ve){je=d[n+1179664+(ze+-1<<2)>>2]|0;We=d[n+1179664+(Ge+-1<<2)>>2]|0;if((je|0)>(We|0)){h[wt>>1]=We;if((Lt|0)>0){st=0;xt=G;while(1){if((d[xt>>2]|0)==(je|0))d[xt>>2]=We;st=st+1|0;if((st|0)>=(Lt|0)){Xe=We;break}else xt=xt+4|0}}else Xe=We}else{h[wt>>1]=je;if((je|0)<(We|0)&(Lt|0)>0){lt=0;Et=G;while(1){if((d[Et>>2]|0)==(We|0))d[Et>>2]=je;lt=lt+1|0;if((lt|0)>=(Lt|0)){Xe=je;break}else Et=Et+4|0}}else Xe=je}m=(Xe<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+Qe;x=n+1310736+(m+-5<<2)|0;d[x>>2]=(d[x>>2]|0)+rt;d[n+1310736+(m+-1<<2)>>2]=rt;Pt=Lt;break}E=h[wt+-2>>1]|0;if(E<<16>>16<=0){h[wt>>1]=Ue;C=ze*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Qe;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+rt;D=n+1310736+(C+-4<<2)|0;if((d[D>>2]|0)>(Qe|0))d[D>>2]=Qe;d[n+1310736+(C+-1<<2)>>2]=rt;Pt=Lt;break}S=d[n+1179664+(ze+-1<<2)>>2]|0;T=d[n+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(T|0)){h[wt>>1]=T;if((Lt|0)>0){ct=0;Mt=G;while(1){if((d[Mt>>2]|0)==(S|0))d[Mt>>2]=T;ct=ct+1|0;if((ct|0)>=(Lt|0)){k=T;break}else Mt=Mt+4|0}}else k=T}else{h[wt>>1]=S;if((S|0)<(T|0)&(Lt|0)>0){ut=0;St=G;while(1){if((d[St>>2]|0)==(T|0))d[St>>2]=S;ut=ut+1|0;if((ut|0)>=(Lt|0)){k=S;break}else St=St+4|0}}else k=S}A=(k<<16>>16)*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+rt;Pt=Lt}else{h[wt>>1]=0;f[Je>>0]=0;Pt=Lt}}while(0);Qe=Qe+1|0;ee=dt+4|0;te=wt+2|0;ie=Je+1|0;if((Qe|0)>=(M|0)){Ye=ie;ht=ee;bt=te;Rt=Pt;break}else{Je=ie;dt=ee;wt=te;Lt=Pt}}}else{Ye=qe;ht=ft;bt=yt;Rt=At}rt=rt+1|0;if((rt|0)>=(ge|0)){kt=Rt;Ct=52;break e}else{qe=Ye+2|0;ft=ht+o|0;yt=bt+4|0;At=Rt}}Ha(3,3904,_t);a=-1}else{kt=0;Ct=52}}while(0);if((Ct|0)==52){re=n+12|0;if((kt|0)<1)nt=1;else{$e=1;at=1;Tt=G;while(1){ne=d[Tt>>2]|0;if((ne|0)==($e|0)){ae=at;ot=at+1|0}else{ae=d[n+1179664+(ne+-1<<2)>>2]|0;ot=at}d[Tt>>2]=ae;if(($e|0)<(kt|0)){$e=$e+1|0;at=ot;Tt=Tt+4|0}else{nt=ot;break}}}oe=n+8|0;se=nt+-1|0;d[oe>>2]=se;if(!se)a=0;else{ul(re|0,0,se<<2|0)|0;ul(n+655376|0,0,se<<4|0)|0;if((nt|0)>1){et=0;do{le=et<<2;d[n+131084+(le<<2)>>2]=c;d[n+131084+((le|1)<<2)>>2]=0;d[n+131084+((le|2)<<2)>>2]=u;d[n+131084+((le|3)<<2)>>2]=0;et=et+1|0}while((et|0)<(d[oe>>2]|0))}if((kt|0)>0){tt=0;do{ce=(d[n+1179664+(tt<<2)>>2]|0)+-1|0;ue=tt*7|0;he=n+12+(ce<<2)|0;d[he>>2]=(d[he>>2]|0)+(d[n+1310736+(ue<<2)>>2]|0);de=ce<<1;me=n+655376+(de<<3)|0;y[me>>3]=+y[me>>3]+ +(d[n+1310736+(ue+1<<2)>>2]|0);ve=n+655376+((de|1)<<3)|0;y[ve>>3]=+y[ve>>3]+ +(d[n+1310736+(ue+2<<2)>>2]|0);ye=ce<<2;be=n+131084+(ye<<2)|0;we=d[n+1310736+(ue+3<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ye|1)<<2)|0;Ee=d[n+1310736+(ue+4<<2)>>2]|0;if((d[_e>>2]|0)<(Ee|0))d[_e>>2]=Ee;Me=n+131084+((ye|2)<<2)|0;Se=d[n+1310736+(ue+5<<2)>>2]|0;if((d[Me>>2]|0)>(Se|0))d[Me>>2]=Se;Te=n+131084+((ye|3)<<2)|0;ke=d[n+1310736+(ue+6<<2)>>2]|0;if((d[Te>>2]|0)<(ke|0))d[Te>>2]=ke;tt=tt+1|0}while((tt|0)<(kt|0))}if((d[oe>>2]|0)>0){it=0;do{Re=n+12+(it<<2)|0;Le=it<<1;Pe=n+655376+(Le<<3)|0;y[Pe>>3]=+y[Pe>>3]/+(d[Re>>2]|0);Ce=n+655376+((Le|1)<<3)|0;y[Ce>>3]=+y[Ce>>3]/+(d[Re>>2]|0);it=it+1|0}while((it|0)<(d[oe>>2]|0));a=0}else a=0}}w=Ot;return a|0}function Gi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0,Ot=0;Ot=w;w=w+16|0;if((w|0)>=(_|0))pe();_t=Ot;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ze=0;pt=W;vt=W+((fe(ge,c)|0)<<1)|0;while(1){h[vt>>1]=0;h[pt>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(c|0))break;else{pt=pt+2|0;vt=vt+2|0}}}b=r*3|0;M=c+-1|0;if((i|0)>1){Ke=0;mt=W;gt=W+(M<<1)|0;while(1){h[gt>>1]=0;h[mt>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(u|0))break;else{mt=mt+(c<<1)|0;gt=gt+(c<<1)|0}}}G=n+1179664|0;X=c+1|0;Q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){xe=(M|0)>1;qe=(d[n+4>>2]|0)+X|0;rt=1;ft=e+((t<<2)+4)|0;yt=W+(X<<1)|0;At=0;t:while(1){if(xe){Je=qe;Qe=1;dt=ft;wt=yt;Lt=At;while(1){Ae=p[dt>>0]|0;Oe=p[dt+1>>0]|0;do{if(((Ae&248)+10+(Ae<<5&224)+(Oe>>>3&28)+(Oe<<3&248)|0)>(b|0)){h[wt>>1]=0;f[Je>>0]=0;Pt=Lt}else{f[Je>>0]=-1;Ie=h[wt+(Q<<1)>>1]|0;if(Ie<<16>>16>0){h[wt>>1]=Ie;Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Qe;Be=n+1310736+(Ne+-5<<2)|0;d[Be>>2]=(d[Be>>2]|0)+rt;d[n+1310736+(Ne+-1<<2)>>2]=rt;Pt=Lt;break}Ue=h[wt+(s<<1)>>1]|0;ze=Ue<<16>>16;He=h[wt+(l<<1)>>1]|0;Ge=He<<16>>16;Ve=He<<16>>16>0;if(Ue<<16>>16<=0){if(Ve){h[wt>>1]=He;F=Ge*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Qe;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+rt;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)<(Qe|0))d[H>>2]=Qe;d[n+1310736+(F+-1<<2)>>2]=rt;Pt=Lt;break}V=h[wt+-2>>1]|0;if(V<<16>>16>0){h[wt>>1]=V;j=(V<<16>>16)*7|0;q=n+1310736+(j+-7<<2)|0;d[q>>2]=(d[q>>2]|0)+1;Y=n+1310736+(j+-6<<2)|0;d[Y>>2]=(d[Y>>2]|0)+Qe;J=n+1310736+(j+-5<<2)|0;d[J>>2]=(d[J>>2]|0)+rt;Z=n+1310736+(j+-3<<2)|0;if((d[Z>>2]|0)>=(Qe|0)){Pt=Lt;break}d[Z>>2]=Qe;Pt=Lt;break}else{K=Lt+1|0;if((Lt|0)>32767)break t;h[wt>>1]=K;d[n+1179664+(Lt<<2)>>2]=K<<16>>16;$=Lt*7|0;d[n+1310736+($<<2)>>2]=1;d[n+1310736+($+1<<2)>>2]=Qe;d[n+1310736+($+2<<2)>>2]=rt;d[n+1310736+($+3<<2)>>2]=Qe;d[n+1310736+($+4<<2)>>2]=Qe;d[n+1310736+($+5<<2)>>2]=rt;d[n+1310736+($+6<<2)>>2]=rt;Pt=K;break}}if(Ve){je=d[n+1179664+(ze+-1<<2)>>2]|0;We=d[n+1179664+(Ge+-1<<2)>>2]|0;if((je|0)>(We|0)){h[wt>>1]=We;if((Lt|0)>0){st=0;xt=G;while(1){if((d[xt>>2]|0)==(je|0))d[xt>>2]=We;st=st+1|0;if((st|0)>=(Lt|0)){Xe=We;break}else xt=xt+4|0}}else Xe=We}else{h[wt>>1]=je;if((je|0)<(We|0)&(Lt|0)>0){lt=0;Et=G;while(1){if((d[Et>>2]|0)==(We|0))d[Et>>2]=je;lt=lt+1|0;if((lt|0)>=(Lt|0)){Xe=je;break}else Et=Et+4|0}}else Xe=je}m=(Xe<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+Qe;x=n+1310736+(m+-5<<2)|0;d[x>>2]=(d[x>>2]|0)+rt;d[n+1310736+(m+-1<<2)>>2]=rt;Pt=Lt;break}E=h[wt+-2>>1]|0;if(E<<16>>16<=0){h[wt>>1]=Ue;C=ze*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Qe;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+rt;D=n+1310736+(C+-4<<2)|0;if((d[D>>2]|0)>(Qe|0))d[D>>2]=Qe;d[n+1310736+(C+-1<<2)>>2]=rt;Pt=Lt;break}S=d[n+1179664+(ze+-1<<2)>>2]|0;T=d[n+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(T|0)){h[wt>>1]=T;if((Lt|0)>0){ct=0;Mt=G;while(1){if((d[Mt>>2]|0)==(S|0))d[Mt>>2]=T;ct=ct+1|0;if((ct|0)>=(Lt|0)){k=T;break}else Mt=Mt+4|0}}else k=T}else{h[wt>>1]=S;if((S|0)<(T|0)&(Lt|0)>0){ut=0;St=G;while(1){if((d[St>>2]|0)==(T|0))d[St>>2]=S;ut=ut+1|0;if((ut|0)>=(Lt|0)){k=S;break}else St=St+4|0}}else k=S}A=(k<<16>>16)*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+rt;Pt=Lt}}while(0);Qe=Qe+1|0;ee=dt+4|0;te=wt+2|0;ie=Je+1|0;if((Qe|0)>=(M|0)){Ye=ie;ht=ee;bt=te;Rt=Pt;break}else{Je=ie;dt=ee;wt=te;Lt=Pt}}}else{Ye=qe;ht=ft;bt=yt;Rt=At}rt=rt+1|0;if((rt|0)>=(ge|0)){kt=Rt;Ct=52;break e}else{qe=Ye+2|0;ft=ht+o|0;yt=bt+4|0;At=Rt}}Ha(3,3904,_t);a=-1}else{kt=0;Ct=52}}while(0);if((Ct|0)==52){re=n+12|0;if((kt|0)<1)nt=1;else{$e=1;at=1;Tt=G;while(1){ne=d[Tt>>2]|0;if((ne|0)==($e|0)){ae=at;ot=at+1|0}else{ae=d[n+1179664+(ne+-1<<2)>>2]|0;ot=at}d[Tt>>2]=ae;if(($e|0)<(kt|0)){$e=$e+1|0;at=ot;Tt=Tt+4|0}else{nt=ot;break}}}oe=n+8|0;se=nt+-1|0;d[oe>>2]=se;if(!se)a=0;else{ul(re|0,0,se<<2|0)|0;ul(n+655376|0,0,se<<4|0)|0;if((nt|0)>1){et=0;do{le=et<<2;d[n+131084+(le<<2)>>2]=c;d[n+131084+((le|1)<<2)>>2]=0;d[n+131084+((le|2)<<2)>>2]=u;d[n+131084+((le|3)<<2)>>2]=0;et=et+1|0}while((et|0)<(d[oe>>2]|0))}if((kt|0)>0){tt=0;do{ce=(d[n+1179664+(tt<<2)>>2]|0)+-1|0;ue=tt*7|0;he=n+12+(ce<<2)|0;d[he>>2]=(d[he>>2]|0)+(d[n+1310736+(ue<<2)>>2]|0);de=ce<<1;me=n+655376+(de<<3)|0;y[me>>3]=+y[me>>3]+ +(d[n+1310736+(ue+1<<2)>>2]|0);ve=n+655376+((de|1)<<3)|0;y[ve>>3]=+y[ve>>3]+ +(d[n+1310736+(ue+2<<2)>>2]|0);ye=ce<<2;be=n+131084+(ye<<2)|0;we=d[n+1310736+(ue+3<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ye|1)<<2)|0;Ee=d[n+1310736+(ue+4<<2)>>2]|0;if((d[_e>>2]|0)<(Ee|0))d[_e>>2]=Ee;Me=n+131084+((ye|2)<<2)|0;Se=d[n+1310736+(ue+5<<2)>>2]|0;if((d[Me>>2]|0)>(Se|0))d[Me>>2]=Se;Te=n+131084+((ye|3)<<2)|0;ke=d[n+1310736+(ue+6<<2)>>2]|0;if((d[Te>>2]|0)<(ke|0))d[Te>>2]=ke;tt=tt+1|0}while((tt|0)<(kt|0))}if((d[oe>>2]|0)>0){it=0;do{Re=n+12+(it<<2)|0;Le=it<<1;Pe=n+655376+(Le<<3)|0;y[Pe>>3]=+y[Pe>>3]/+(d[Re>>2]|0);Ce=n+655376+((Le|1)<<3)|0;y[Ce>>3]=+y[Ce>>3]/+(d[Re>>2]|0);it=it+1|0}while((it|0)<(d[oe>>2]|0));a=0}else a=0}}w=Ot;return a|0}function Vi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0;Ct=w;w=w+16|0;if((w|0)>=(_|0))pe();wt=Ct;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Je=0;dt=j;mt=j+((fe(ge,c)|0)<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(c|0))break;else{dt=dt+2|0;mt=mt+2|0}}}g=r*3|0;E=c+-1|0;if((i|0)>1){Ze=0;pt=j;vt=j+(E<<1)|0;while(1){h[vt>>1]=0;h[pt>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(u|0))break;else{pt=pt+(c<<1)|0;vt=vt+(c<<1)|0}}}z=n+1179664|0;W=c+1|0;K=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){_e=(E|0)>1;Xe=(d[n+4>>2]|0)+W|0;it=1;ut=e+((t<<2)+4)|0;gt=j+(W<<1)|0;kt=0;t:while(1){if(_e){Ye=Xe;Ke=1;ht=ut;bt=gt;Rt=kt;while(1){ke=p[ht>>0]|0;do{if(((ke&240)+24+(ke<<4&240)+((p[ht+1>>0]|0)&240)|0)>(g|0)){f[Ye>>0]=-1;Pe=h[bt+(K<<1)>>1]|0;if(Pe<<16>>16>0){h[bt>>1]=Pe;Ce=(Pe<<16>>16)*7|0;Oe=n+1310736+(Ce+-7<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+1;Ie=n+1310736+(Ce+-6<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+Ke;Ne=n+1310736+(Ce+-5<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+it;d[n+1310736+(Ce+-1<<2)>>2]=it;Lt=Rt;break}De=h[bt+(s<<1)>>1]|0;Fe=De<<16>>16;Be=h[bt+(l<<1)>>1]|0;Ue=Be<<16>>16;ze=Be<<16>>16>0;if(De<<16>>16<=0){if(ze){h[bt>>1]=Be;N=Ue*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ke;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+it;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ke|0))d[U>>2]=Ke;d[n+1310736+(N+-1<<2)>>2]=it;Lt=Rt;break}H=h[bt+-2>>1]|0;if(H<<16>>16>0){h[bt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;X=n+1310736+(G+-6<<2)|0;d[X>>2]=(d[X>>2]|0)+Ke;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+it;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ke|0)){Lt=Rt;break}d[Y>>2]=Ke;Lt=Rt;break}else{J=Rt+1|0;if((Rt|0)>32767)break t;h[bt>>1]=J;d[n+1179664+(Rt<<2)>>2]=J<<16>>16;Z=Rt*7|0;d[n+1310736+(Z<<2)>>2]=1;d[n+1310736+(Z+1<<2)>>2]=Ke;d[n+1310736+(Z+2<<2)>>2]=it;d[n+1310736+(Z+3<<2)>>2]=Ke;d[n+1310736+(Z+4<<2)>>2]=Ke;d[n+1310736+(Z+5<<2)>>2]=it;d[n+1310736+(Z+6<<2)>>2]=it;Lt=J;break}}if(ze){He=d[n+1179664+(Fe+-1<<2)>>2]|0;Ge=d[n+1179664+(Ue+-1<<2)>>2]|0;if((He|0)>(Ge|0)){h[bt>>1]=Ge;if((Rt|0)>0){ot=0;_t=z;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=Ge;ot=ot+1|0;if((ot|0)>=(Rt|0)){Ve=Ge;break}else _t=_t+4|0}}else Ve=Ge}else{h[bt>>1]=He;if((He|0)<(Ge|0)&(Rt|0)>0){st=0;xt=z;while(1){if((d[xt>>2]|0)==(Ge|0))d[xt>>2]=He;st=st+1|0;if((st|0)>=(Rt|0)){Ve=He;break}else xt=xt+4|0}}else Ve=He}je=(Ve<<16>>16)*7|0;We=n+1310736+(je+-7<<2)|0;d[We>>2]=(d[We>>2]|0)+1;m=n+1310736+(je+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ke;v=n+1310736+(je+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+it;d[n+1310736+(je+-1<<2)>>2]=it;Lt=Rt;break}b=h[bt+-2>>1]|0;if(b<<16>>16<=0){h[bt>>1]=De;L=Fe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ke;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+it;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ke|0))d[I>>2]=Ke;d[n+1310736+(L+-1<<2)>>2]=it;Lt=Rt;break}x=d[n+1179664+(Fe+-1<<2)>>2]|0;M=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(M|0)){h[bt>>1]=M;if((Rt|0)>0){lt=0;Et=z;while(1){if((d[Et>>2]|0)==(x|0))d[Et>>2]=M;lt=lt+1|0;if((lt|0)>=(Rt|0)){S=M;break}else Et=Et+4|0}}else S=M}else{h[bt>>1]=x;if((x|0)<(M|0)&(Rt|0)>0){ct=0;Mt=z;while(1){if((d[Mt>>2]|0)==(M|0))d[Mt>>2]=x;ct=ct+1|0;if((ct|0)>=(Rt|0)){S=x;break}else Mt=Mt+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ke;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+it;Lt=Rt}else{h[bt>>1]=0;f[Ye>>0]=0;Lt=Rt}}while(0);Ke=Ke+1|0;Q=ht+4|0;$=bt+2|0;ee=Ye+1|0;if((Ke|0)>=(E|0)){qe=ee;ft=Q;yt=$;At=Lt;break}else{Ye=ee;ht=Q;bt=$;Rt=Lt}}}else{qe=Xe;ft=ut;yt=gt;At=kt}it=it+1|0;if((it|0)>=(ge|0)){Tt=At;Pt=52;break e}else{Xe=qe+2|0;ut=ft+o|0;gt=yt+4|0;kt=At}}Ha(3,3904,wt);a=-1}else{Tt=0;Pt=52}}while(0);if((Pt|0)==52){te=n+12|0;if((Tt|0)<1)rt=1;else{Qe=1;nt=1;St=z;while(1){ie=d[St>>2]|0;if((ie|0)==(Qe|0)){re=nt;at=nt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;at=nt}d[St>>2]=re;if((Qe|0)<(Tt|0)){Qe=Qe+1|0;nt=at;St=St+4|0}else{rt=at;break}}}ne=n+8|0;ae=rt+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((rt|0)>1){$e=0;do{oe=$e<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;$e=$e+1|0}while(($e|0)<(d[ne>>2]|0))}if((Tt|0)>0){et=0;do{se=(d[n+1179664+(et<<2)>>2]|0)+-1|0;le=et*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;et=et+1|0}while((et|0)<(Tt|0))}if((d[ne>>2]|0)>0){tt=0;do{Te=n+12+(tt<<2)|0;Ae=tt<<1;Re=n+655376+(Ae<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);Le=n+655376+((Ae|1)<<3)|0;y[Le>>3]=+y[Le>>3]/+(d[Te>>2]|0);tt=tt+1|0}while((tt|0)<(d[ne>>2]|0));a=0}else a=0}}w=Ct;return a|0}function ji(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0,Ct=0;Ct=w;w=w+16|0;if((w|0)>=(_|0))pe();wt=Ct;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Je=0;dt=j;mt=j+((fe(ge,c)|0)<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(c|0))break;else{dt=dt+2|0;mt=mt+2|0}}}g=r*3|0;E=c+-1|0;if((i|0)>1){Ze=0;pt=j;vt=j+(E<<1)|0;while(1){h[vt>>1]=0;h[pt>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(u|0))break;else{pt=pt+(c<<1)|0;vt=vt+(c<<1)|0}}}z=n+1179664|0;W=c+1|0;K=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){_e=(E|0)>1;Xe=(d[n+4>>2]|0)+W|0;it=1;ut=e+((t<<2)+4)|0;gt=j+(W<<1)|0;kt=0;t:while(1){if(_e){Ye=Xe;Ke=1;ht=ut;bt=gt;Rt=kt;while(1){ke=p[ht>>0]|0;do{if(((ke&240)+24+(ke<<4&240)+((p[ht+1>>0]|0)&240)|0)>(g|0)){h[bt>>1]=0;f[Ye>>0]=0;Lt=Rt}else{f[Ye>>0]=-1;Pe=h[bt+(K<<1)>>1]|0;if(Pe<<16>>16>0){h[bt>>1]=Pe;Ce=(Pe<<16>>16)*7|0;Oe=n+1310736+(Ce+-7<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+1;Ie=n+1310736+(Ce+-6<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+Ke;Ne=n+1310736+(Ce+-5<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+it;d[n+1310736+(Ce+-1<<2)>>2]=it;Lt=Rt;break}De=h[bt+(s<<1)>>1]|0;Fe=De<<16>>16;Be=h[bt+(l<<1)>>1]|0;Ue=Be<<16>>16;ze=Be<<16>>16>0;if(De<<16>>16<=0){if(ze){h[bt>>1]=Be;N=Ue*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ke;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+it;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ke|0))d[U>>2]=Ke;d[n+1310736+(N+-1<<2)>>2]=it;Lt=Rt;break}H=h[bt+-2>>1]|0;if(H<<16>>16>0){h[bt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;X=n+1310736+(G+-6<<2)|0;d[X>>2]=(d[X>>2]|0)+Ke;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+it;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ke|0)){Lt=Rt;break}d[Y>>2]=Ke;Lt=Rt;break}else{J=Rt+1|0;if((Rt|0)>32767)break t;h[bt>>1]=J;d[n+1179664+(Rt<<2)>>2]=J<<16>>16;Z=Rt*7|0;d[n+1310736+(Z<<2)>>2]=1;d[n+1310736+(Z+1<<2)>>2]=Ke;d[n+1310736+(Z+2<<2)>>2]=it;d[n+1310736+(Z+3<<2)>>2]=Ke;d[n+1310736+(Z+4<<2)>>2]=Ke;d[n+1310736+(Z+5<<2)>>2]=it;d[n+1310736+(Z+6<<2)>>2]=it;Lt=J;break}}if(ze){He=d[n+1179664+(Fe+-1<<2)>>2]|0;Ge=d[n+1179664+(Ue+-1<<2)>>2]|0;if((He|0)>(Ge|0)){h[bt>>1]=Ge;if((Rt|0)>0){ot=0;_t=z;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=Ge;ot=ot+1|0;if((ot|0)>=(Rt|0)){Ve=Ge;break}else _t=_t+4|0}}else Ve=Ge}else{h[bt>>1]=He;if((He|0)<(Ge|0)&(Rt|0)>0){st=0;xt=z;while(1){if((d[xt>>2]|0)==(Ge|0))d[xt>>2]=He;st=st+1|0;if((st|0)>=(Rt|0)){Ve=He;break}else xt=xt+4|0}}else Ve=He}je=(Ve<<16>>16)*7|0;We=n+1310736+(je+-7<<2)|0;d[We>>2]=(d[We>>2]|0)+1;m=n+1310736+(je+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ke;v=n+1310736+(je+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+it;d[n+1310736+(je+-1<<2)>>2]=it;Lt=Rt;break}b=h[bt+-2>>1]|0;if(b<<16>>16<=0){h[bt>>1]=De;L=Fe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ke;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+it;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ke|0))d[I>>2]=Ke;d[n+1310736+(L+-1<<2)>>2]=it;Lt=Rt;break}x=d[n+1179664+(Fe+-1<<2)>>2]|0;M=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(M|0)){h[bt>>1]=M;if((Rt|0)>0){lt=0;Et=z;while(1){if((d[Et>>2]|0)==(x|0))d[Et>>2]=M;lt=lt+1|0;if((lt|0)>=(Rt|0)){S=M;break}else Et=Et+4|0}}else S=M}else{h[bt>>1]=x;if((x|0)<(M|0)&(Rt|0)>0){ct=0;Mt=z;while(1){if((d[Mt>>2]|0)==(M|0))d[Mt>>2]=x;ct=ct+1|0;if((ct|0)>=(Rt|0)){S=x;break}else Mt=Mt+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ke;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+it;Lt=Rt}}while(0);Ke=Ke+1|0;Q=ht+4|0;$=bt+2|0;ee=Ye+1|0;if((Ke|0)>=(E|0)){qe=ee;ft=Q;yt=$;At=Lt;break}else{Ye=ee;ht=Q;bt=$;Rt=Lt}}}else{qe=Xe;ft=ut;yt=gt;At=kt}it=it+1|0;if((it|0)>=(ge|0)){Tt=At;Pt=52;break e}else{Xe=qe+2|0;ut=ft+o|0;gt=yt+4|0;kt=At}}Ha(3,3904,wt);a=-1}else{Tt=0;Pt=52}}while(0);if((Pt|0)==52){te=n+12|0;if((Tt|0)<1)rt=1;else{Qe=1;nt=1;St=z;while(1){ie=d[St>>2]|0;if((ie|0)==(Qe|0)){re=nt;at=nt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;at=nt}d[St>>2]=re;if((Qe|0)<(Tt|0)){Qe=Qe+1|0;nt=at;St=St+4|0}else{rt=at;break}}}ne=n+8|0;ae=rt+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((rt|0)>1){$e=0;do{oe=$e<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;$e=$e+1|0}while(($e|0)<(d[ne>>2]|0))}if((Tt|0)>0){et=0;do{se=(d[n+1179664+(et<<2)>>2]|0)+-1|0;le=et*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;et=et+1|0}while((et|0)<(Tt|0))}if((d[ne>>2]|0)>0){tt=0;do{Te=n+12+(tt<<2)|0;Ae=tt<<1;Re=n+655376+(Ae<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);Le=n+655376+((Ae|1)<<3)|0;y[Le>>3]=+y[Le>>3]/+(d[Te>>2]|0);tt=tt+1|0}while((tt|0)<(d[ne>>2]|0));a=0}else a=0}}w=Ct;return a|0}function Wi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ye=0;ht=W;pt=W+((fe(ge,c)|0)<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(c|0))break;else{ht=ht+2|0;pt=pt+2|0}}}g=r*3|0;M=c+-1|0;if((i|0)>1){Je=0;dt=W;mt=W+(M<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{dt=dt+(c<<1)|0;mt=mt+(c<<1)|0}}}H=n+1179664|0;X=c+1|0;Z=0-c|0;s=1-c|0;l=~c;o=(t*3|0)+12|0;e:do{if((ge|0)>1){_e=(M|0)>1;We=(d[n+4>>2]|0)+X|0;tt=1;ct=e+((t*6|0)+6)|0;vt=W+(X<<1)|0;Tt=0;t:while(1){if(_e){qe=We;Ze=1;ft=ct;yt=vt;At=Tt;while(1){do{if(((p[ft+1>>0]|0)+(p[ft>>0]|0)+(p[ft+2>>0]|0)|0)>(g|0)){f[qe>>0]=-1;Le=h[yt+(Z<<1)>>1]|0;if(Le<<16>>16>0){h[yt>>1]=Le;Pe=(Le<<16>>16)*7|0;Ce=n+1310736+(Pe+-7<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+1;Oe=n+1310736+(Pe+-6<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ze;Ie=n+1310736+(Pe+-5<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+tt;d[n+1310736+(Pe+-1<<2)>>2]=tt;Rt=At;break}Ne=h[yt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=h[yt+(l<<1)>>1]|0;Be=Fe<<16>>16;Ue=Fe<<16>>16>0;if(Ne<<16>>16<=0){if(Ue){h[yt>>1]=Fe;N=Be*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ze;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+tt;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ze|0))d[U>>2]=Ze;d[n+1310736+(N+-1<<2)>>2]=tt;Rt=At;break}z=h[yt+-2>>1]|0;if(z<<16>>16>0){h[yt>>1]=z;G=(z<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+tt;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ze|0)){Rt=At;break}d[Y>>2]=Ze;Rt=At;break}else{J=At+1|0;if((At|0)>32767)break t;h[yt>>1]=J;d[n+1179664+(At<<2)>>2]=J<<16>>16;K=At*7|0;d[n+1310736+(K<<2)>>2]=1;d[n+1310736+(K+1<<2)>>2]=Ze;d[n+1310736+(K+2<<2)>>2]=tt;d[n+1310736+(K+3<<2)>>2]=Ze;d[n+1310736+(K+4<<2)>>2]=Ze;d[n+1310736+(K+5<<2)>>2]=tt;d[n+1310736+(K+6<<2)>>2]=tt;Rt=J;break}}if(Ue){ze=d[n+1179664+(De+-1<<2)>>2]|0;He=d[n+1179664+(Be+-1<<2)>>2]|0;if((ze|0)>(He|0)){h[yt>>1]=He;if((At|0)>0){at=0;wt=H;while(1){if((d[wt>>2]|0)==(ze|0))d[wt>>2]=He;at=at+1|0;if((at|0)>=(At|0)){Ge=He;break}else wt=wt+4|0}}else Ge=He}else{h[yt>>1]=ze;if((ze|0)<(He|0)&(At|0)>0){ot=0;_t=H;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=ze;ot=ot+1|0;if((ot|0)>=(At|0)){Ge=ze;break}else _t=_t+4|0}}else Ge=ze}Ve=(Ge<<16>>16)*7|0;je=n+1310736+(Ve+-7<<2)|0;d[je>>2]=(d[je>>2]|0)+1;m=n+1310736+(Ve+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ze;v=n+1310736+(Ve+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+tt;d[n+1310736+(Ve+-1<<2)>>2]=tt;Rt=At;break}b=h[yt+-2>>1]|0;if(b<<16>>16<=0){h[yt>>1]=Ne;L=De*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ze;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+tt;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ze|0))d[I>>2]=Ze;d[n+1310736+(L+-1<<2)>>2]=tt;Rt=At;break}x=d[n+1179664+(De+-1<<2)>>2]|0;E=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(E|0)){h[yt>>1]=E;if((At|0)>0){st=0;xt=H;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=E;st=st+1|0;if((st|0)>=(At|0)){S=E;break}else xt=xt+4|0}}else S=E}else{h[yt>>1]=x;if((x|0)<(E|0)&(At|0)>0){lt=0;Et=H;while(1){if((d[Et>>2]|0)==(E|0))d[Et>>2]=x;lt=lt+1|0;if((lt|0)>=(At|0)){S=x;break}else Et=Et+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ze;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+tt;Rt=At}else{h[yt>>1]=0;f[qe>>0]=0;Rt=At}}while(0);Ze=Ze+1|0;Q=ft+6|0;$=yt+2|0;ee=qe+1|0;if((Ze|0)>=(M|0)){Xe=ee;ut=Q;gt=$;kt=Rt;break}else{qe=ee;ft=Q;yt=$;At=Rt}}}else{Xe=We;ut=ct;gt=vt;kt=Tt}tt=tt+1|0;if((tt|0)>=(ge|0)){St=kt;Lt=52;break e}else{We=Xe+2|0;ct=ut+o|0;vt=gt+4|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){te=n+12|0;if((St|0)<1)it=1;else{Ke=1;rt=1;Mt=H;while(1){ie=d[Mt>>2]|0;if((ie|0)==(Ke|0)){re=rt;nt=rt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;nt=rt}d[Mt>>2]=re;if((Ke|0)<(St|0)){Ke=Ke+1|0;rt=nt;Mt=Mt+4|0}else{it=nt;break}}}ne=n+8|0;ae=it+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((it|0)>1){Qe=0;do{oe=Qe<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(d[ne>>2]|0))}if((St|0)>0){$e=0;do{se=(d[n+1179664+($e<<2)>>2]|0)+-1|0;le=$e*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;$e=$e+1|0}while(($e|0)<(St|0))}if((d[ne>>2]|0)>0){et=0;do{Te=n+12+(et<<2)|0;ke=et<<1;Ae=n+655376+(ke<<3)|0;y[Ae>>3]=+y[Ae>>3]/+(d[Te>>2]|0);Re=n+655376+((ke|1)<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);et=et+1|0}while((et|0)<(d[ne>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Xi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ye=0;ht=W;pt=W+((fe(ge,c)|0)<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(c|0))break;else{ht=ht+2|0;pt=pt+2|0}}}g=r*3|0;M=c+-1|0;if((i|0)>1){Je=0;dt=W;mt=W+(M<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{dt=dt+(c<<1)|0;mt=mt+(c<<1)|0}}}H=n+1179664|0;X=c+1|0;Z=0-c|0;s=1-c|0;l=~c;o=(t*3|0)+12|0;e:do{if((ge|0)>1){_e=(M|0)>1;We=(d[n+4>>2]|0)+X|0;tt=1;ct=e+((t*6|0)+6)|0;vt=W+(X<<1)|0;Tt=0;t:while(1){if(_e){qe=We;Ze=1;ft=ct;yt=vt;At=Tt;while(1){do{if(((p[ft+1>>0]|0)+(p[ft>>0]|0)+(p[ft+2>>0]|0)|0)>(g|0)){h[yt>>1]=0;f[qe>>0]=0;Rt=At}else{f[qe>>0]=-1;Le=h[yt+(Z<<1)>>1]|0;if(Le<<16>>16>0){h[yt>>1]=Le;Pe=(Le<<16>>16)*7|0;Ce=n+1310736+(Pe+-7<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+1;Oe=n+1310736+(Pe+-6<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ze;Ie=n+1310736+(Pe+-5<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+tt;d[n+1310736+(Pe+-1<<2)>>2]=tt;Rt=At;break}Ne=h[yt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=h[yt+(l<<1)>>1]|0;Be=Fe<<16>>16;Ue=Fe<<16>>16>0;if(Ne<<16>>16<=0){if(Ue){h[yt>>1]=Fe;N=Be*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ze;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+tt;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ze|0))d[U>>2]=Ze;d[n+1310736+(N+-1<<2)>>2]=tt;Rt=At;break}z=h[yt+-2>>1]|0;if(z<<16>>16>0){h[yt>>1]=z;G=(z<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+tt;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ze|0)){Rt=At;break}d[Y>>2]=Ze;Rt=At;break}else{J=At+1|0;if((At|0)>32767)break t;h[yt>>1]=J;d[n+1179664+(At<<2)>>2]=J<<16>>16;K=At*7|0;d[n+1310736+(K<<2)>>2]=1;d[n+1310736+(K+1<<2)>>2]=Ze;d[n+1310736+(K+2<<2)>>2]=tt;d[n+1310736+(K+3<<2)>>2]=Ze;d[n+1310736+(K+4<<2)>>2]=Ze;d[n+1310736+(K+5<<2)>>2]=tt;d[n+1310736+(K+6<<2)>>2]=tt;Rt=J;break}}if(Ue){ze=d[n+1179664+(De+-1<<2)>>2]|0;He=d[n+1179664+(Be+-1<<2)>>2]|0;if((ze|0)>(He|0)){h[yt>>1]=He;if((At|0)>0){at=0;wt=H;while(1){if((d[wt>>2]|0)==(ze|0))d[wt>>2]=He;at=at+1|0;if((at|0)>=(At|0)){Ge=He;break}else wt=wt+4|0}}else Ge=He}else{h[yt>>1]=ze;if((ze|0)<(He|0)&(At|0)>0){ot=0;_t=H;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=ze;ot=ot+1|0;if((ot|0)>=(At|0)){Ge=ze;break}else _t=_t+4|0}}else Ge=ze}Ve=(Ge<<16>>16)*7|0;je=n+1310736+(Ve+-7<<2)|0;d[je>>2]=(d[je>>2]|0)+1;m=n+1310736+(Ve+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ze;v=n+1310736+(Ve+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+tt;d[n+1310736+(Ve+-1<<2)>>2]=tt;Rt=At;break}b=h[yt+-2>>1]|0;if(b<<16>>16<=0){h[yt>>1]=Ne;L=De*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ze;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+tt;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ze|0))d[I>>2]=Ze;d[n+1310736+(L+-1<<2)>>2]=tt;Rt=At;break}x=d[n+1179664+(De+-1<<2)>>2]|0;E=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(E|0)){h[yt>>1]=E;if((At|0)>0){st=0;xt=H;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=E;st=st+1|0;if((st|0)>=(At|0)){S=E;break}else xt=xt+4|0}}else S=E}else{h[yt>>1]=x;if((x|0)<(E|0)&(At|0)>0){lt=0;Et=H;while(1){if((d[Et>>2]|0)==(E|0))d[Et>>2]=x;lt=lt+1|0;if((lt|0)>=(At|0)){S=x;break}else Et=Et+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ze;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+tt;Rt=At}}while(0);Ze=Ze+1|0;Q=ft+6|0;$=yt+2|0;ee=qe+1|0;if((Ze|0)>=(M|0)){Xe=ee;ut=Q;gt=$;kt=Rt;break}else{qe=ee;ft=Q;yt=$;At=Rt}}}else{Xe=We;ut=ct;gt=vt;kt=Tt}tt=tt+1|0;if((tt|0)>=(ge|0)){St=kt;Lt=52;break e}else{We=Xe+2|0;ct=ut+o|0;vt=gt+4|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){te=n+12|0;if((St|0)<1)it=1;else{Ke=1;rt=1;Mt=H;while(1){ie=d[Mt>>2]|0;if((ie|0)==(Ke|0)){re=rt;nt=rt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;nt=rt}d[Mt>>2]=re;if((Ke|0)<(St|0)){Ke=Ke+1|0;rt=nt;Mt=Mt+4|0}else{it=nt;break}}}ne=n+8|0;ae=it+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((it|0)>1){Qe=0;do{oe=Qe<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(d[ne>>2]|0))}if((St|0)>0){$e=0;do{se=(d[n+1179664+($e<<2)>>2]|0)+-1|0;le=$e*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;$e=$e+1|0}while(($e|0)<(St|0))}if((d[ne>>2]|0)>0){et=0;do{Te=n+12+(et<<2)|0;ke=et<<1;Ae=n+655376+(ke<<3)|0;y[Ae>>3]=+y[Ae>>3]/+(d[Te>>2]|0);Re=n+655376+((ke|1)<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);et=et+1|0}while((et|0)<(d[ne>>2]|0));a=0}else a=0}}w=Pt;return a|0}function qi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ye=0;ht=W;pt=W+((fe(ge,c)|0)<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(c|0))break;else{ht=ht+2|0;pt=pt+2|0}}}g=r*3|0;M=c+-1|0;if((i|0)>1){Je=0;dt=W;mt=W+(M<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{dt=dt+(c<<1)|0;mt=mt+(c<<1)|0}}}z=n+1179664|0;X=c+1|0;J=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ge|0)>1){_e=(M|0)>1;We=(d[n+4>>2]|0)+X|0;tt=1;ct=e+((t<<3)+8)|0;vt=W+(X<<1)|0;Tt=0;t:while(1){if(_e){qe=We;Ze=1;ft=ct;yt=vt;At=Tt;while(1){do{if(((p[ft+2>>0]|0)+(p[ft+1>>0]|0)+(p[ft+3>>0]|0)|0)>(g|0)){f[qe>>0]=-1;Le=h[yt+(J<<1)>>1]|0;if(Le<<16>>16>0){h[yt>>1]=Le;Pe=(Le<<16>>16)*7|0;Ce=n+1310736+(Pe+-7<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+1;Oe=n+1310736+(Pe+-6<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ze;Ie=n+1310736+(Pe+-5<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+tt;d[n+1310736+(Pe+-1<<2)>>2]=tt;Rt=At;break}Ne=h[yt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=h[yt+(l<<1)>>1]|0;Be=Fe<<16>>16;Ue=Fe<<16>>16>0;if(Ne<<16>>16<=0){if(Ue){h[yt>>1]=Fe;N=Be*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ze;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+tt;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ze|0))d[U>>2]=Ze;d[n+1310736+(N+-1<<2)>>2]=tt;Rt=At;break}H=h[yt+-2>>1]|0;if(H<<16>>16>0){h[yt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+tt;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ze|0)){Rt=At;break}d[Y>>2]=Ze;Rt=At;break}else{Z=At+1|0;if((At|0)>32767)break t;h[yt>>1]=Z;d[n+1179664+(At<<2)>>2]=Z<<16>>16;K=At*7|0;d[n+1310736+(K<<2)>>2]=1;d[n+1310736+(K+1<<2)>>2]=Ze;d[n+1310736+(K+2<<2)>>2]=tt;d[n+1310736+(K+3<<2)>>2]=Ze;d[n+1310736+(K+4<<2)>>2]=Ze;d[n+1310736+(K+5<<2)>>2]=tt;d[n+1310736+(K+6<<2)>>2]=tt;Rt=Z;break}}if(Ue){ze=d[n+1179664+(De+-1<<2)>>2]|0;He=d[n+1179664+(Be+-1<<2)>>2]|0;if((ze|0)>(He|0)){h[yt>>1]=He;if((At|0)>0){at=0;wt=z;while(1){if((d[wt>>2]|0)==(ze|0))d[wt>>2]=He;at=at+1|0;if((at|0)>=(At|0)){Ge=He;break}else wt=wt+4|0}}else Ge=He}else{h[yt>>1]=ze;if((ze|0)<(He|0)&(At|0)>0){ot=0;_t=z;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=ze;ot=ot+1|0;if((ot|0)>=(At|0)){Ge=ze;break}else _t=_t+4|0}}else Ge=ze}Ve=(Ge<<16>>16)*7|0;je=n+1310736+(Ve+-7<<2)|0;d[je>>2]=(d[je>>2]|0)+1;m=n+1310736+(Ve+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ze;v=n+1310736+(Ve+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+tt;d[n+1310736+(Ve+-1<<2)>>2]=tt;Rt=At;break}b=h[yt+-2>>1]|0;if(b<<16>>16<=0){h[yt>>1]=Ne;L=De*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ze;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+tt;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ze|0))d[I>>2]=Ze;d[n+1310736+(L+-1<<2)>>2]=tt;Rt=At;break}x=d[n+1179664+(De+-1<<2)>>2]|0;E=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(E|0)){h[yt>>1]=E;if((At|0)>0){st=0;xt=z;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=E;st=st+1|0;if((st|0)>=(At|0)){S=E;break}else xt=xt+4|0}}else S=E}else{h[yt>>1]=x;if((x|0)<(E|0)&(At|0)>0){lt=0;Et=z;while(1){if((d[Et>>2]|0)==(E|0))d[Et>>2]=x;lt=lt+1|0;if((lt|0)>=(At|0)){S=x;break}else Et=Et+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ze;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+tt;Rt=At}else{h[yt>>1]=0;f[qe>>0]=0;Rt=At}}while(0);Ze=Ze+1|0;Q=ft+8|0;$=yt+2|0;ee=qe+1|0;if((Ze|0)>=(M|0)){Xe=ee;ut=Q;gt=$;kt=Rt;break}else{qe=ee;ft=Q;yt=$;At=Rt}}}else{Xe=We;ut=ct;gt=vt;kt=Tt}tt=tt+1|0;if((tt|0)>=(ge|0)){St=kt;Lt=52;break e}else{We=Xe+2|0;ct=ut+o|0;vt=gt+4|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){te=n+12|0;if((St|0)<1)it=1;else{Ke=1;rt=1;Mt=z;while(1){ie=d[Mt>>2]|0;if((ie|0)==(Ke|0)){re=rt;nt=rt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;nt=rt}d[Mt>>2]=re;if((Ke|0)<(St|0)){Ke=Ke+1|0;rt=nt;Mt=Mt+4|0}else{it=nt;break}}}ne=n+8|0;ae=it+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((it|0)>1){Qe=0;do{oe=Qe<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(d[ne>>2]|0))}if((St|0)>0){$e=0;do{se=(d[n+1179664+($e<<2)>>2]|0)+-1|0;le=$e*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;$e=$e+1|0}while(($e|0)<(St|0))}if((d[ne>>2]|0)>0){et=0;do{Te=n+12+(et<<2)|0;ke=et<<1;Ae=n+655376+(ke<<3)|0;y[Ae>>3]=+y[Ae>>3]/+(d[Te>>2]|0);Re=n+655376+((ke|1)<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);et=et+1|0}while((et|0)<(d[ne>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Yi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ye=0;ht=W;pt=W+((fe(ge,c)|0)<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(c|0))break;else{ht=ht+2|0;pt=pt+2|0}}}g=r*3|0;M=c+-1|0;if((i|0)>1){Je=0;dt=W;mt=W+(M<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{dt=dt+(c<<1)|0;mt=mt+(c<<1)|0}}}z=n+1179664|0;X=c+1|0;J=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ge|0)>1){_e=(M|0)>1;We=(d[n+4>>2]|0)+X|0;tt=1;ct=e+((t<<3)+8)|0;vt=W+(X<<1)|0;Tt=0;t:while(1){if(_e){qe=We;Ze=1;ft=ct;yt=vt;At=Tt;while(1){do{if(((p[ft+2>>0]|0)+(p[ft+1>>0]|0)+(p[ft+3>>0]|0)|0)>(g|0)){h[yt>>1]=0;f[qe>>0]=0;Rt=At}else{f[qe>>0]=-1;Le=h[yt+(J<<1)>>1]|0;if(Le<<16>>16>0){h[yt>>1]=Le;Pe=(Le<<16>>16)*7|0;Ce=n+1310736+(Pe+-7<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+1;Oe=n+1310736+(Pe+-6<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ze;Ie=n+1310736+(Pe+-5<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+tt;d[n+1310736+(Pe+-1<<2)>>2]=tt;Rt=At;break}Ne=h[yt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=h[yt+(l<<1)>>1]|0;Be=Fe<<16>>16;Ue=Fe<<16>>16>0;if(Ne<<16>>16<=0){if(Ue){h[yt>>1]=Fe;N=Be*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ze;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+tt;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ze|0))d[U>>2]=Ze;d[n+1310736+(N+-1<<2)>>2]=tt;Rt=At;break}H=h[yt+-2>>1]|0;if(H<<16>>16>0){h[yt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+tt;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ze|0)){Rt=At;break}d[Y>>2]=Ze;Rt=At;break}else{Z=At+1|0;if((At|0)>32767)break t;h[yt>>1]=Z;d[n+1179664+(At<<2)>>2]=Z<<16>>16;K=At*7|0;d[n+1310736+(K<<2)>>2]=1;d[n+1310736+(K+1<<2)>>2]=Ze;d[n+1310736+(K+2<<2)>>2]=tt;d[n+1310736+(K+3<<2)>>2]=Ze;d[n+1310736+(K+4<<2)>>2]=Ze;d[n+1310736+(K+5<<2)>>2]=tt;d[n+1310736+(K+6<<2)>>2]=tt;Rt=Z;break}}if(Ue){ze=d[n+1179664+(De+-1<<2)>>2]|0;He=d[n+1179664+(Be+-1<<2)>>2]|0;if((ze|0)>(He|0)){h[yt>>1]=He;if((At|0)>0){at=0;wt=z;while(1){if((d[wt>>2]|0)==(ze|0))d[wt>>2]=He;at=at+1|0;if((at|0)>=(At|0)){Ge=He;break}else wt=wt+4|0}}else Ge=He}else{h[yt>>1]=ze;if((ze|0)<(He|0)&(At|0)>0){ot=0;_t=z;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=ze;ot=ot+1|0;if((ot|0)>=(At|0)){Ge=ze;break}else _t=_t+4|0}}else Ge=ze}Ve=(Ge<<16>>16)*7|0;je=n+1310736+(Ve+-7<<2)|0;d[je>>2]=(d[je>>2]|0)+1;m=n+1310736+(Ve+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ze;v=n+1310736+(Ve+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+tt;d[n+1310736+(Ve+-1<<2)>>2]=tt;Rt=At;break}b=h[yt+-2>>1]|0;if(b<<16>>16<=0){h[yt>>1]=Ne;L=De*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ze;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+tt;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ze|0))d[I>>2]=Ze;d[n+1310736+(L+-1<<2)>>2]=tt;Rt=At;break}x=d[n+1179664+(De+-1<<2)>>2]|0;E=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(E|0)){h[yt>>1]=E;if((At|0)>0){st=0;xt=z;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=E;st=st+1|0;if((st|0)>=(At|0)){S=E;break}else xt=xt+4|0}}else S=E}else{h[yt>>1]=x;if((x|0)<(E|0)&(At|0)>0){lt=0;Et=z;while(1){if((d[Et>>2]|0)==(E|0))d[Et>>2]=x;lt=lt+1|0;if((lt|0)>=(At|0)){S=x;break}else Et=Et+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ze;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+tt;Rt=At}}while(0);Ze=Ze+1|0;Q=ft+8|0;$=yt+2|0;ee=qe+1|0;if((Ze|0)>=(M|0)){Xe=ee;ut=Q;gt=$;kt=Rt;break}else{qe=ee;ft=Q;yt=$;At=Rt}}}else{Xe=We;ut=ct;gt=vt;kt=Tt}tt=tt+1|0;if((tt|0)>=(ge|0)){St=kt;Lt=52;break e}else{We=Xe+2|0;ct=ut+o|0;vt=gt+4|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){te=n+12|0;if((St|0)<1)it=1;else{Ke=1;rt=1;Mt=z;while(1){ie=d[Mt>>2]|0;if((ie|0)==(Ke|0)){re=rt;nt=rt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;nt=rt}d[Mt>>2]=re;if((Ke|0)<(St|0)){Ke=Ke+1|0;rt=nt;Mt=Mt+4|0}else{it=nt;break}}}ne=n+8|0;ae=it+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((it|0)>1){Qe=0;do{oe=Qe<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(d[ne>>2]|0))}if((St|0)>0){$e=0;do{se=(d[n+1179664+($e<<2)>>2]|0)+-1|0;le=$e*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;$e=$e+1|0}while(($e|0)<(St|0))}if((d[ne>>2]|0)>0){et=0;do{Te=n+12+(et<<2)|0;ke=et<<1;Ae=n+655376+(ke<<3)|0;y[Ae>>3]=+y[Ae>>3]/+(d[Te>>2]|0);Re=n+655376+((ke|1)<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);et=et+1|0}while((et|0)<(d[ne>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Ji(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ye=0;ht=W;pt=W+((fe(ge,c)|0)<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(c|0))break;else{ht=ht+2|0;pt=pt+2|0}}}g=r*3|0;M=c+-1|0;if((i|0)>1){Je=0;dt=W;mt=W+(M<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{dt=dt+(c<<1)|0;mt=mt+(c<<1)|0}}}H=n+1179664|0;X=c+1|0;Z=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ge|0)>1){_e=(M|0)>1;We=(d[n+4>>2]|0)+X|0;tt=1;ct=e+((t<<3)+8)|0;vt=W+(X<<1)|0;Tt=0;t:while(1){if(_e){qe=We;Ze=1;ft=ct;yt=vt;At=Tt;while(1){do{if(((p[ft+1>>0]|0)+(p[ft>>0]|0)+(p[ft+2>>0]|0)|0)>(g|0)){f[qe>>0]=-1;Le=h[yt+(Z<<1)>>1]|0;if(Le<<16>>16>0){h[yt>>1]=Le;Pe=(Le<<16>>16)*7|0;Ce=n+1310736+(Pe+-7<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+1;Oe=n+1310736+(Pe+-6<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ze;Ie=n+1310736+(Pe+-5<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+tt;d[n+1310736+(Pe+-1<<2)>>2]=tt;Rt=At;break}Ne=h[yt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=h[yt+(l<<1)>>1]|0;Be=Fe<<16>>16;Ue=Fe<<16>>16>0;if(Ne<<16>>16<=0){if(Ue){h[yt>>1]=Fe;N=Be*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ze;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+tt;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ze|0))d[U>>2]=Ze;d[n+1310736+(N+-1<<2)>>2]=tt;Rt=At;break}z=h[yt+-2>>1]|0;if(z<<16>>16>0){h[yt>>1]=z;G=(z<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+tt;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ze|0)){Rt=At;break}d[Y>>2]=Ze;Rt=At;break}else{J=At+1|0;if((At|0)>32767)break t;h[yt>>1]=J;d[n+1179664+(At<<2)>>2]=J<<16>>16;K=At*7|0;d[n+1310736+(K<<2)>>2]=1;d[n+1310736+(K+1<<2)>>2]=Ze;d[n+1310736+(K+2<<2)>>2]=tt;d[n+1310736+(K+3<<2)>>2]=Ze;d[n+1310736+(K+4<<2)>>2]=Ze;d[n+1310736+(K+5<<2)>>2]=tt;d[n+1310736+(K+6<<2)>>2]=tt;Rt=J;break}}if(Ue){ze=d[n+1179664+(De+-1<<2)>>2]|0;He=d[n+1179664+(Be+-1<<2)>>2]|0;if((ze|0)>(He|0)){h[yt>>1]=He;if((At|0)>0){at=0;wt=H;while(1){if((d[wt>>2]|0)==(ze|0))d[wt>>2]=He;at=at+1|0;if((at|0)>=(At|0)){Ge=He;break}else wt=wt+4|0}}else Ge=He}else{h[yt>>1]=ze;if((ze|0)<(He|0)&(At|0)>0){ot=0;_t=H;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=ze;ot=ot+1|0;if((ot|0)>=(At|0)){Ge=ze;break}else _t=_t+4|0}}else Ge=ze}Ve=(Ge<<16>>16)*7|0;je=n+1310736+(Ve+-7<<2)|0;d[je>>2]=(d[je>>2]|0)+1;m=n+1310736+(Ve+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ze;v=n+1310736+(Ve+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+tt;d[n+1310736+(Ve+-1<<2)>>2]=tt;Rt=At;break}b=h[yt+-2>>1]|0;if(b<<16>>16<=0){h[yt>>1]=Ne;L=De*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ze;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+tt;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ze|0))d[I>>2]=Ze;d[n+1310736+(L+-1<<2)>>2]=tt;Rt=At;break}x=d[n+1179664+(De+-1<<2)>>2]|0;E=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(E|0)){h[yt>>1]=E;if((At|0)>0){st=0;xt=H;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=E;st=st+1|0;if((st|0)>=(At|0)){S=E;break}else xt=xt+4|0}}else S=E}else{h[yt>>1]=x;if((x|0)<(E|0)&(At|0)>0){lt=0;Et=H;while(1){if((d[Et>>2]|0)==(E|0))d[Et>>2]=x;lt=lt+1|0;if((lt|0)>=(At|0)){S=x;break}else Et=Et+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ze;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+tt;Rt=At}else{h[yt>>1]=0;f[qe>>0]=0;Rt=At}}while(0);Ze=Ze+1|0;Q=ft+8|0;$=yt+2|0;ee=qe+1|0;if((Ze|0)>=(M|0)){Xe=ee;ut=Q;gt=$;kt=Rt;break}else{qe=ee;ft=Q;yt=$;At=Rt}}}else{Xe=We;ut=ct;gt=vt;kt=Tt}tt=tt+1|0;if((tt|0)>=(ge|0)){St=kt;Lt=52;break e}else{We=Xe+2|0;ct=ut+o|0;vt=gt+4|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){te=n+12|0;if((St|0)<1)it=1;else{Ke=1;rt=1;Mt=H;while(1){ie=d[Mt>>2]|0;if((ie|0)==(Ke|0)){re=rt;nt=rt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;nt=rt}d[Mt>>2]=re;if((Ke|0)<(St|0)){Ke=Ke+1|0;rt=nt;Mt=Mt+4|0}else{it=nt;break}}}ne=n+8|0;ae=it+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((it|0)>1){Qe=0;do{oe=Qe<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(d[ne>>2]|0))}if((St|0)>0){$e=0;do{se=(d[n+1179664+($e<<2)>>2]|0)+-1|0;le=$e*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;$e=$e+1|0}while(($e|0)<(St|0))}if((d[ne>>2]|0)>0){et=0;do{Te=n+12+(et<<2)|0;ke=et<<1;Ae=n+655376+(ke<<3)|0;y[Ae>>3]=+y[Ae>>3]/+(d[Te>>2]|0);Re=n+655376+((ke|1)<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);et=et+1|0}while((et|0)<(d[ne>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Zi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0,Pt=0;Pt=w;w=w+16|0;if((w|0)>=(_|0))pe();bt=Pt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){Ye=0;ht=W;pt=W+((fe(ge,c)|0)<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(c|0))break;else{ht=ht+2|0;pt=pt+2|0}}}g=r*3|0;M=c+-1|0;if((i|0)>1){Je=0;dt=W;mt=W+(M<<1)|0;while(1){h[mt>>1]=0;h[dt>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{dt=dt+(c<<1)|0;mt=mt+(c<<1)|0}}}H=n+1179664|0;X=c+1|0;Z=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ge|0)>1){_e=(M|0)>1;We=(d[n+4>>2]|0)+X|0;tt=1;ct=e+((t<<3)+8)|0;vt=W+(X<<1)|0;Tt=0;t:while(1){if(_e){qe=We;Ze=1;ft=ct;yt=vt;At=Tt;while(1){do{if(((p[ft+1>>0]|0)+(p[ft>>0]|0)+(p[ft+2>>0]|0)|0)>(g|0)){h[yt>>1]=0;f[qe>>0]=0;Rt=At}else{f[qe>>0]=-1;Le=h[yt+(Z<<1)>>1]|0;if(Le<<16>>16>0){h[yt>>1]=Le;Pe=(Le<<16>>16)*7|0;Ce=n+1310736+(Pe+-7<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+1;Oe=n+1310736+(Pe+-6<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ze;Ie=n+1310736+(Pe+-5<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+tt;d[n+1310736+(Pe+-1<<2)>>2]=tt;Rt=At;break}Ne=h[yt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=h[yt+(l<<1)>>1]|0;Be=Fe<<16>>16;Ue=Fe<<16>>16>0;if(Ne<<16>>16<=0){if(Ue){h[yt>>1]=Fe;N=Be*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;F=n+1310736+(N+-6<<2)|0;d[F>>2]=(d[F>>2]|0)+Ze;B=n+1310736+(N+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+tt;U=n+1310736+(N+-3<<2)|0;if((d[U>>2]|0)<(Ze|0))d[U>>2]=Ze;d[n+1310736+(N+-1<<2)>>2]=tt;Rt=At;break}z=h[yt+-2>>1]|0;if(z<<16>>16>0){h[yt>>1]=z;G=(z<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;q=n+1310736+(G+-5<<2)|0;d[q>>2]=(d[q>>2]|0)+tt;Y=n+1310736+(G+-3<<2)|0;if((d[Y>>2]|0)>=(Ze|0)){Rt=At;break}d[Y>>2]=Ze;Rt=At;break}else{J=At+1|0;if((At|0)>32767)break t;h[yt>>1]=J;d[n+1179664+(At<<2)>>2]=J<<16>>16;K=At*7|0;d[n+1310736+(K<<2)>>2]=1;d[n+1310736+(K+1<<2)>>2]=Ze;d[n+1310736+(K+2<<2)>>2]=tt;d[n+1310736+(K+3<<2)>>2]=Ze;d[n+1310736+(K+4<<2)>>2]=Ze;d[n+1310736+(K+5<<2)>>2]=tt;d[n+1310736+(K+6<<2)>>2]=tt;Rt=J;break}}if(Ue){ze=d[n+1179664+(De+-1<<2)>>2]|0;He=d[n+1179664+(Be+-1<<2)>>2]|0;if((ze|0)>(He|0)){h[yt>>1]=He;if((At|0)>0){at=0;wt=H;while(1){if((d[wt>>2]|0)==(ze|0))d[wt>>2]=He;at=at+1|0;if((at|0)>=(At|0)){Ge=He;break}else wt=wt+4|0}}else Ge=He}else{h[yt>>1]=ze;if((ze|0)<(He|0)&(At|0)>0){ot=0;_t=H;while(1){if((d[_t>>2]|0)==(He|0))d[_t>>2]=ze;ot=ot+1|0;if((ot|0)>=(At|0)){Ge=ze;break}else _t=_t+4|0}}else Ge=ze}Ve=(Ge<<16>>16)*7|0;je=n+1310736+(Ve+-7<<2)|0;d[je>>2]=(d[je>>2]|0)+1;m=n+1310736+(Ve+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Ze;v=n+1310736+(Ve+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+tt;d[n+1310736+(Ve+-1<<2)>>2]=tt;Rt=At;break}b=h[yt+-2>>1]|0;if(b<<16>>16<=0){h[yt>>1]=Ne;L=De*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ze;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+tt;I=n+1310736+(L+-4<<2)|0;if((d[I>>2]|0)>(Ze|0))d[I>>2]=Ze;d[n+1310736+(L+-1<<2)>>2]=tt;Rt=At;break}x=d[n+1179664+(De+-1<<2)>>2]|0;E=d[n+1179664+((b<<16>>16)+-1<<2)>>2]|0;if((x|0)>(E|0)){h[yt>>1]=E;if((At|0)>0){st=0;xt=H;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=E;st=st+1|0;if((st|0)>=(At|0)){S=E;break}else xt=xt+4|0}}else S=E}else{h[yt>>1]=x;if((x|0)<(E|0)&(At|0)>0){lt=0;Et=H;while(1){if((d[Et>>2]|0)==(E|0))d[Et>>2]=x;lt=lt+1|0;if((lt|0)>=(At|0)){S=x;break}else Et=Et+4|0}}else S=x}T=(S<<16>>16)*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+Ze;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+tt;Rt=At}}while(0);Ze=Ze+1|0;Q=ft+8|0;$=yt+2|0;ee=qe+1|0;if((Ze|0)>=(M|0)){Xe=ee;ut=Q;gt=$;kt=Rt;break}else{qe=ee;ft=Q;yt=$;At=Rt}}}else{Xe=We;ut=ct;gt=vt;kt=Tt}tt=tt+1|0;if((tt|0)>=(ge|0)){St=kt;Lt=52;break e}else{We=Xe+2|0;ct=ut+o|0;vt=gt+4|0;Tt=kt}}Ha(3,3904,bt);a=-1}else{St=0;Lt=52}}while(0);if((Lt|0)==52){te=n+12|0;if((St|0)<1)it=1;else{Ke=1;rt=1;Mt=H;while(1){ie=d[Mt>>2]|0;if((ie|0)==(Ke|0)){re=rt;nt=rt+1|0}else{re=d[n+1179664+(ie+-1<<2)>>2]|0;nt=rt}d[Mt>>2]=re;if((Ke|0)<(St|0)){Ke=Ke+1|0;rt=nt;Mt=Mt+4|0}else{it=nt;break}}}ne=n+8|0;ae=it+-1|0;d[ne>>2]=ae;if(!ae)a=0;else{ul(te|0,0,ae<<2|0)|0;ul(n+655376|0,0,ae<<4|0)|0;if((it|0)>1){Qe=0;do{oe=Qe<<2;d[n+131084+(oe<<2)>>2]=c;d[n+131084+((oe|1)<<2)>>2]=0;d[n+131084+((oe|2)<<2)>>2]=u;d[n+131084+((oe|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(d[ne>>2]|0))}if((St|0)>0){$e=0;do{se=(d[n+1179664+($e<<2)>>2]|0)+-1|0;le=$e*7|0;ce=n+12+(se<<2)|0;d[ce>>2]=(d[ce>>2]|0)+(d[n+1310736+(le<<2)>>2]|0);ue=se<<1;he=n+655376+(ue<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(le+1<<2)>>2]|0);de=n+655376+((ue|1)<<3)|0;y[de>>3]=+y[de>>3]+ +(d[n+1310736+(le+2<<2)>>2]|0);me=se<<2;ve=n+131084+(me<<2)|0;ye=d[n+1310736+(le+3<<2)>>2]|0;if((d[ve>>2]|0)>(ye|0))d[ve>>2]=ye;be=n+131084+((me|1)<<2)|0;we=d[n+1310736+(le+4<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;xe=n+131084+((me|2)<<2)|0;Ee=d[n+1310736+(le+5<<2)>>2]|0;if((d[xe>>2]|0)>(Ee|0))d[xe>>2]=Ee;Me=n+131084+((me|3)<<2)|0;Se=d[n+1310736+(le+6<<2)>>2]|0;if((d[Me>>2]|0)<(Se|0))d[Me>>2]=Se;$e=$e+1|0}while(($e|0)<(St|0))}if((d[ne>>2]|0)>0){et=0;do{Te=n+12+(et<<2)|0;ke=et<<1;Ae=n+655376+(ke<<3)|0;y[Ae>>3]=+y[Ae>>3]/+(d[Te>>2]|0);Re=n+655376+((ke|1)<<3)|0;y[Re>>3]=+y[Re>>3]/+(d[Te>>2]|0);et=et+1|0}while((et|0)<(d[ne>>2]|0));a=0}else a=0}}w=Pt;return a|0}function Ki(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){qe=0;ft=l;dt=l+((fe(c,t)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(t|0))break;else{ft=ft+2|0;dt=dt+2|0}}}ze=r*3|0;u=t+-1|0;if((i|0)>0){Ye=0;ht=l;pt=l+(u<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(i|0))break;else{ht=ht+(t<<1)|0;pt=pt+(t<<1)|0}}}O=n+1179664|0;F=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ne=(u|0)>1;je=(d[n+4>>2]|0)+F|0;et=1;lt=e+(F<<1)|0;mt=l+(F<<1)|0;St=0;t:while(1){if(ne){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){ue=p[ut>>0]|0;ke=p[ut+1>>0]|0;do{if(((ue&248)+12+(ue<<5&224)+(ke>>>3&24)+(ke<<2&248)|0)>(ze|0)){f[Xe>>0]=-1;Ae=h[gt+(z<<1)>>1]|0;if(Ae<<16>>16>0){h[gt>>1]=Ae;Re=(Ae<<16>>16)*7|0;Le=n+1310736+(Re+-7<<2)|0;d[Le>>2]=(d[Le>>2]|0)+1;Pe=n+1310736+(Re+-6<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+Je;Ce=n+1310736+(Re+-5<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+et;d[n+1310736+(Re+-1<<2)>>2]=et;At=kt;break}Oe=h[gt+(o<<1)>>1]|0;Ie=Oe<<16>>16;Ne=h[gt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=Ne<<16>>16>0;if(Oe<<16>>16<=0){if(Fe){h[gt>>1]=Ne;I=De*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;B=n+1310736+(I+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+et;U=n+1310736+(I+-3<<2)|0;if((d[U>>2]|0)<(Je|0))d[U>>2]=Je;d[n+1310736+(I+-1<<2)>>2]=et;At=kt;break}H=h[gt+-2>>1]|0;if(H<<16>>16>0){h[gt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Je;W=n+1310736+(G+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+et;X=n+1310736+(G+-3<<2)|0;if((d[X>>2]|0)>=(Je|0)){At=kt;break}d[X>>2]=Je;At=kt;break}else{q=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=q;d[n+1179664+(kt<<2)>>2]=q<<16>>16;Y=kt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=Je;d[n+1310736+(Y+2<<2)>>2]=et;d[n+1310736+(Y+3<<2)>>2]=Je;d[n+1310736+(Y+4<<2)>>2]=Je;d[n+1310736+(Y+5<<2)>>2]=et;d[n+1310736+(Y+6<<2)>>2]=et;At=q;break}}if(Fe){Be=d[n+1179664+(Ie+-1<<2)>>2]|0;Ue=d[n+1179664+(De+-1<<2)>>2]|0;if((Be|0)>(Ue|0)){h[gt>>1]=Ue;if((kt|0)>0){nt=0;bt=O;while(1){if((d[bt>>2]|0)==(Be|0))d[bt>>2]=Ue;nt=nt+1|0;if((nt|0)>=(kt|0)){He=Ue;break}else bt=bt+4|0}}else He=Ue}else{h[gt>>1]=Be;if((Be|0)<(Ue|0)&(kt|0)>0){at=0;wt=O;while(1){if((d[wt>>2]|0)==(Ue|0))d[wt>>2]=Be;at=at+1|0;if((at|0)>=(kt|0)){He=Be;break}else wt=wt+4|0}}else He=Be}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;m=n+1310736+(Ge+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Je;v=n+1310736+(Ge+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+et;d[n+1310736+(Ge+-1<<2)>>2]=et;At=kt;break}g=h[gt+-2>>1]|0;if(g<<16>>16<=0){h[gt>>1]=Oe;A=Ie*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+et;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(Je|0))d[C>>2]=Je;d[n+1310736+(A+-1<<2)>>2]=et;At=kt;break}b=d[n+1179664+(Ie+-1<<2)>>2]|0;x=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(x|0)){h[gt>>1]=x;if((kt|0)>0){ot=0;_t=O;while(1){if((d[_t>>2]|0)==(b|0))d[_t>>2]=x;ot=ot+1|0;if((ot|0)>=(kt|0)){E=x;break}else _t=_t+4|0}}else E=x}else{h[gt>>1]=b;if((b|0)<(x|0)&(kt|0)>0){st=0;xt=O;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=b;st=st+1|0;if((st|0)>=(kt|0)){E=b;break}else xt=xt+4|0}}else E=b}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+et;At=kt}else{h[gt>>1]=0;f[Xe>>0]=0;At=kt}}while(0);Je=Je+1|0;J=ut+2|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(u|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(c|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+4|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=O;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=t;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=i;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ae=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;oe=Qe*7|0;se=n+12+(ae<<2)|0;d[se>>2]=(d[se>>2]|0)+(d[n+1310736+(oe<<2)>>2]|0);le=ae<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(oe+1<<2)>>2]|0);he=n+655376+((le|1)<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(oe+2<<2)>>2]|0);de=ae<<2;me=n+131084+(de<<2)|0;ve=d[n+1310736+(oe+3<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((de|1)<<2)|0;ye=d[n+1310736+(oe+4<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;be=n+131084+((de|2)<<2)|0;we=d[n+1310736+(oe+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((de|3)<<2)|0;xe=d[n+1310736+(oe+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function Qi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){qe=0;ft=l;dt=l+((fe(c,t)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(t|0))break;else{ft=ft+2|0;dt=dt+2|0}}}ze=r*3|0;u=t+-1|0;if((i|0)>0){Ye=0;ht=l;pt=l+(u<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(i|0))break;else{ht=ht+(t<<1)|0;pt=pt+(t<<1)|0}}}O=n+1179664|0;F=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ne=(u|0)>1;je=(d[n+4>>2]|0)+F|0;et=1;lt=e+(F<<1)|0;mt=l+(F<<1)|0;St=0;t:while(1){if(ne){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){ue=p[ut>>0]|0;ke=p[ut+1>>0]|0;do{if(((ue&248)+12+(ue<<5&224)+(ke>>>3&24)+(ke<<2&248)|0)>(ze|0)){h[gt>>1]=0;f[Xe>>0]=0;At=kt}else{f[Xe>>0]=-1;Ae=h[gt+(z<<1)>>1]|0;if(Ae<<16>>16>0){h[gt>>1]=Ae;Re=(Ae<<16>>16)*7|0;Le=n+1310736+(Re+-7<<2)|0;d[Le>>2]=(d[Le>>2]|0)+1;Pe=n+1310736+(Re+-6<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+Je;Ce=n+1310736+(Re+-5<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+et;d[n+1310736+(Re+-1<<2)>>2]=et;At=kt;break}Oe=h[gt+(o<<1)>>1]|0;Ie=Oe<<16>>16;Ne=h[gt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=Ne<<16>>16>0;if(Oe<<16>>16<=0){if(Fe){h[gt>>1]=Ne;I=De*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;B=n+1310736+(I+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+et;U=n+1310736+(I+-3<<2)|0;if((d[U>>2]|0)<(Je|0))d[U>>2]=Je;d[n+1310736+(I+-1<<2)>>2]=et;At=kt;break}H=h[gt+-2>>1]|0;if(H<<16>>16>0){h[gt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Je;W=n+1310736+(G+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+et;X=n+1310736+(G+-3<<2)|0;if((d[X>>2]|0)>=(Je|0)){At=kt;break}d[X>>2]=Je;At=kt;break}else{q=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=q;d[n+1179664+(kt<<2)>>2]=q<<16>>16;Y=kt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=Je;d[n+1310736+(Y+2<<2)>>2]=et;d[n+1310736+(Y+3<<2)>>2]=Je;d[n+1310736+(Y+4<<2)>>2]=Je;d[n+1310736+(Y+5<<2)>>2]=et;d[n+1310736+(Y+6<<2)>>2]=et;At=q;break}}if(Fe){Be=d[n+1179664+(Ie+-1<<2)>>2]|0;Ue=d[n+1179664+(De+-1<<2)>>2]|0;if((Be|0)>(Ue|0)){h[gt>>1]=Ue;if((kt|0)>0){nt=0;bt=O;while(1){if((d[bt>>2]|0)==(Be|0))d[bt>>2]=Ue;nt=nt+1|0;if((nt|0)>=(kt|0)){He=Ue;break}else bt=bt+4|0}}else He=Ue}else{h[gt>>1]=Be;if((Be|0)<(Ue|0)&(kt|0)>0){at=0;wt=O;while(1){if((d[wt>>2]|0)==(Ue|0))d[wt>>2]=Be;at=at+1|0;if((at|0)>=(kt|0)){He=Be;break}else wt=wt+4|0}}else He=Be}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;m=n+1310736+(Ge+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Je;v=n+1310736+(Ge+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+et;d[n+1310736+(Ge+-1<<2)>>2]=et;At=kt;break}g=h[gt+-2>>1]|0;if(g<<16>>16<=0){h[gt>>1]=Oe;A=Ie*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+et;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(Je|0))d[C>>2]=Je;d[n+1310736+(A+-1<<2)>>2]=et;At=kt;break}b=d[n+1179664+(Ie+-1<<2)>>2]|0;x=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(x|0)){h[gt>>1]=x;if((kt|0)>0){ot=0;_t=O;while(1){if((d[_t>>2]|0)==(b|0))d[_t>>2]=x;ot=ot+1|0;if((ot|0)>=(kt|0)){E=x;break}else _t=_t+4|0}}else E=x}else{h[gt>>1]=b;if((b|0)<(x|0)&(kt|0)>0){st=0;xt=O;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=b;st=st+1|0;if((st|0)>=(kt|0)){E=b;break}else xt=xt+4|0}}else E=b}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+et;At=kt}}while(0);Je=Je+1|0;J=ut+2|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(u|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(c|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+4|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=O;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=t;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=i;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ae=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;oe=Qe*7|0;se=n+12+(ae<<2)|0;d[se>>2]=(d[se>>2]|0)+(d[n+1310736+(oe<<2)>>2]|0);le=ae<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(oe+1<<2)>>2]|0);he=n+655376+((le|1)<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(oe+2<<2)>>2]|0);de=ae<<2;me=n+131084+(de<<2)|0;ve=d[n+1310736+(oe+3<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((de|1)<<2)|0;ye=d[n+1310736+(oe+4<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;be=n+131084+((de|2)<<2)|0;we=d[n+1310736+(oe+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((de|3)<<2)|0;xe=d[n+1310736+(oe+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function $i(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){qe=0;ft=l;dt=l+((fe(c,t)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(t|0))break;else{ft=ft+2|0;dt=dt+2|0}}}ze=r*3|0;u=t+-1|0;if((i|0)>0){Ye=0;ht=l;pt=l+(u<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(i|0))break;else{ht=ht+(t<<1)|0;pt=pt+(t<<1)|0}}}O=n+1179664|0;F=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ne=(u|0)>1;je=(d[n+4>>2]|0)+F|0;et=1;lt=e+(F<<1)|0;mt=l+(F<<1)|0;St=0;t:while(1){if(ne){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){ue=p[ut>>0]|0;ke=p[ut+1>>0]|0;do{if(((ue&248)+10+(ue<<5&224)+(ke>>>3&28)+(ke<<3&248)|0)>(ze|0)){f[Xe>>0]=-1;Ae=h[gt+(z<<1)>>1]|0;if(Ae<<16>>16>0){h[gt>>1]=Ae;Re=(Ae<<16>>16)*7|0;Le=n+1310736+(Re+-7<<2)|0;d[Le>>2]=(d[Le>>2]|0)+1;Pe=n+1310736+(Re+-6<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+Je;Ce=n+1310736+(Re+-5<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+et;d[n+1310736+(Re+-1<<2)>>2]=et;At=kt;break}Oe=h[gt+(o<<1)>>1]|0;Ie=Oe<<16>>16;Ne=h[gt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=Ne<<16>>16>0;if(Oe<<16>>16<=0){if(Fe){h[gt>>1]=Ne;I=De*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;B=n+1310736+(I+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+et;U=n+1310736+(I+-3<<2)|0;if((d[U>>2]|0)<(Je|0))d[U>>2]=Je;d[n+1310736+(I+-1<<2)>>2]=et;At=kt;break}H=h[gt+-2>>1]|0;if(H<<16>>16>0){h[gt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Je;W=n+1310736+(G+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+et;X=n+1310736+(G+-3<<2)|0;if((d[X>>2]|0)>=(Je|0)){At=kt;break}d[X>>2]=Je;At=kt;break}else{q=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=q;d[n+1179664+(kt<<2)>>2]=q<<16>>16;Y=kt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=Je;d[n+1310736+(Y+2<<2)>>2]=et;d[n+1310736+(Y+3<<2)>>2]=Je;d[n+1310736+(Y+4<<2)>>2]=Je;d[n+1310736+(Y+5<<2)>>2]=et;d[n+1310736+(Y+6<<2)>>2]=et;At=q;break}}if(Fe){Be=d[n+1179664+(Ie+-1<<2)>>2]|0;Ue=d[n+1179664+(De+-1<<2)>>2]|0;if((Be|0)>(Ue|0)){h[gt>>1]=Ue;if((kt|0)>0){nt=0;bt=O;while(1){if((d[bt>>2]|0)==(Be|0))d[bt>>2]=Ue;nt=nt+1|0;if((nt|0)>=(kt|0)){He=Ue;break}else bt=bt+4|0}}else He=Ue}else{h[gt>>1]=Be;if((Be|0)<(Ue|0)&(kt|0)>0){at=0;wt=O;while(1){if((d[wt>>2]|0)==(Ue|0))d[wt>>2]=Be;at=at+1|0;if((at|0)>=(kt|0)){He=Be;break}else wt=wt+4|0}}else He=Be}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;m=n+1310736+(Ge+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Je;v=n+1310736+(Ge+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+et;d[n+1310736+(Ge+-1<<2)>>2]=et;At=kt;break}g=h[gt+-2>>1]|0;if(g<<16>>16<=0){h[gt>>1]=Oe;A=Ie*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+et;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(Je|0))d[C>>2]=Je;d[n+1310736+(A+-1<<2)>>2]=et;At=kt;break}b=d[n+1179664+(Ie+-1<<2)>>2]|0;x=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(x|0)){h[gt>>1]=x;if((kt|0)>0){ot=0;_t=O;while(1){if((d[_t>>2]|0)==(b|0))d[_t>>2]=x;ot=ot+1|0;if((ot|0)>=(kt|0)){E=x;break}else _t=_t+4|0}}else E=x}else{h[gt>>1]=b;if((b|0)<(x|0)&(kt|0)>0){st=0;xt=O;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=b;st=st+1|0;if((st|0)>=(kt|0)){E=b;break}else xt=xt+4|0}}else E=b}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+et;At=kt}else{h[gt>>1]=0;f[Xe>>0]=0;At=kt}}while(0);Je=Je+1|0;J=ut+2|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(u|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(c|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+4|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=O;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=t;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=i;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ae=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;oe=Qe*7|0;se=n+12+(ae<<2)|0;d[se>>2]=(d[se>>2]|0)+(d[n+1310736+(oe<<2)>>2]|0);le=ae<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(oe+1<<2)>>2]|0);he=n+655376+((le|1)<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(oe+2<<2)>>2]|0);de=ae<<2;me=n+131084+(de<<2)|0;ve=d[n+1310736+(oe+3<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((de|1)<<2)|0;ye=d[n+1310736+(oe+4<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;be=n+131084+((de|2)<<2)|0;we=d[n+1310736+(oe+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((de|3)<<2)|0;xe=d[n+1310736+(oe+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function er(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){qe=0;ft=l;dt=l+((fe(c,t)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(t|0))break;else{ft=ft+2|0;dt=dt+2|0}}}ze=r*3|0;u=t+-1|0;if((i|0)>0){Ye=0;ht=l;pt=l+(u<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(i|0))break;else{ht=ht+(t<<1)|0;pt=pt+(t<<1)|0}}}O=n+1179664|0;F=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ne=(u|0)>1;je=(d[n+4>>2]|0)+F|0;et=1;lt=e+(F<<1)|0;mt=l+(F<<1)|0;St=0;t:while(1){if(ne){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){ue=p[ut>>0]|0;ke=p[ut+1>>0]|0;do{if(((ue&248)+10+(ue<<5&224)+(ke>>>3&28)+(ke<<3&248)|0)>(ze|0)){h[gt>>1]=0;f[Xe>>0]=0;At=kt}else{f[Xe>>0]=-1;Ae=h[gt+(z<<1)>>1]|0;if(Ae<<16>>16>0){h[gt>>1]=Ae;Re=(Ae<<16>>16)*7|0;Le=n+1310736+(Re+-7<<2)|0;d[Le>>2]=(d[Le>>2]|0)+1;Pe=n+1310736+(Re+-6<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+Je;Ce=n+1310736+(Re+-5<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+et;d[n+1310736+(Re+-1<<2)>>2]=et;At=kt;break}Oe=h[gt+(o<<1)>>1]|0;Ie=Oe<<16>>16;Ne=h[gt+(s<<1)>>1]|0;De=Ne<<16>>16;Fe=Ne<<16>>16>0;if(Oe<<16>>16<=0){if(Fe){h[gt>>1]=Ne;I=De*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;B=n+1310736+(I+-5<<2)|0;d[B>>2]=(d[B>>2]|0)+et;U=n+1310736+(I+-3<<2)|0;if((d[U>>2]|0)<(Je|0))d[U>>2]=Je;d[n+1310736+(I+-1<<2)>>2]=et;At=kt;break}H=h[gt+-2>>1]|0;if(H<<16>>16>0){h[gt>>1]=H;G=(H<<16>>16)*7|0;V=n+1310736+(G+-7<<2)|0;d[V>>2]=(d[V>>2]|0)+1;j=n+1310736+(G+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Je;W=n+1310736+(G+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+et;X=n+1310736+(G+-3<<2)|0;if((d[X>>2]|0)>=(Je|0)){At=kt;break}d[X>>2]=Je;At=kt;break}else{q=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=q;d[n+1179664+(kt<<2)>>2]=q<<16>>16;Y=kt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=Je;d[n+1310736+(Y+2<<2)>>2]=et;d[n+1310736+(Y+3<<2)>>2]=Je;d[n+1310736+(Y+4<<2)>>2]=Je;d[n+1310736+(Y+5<<2)>>2]=et;d[n+1310736+(Y+6<<2)>>2]=et;At=q;break}}if(Fe){Be=d[n+1179664+(Ie+-1<<2)>>2]|0;Ue=d[n+1179664+(De+-1<<2)>>2]|0;if((Be|0)>(Ue|0)){h[gt>>1]=Ue;if((kt|0)>0){nt=0;bt=O;while(1){if((d[bt>>2]|0)==(Be|0))d[bt>>2]=Ue;nt=nt+1|0;if((nt|0)>=(kt|0)){He=Ue;break}else bt=bt+4|0}}else He=Ue}else{h[gt>>1]=Be;if((Be|0)<(Ue|0)&(kt|0)>0){at=0;wt=O;while(1){if((d[wt>>2]|0)==(Ue|0))d[wt>>2]=Be;at=at+1|0;if((at|0)>=(kt|0)){He=Be;break}else wt=wt+4|0}}else He=Be}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;m=n+1310736+(Ge+-6<<2)|0;d[m>>2]=(d[m>>2]|0)+Je;v=n+1310736+(Ge+-5<<2)|0;d[v>>2]=(d[v>>2]|0)+et;d[n+1310736+(Ge+-1<<2)>>2]=et;At=kt;break}g=h[gt+-2>>1]|0;if(g<<16>>16<=0){h[gt>>1]=Oe;A=Ie*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+Je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+et;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(Je|0))d[C>>2]=Je;d[n+1310736+(A+-1<<2)>>2]=et;At=kt;break}b=d[n+1179664+(Ie+-1<<2)>>2]|0;x=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(x|0)){h[gt>>1]=x;if((kt|0)>0){ot=0;_t=O;while(1){if((d[_t>>2]|0)==(b|0))d[_t>>2]=x;ot=ot+1|0;if((ot|0)>=(kt|0)){E=x;break}else _t=_t+4|0}}else E=x}else{h[gt>>1]=b;if((b|0)<(x|0)&(kt|0)>0){st=0;xt=O;while(1){if((d[xt>>2]|0)==(x|0))d[xt>>2]=b;st=st+1|0;if((st|0)>=(kt|0)){E=b;break}else xt=xt+4|0}}else E=b}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+et;At=kt}}while(0);Je=Je+1|0;J=ut+2|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(u|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(c|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+4|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=O;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=t;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=i;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ae=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;oe=Qe*7|0;se=n+12+(ae<<2)|0;d[se>>2]=(d[se>>2]|0)+(d[n+1310736+(oe<<2)>>2]|0);le=ae<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(oe+1<<2)>>2]|0);he=n+655376+((le|1)<<3)|0;y[he>>3]=+y[he>>3]+ +(d[n+1310736+(oe+2<<2)>>2]|0);de=ae<<2;me=n+131084+(de<<2)|0;ve=d[n+1310736+(oe+3<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((de|1)<<2)|0;ye=d[n+1310736+(oe+4<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;be=n+131084+((de|2)<<2)|0;we=d[n+1310736+(oe+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((de|3)<<2)|0;xe=d[n+1310736+(oe+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function tr(e,t,i,r,n,a,o,s,l,c,u,h,m,v,g,b,x,E,M){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;s=s|0;l=l|0;c=+c;u=u|0;h=h|0;m=m|0;v=v|0;g=g|0;b=b|0;x=x|0;E=E|0;M=M|0;var S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0;_t=w;w=w+12448|0;if((w|0)>=(_|0))pe();Qe=_t+12440|0;Ke=_t+8|0;Oe=_t;wt=_t+12312|0;tt=_t+24|0;do{if((i+-2|0)>>>0<3){if((x|0)!=2830){$=x&255;if((wi(t,2,$,$*3|0,r,n,a,o,s,l,c,tt)|0)<0){d[v>>2]=-1;$e=-6;break}ee=dn(tt,$,v,g,b,x,E)|0;if(!M){$e=ee;break}te=M;d[te>>2]=0;d[te+4>>2]=0;$e=ee;break}if((wi(t,2,14,42,r,n,a,o,s,l,.875,tt)|0)<0){d[v>>2]=-1;$e=-6;break}d[Ke>>2]=0;d[Ke+4>>2]=182;d[Ke+8>>2]=195;d[Ke+12>>2]=13;ue=f[tt+(d[Ke>>2]|0)>>0]|0;k=(ue&255)>0?ue:0;vt=(ue&255)<255?ue:-1;z=f[tt+(d[Ke+4>>2]|0)>>0]|0;A=(z&255)>(k&255)?z:k;gt=(z&255)<(vt&255)?z:vt;Q=f[tt+(d[Ke+8>>2]|0)>>0]|0;R=(Q&255)>(A&255)?Q:A;yt=(Q&255)<(gt&255)?Q:gt;ae=f[tt+(d[Ke+12>>2]|0)>>0]|0;oe=((ae&255)>(R&255)?ae:R)&255;se=((ae&255)<(yt&255)?ae:yt)&255;e:do{if((oe-se|0)<30){d[g>>2]=0;y[b>>3]=-1.0;T=-2;J=0;Z=0}else{le=(oe+se|0)>>>1;f[Qe>>0]=(p[tt+(d[Ke>>2]|0)>>0]|0)>>>0<le>>>0&1;f[Qe+1>>0]=(p[tt+(d[Ke+4>>2]|0)>>0]|0)>>>0<le>>>0&1;f[Qe+2>>0]=(p[tt+(d[Ke+8>>2]|0)>>0]|0)>>>0<le>>>0&1;f[Qe+3>>0]=(p[tt+(d[Ke+12>>2]|0)>>0]|0)>>>0<le>>>0&1;rt=0;while(1){ce=rt+1|0;if((f[Qe+rt>>0]|0)==1)if((f[Qe+((ce|0)%4|0)>>0]|0)==1)if(!(f[Qe+((rt+2|0)%4|0)>>0]|0)){it=rt;break}if((ce|0)<4)rt=ce;else{it=ce;break}}switch(it|0){case 4:{d[g>>2]=0;y[b>>3]=-1.0;T=-3;J=0;Z=0;break e;break}case 0:{ge=119;Ie=255;ut=0;while(1){ft=ut+-3|0;fe=(ut&-2|0)==12;he=ut*14|0;ye=ge;Ne=Ie;nt=0;while(1){if((nt+-3|ft)>>>0<8){xe=ye;ze=Ne}else{de=nt&-2;if((nt|ut)>>>0<2){xe=ye;ze=Ne}else if(fe&((de|0)==0|(de|0)==12)){xe=ye;ze=Ne}else{me=(p[tt+(nt+he)>>0]|0)-le|0;f[wt+ye>>0]=me>>>31;ve=(me|0)>-1?me:0-me|0;xe=ye+-1|0;ze=(ve|0)<(Ne|0)?ve:Ne}}nt=nt+1|0;if((nt|0)==14){Ee=xe;He=ze;break}else{ye=xe;Ne=ze}}L=ut+1|0;if((L|0)==14){Ue=He;break}else{ge=Ee;Ie=He;ut=L}}break}case 1:{Me=119;Ge=255;at=0;while(1){ot=at+-3|0;P=at&-2;C=(P|0)==0;O=(P|0)==12;Se=Me;Ve=Ge;ht=13;while(1){if((ht+-3|ot)>>>0<8){Te=Se;je=Ve}else{I=(ht&-2|0)==12;if(C&I){Te=Se;je=Ve}else if(O&(ht>>>0<2|I)){Te=Se;je=Ve}else{N=(p[tt+((ht*14|0)+at)>>0]|0)-le|0;f[wt+Se>>0]=N>>>31;D=(N|0)>-1?N:0-N|0;Te=Se+-1|0;je=(D|0)<(Ve|0)?D:Ve}}if((ht|0)>0){Se=Te;Ve=je;ht=ht+-1|0}else{ke=Te;We=je;break}}F=at+1|0;if((F|0)==14){Ue=We;break}else{Me=ke;Ge=We;at=F}}break}case 2:{Ae=119;Xe=255;dt=13;while(1){pt=dt+-3|0;bt=dt>>>0<2|(dt&-2|0)==12;B=dt*14|0;Re=Ae;qe=Xe;st=13;while(1){if((st+-3|pt)>>>0<8){Le=Re;Ye=qe}else if((st|dt)>>>0<2|bt&(st&-2|0)==12){Le=Re;Ye=qe}else{U=(p[tt+(st+B)>>0]|0)-le|0;f[wt+Re>>0]=U>>>31;H=(U|0)>-1?U:0-U|0;Le=Re+-1|0;Ye=(H|0)<(qe|0)?H:qe}if((st|0)>0){Re=Le;qe=Ye;st=st+-1|0}else{Pe=Le;Je=Ye;break}}if((dt|0)>0){Ae=Pe;Xe=Je;dt=dt+-1|0}else{Ue=Je;break}}break}case 3:{Ce=119;Ze=255;lt=13;while(1){ct=lt+-3|0;G=lt&-2;V=(G|0)==12;j=(G|0)==0;be=Ce;De=Ze;mt=0;while(1){if((mt+-3|ct)>>>0<8){we=be;Fe=De}else if(V&mt>>>0<2|(mt|lt)>>>0<2){we=be;Fe=De}else if(j&(mt&-2|0)==12){we=be;Fe=De}else{W=(p[tt+((mt*14|0)+lt)>>0]|0)-le|0;f[wt+be>>0]=W>>>31;X=(W|0)>-1?W:0-W|0;we=be+-1|0;Fe=(X|0)<(De|0)?X:De}mt=mt+1|0;if((mt|0)==14){_e=we;Be=Fe;break}else{be=we;De=Fe}}if((lt|0)>0){Ce=_e;Ze=Be;lt=lt+-1|0}else{Ue=Be;break}}break}default:Ue=255}d[g>>2]=it;y[b>>3]=(Ue|0)>30?1.0:+(Ue|0)/30.0;q=pn(2830,0,0,wt,Oe)|0;if((q|0)<0){T=-4;J=0;Z=0}else{if(E)d[E>>2]=q;Y=Oe;T=0;J=d[Y>>2]|0;Z=d[Y+4>>2]|0}}}while(0);if((T|0)<0){d[v>>2]=-1;$e=T;break}if((J|0)==-1&(Z|0)==-1){d[v>>2]=-1;$e=-5;break}d[v>>2]=(J&-32768|0)==0&0==0?J&32767:0;if(!M)$e=0;else{K=M;d[K>>2]=J;d[K+4>>2]=Z;$e=0}}else $e=1}while(0);e:do{switch(i|0){case 0:case 1:case 3:case 4:{if(!e){d[u>>2]=-1;et=-1;break e}ie=e+28|0;re=d[ie>>2]|0;ne=re<<2;switch(i|0){case 0:case 3:{if((wi(t,0,re,ne,r,n,a,o,s,l,c,tt)|0)<0){d[u>>2]=-1;et=-6;break e}else{et=gn(e,0,tt,d[ie>>2]|0,u,h,m)|0;break e}break}default:if((wi(t,1,re,ne,r,n,a,o,s,l,c,tt)|0)<0){d[u>>2]=-1;et=-6;break e}else{et=gn(e,1,tt,d[ie>>2]|0,u,h,m)|0;break e}}break}default:et=1}}while(0);if(($e|0)==1)S=et;else if((et|0)==1)S=$e;else S=(et&$e|0)<0?et:0;w=_t;return S|0}function ir(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0;Rt=w;w=w+16|0;if((w|0)>=(_|0))pe();gt=Rt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Xe=0;ut=l;ht=l+((fe(c,t)|0)<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(t|0))break;else{ut=ut+2|0;ht=ht+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){qe=0;ft=l;dt=l+(u<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(i|0))break;else{ft=ft+(t<<1)|0;dt=dt+(t<<1)|0}}}I=n+1179664|0;F=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){re=(u|0)>1;Ve=(d[n+4>>2]|0)+F|0;$e=1;st=e+(F<<1)|0;pt=l+(F<<1)|0;Mt=0;t:while(1){if(re){We=Ve;Ye=1;ct=st;vt=pt;Tt=Mt;while(1){ce=p[ct>>0]|0;do{if(((ce&240)+24+(ce<<4&240)+((p[ct+1>>0]|0)&240)|0)>(Be|0)){f[We>>0]=-1;Te=h[vt+(z<<1)>>1]|0;if(Te<<16>>16>0){h[vt>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Ye;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+$e;d[n+1310736+(ke+-1<<2)>>2]=$e;kt=Tt;break}Pe=h[vt+(o<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[vt+(s<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[vt>>1]=Oe;C=Ie*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+Ye;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+$e;B=n+1310736+(C+-3<<2)|0;if((d[B>>2]|0)<(Ye|0))d[B>>2]=Ye;d[n+1310736+(C+-1<<2)>>2]=$e;kt=Tt;break}U=h[vt+-2>>1]|0;if(U<<16>>16>0){h[vt>>1]=U;H=(U<<16>>16)*7|0;G=n+1310736+(H+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(H+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+Ye;j=n+1310736+(H+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+$e;W=n+1310736+(H+-3<<2)|0;if((d[W>>2]|0)>=(Ye|0)){kt=Tt;break}d[W>>2]=Ye;kt=Tt;break}else{X=Tt+1|0;if((Tt|0)>32767)break t;h[vt>>1]=X;d[n+1179664+(Tt<<2)>>2]=X<<16>>16;q=Tt*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=Ye;d[n+1310736+(q+2<<2)>>2]=$e;d[n+1310736+(q+3<<2)>>2]=Ye;d[n+1310736+(q+4<<2)>>2]=Ye;d[n+1310736+(q+5<<2)>>2]=$e;d[n+1310736+(q+6<<2)>>2]=$e;kt=X;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[vt>>1]=Fe;if((Tt|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Fe;rt=rt+1|0;if((rt|0)>=(Tt|0)){Ue=Fe;break}else yt=yt+4|0}}else Ue=Fe}else{h[vt>>1]=De;if((De|0)<(Fe|0)&(Tt|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=De;nt=nt+1|0;if((nt|0)>=(Tt|0)){Ue=De;break}else bt=bt+4|0}}else Ue=De}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Ye;m=n+1310736+(ze+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+$e;d[n+1310736+(ze+-1<<2)>>2]=$e;kt=Tt;break}v=h[vt+-2>>1]|0;if(v<<16>>16<=0){h[vt>>1]=Pe;k=Ce*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Ye;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+$e;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Ye|0))d[P>>2]=Ye;d[n+1310736+(k+-1<<2)>>2]=$e;kt=Tt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[vt>>1]=b;if((Tt|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(g|0))d[wt>>2]=b;at=at+1|0;if((at|0)>=(Tt|0)){x=b;break}else wt=wt+4|0}}else x=b}else{h[vt>>1]=g;if((g|0)<(b|0)&(Tt|0)>0){ot=0;_t=I;while(1){if((d[_t>>2]|0)==(b|0))d[_t>>2]=g;ot=ot+1|0;if((ot|0)>=(Tt|0)){x=g;break}else _t=_t+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Ye;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+$e;kt=Tt}else{h[vt>>1]=0;f[We>>0]=0;kt=Tt}}while(0);Ye=Ye+1|0;Y=ct+2|0;J=vt+2|0;Z=We+1|0;if((Ye|0)>=(u|0)){je=Z;lt=Y;mt=J;St=kt;break}else{We=Z;ct=Y;vt=J;Tt=kt}}}else{je=Ve;lt=st;mt=pt;St=Mt}$e=$e+1|0;if(($e|0)>=(c|0)){Et=St;At=52;break e}else{Ve=je+2|0;st=lt+4|0;pt=mt+4|0;Mt=St}}Ha(3,3904,gt);a=-1}else{Et=0;At=52}}while(0);if((At|0)==52){K=n+12|0;if((Et|0)<1)et=1;else{Je=1;tt=1;xt=I;while(1){Q=d[xt>>2]|0;if((Q|0)==(Je|0)){$=tt;it=tt+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;it=tt}d[xt>>2]=$;if((Je|0)<(Et|0)){Je=Je+1|0;tt=it;xt=xt+4|0}else{et=it;break}}}ee=n+8|0;te=et+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((et|0)>1){Ze=0;do{ie=Ze<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(d[ee>>2]|0))}if((Et|0)>0){Ke=0;do{ne=(d[n+1179664+(Ke<<2)>>2]|0)+-1|0;ae=Ke*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ue=n+655376+((se|1)<<3)|0;y[ue>>3]=+y[ue>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);he=ne<<2;de=n+131084+(he<<2)|0;me=d[n+1310736+(ae+3<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((he|1)<<2)|0;ge=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;ye=n+131084+((he|2)<<2)|0;be=d[n+1310736+(ae+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((he|3)<<2)|0;_e=d[n+1310736+(ae+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;Ke=Ke+1|0}while((Ke|0)<(Et|0))}if((d[ee>>2]|0)>0){Qe=0;do{xe=n+12+(Qe<<2)|0;Ee=Qe<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Qe=Qe+1|0}while((Qe|0)<(d[ee>>2]|0));a=0}else a=0}}w=Rt;return a|0}function rr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0;Rt=w;w=w+16|0;if((w|0)>=(_|0))pe();gt=Rt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Xe=0;ut=l;ht=l+((fe(c,t)|0)<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(t|0))break;else{ut=ut+2|0;ht=ht+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){qe=0;ft=l;dt=l+(u<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(i|0))break;else{ft=ft+(t<<1)|0;dt=dt+(t<<1)|0}}}I=n+1179664|0;F=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){re=(u|0)>1;Ve=(d[n+4>>2]|0)+F|0;$e=1;st=e+(F<<1)|0;pt=l+(F<<1)|0;Mt=0;t:while(1){if(re){We=Ve;Ye=1;ct=st;vt=pt;Tt=Mt;while(1){ce=p[ct>>0]|0;do{if(((ce&240)+24+(ce<<4&240)+((p[ct+1>>0]|0)&240)|0)>(Be|0)){h[vt>>1]=0;f[We>>0]=0;kt=Tt}else{f[We>>0]=-1;Te=h[vt+(z<<1)>>1]|0;if(Te<<16>>16>0){h[vt>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Ye;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+$e;d[n+1310736+(ke+-1<<2)>>2]=$e;kt=Tt;break}Pe=h[vt+(o<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[vt+(s<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[vt>>1]=Oe;C=Ie*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+Ye;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+$e;B=n+1310736+(C+-3<<2)|0;if((d[B>>2]|0)<(Ye|0))d[B>>2]=Ye;d[n+1310736+(C+-1<<2)>>2]=$e;kt=Tt;break}U=h[vt+-2>>1]|0;if(U<<16>>16>0){h[vt>>1]=U;H=(U<<16>>16)*7|0;G=n+1310736+(H+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(H+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+Ye;j=n+1310736+(H+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+$e;W=n+1310736+(H+-3<<2)|0;if((d[W>>2]|0)>=(Ye|0)){kt=Tt;break}d[W>>2]=Ye;kt=Tt;break}else{X=Tt+1|0;if((Tt|0)>32767)break t;h[vt>>1]=X;d[n+1179664+(Tt<<2)>>2]=X<<16>>16;q=Tt*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=Ye;d[n+1310736+(q+2<<2)>>2]=$e;d[n+1310736+(q+3<<2)>>2]=Ye;d[n+1310736+(q+4<<2)>>2]=Ye;d[n+1310736+(q+5<<2)>>2]=$e;d[n+1310736+(q+6<<2)>>2]=$e;kt=X;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[vt>>1]=Fe;if((Tt|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Fe;rt=rt+1|0;if((rt|0)>=(Tt|0)){Ue=Fe;break}else yt=yt+4|0}}else Ue=Fe}else{h[vt>>1]=De;if((De|0)<(Fe|0)&(Tt|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=De;nt=nt+1|0;if((nt|0)>=(Tt|0)){Ue=De;break}else bt=bt+4|0}}else Ue=De}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Ye;m=n+1310736+(ze+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+$e;d[n+1310736+(ze+-1<<2)>>2]=$e;kt=Tt;break}v=h[vt+-2>>1]|0;if(v<<16>>16<=0){h[vt>>1]=Pe;k=Ce*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Ye;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+$e;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Ye|0))d[P>>2]=Ye;d[n+1310736+(k+-1<<2)>>2]=$e;kt=Tt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[vt>>1]=b;if((Tt|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(g|0))d[wt>>2]=b;at=at+1|0;if((at|0)>=(Tt|0)){x=b;break}else wt=wt+4|0}}else x=b}else{h[vt>>1]=g;if((g|0)<(b|0)&(Tt|0)>0){ot=0;_t=I;while(1){if((d[_t>>2]|0)==(b|0))d[_t>>2]=g;ot=ot+1|0;if((ot|0)>=(Tt|0)){x=g;break}else _t=_t+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Ye;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+$e;kt=Tt}}while(0);Ye=Ye+1|0;Y=ct+2|0;J=vt+2|0;Z=We+1|0;if((Ye|0)>=(u|0)){je=Z;lt=Y;mt=J;St=kt;break}else{We=Z;ct=Y;vt=J;Tt=kt}}}else{je=Ve;lt=st;mt=pt;St=Mt}$e=$e+1|0;if(($e|0)>=(c|0)){Et=St;At=52;break e}else{Ve=je+2|0;st=lt+4|0;pt=mt+4|0;Mt=St}}Ha(3,3904,gt);a=-1}else{Et=0;At=52}}while(0);if((At|0)==52){K=n+12|0;if((Et|0)<1)et=1;else{Je=1;tt=1;xt=I;while(1){Q=d[xt>>2]|0;if((Q|0)==(Je|0)){$=tt;it=tt+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;it=tt}d[xt>>2]=$;if((Je|0)<(Et|0)){Je=Je+1|0;tt=it;xt=xt+4|0}else{et=it;break}}}ee=n+8|0;te=et+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((et|0)>1){Ze=0;do{ie=Ze<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(d[ee>>2]|0))}if((Et|0)>0){Ke=0;do{ne=(d[n+1179664+(Ke<<2)>>2]|0)+-1|0;ae=Ke*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ue=n+655376+((se|1)<<3)|0;y[ue>>3]=+y[ue>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);he=ne<<2;de=n+131084+(he<<2)|0;me=d[n+1310736+(ae+3<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((he|1)<<2)|0;ge=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;ye=n+131084+((he|2)<<2)|0;be=d[n+1310736+(ae+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((he|3)<<2)|0;_e=d[n+1310736+(ae+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;Ke=Ke+1|0}while((Ke|0)<(Et|0))}if((d[ee>>2]|0)>0){Qe=0;do{xe=n+12+(Qe<<2)|0;Ee=Qe<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Qe=Qe+1|0}while((Qe|0)<(d[ee>>2]|0));a=0}else a=0}}w=Rt;return a|0}function nr(e,t,i,r,n,a,o,s,l,c){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;s=s|0;l=l|0;c=c|0;var u=0;e:do{switch(n|0){case 0:{switch(a|0){case 1:{if(c){u=Mr(e,t,i,c,l)|0;break e}switch(s|0){case 0:{if(r>>>0<2){u=Xr(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=Yr(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=jr(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=sn(e,t,i,o,l)|0;break e;break}case 8:{u=an(e,t,i,o,l)|0;break e;break}case 7:{u=rn(e,t,i,o,l)|0;break e;break}case 9:{u=Ir(e,t,i,o,l)|0;break e;break}case 10:{u=Cr(e,t,i,o,l)|0;break e;break}case 11:{u=Gr(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}case 1:{if(r>>>0<2){u=Dr(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=zr(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=Br(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=en(e,t,i,o,l)|0;break e;break}case 8:{u=Qr(e,t,i,o,l)|0;break e;break}case 7:{u=Zr(e,t,i,o,l)|0;break e;break}case 9:{u=Ar(e,t,i,o,l)|0;break e;break}case 10:{u=Tr(e,t,i,o,l)|0;break e;break}case 11:{u=Rr(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}default:Wt(0)}break}case 0:{if(c){u=Er(e,t,i,c,l)|0;break e}switch(s|0){case 0:{if(r>>>0<2){u=Wr(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=qr(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=Vr(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=on(e,t,i,o,l)|0;break e;break}case 8:{u=nn(e,t,i,o,l)|0;break e;break}case 7:{u=tn(e,t,i,o,l)|0;break e;break}case 9:{u=Or(e,t,i,o,l)|0;break e;break}case 10:{u=Pr(e,t,i,o,l)|0;break e;break}case 11:{u=Hr(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}case 1:{if(r>>>0<2){u=Nr(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=Ur(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=Fr(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=$r(e,t,i,o,l)|0;break e;break}case 8:{u=Kr(e,t,i,o,l)|0;break e;break}case 7:{u=Jr(e,t,i,o,l)|0;break e;break}case 9:{u=kr(e,t,i,o,l)|0;break e;break}case 10:{u=Sr(e,t,i,o,l)|0;break e;break}case 11:{u=Lr(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}default:Wt(0)}break}default:Wt(0)}break}case 1:{switch(a|0){case 1:{if(c){u=Bi(e,t,i,c,l)|0;break e}switch(s|0){case 0:{if(r>>>0<2){u=lr(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=ur(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=or(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=xr(e,t,i,o,l)|0;break e;break}case 8:{u=wr(e,t,i,o,l)|0;break e;break}case 7:{u=yr(e,t,i,o,l)|0;break e;break}case 9:{u=er(e,t,i,o,l)|0;break e;break}case 10:{u=Qi(e,t,i,o,l)|0;break e;break}case 11:{u=rr(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}case 1:{if(r>>>0<2){u=Xi(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=Zi(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=Yi(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=vr(e,t,i,o,l)|0;break e;break}case 8:{u=dr(e,t,i,o,l)|0;break e;break}case 7:{u=hr(e,t,i,o,l)|0;break e;break}case 9:{u=Gi(e,t,i,o,l)|0;break e;break}case 10:{u=zi(e,t,i,o,l)|0;break e;break}case 11:{u=ji(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}default:Wt(0)}break}case 0:{if(c){u=Fi(e,t,i,c,l)|0;break e}switch(s|0){case 0:{if(r>>>0<2){u=sr(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=cr(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=ar(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=_r(e,t,i,o,l)|0;break e;break}case 8:{u=br(e,t,i,o,l)|0;break e;break}case 7:{u=gr(e,t,i,o,l)|0;break e;break}case 9:{u=$i(e,t,i,o,l)|0;break e;break}case 10:{u=Ki(e,t,i,o,l)|0;break e;break}case 11:{u=ir(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}case 1:{if(r>>>0<2){u=Wi(e,t,i,o,l)|0;break e}if((r&-2|0)==2){u=Ji(e,t,i,o,l)|0;break e}if((r&-3|0)==4){u=qi(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{u=mr(e,t,i,o,l)|0;break e;break}case 8:{u=pr(e,t,i,o,l)|0;break e;break}case 7:{u=fr(e,t,i,o,l)|0;break e;break}case 9:{u=Hi(e,t,i,o,l)|0;break e;break}case 10:{u=Ui(e,t,i,o,l)|0;break e;break}case 11:{u=Vi(e,t,i,o,l)|0;break e;break}default:Wt(0)}break}default:Wt(0)}break}default:Wt(0)}break}default:Wt(0)}}while(0);return u|0}function ar(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0;At=w;w=w+16|0;if((w|0)>=(_|0))pe();vt=At;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(u<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}I=n+1179664|0;F=t+1|0;H=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ne=(u|0)>1;Ge=(d[n+4>>2]|0)+F|0;Qe=1;ot=e+(F<<2)|0;dt=l+(F<<1)|0;Et=0;t:while(1){if(ne){je=Ge;qe=1;lt=ot;mt=dt;St=Et;while(1){do{if(((p[lt+2>>0]|0)+(p[lt+1>>0]|0)+(p[lt+3>>0]|0)|0)>(Be|0)){f[je>>0]=-1;Se=h[mt+(H<<1)>>1]|0;if(Se<<16>>16>0){h[mt>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+qe;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Qe;d[n+1310736+(Te+-1<<2)>>2]=Qe;Tt=St;break}Le=h[mt+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[mt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[mt>>1]=Ce;C=Oe*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+qe;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Qe;B=n+1310736+(C+-3<<2)|0;if((d[B>>2]|0)<(qe|0))d[B>>2]=qe;d[n+1310736+(C+-1<<2)>>2]=Qe;Tt=St;break}U=h[mt+-2>>1]|0;if(U<<16>>16>0){h[mt>>1]=U;z=(U<<16>>16)*7|0;G=n+1310736+(z+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(z+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+qe;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Qe;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(qe|0)){Tt=St;break}d[W>>2]=qe;Tt=St;break}else{X=St+1|0;if((St|0)>32767)break t;h[mt>>1]=X;d[n+1179664+(St<<2)>>2]=X<<16>>16;q=St*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=qe;d[n+1310736+(q+2<<2)>>2]=Qe;d[n+1310736+(q+3<<2)>>2]=qe;d[n+1310736+(q+4<<2)>>2]=qe;d[n+1310736+(q+5<<2)>>2]=Qe;d[n+1310736+(q+6<<2)>>2]=Qe;Tt=X;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[mt>>1]=De;if((St|0)>0){it=0;gt=I;while(1){if((d[gt>>2]|0)==(Ne|0))d[gt>>2]=De;it=it+1|0;if((it|0)>=(St|0)){Fe=De;break}else gt=gt+4|0}}else Fe=De}else{h[mt>>1]=Ne;if((Ne|0)<(De|0)&(St|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Ne;rt=rt+1|0;if((rt|0)>=(St|0)){Fe=Ne;break}else yt=yt+4|0}}else Fe=Ne}Ue=(Fe<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+qe;m=n+1310736+(Ue+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Qe;d[n+1310736+(Ue+-1<<2)>>2]=Qe;Tt=St;break}v=h[mt+-2>>1]|0;if(v<<16>>16<=0){h[mt>>1]=Le;k=Pe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+qe;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(qe|0))d[P>>2]=qe;d[n+1310736+(k+-1<<2)>>2]=Qe;Tt=St;break}g=d[n+1179664+(Pe+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[mt>>1]=b;if((St|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(g|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(St|0)){x=b;break}else bt=bt+4|0}}else x=b}else{h[mt>>1]=g;if((g|0)<(b|0)&(St|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(b|0))d[wt>>2]=g;at=at+1|0;if((at|0)>=(St|0)){x=g;break}else wt=wt+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Qe;Tt=St}else{h[mt>>1]=0;f[je>>0]=0;Tt=St}}while(0);qe=qe+1|0;Y=lt+4|0;J=mt+2|0;Z=je+1|0;if((qe|0)>=(u|0)){Ve=Z;st=Y;pt=J;Mt=Tt;break}else{je=Z;lt=Y;mt=J;St=Tt}}}else{Ve=Ge;st=ot;pt=dt;Mt=Et}Qe=Qe+1|0;if((Qe|0)>=(c|0)){xt=Mt;kt=52;break e}else{Ge=Ve+2|0;ot=st+8|0;dt=pt+4|0;Et=Mt}}Ha(3,3904,vt);a=-1}else{xt=0;kt=52}}while(0);if((kt|0)==52){K=n+12|0;if((xt|0)<1)$e=1;else{Ye=1;et=1;_t=I;while(1){Q=d[_t>>2]|0;if((Q|0)==(Ye|0)){$=et;tt=et+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;tt=et}d[_t>>2]=$;if((Ye|0)<(xt|0)){Ye=Ye+1|0;et=tt;_t=_t+4|0}else{$e=tt;break}}}ee=n+8|0;te=$e+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if(($e|0)>1){Je=0;do{ie=Je<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[ee>>2]|0))}if((xt|0)>0){Ze=0;do{re=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;ae=Ze*7|0;oe=n+12+(re<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ae+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;ge=n+131084+((ue|2)<<2)|0;ye=d[n+1310736+(ae+5<<2)>>2]|0;if((d[ge>>2]|0)>(ye|0))d[ge>>2]=ye;be=n+131084+((ue|3)<<2)|0;we=d[n+1310736+(ae+6<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;Ze=Ze+1|0}while((Ze|0)<(xt|0))}if((d[ee>>2]|0)>0){Ke=0;do{_e=n+12+(Ke<<2)|0;xe=Ke<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[ee>>2]|0));a=0}else a=0}}w=At;return a|0}function or(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0;At=w;w=w+16|0;if((w|0)>=(_|0))pe();vt=At;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(u<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}I=n+1179664|0;F=t+1|0;H=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ne=(u|0)>1;Ge=(d[n+4>>2]|0)+F|0;Qe=1;ot=e+(F<<2)|0;dt=l+(F<<1)|0;Et=0;t:while(1){if(ne){je=Ge;qe=1;lt=ot;mt=dt;St=Et;while(1){do{if(((p[lt+2>>0]|0)+(p[lt+1>>0]|0)+(p[lt+3>>0]|0)|0)>(Be|0)){h[mt>>1]=0;f[je>>0]=0;Tt=St}else{f[je>>0]=-1;Se=h[mt+(H<<1)>>1]|0;if(Se<<16>>16>0){h[mt>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+qe;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Qe;d[n+1310736+(Te+-1<<2)>>2]=Qe;Tt=St;break}Le=h[mt+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[mt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[mt>>1]=Ce;C=Oe*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+qe;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Qe;B=n+1310736+(C+-3<<2)|0;if((d[B>>2]|0)<(qe|0))d[B>>2]=qe;d[n+1310736+(C+-1<<2)>>2]=Qe;Tt=St;break}U=h[mt+-2>>1]|0;if(U<<16>>16>0){h[mt>>1]=U;z=(U<<16>>16)*7|0;G=n+1310736+(z+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(z+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+qe;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Qe;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(qe|0)){Tt=St;break}d[W>>2]=qe;Tt=St;break}else{X=St+1|0;if((St|0)>32767)break t;h[mt>>1]=X;d[n+1179664+(St<<2)>>2]=X<<16>>16;q=St*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=qe;d[n+1310736+(q+2<<2)>>2]=Qe;d[n+1310736+(q+3<<2)>>2]=qe;d[n+1310736+(q+4<<2)>>2]=qe;d[n+1310736+(q+5<<2)>>2]=Qe;d[n+1310736+(q+6<<2)>>2]=Qe;Tt=X;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[mt>>1]=De;if((St|0)>0){it=0;gt=I;while(1){if((d[gt>>2]|0)==(Ne|0))d[gt>>2]=De;it=it+1|0;if((it|0)>=(St|0)){Fe=De;break}else gt=gt+4|0}}else Fe=De}else{h[mt>>1]=Ne;if((Ne|0)<(De|0)&(St|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Ne;rt=rt+1|0;if((rt|0)>=(St|0)){Fe=Ne;break}else yt=yt+4|0}}else Fe=Ne}Ue=(Fe<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+qe;m=n+1310736+(Ue+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Qe;d[n+1310736+(Ue+-1<<2)>>2]=Qe;Tt=St;break}v=h[mt+-2>>1]|0;if(v<<16>>16<=0){h[mt>>1]=Le;k=Pe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+qe;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(qe|0))d[P>>2]=qe;d[n+1310736+(k+-1<<2)>>2]=Qe;Tt=St;break}g=d[n+1179664+(Pe+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[mt>>1]=b;if((St|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(g|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(St|0)){x=b;break}else bt=bt+4|0}}else x=b}else{h[mt>>1]=g;if((g|0)<(b|0)&(St|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(b|0))d[wt>>2]=g;at=at+1|0;if((at|0)>=(St|0)){x=g;break}else wt=wt+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Qe;Tt=St}}while(0);qe=qe+1|0;Y=lt+4|0;J=mt+2|0;Z=je+1|0;if((qe|0)>=(u|0)){Ve=Z;st=Y;pt=J;Mt=Tt;break}else{je=Z;lt=Y;mt=J;St=Tt}}}else{Ve=Ge;st=ot;pt=dt;Mt=Et}Qe=Qe+1|0;if((Qe|0)>=(c|0)){xt=Mt;kt=52;break e}else{Ge=Ve+2|0;ot=st+8|0;dt=pt+4|0;Et=Mt}}Ha(3,3904,vt);a=-1}else{xt=0;kt=52}}while(0);if((kt|0)==52){K=n+12|0;if((xt|0)<1)$e=1;else{Ye=1;et=1;_t=I;while(1){Q=d[_t>>2]|0;if((Q|0)==(Ye|0)){$=et;tt=et+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;tt=et}d[_t>>2]=$;if((Ye|0)<(xt|0)){Ye=Ye+1|0;et=tt;_t=_t+4|0}else{$e=tt;break}}}ee=n+8|0;te=$e+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if(($e|0)>1){Je=0;do{ie=Je<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[ee>>2]|0))}if((xt|0)>0){Ze=0;do{re=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;ae=Ze*7|0;oe=n+12+(re<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ae+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;ge=n+131084+((ue|2)<<2)|0;ye=d[n+1310736+(ae+5<<2)>>2]|0;if((d[ge>>2]|0)>(ye|0))d[ge>>2]=ye;be=n+131084+((ue|3)<<2)|0;we=d[n+1310736+(ae+6<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;Ze=Ze+1|0}while((Ze|0)<(xt|0))}if((d[ee>>2]|0)>0){Ke=0;do{_e=n+12+(Ke<<2)|0;xe=Ke<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[ee>>2]|0));a=0}else a=0}}w=At;return a|0}function sr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0;At=w;w=w+16|0;if((w|0)>=(_|0))pe();vt=At;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(u<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}I=n+1179664|0;B=t+1|0;H=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ae=(u|0)>1;Ge=(d[n+4>>2]|0)+B|0;Qe=1;ot=e+(B*3|0)|0;dt=l+(B<<1)|0;Et=0;t:while(1){if(ae){je=Ge;qe=1;lt=ot;mt=dt;St=Et;while(1){do{if(((p[lt+1>>0]|0)+(p[lt>>0]|0)+(p[lt+2>>0]|0)|0)>(Be|0)){f[je>>0]=-1;Se=h[mt+(H<<1)>>1]|0;if(Se<<16>>16>0){h[mt>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+qe;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Qe;d[n+1310736+(Te+-1<<2)>>2]=Qe;Tt=St;break}Le=h[mt+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[mt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[mt>>1]=Ce;C=Oe*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+qe;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Qe;F=n+1310736+(C+-3<<2)|0;if((d[F>>2]|0)<(qe|0))d[F>>2]=qe;d[n+1310736+(C+-1<<2)>>2]=Qe;Tt=St;break}U=h[mt+-2>>1]|0;if(U<<16>>16>0){h[mt>>1]=U;z=(U<<16>>16)*7|0;G=n+1310736+(z+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(z+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+qe;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Qe;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(qe|0)){Tt=St;break}d[W>>2]=qe;Tt=St;break}else{X=St+1|0;if((St|0)>32767)break t;h[mt>>1]=X;d[n+1179664+(St<<2)>>2]=X<<16>>16;q=St*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=qe;d[n+1310736+(q+2<<2)>>2]=Qe;d[n+1310736+(q+3<<2)>>2]=qe;d[n+1310736+(q+4<<2)>>2]=qe;d[n+1310736+(q+5<<2)>>2]=Qe;d[n+1310736+(q+6<<2)>>2]=Qe;Tt=X;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[mt>>1]=De;if((St|0)>0){it=0;gt=I;while(1){if((d[gt>>2]|0)==(Ne|0))d[gt>>2]=De;it=it+1|0;if((it|0)>=(St|0)){Fe=De;break}else gt=gt+4|0}}else Fe=De}else{h[mt>>1]=Ne;if((Ne|0)<(De|0)&(St|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Ne;rt=rt+1|0;if((rt|0)>=(St|0)){Fe=Ne;break}else yt=yt+4|0}}else Fe=Ne}Ue=(Fe<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+qe;m=n+1310736+(Ue+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Qe;d[n+1310736+(Ue+-1<<2)>>2]=Qe;Tt=St;break}v=h[mt+-2>>1]|0;if(v<<16>>16<=0){h[mt>>1]=Le;k=Pe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+qe;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(qe|0))d[P>>2]=qe;d[n+1310736+(k+-1<<2)>>2]=Qe;Tt=St;break}g=d[n+1179664+(Pe+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[mt>>1]=b;if((St|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(g|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(St|0)){x=b;break}else bt=bt+4|0}}else x=b}else{h[mt>>1]=g;if((g|0)<(b|0)&(St|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(b|0))d[wt>>2]=g;at=at+1|0;if((at|0)>=(St|0)){x=g;break}else wt=wt+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Qe;Tt=St}else{h[mt>>1]=0;f[je>>0]=0;Tt=St}}while(0);qe=qe+1|0;Y=lt+3|0;J=mt+2|0;Z=je+1|0;if((qe|0)>=(u|0)){Ve=Z;st=Y;pt=J;Mt=Tt;break}else{je=Z;lt=Y;mt=J;St=Tt}}}else{Ve=Ge;st=ot;pt=dt;Mt=Et}Qe=Qe+1|0;if((Qe|0)>=(c|0)){xt=Mt;kt=52;break e}else{Ge=Ve+2|0;ot=st+6|0;dt=pt+4|0;Et=Mt}}Ha(3,3904,vt);a=-1}else{xt=0;kt=52}}while(0);if((kt|0)==52){K=n+12|0;if((xt|0)<1)$e=1;else{Ye=1;et=1;_t=I;while(1){Q=d[_t>>2]|0;if((Q|0)==(Ye|0)){$=et;tt=et+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;tt=et}d[_t>>2]=$;if((Ye|0)<(xt|0)){Ye=Ye+1|0;et=tt;_t=_t+4|0}else{$e=tt;break}}}ee=n+8|0;te=$e+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if(($e|0)>1){Je=0;do{ie=Je<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[ee>>2]|0))}if((xt|0)>0){Ze=0;do{re=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;ne=Ze*7|0;oe=n+12+(re<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;ge=n+131084+((ue|2)<<2)|0;ye=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ge>>2]|0)>(ye|0))d[ge>>2]=ye;be=n+131084+((ue|3)<<2)|0;we=d[n+1310736+(ne+6<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;Ze=Ze+1|0}while((Ze|0)<(xt|0))}if((d[ee>>2]|0)>0){Ke=0;do{_e=n+12+(Ke<<2)|0;xe=Ke<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[ee>>2]|0));a=0}else a=0}}w=At;return a|0}function lr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0;At=w;w=w+16|0;if((w|0)>=(_|0))pe();vt=At;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(u<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}I=n+1179664|0;B=t+1|0;H=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ae=(u|0)>1;Ge=(d[n+4>>2]|0)+B|0;Qe=1;ot=e+(B*3|0)|0;dt=l+(B<<1)|0;Et=0;t:while(1){if(ae){je=Ge;qe=1;lt=ot;mt=dt;St=Et;while(1){do{if(((p[lt+1>>0]|0)+(p[lt>>0]|0)+(p[lt+2>>0]|0)|0)>(Be|0)){h[mt>>1]=0;f[je>>0]=0;Tt=St}else{f[je>>0]=-1;Se=h[mt+(H<<1)>>1]|0;if(Se<<16>>16>0){h[mt>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+qe;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Qe;d[n+1310736+(Te+-1<<2)>>2]=Qe;Tt=St;break}Le=h[mt+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[mt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[mt>>1]=Ce;C=Oe*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+qe;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Qe;F=n+1310736+(C+-3<<2)|0;if((d[F>>2]|0)<(qe|0))d[F>>2]=qe;d[n+1310736+(C+-1<<2)>>2]=Qe;Tt=St;break}U=h[mt+-2>>1]|0;if(U<<16>>16>0){h[mt>>1]=U;z=(U<<16>>16)*7|0;G=n+1310736+(z+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(z+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+qe;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Qe;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(qe|0)){Tt=St;break}d[W>>2]=qe;Tt=St;break}else{X=St+1|0;if((St|0)>32767)break t;h[mt>>1]=X;d[n+1179664+(St<<2)>>2]=X<<16>>16;q=St*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=qe;d[n+1310736+(q+2<<2)>>2]=Qe;d[n+1310736+(q+3<<2)>>2]=qe;d[n+1310736+(q+4<<2)>>2]=qe;d[n+1310736+(q+5<<2)>>2]=Qe;d[n+1310736+(q+6<<2)>>2]=Qe;Tt=X;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[mt>>1]=De;if((St|0)>0){it=0;gt=I;while(1){if((d[gt>>2]|0)==(Ne|0))d[gt>>2]=De;it=it+1|0;if((it|0)>=(St|0)){Fe=De;break}else gt=gt+4|0}}else Fe=De}else{h[mt>>1]=Ne;if((Ne|0)<(De|0)&(St|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Ne;rt=rt+1|0;if((rt|0)>=(St|0)){Fe=Ne;break}else yt=yt+4|0}}else Fe=Ne}Ue=(Fe<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+qe;m=n+1310736+(Ue+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Qe;d[n+1310736+(Ue+-1<<2)>>2]=Qe;Tt=St;break}v=h[mt+-2>>1]|0;if(v<<16>>16<=0){h[mt>>1]=Le;k=Pe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+qe;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(qe|0))d[P>>2]=qe;d[n+1310736+(k+-1<<2)>>2]=Qe;Tt=St;break}g=d[n+1179664+(Pe+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[mt>>1]=b;if((St|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(g|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(St|0)){x=b;break}else bt=bt+4|0}}else x=b}else{h[mt>>1]=g;if((g|0)<(b|0)&(St|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(b|0))d[wt>>2]=g;at=at+1|0;if((at|0)>=(St|0)){x=g;break}else wt=wt+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Qe;Tt=St}}while(0);qe=qe+1|0;Y=lt+3|0;J=mt+2|0;Z=je+1|0;if((qe|0)>=(u|0)){Ve=Z;st=Y;pt=J;Mt=Tt;break}else{je=Z;lt=Y;mt=J;St=Tt}}}else{Ve=Ge;st=ot;pt=dt;Mt=Et}Qe=Qe+1|0;if((Qe|0)>=(c|0)){xt=Mt;kt=52;break e}else{Ge=Ve+2|0;ot=st+6|0;dt=pt+4|0;Et=Mt}}Ha(3,3904,vt);a=-1}else{xt=0;kt=52}}while(0);if((kt|0)==52){K=n+12|0;if((xt|0)<1)$e=1;else{Ye=1;et=1;_t=I;while(1){Q=d[_t>>2]|0;if((Q|0)==(Ye|0)){$=et;tt=et+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;tt=et}d[_t>>2]=$;if((Ye|0)<(xt|0)){Ye=Ye+1|0;et=tt;_t=_t+4|0}else{$e=tt;break}}}ee=n+8|0;te=$e+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if(($e|0)>1){Je=0;do{ie=Je<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[ee>>2]|0))}if((xt|0)>0){Ze=0;do{re=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;ne=Ze*7|0;oe=n+12+(re<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;ge=n+131084+((ue|2)<<2)|0;ye=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ge>>2]|0)>(ye|0))d[ge>>2]=ye;be=n+131084+((ue|3)<<2)|0;we=d[n+1310736+(ne+6<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;Ze=Ze+1|0}while((Ze|0)<(xt|0))}if((d[ee>>2]|0)>0){Ke=0;do{_e=n+12+(Ke<<2)|0;xe=Ke<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[ee>>2]|0));a=0}else a=0}}w=At;return a|0}function cr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0;At=w;w=w+16|0;if((w|0)>=(_|0))pe();vt=At;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(u<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}I=n+1179664|0;B=t+1|0;H=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ae=(u|0)>1;Ge=(d[n+4>>2]|0)+B|0;Qe=1;ot=e+(B<<2)|0;dt=l+(B<<1)|0;Et=0;t:while(1){if(ae){je=Ge;qe=1;lt=ot;mt=dt;St=Et;while(1){do{if(((p[lt+1>>0]|0)+(p[lt>>0]|0)+(p[lt+2>>0]|0)|0)>(Be|0)){f[je>>0]=-1;Se=h[mt+(H<<1)>>1]|0;if(Se<<16>>16>0){h[mt>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+qe;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Qe;d[n+1310736+(Te+-1<<2)>>2]=Qe;Tt=St;break}Le=h[mt+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[mt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[mt>>1]=Ce;C=Oe*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+qe;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Qe;F=n+1310736+(C+-3<<2)|0;if((d[F>>2]|0)<(qe|0))d[F>>2]=qe;d[n+1310736+(C+-1<<2)>>2]=Qe;Tt=St;break}U=h[mt+-2>>1]|0;if(U<<16>>16>0){h[mt>>1]=U;z=(U<<16>>16)*7|0;G=n+1310736+(z+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(z+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+qe;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Qe;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(qe|0)){Tt=St;break}d[W>>2]=qe;Tt=St;break}else{X=St+1|0;if((St|0)>32767)break t;h[mt>>1]=X;d[n+1179664+(St<<2)>>2]=X<<16>>16;q=St*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=qe;d[n+1310736+(q+2<<2)>>2]=Qe;d[n+1310736+(q+3<<2)>>2]=qe;d[n+1310736+(q+4<<2)>>2]=qe;d[n+1310736+(q+5<<2)>>2]=Qe;d[n+1310736+(q+6<<2)>>2]=Qe;Tt=X;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[mt>>1]=De;if((St|0)>0){it=0;gt=I;while(1){if((d[gt>>2]|0)==(Ne|0))d[gt>>2]=De;it=it+1|0;if((it|0)>=(St|0)){Fe=De;break}else gt=gt+4|0}}else Fe=De}else{h[mt>>1]=Ne;if((Ne|0)<(De|0)&(St|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Ne;rt=rt+1|0;if((rt|0)>=(St|0)){Fe=Ne;break}else yt=yt+4|0}}else Fe=Ne}Ue=(Fe<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+qe;m=n+1310736+(Ue+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Qe;d[n+1310736+(Ue+-1<<2)>>2]=Qe;Tt=St;break}v=h[mt+-2>>1]|0;if(v<<16>>16<=0){h[mt>>1]=Le;k=Pe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+qe;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(qe|0))d[P>>2]=qe;d[n+1310736+(k+-1<<2)>>2]=Qe;Tt=St;break}g=d[n+1179664+(Pe+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[mt>>1]=b;if((St|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(g|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(St|0)){x=b;break}else bt=bt+4|0}}else x=b}else{h[mt>>1]=g;if((g|0)<(b|0)&(St|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(b|0))d[wt>>2]=g;at=at+1|0;if((at|0)>=(St|0)){x=g;break}else wt=wt+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Qe;Tt=St}else{h[mt>>1]=0;f[je>>0]=0;Tt=St}}while(0);qe=qe+1|0;Y=lt+4|0;J=mt+2|0;Z=je+1|0;if((qe|0)>=(u|0)){Ve=Z;st=Y;pt=J;Mt=Tt;break}else{je=Z;lt=Y;mt=J;St=Tt}}}else{Ve=Ge;st=ot;pt=dt;Mt=Et}Qe=Qe+1|0;if((Qe|0)>=(c|0)){xt=Mt;kt=52;break e}else{Ge=Ve+2|0;ot=st+8|0;dt=pt+4|0;Et=Mt}}Ha(3,3904,vt);a=-1}else{xt=0;kt=52}}while(0);if((kt|0)==52){K=n+12|0;if((xt|0)<1)$e=1;else{Ye=1;et=1;_t=I;while(1){Q=d[_t>>2]|0;if((Q|0)==(Ye|0)){$=et;tt=et+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;tt=et}d[_t>>2]=$;if((Ye|0)<(xt|0)){Ye=Ye+1|0;et=tt;_t=_t+4|0}else{$e=tt;break}}}ee=n+8|0;te=$e+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if(($e|0)>1){Je=0;do{ie=Je<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[ee>>2]|0))}if((xt|0)>0){Ze=0;do{re=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;ne=Ze*7|0;oe=n+12+(re<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;ge=n+131084+((ue|2)<<2)|0;ye=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ge>>2]|0)>(ye|0))d[ge>>2]=ye;be=n+131084+((ue|3)<<2)|0;we=d[n+1310736+(ne+6<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;Ze=Ze+1|0}while((Ze|0)<(xt|0))}if((d[ee>>2]|0)>0){Ke=0;do{_e=n+12+(Ke<<2)|0;xe=Ke<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[ee>>2]|0));a=0}else a=0}}w=At;return a|0}function ur(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0;At=w;w=w+16|0;if((w|0)>=(_|0))pe();vt=At;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){We=0;ct=l;ft=l+((fe(c,t)|0)<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(t|0))break;else{ct=ct+2|0;ft=ft+2|0}}}Be=r*3|0;u=t+-1|0;if((i|0)>0){Xe=0;ut=l;ht=l+(u<<1)|0;while(1){h[ht>>1]=0;h[ut>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ut=ut+(t<<1)|0;ht=ht+(t<<1)|0}}}I=n+1179664|0;B=t+1|0;H=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ae=(u|0)>1;Ge=(d[n+4>>2]|0)+B|0;Qe=1;ot=e+(B<<2)|0;dt=l+(B<<1)|0;Et=0;t:while(1){if(ae){je=Ge;qe=1;lt=ot;mt=dt;St=Et;while(1){do{if(((p[lt+1>>0]|0)+(p[lt>>0]|0)+(p[lt+2>>0]|0)|0)>(Be|0)){h[mt>>1]=0;f[je>>0]=0;Tt=St}else{f[je>>0]=-1;Se=h[mt+(H<<1)>>1]|0;if(Se<<16>>16>0){h[mt>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+qe;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Qe;d[n+1310736+(Te+-1<<2)>>2]=Qe;Tt=St;break}Le=h[mt+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[mt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[mt>>1]=Ce;C=Oe*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;N=n+1310736+(C+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+qe;D=n+1310736+(C+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Qe;F=n+1310736+(C+-3<<2)|0;if((d[F>>2]|0)<(qe|0))d[F>>2]=qe;d[n+1310736+(C+-1<<2)>>2]=Qe;Tt=St;break}U=h[mt+-2>>1]|0;if(U<<16>>16>0){h[mt>>1]=U;z=(U<<16>>16)*7|0;G=n+1310736+(z+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;V=n+1310736+(z+-6<<2)|0;d[V>>2]=(d[V>>2]|0)+qe;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Qe;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(qe|0)){Tt=St;break}d[W>>2]=qe;Tt=St;break}else{X=St+1|0;if((St|0)>32767)break t;h[mt>>1]=X;d[n+1179664+(St<<2)>>2]=X<<16>>16;q=St*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=qe;d[n+1310736+(q+2<<2)>>2]=Qe;d[n+1310736+(q+3<<2)>>2]=qe;d[n+1310736+(q+4<<2)>>2]=qe;d[n+1310736+(q+5<<2)>>2]=Qe;d[n+1310736+(q+6<<2)>>2]=Qe;Tt=X;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[mt>>1]=De;if((St|0)>0){it=0;gt=I;while(1){if((d[gt>>2]|0)==(Ne|0))d[gt>>2]=De;it=it+1|0;if((it|0)>=(St|0)){Fe=De;break}else gt=gt+4|0}}else Fe=De}else{h[mt>>1]=Ne;if((Ne|0)<(De|0)&(St|0)>0){rt=0;yt=I;while(1){if((d[yt>>2]|0)==(De|0))d[yt>>2]=Ne;rt=rt+1|0;if((rt|0)>=(St|0)){Fe=Ne;break}else yt=yt+4|0}}else Fe=Ne}Ue=(Fe<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+qe;m=n+1310736+(Ue+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Qe;d[n+1310736+(Ue+-1<<2)>>2]=Qe;Tt=St;break}v=h[mt+-2>>1]|0;if(v<<16>>16<=0){h[mt>>1]=Le;k=Pe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+qe;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+Qe;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(qe|0))d[P>>2]=qe;d[n+1310736+(k+-1<<2)>>2]=Qe;Tt=St;break}g=d[n+1179664+(Pe+-1<<2)>>2]|0;b=d[n+1179664+((v<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[mt>>1]=b;if((St|0)>0){nt=0;bt=I;while(1){if((d[bt>>2]|0)==(g|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(St|0)){x=b;break}else bt=bt+4|0}}else x=b}else{h[mt>>1]=g;if((g|0)<(b|0)&(St|0)>0){at=0;wt=I;while(1){if((d[wt>>2]|0)==(b|0))d[wt>>2]=g;at=at+1|0;if((at|0)>=(St|0)){x=g;break}else wt=wt+4|0}}else x=g}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Qe;Tt=St}}while(0);qe=qe+1|0;Y=lt+4|0;J=mt+2|0;Z=je+1|0;if((qe|0)>=(u|0)){Ve=Z;st=Y;pt=J;Mt=Tt;break}else{je=Z;lt=Y;mt=J;St=Tt}}}else{Ve=Ge;st=ot;pt=dt;Mt=Et}Qe=Qe+1|0;if((Qe|0)>=(c|0)){xt=Mt;kt=52;break e}else{Ge=Ve+2|0;ot=st+8|0;dt=pt+4|0;Et=Mt}}Ha(3,3904,vt);a=-1}else{xt=0;kt=52}}while(0);if((kt|0)==52){K=n+12|0;if((xt|0)<1)$e=1;else{Ye=1;et=1;_t=I;while(1){Q=d[_t>>2]|0;if((Q|0)==(Ye|0)){$=et;tt=et+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;tt=et}d[_t>>2]=$;if((Ye|0)<(xt|0)){Ye=Ye+1|0;et=tt;_t=_t+4|0}else{$e=tt;break}}}ee=n+8|0;te=$e+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if(($e|0)>1){Je=0;do{ie=Je<<2;d[n+131084+(ie<<2)>>2]=t;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=i;d[n+131084+((ie|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(d[ee>>2]|0))}if((xt|0)>0){Ze=0;do{re=(d[n+1179664+(Ze<<2)>>2]|0)+-1|0;ne=Ze*7|0;oe=n+12+(re<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;ge=n+131084+((ue|2)<<2)|0;ye=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ge>>2]|0)>(ye|0))d[ge>>2]=ye;be=n+131084+((ue|3)<<2)|0;we=d[n+1310736+(ne+6<<2)>>2]|0;if((d[be>>2]|0)<(we|0))d[be>>2]=we;Ze=Ze+1|0}while((Ze|0)<(xt|0))}if((d[ee>>2]|0)>0){Ke=0;do{_e=n+12+(Ke<<2)|0;xe=Ke<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(d[ee>>2]|0));a=0}else a=0}}w=At;return a|0}function fr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){qe=0;ft=W;dt=W+((fe(ge,c)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(c|0))break;else{ft=ft+2|0;dt=dt+2|0}}}g=c+-1|0;if((i|0)>1){Ye=0;ht=W;pt=W+(g<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(u|0))break;else{ht=ht+(c<<1)|0;pt=pt+(c<<1)|0}}}F=n+1179664|0;H=c+1|0;Y=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){ye=(g|0)>1;je=(d[n+4>>2]|0)+H|0;et=1;lt=e+((t<<2)+4)|0;mt=W+(H<<1)|0;St=0;t:while(1){if(ye){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){do{if((p[ut+1>>0]|0|0)>(r|0)){f[Xe>>0]=-1;ke=h[gt+(Y<<1)>>1]|0;if(ke<<16>>16>0){h[gt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+et;d[n+1310736+(Ae+-1<<2)>>2]=et;At=kt;break}Ce=h[gt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[gt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[gt>>1]=Ie;C=Ne*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Je;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+et;D=n+1310736+(C+-3<<2)|0;if((d[D>>2]|0)<(Je|0))d[D>>2]=Je;d[n+1310736+(C+-1<<2)>>2]=et;At=kt;break}B=h[gt+-2>>1]|0;if(B<<16>>16>0){h[gt>>1]=B;U=(B<<16>>16)*7|0;z=n+1310736+(U+-7<<2)|0;d[z>>2]=(d[z>>2]|0)+1;G=n+1310736+(U+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+Je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+et;j=n+1310736+(U+-3<<2)|0;if((d[j>>2]|0)>=(Je|0)){At=kt;break}d[j>>2]=Je;At=kt;break}else{X=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=X;d[n+1179664+(kt<<2)>>2]=X<<16>>16;q=kt*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=Je;d[n+1310736+(q+2<<2)>>2]=et;d[n+1310736+(q+3<<2)>>2]=Je;d[n+1310736+(q+4<<2)>>2]=Je;d[n+1310736+(q+5<<2)>>2]=et;d[n+1310736+(q+6<<2)>>2]=et;At=X;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[gt>>1]=Be;if((kt|0)>0){nt=0;bt=F;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=Be;nt=nt+1|0;if((nt|0)>=(kt|0)){Ue=Be;break}else bt=bt+4|0}}else Ue=Be}else{h[gt>>1]=Fe;if((Fe|0)<(Be|0)&(kt|0)>0){at=0;wt=F;while(1){if((d[wt>>2]|0)==(Be|0))d[wt>>2]=Fe;at=at+1|0;if((at|0)>=(kt|0)){Ue=Fe;break}else wt=wt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Je;Ve=n+1310736+(ze+-5<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+et;d[n+1310736+(ze+-1<<2)>>2]=et;At=kt;break}m=h[gt+-2>>1]|0;if(m<<16>>16<=0){h[gt>>1]=Ce;k=Oe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+et;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Je|0))d[P>>2]=Je;d[n+1310736+(k+-1<<2)>>2]=et;At=kt;break}v=d[n+1179664+(Oe+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(b|0)){h[gt>>1]=b;if((kt|0)>0){ot=0;_t=F;while(1){if((d[_t>>2]|0)==(v|0))d[_t>>2]=b;ot=ot+1|0;if((ot|0)>=(kt|0)){x=b;break}else _t=_t+4|0}}else x=b}else{h[gt>>1]=v;if((v|0)<(b|0)&(kt|0)>0){st=0;xt=F;while(1){if((d[xt>>2]|0)==(b|0))d[xt>>2]=v;st=st+1|0;if((st|0)>=(kt|0)){x=v;break}else xt=xt+4|0}}else x=v}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+et;At=kt}else{h[gt>>1]=0;f[Xe>>0]=0;At=kt}}while(0);Je=Je+1|0;J=ut+4|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(g|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(ge|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+o|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=F;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ne=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;ae=Qe*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=ne<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ae+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ae+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ae+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function hr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){qe=0;ft=W;dt=W+((fe(ge,c)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(c|0))break;else{ft=ft+2|0;dt=dt+2|0}}}g=c+-1|0;if((i|0)>1){Ye=0;ht=W;pt=W+(g<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(u|0))break;else{ht=ht+(c<<1)|0;pt=pt+(c<<1)|0}}}F=n+1179664|0;H=c+1|0;Y=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){ye=(g|0)>1;je=(d[n+4>>2]|0)+H|0;et=1;lt=e+((t<<2)+4)|0;mt=W+(H<<1)|0;St=0;t:while(1){if(ye){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){do{if((p[ut+1>>0]|0|0)>(r|0)){h[gt>>1]=0;f[Xe>>0]=0;At=kt}else{f[Xe>>0]=-1;ke=h[gt+(Y<<1)>>1]|0;if(ke<<16>>16>0){h[gt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+et;d[n+1310736+(Ae+-1<<2)>>2]=et;At=kt;break}Ce=h[gt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[gt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[gt>>1]=Ie;C=Ne*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Je;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+et;D=n+1310736+(C+-3<<2)|0;if((d[D>>2]|0)<(Je|0))d[D>>2]=Je;d[n+1310736+(C+-1<<2)>>2]=et;At=kt;break}B=h[gt+-2>>1]|0;if(B<<16>>16>0){h[gt>>1]=B;U=(B<<16>>16)*7|0;z=n+1310736+(U+-7<<2)|0;d[z>>2]=(d[z>>2]|0)+1;G=n+1310736+(U+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+Je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+et;j=n+1310736+(U+-3<<2)|0;if((d[j>>2]|0)>=(Je|0)){At=kt;break}d[j>>2]=Je;At=kt;break}else{X=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=X;d[n+1179664+(kt<<2)>>2]=X<<16>>16;q=kt*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=Je;d[n+1310736+(q+2<<2)>>2]=et;d[n+1310736+(q+3<<2)>>2]=Je;d[n+1310736+(q+4<<2)>>2]=Je;d[n+1310736+(q+5<<2)>>2]=et;d[n+1310736+(q+6<<2)>>2]=et;At=X;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[gt>>1]=Be;if((kt|0)>0){nt=0;bt=F;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=Be;nt=nt+1|0;if((nt|0)>=(kt|0)){Ue=Be;break}else bt=bt+4|0}}else Ue=Be}else{h[gt>>1]=Fe;if((Fe|0)<(Be|0)&(kt|0)>0){at=0;wt=F;while(1){if((d[wt>>2]|0)==(Be|0))d[wt>>2]=Fe;at=at+1|0;if((at|0)>=(kt|0)){Ue=Fe;break}else wt=wt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Je;Ve=n+1310736+(ze+-5<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+et;d[n+1310736+(ze+-1<<2)>>2]=et;At=kt;break}m=h[gt+-2>>1]|0;if(m<<16>>16<=0){h[gt>>1]=Ce;k=Oe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+et;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Je|0))d[P>>2]=Je;d[n+1310736+(k+-1<<2)>>2]=et;At=kt;break}v=d[n+1179664+(Oe+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(b|0)){h[gt>>1]=b;if((kt|0)>0){ot=0;_t=F;while(1){if((d[_t>>2]|0)==(v|0))d[_t>>2]=b;ot=ot+1|0;if((ot|0)>=(kt|0)){x=b;break}else _t=_t+4|0}}else x=b}else{h[gt>>1]=v;if((v|0)<(b|0)&(kt|0)>0){st=0;xt=F;while(1){if((d[xt>>2]|0)==(b|0))d[xt>>2]=v;st=st+1|0;if((st|0)>=(kt|0)){x=v;break}else xt=xt+4|0}}else x=v}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+et;At=kt}}while(0);Je=Je+1|0;J=ut+4|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(g|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(ge|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+o|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=F;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ne=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;ae=Qe*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=ne<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ae+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ae+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ae+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function dr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){qe=0;ft=W;dt=W+((fe(ge,c)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(c|0))break;else{ft=ft+2|0;dt=dt+2|0}}}b=c+-1|0;if((i|0)>1){Ye=0;ht=W;pt=W+(b<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(u|0))break;else{ht=ht+(c<<1)|0;pt=pt+(c<<1)|0}}}F=n+1179664|0;G=c+1|0;Y=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){ye=(b|0)>1;je=(d[n+4>>2]|0)+G|0;et=1;lt=e+((t<<2)+4)|0;mt=W+(G<<1)|0;St=0;t:while(1){if(ye){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){do{if((p[ut>>0]|0|0)>(r|0)){h[gt>>1]=0;f[Xe>>0]=0;At=kt}else{f[Xe>>0]=-1;ke=h[gt+(Y<<1)>>1]|0;if(ke<<16>>16>0){h[gt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+et;d[n+1310736+(Ae+-1<<2)>>2]=et;At=kt;break}Ce=h[gt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[gt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[gt>>1]=Ie;C=Ne*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Je;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+et;D=n+1310736+(C+-3<<2)|0;if((d[D>>2]|0)<(Je|0))d[D>>2]=Je;d[n+1310736+(C+-1<<2)>>2]=et;At=kt;break}B=h[gt+-2>>1]|0;if(B<<16>>16>0){h[gt>>1]=B;U=(B<<16>>16)*7|0;z=n+1310736+(U+-7<<2)|0;d[z>>2]=(d[z>>2]|0)+1;H=n+1310736+(U+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+et;j=n+1310736+(U+-3<<2)|0;if((d[j>>2]|0)>=(Je|0)){At=kt;break}d[j>>2]=Je;At=kt;break}else{X=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=X;d[n+1179664+(kt<<2)>>2]=X<<16>>16;q=kt*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=Je;d[n+1310736+(q+2<<2)>>2]=et;d[n+1310736+(q+3<<2)>>2]=Je;d[n+1310736+(q+4<<2)>>2]=Je;d[n+1310736+(q+5<<2)>>2]=et;d[n+1310736+(q+6<<2)>>2]=et;At=X;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[gt>>1]=Be;if((kt|0)>0){nt=0;bt=F;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=Be;nt=nt+1|0;if((nt|0)>=(kt|0)){Ue=Be;break}else bt=bt+4|0}}else Ue=Be}else{h[gt>>1]=Fe;if((Fe|0)<(Be|0)&(kt|0)>0){at=0;wt=F;while(1){if((d[wt>>2]|0)==(Be|0))d[wt>>2]=Fe;at=at+1|0;if((at|0)>=(kt|0)){Ue=Fe;break}else wt=wt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Je;Ve=n+1310736+(ze+-5<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+et;d[n+1310736+(ze+-1<<2)>>2]=et;At=kt;break}m=h[gt+-2>>1]|0;if(m<<16>>16<=0){h[gt>>1]=Ce;k=Oe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+et;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Je|0))d[P>>2]=Je;d[n+1310736+(k+-1<<2)>>2]=et;At=kt;break}v=d[n+1179664+(Oe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[gt>>1]=g;if((kt|0)>0){ot=0;_t=F;while(1){if((d[_t>>2]|0)==(v|0))d[_t>>2]=g;ot=ot+1|0;if((ot|0)>=(kt|0)){x=g;break}else _t=_t+4|0}}else x=g}else{h[gt>>1]=v;if((v|0)<(g|0)&(kt|0)>0){st=0;xt=F;while(1){if((d[xt>>2]|0)==(g|0))d[xt>>2]=v;st=st+1|0;if((st|0)>=(kt|0)){x=v;break}else xt=xt+4|0}}else x=v}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+et;At=kt}}while(0);Je=Je+1|0;J=ut+4|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(b|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(ge|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+o|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=F;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ne=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;ae=Qe*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=ne<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ae+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ae+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ae+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function pr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;c=(t|0)/2|0;u=(i|0)/2|0;W=d[n>>2]|0;ge=u+-1|0;if((t|0)>1){qe=0;ft=W;dt=W+((fe(ge,c)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(c|0))break;else{ft=ft+2|0;dt=dt+2|0}}}b=c+-1|0;if((i|0)>1){Ye=0;ht=W;pt=W+(b<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(u|0))break;else{ht=ht+(c<<1)|0;pt=pt+(c<<1)|0}}}F=n+1179664|0;G=c+1|0;Y=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((ge|0)>1){ye=(b|0)>1;je=(d[n+4>>2]|0)+G|0;et=1;lt=e+((t<<2)+4)|0;mt=W+(G<<1)|0;St=0;t:while(1){if(ye){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){do{if((p[ut>>0]|0|0)>(r|0)){f[Xe>>0]=-1;ke=h[gt+(Y<<1)>>1]|0;if(ke<<16>>16>0){h[gt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+et;d[n+1310736+(Ae+-1<<2)>>2]=et;At=kt;break}Ce=h[gt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[gt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[gt>>1]=Ie;C=Ne*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Je;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+et;D=n+1310736+(C+-3<<2)|0;if((d[D>>2]|0)<(Je|0))d[D>>2]=Je;d[n+1310736+(C+-1<<2)>>2]=et;At=kt;break}B=h[gt+-2>>1]|0;if(B<<16>>16>0){h[gt>>1]=B;U=(B<<16>>16)*7|0;z=n+1310736+(U+-7<<2)|0;d[z>>2]=(d[z>>2]|0)+1;H=n+1310736+(U+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+et;j=n+1310736+(U+-3<<2)|0;if((d[j>>2]|0)>=(Je|0)){At=kt;break}d[j>>2]=Je;At=kt;break}else{X=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=X;d[n+1179664+(kt<<2)>>2]=X<<16>>16;q=kt*7|0;d[n+1310736+(q<<2)>>2]=1;d[n+1310736+(q+1<<2)>>2]=Je;d[n+1310736+(q+2<<2)>>2]=et;d[n+1310736+(q+3<<2)>>2]=Je;d[n+1310736+(q+4<<2)>>2]=Je;d[n+1310736+(q+5<<2)>>2]=et;d[n+1310736+(q+6<<2)>>2]=et;At=X;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[gt>>1]=Be;if((kt|0)>0){nt=0;bt=F;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=Be;nt=nt+1|0;if((nt|0)>=(kt|0)){Ue=Be;break}else bt=bt+4|0}}else Ue=Be}else{h[gt>>1]=Fe;if((Fe|0)<(Be|0)&(kt|0)>0){at=0;wt=F;while(1){if((d[wt>>2]|0)==(Be|0))d[wt>>2]=Fe;at=at+1|0;if((at|0)>=(kt|0)){Ue=Fe;break}else wt=wt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Je;Ve=n+1310736+(ze+-5<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+et;d[n+1310736+(ze+-1<<2)>>2]=et;At=kt;break}m=h[gt+-2>>1]|0;if(m<<16>>16<=0){h[gt>>1]=Ce;k=Oe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+et;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Je|0))d[P>>2]=Je;d[n+1310736+(k+-1<<2)>>2]=et;At=kt;break}v=d[n+1179664+(Oe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[gt>>1]=g;if((kt|0)>0){ot=0;_t=F;while(1){if((d[_t>>2]|0)==(v|0))d[_t>>2]=g;ot=ot+1|0;if((ot|0)>=(kt|0)){x=g;break}else _t=_t+4|0}}else x=g}else{h[gt>>1]=v;if((v|0)<(g|0)&(kt|0)>0){st=0;xt=F;while(1){if((d[xt>>2]|0)==(g|0))d[xt>>2]=v;st=st+1|0;if((st|0)>=(kt|0)){x=v;break}else xt=xt+4|0}}else x=v}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+et;At=kt}else{h[gt>>1]=0;f[Xe>>0]=0;At=kt}}while(0);Je=Je+1|0;J=ut+4|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(b|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(ge|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+o|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=F;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ne=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;ae=Qe*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=ne<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ve=d[n+1310736+(ae+4<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ae+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ae+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function mr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;c=(t|0)/2|0;u=(i|0)/2|0;X=d[n>>2]|0;ye=u+-1|0;if((t|0)>1){qe=0;ft=X;dt=X+((fe(ye,c)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(c|0))break;else{ft=ft+2|0;dt=dt+2|0}}}b=c+-1|0;if((i|0)>1){Ye=0;ht=X;pt=X+(b<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(u|0))break;else{ht=ht+(c<<1)|0;pt=pt+(c<<1)|0}}}B=n+1179664|0;G=c+1|0;q=0-c|0;s=1-c|0;l=~c;o=t+4|0;e:do{if((ye|0)>1){de=(b|0)>1;je=(d[n+4>>2]|0)+G|0;et=1;lt=e+((t<<1)+2)|0;mt=X+(G<<1)|0;St=0;t:while(1){if(de){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){do{if((p[ut>>0]|0|0)>(r|0)){f[Xe>>0]=-1;ke=h[gt+(q<<1)>>1]|0;if(ke<<16>>16>0){h[gt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+et;d[n+1310736+(Ae+-1<<2)>>2]=et;At=kt;break}Ce=h[gt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[gt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[gt>>1]=Ie;C=Ne*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Je;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+et;D=n+1310736+(C+-3<<2)|0;if((d[D>>2]|0)<(Je|0))d[D>>2]=Je;d[n+1310736+(C+-1<<2)>>2]=et;At=kt;break}F=h[gt+-2>>1]|0;if(F<<16>>16>0){h[gt>>1]=F;U=(F<<16>>16)*7|0;z=n+1310736+(U+-7<<2)|0;d[z>>2]=(d[z>>2]|0)+1;H=n+1310736+(U+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+et;j=n+1310736+(U+-3<<2)|0;if((d[j>>2]|0)>=(Je|0)){At=kt;break}d[j>>2]=Je;At=kt;break}else{W=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=W;d[n+1179664+(kt<<2)>>2]=W<<16>>16;Y=kt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=Je;d[n+1310736+(Y+2<<2)>>2]=et;d[n+1310736+(Y+3<<2)>>2]=Je;d[n+1310736+(Y+4<<2)>>2]=Je;d[n+1310736+(Y+5<<2)>>2]=et;d[n+1310736+(Y+6<<2)>>2]=et;At=W;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[gt>>1]=Be;if((kt|0)>0){nt=0;bt=B;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=Be;nt=nt+1|0;if((nt|0)>=(kt|0)){Ue=Be;break}else bt=bt+4|0}}else Ue=Be}else{h[gt>>1]=Fe;if((Fe|0)<(Be|0)&(kt|0)>0){at=0;wt=B;while(1){if((d[wt>>2]|0)==(Be|0))d[wt>>2]=Fe;at=at+1|0;if((at|0)>=(kt|0)){Ue=Fe;break}else wt=wt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Je;Ve=n+1310736+(ze+-5<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+et;d[n+1310736+(ze+-1<<2)>>2]=et;At=kt;break}m=h[gt+-2>>1]|0;if(m<<16>>16<=0){h[gt>>1]=Ce;k=Oe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+et;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Je|0))d[P>>2]=Je;d[n+1310736+(k+-1<<2)>>2]=et;At=kt;break}v=d[n+1179664+(Oe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[gt>>1]=g;if((kt|0)>0){ot=0;_t=B;while(1){if((d[_t>>2]|0)==(v|0))d[_t>>2]=g;ot=ot+1|0;if((ot|0)>=(kt|0)){x=g;break}else _t=_t+4|0}}else x=g}else{h[gt>>1]=v;if((v|0)<(g|0)&(kt|0)>0){st=0;xt=B;while(1){if((d[xt>>2]|0)==(g|0))d[xt>>2]=v;st=st+1|0;if((st|0)>=(kt|0)){x=v;break}else xt=xt+4|0}}else x=v}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+et;At=kt}else{h[gt>>1]=0;f[Xe>>0]=0;At=kt}}while(0);Je=Je+1|0;J=ut+2|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(b|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(ye|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+o|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=B;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ne=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;ae=Qe*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=ne<<2;he=n+131084+(ue<<2)|0;me=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(me|0))d[he>>2]=me;ve=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ae+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ae+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function vr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0,At=0,Rt=0,Lt=0;Lt=w;w=w+16|0;if((w|0)>=(_|0))pe();yt=Lt;c=(t|0)/2|0;u=(i|0)/2|0;X=d[n>>2]|0;ye=u+-1|0;if((t|0)>1){qe=0;ft=X;dt=X+((fe(ye,c)|0)<<1)|0;while(1){h[dt>>1]=0;h[ft>>1]=0;qe=qe+1|0;if((qe|0)>=(c|0))break;else{ft=ft+2|0;dt=dt+2|0}}}b=c+-1|0;if((i|0)>1){Ye=0;ht=X;pt=X+(b<<1)|0;while(1){h[pt>>1]=0;h[ht>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(u|0))break;else{ht=ht+(c<<1)|0;pt=pt+(c<<1)|0}}}B=n+1179664|0;G=c+1|0;q=0-c|0;s=1-c|0;l=~c;o=t+4|0;e:do{if((ye|0)>1){de=(b|0)>1;je=(d[n+4>>2]|0)+G|0;et=1;lt=e+((t<<1)+2)|0;mt=X+(G<<1)|0;St=0;t:while(1){if(de){Xe=je;Je=1;ut=lt;gt=mt;kt=St;while(1){do{if((p[ut>>0]|0|0)>(r|0)){h[gt>>1]=0;f[Xe>>0]=0;At=kt}else{f[Xe>>0]=-1;ke=h[gt+(q<<1)>>1]|0;if(ke<<16>>16>0){h[gt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+et;d[n+1310736+(Ae+-1<<2)>>2]=et;At=kt;break}Ce=h[gt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[gt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[gt>>1]=Ie;C=Ne*7|0;O=n+1310736+(C+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(C+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+Je;N=n+1310736+(C+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+et;D=n+1310736+(C+-3<<2)|0;if((d[D>>2]|0)<(Je|0))d[D>>2]=Je;d[n+1310736+(C+-1<<2)>>2]=et;At=kt;break}F=h[gt+-2>>1]|0;if(F<<16>>16>0){h[gt>>1]=F;U=(F<<16>>16)*7|0;z=n+1310736+(U+-7<<2)|0;d[z>>2]=(d[z>>2]|0)+1;H=n+1310736+(U+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+et;j=n+1310736+(U+-3<<2)|0;if((d[j>>2]|0)>=(Je|0)){At=kt;break}d[j>>2]=Je;At=kt;break}else{W=kt+1|0;if((kt|0)>32767)break t;h[gt>>1]=W;d[n+1179664+(kt<<2)>>2]=W<<16>>16;Y=kt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=Je;d[n+1310736+(Y+2<<2)>>2]=et;d[n+1310736+(Y+3<<2)>>2]=Je;d[n+1310736+(Y+4<<2)>>2]=Je;d[n+1310736+(Y+5<<2)>>2]=et;d[n+1310736+(Y+6<<2)>>2]=et;At=W;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[gt>>1]=Be;if((kt|0)>0){nt=0;bt=B;while(1){if((d[bt>>2]|0)==(Fe|0))d[bt>>2]=Be;nt=nt+1|0;if((nt|0)>=(kt|0)){Ue=Be;break}else bt=bt+4|0}}else Ue=Be}else{h[gt>>1]=Fe;if((Fe|0)<(Be|0)&(kt|0)>0){at=0;wt=B;while(1){if((d[wt>>2]|0)==(Be|0))d[wt>>2]=Fe;at=at+1|0;if((at|0)>=(kt|0)){Ue=Fe;break}else wt=wt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+Je;Ve=n+1310736+(ze+-5<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+et;d[n+1310736+(ze+-1<<2)>>2]=et;At=kt;break}m=h[gt+-2>>1]|0;if(m<<16>>16<=0){h[gt>>1]=Ce;k=Oe*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(k+-5<<2)|0;d[L>>2]=(d[L>>2]|0)+et;P=n+1310736+(k+-4<<2)|0;if((d[P>>2]|0)>(Je|0))d[P>>2]=Je;d[n+1310736+(k+-1<<2)>>2]=et;At=kt;break}v=d[n+1179664+(Oe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[gt>>1]=g;if((kt|0)>0){ot=0;_t=B;while(1){if((d[_t>>2]|0)==(v|0))d[_t>>2]=g;ot=ot+1|0;if((ot|0)>=(kt|0)){x=g;break}else _t=_t+4|0}}else x=g}else{h[gt>>1]=v;if((v|0)<(g|0)&(kt|0)>0){st=0;xt=B;while(1){if((d[xt>>2]|0)==(g|0))d[xt>>2]=v;st=st+1|0;if((st|0)>=(kt|0)){x=v;break}else xt=xt+4|0}}else x=v}E=(x<<16>>16)*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+et;At=kt}}while(0);Je=Je+1|0;J=ut+2|0;Z=gt+2|0;K=Xe+1|0;if((Je|0)>=(b|0)){We=K;ct=J;vt=Z;Tt=At;break}else{Xe=K;ut=J;gt=Z;kt=At}}}else{We=je;ct=lt;vt=mt;Tt=St}et=et+1|0;if((et|0)>=(ye|0)){Mt=Tt;Rt=52;break e}else{je=We+2|0;lt=ct+o|0;mt=vt+4|0;St=Tt}}Ha(3,3904,yt);a=-1}else{Mt=0;Rt=52}}while(0);if((Rt|0)==52){Q=n+12|0;if((Mt|0)<1)tt=1;else{Ze=1;it=1;Et=B;while(1){$=d[Et>>2]|0;if(($|0)==(Ze|0)){ee=it;rt=it+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;rt=it}d[Et>>2]=ee;if((Ze|0)<(Mt|0)){Ze=Ze+1|0;it=rt;Et=Et+4|0}else{tt=rt;break}}}te=n+8|0;ie=tt+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((tt|0)>1){Ke=0;do{re=Ke<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(d[te>>2]|0))}if((Mt|0)>0){Qe=0;do{ne=(d[n+1179664+(Qe<<2)>>2]|0)+-1|0;ae=Qe*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);se=ne<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);ue=ne<<2;he=n+131084+(ue<<2)|0;me=d[n+1310736+(ae+3<<2)>>2]|0;if((d[he>>2]|0)>(me|0))d[he>>2]=me;ve=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ae+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ae+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Qe=Qe+1|0}while((Qe|0)<(Mt|0))}if((d[te>>2]|0)>0){$e=0;do{Ee=n+12+($e<<2)|0;Me=$e<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);$e=$e+1|0}while(($e|0)<(d[te>>2]|0));a=0}else a=0}}w=Lt;return a|0}function gr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){je=0;lt=l;ut=l+((fe(c,t)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(t|0))break;else{lt=lt+2|0;ut=ut+2|0}}}Be=t+-1|0;if((i|0)>0){We=0;ct=l;ft=l+(Be<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ct=ct+(t<<1)|0;ft=ft+(t<<1)|0}}}P=n+1179664|0;I=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ee=(Be|0)>1;He=(d[n+4>>2]|0)+I|0;Ke=1;at=e+(I<<1)|0;ht=l+(I<<1)|0;xt=0;t:while(1){if(ee){Ve=He;Xe=1;st=at;pt=ht;Mt=xt;while(1){do{if((p[st+1>>0]|0|0)>(r|0)){f[Ve>>0]=-1;_e=h[pt+(F<<1)>>1]|0;if(_e<<16>>16>0){h[pt>>1]=_e;Ee=(_e<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Xe;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ke;d[n+1310736+(Ee+-1<<2)>>2]=Ke;St=Mt;break}ke=h[pt+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[pt+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[pt>>1]=Re;R=Le*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ke;N=n+1310736+(R+-3<<2)|0;if((d[N>>2]|0)<(Xe|0))d[N>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}D=h[pt+-2>>1]|0;if(D<<16>>16>0){h[pt>>1]=D;B=(D<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(B+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(B+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Ke;G=n+1310736+(B+-3<<2)|0;if((d[G>>2]|0)>=(Xe|0)){St=Mt;break}d[G>>2]=Xe;St=Mt;break}else{V=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=V;d[n+1179664+(Mt<<2)>>2]=V<<16>>16;j=Mt*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=Xe;d[n+1310736+(j+2<<2)>>2]=Ke;d[n+1310736+(j+3<<2)>>2]=Xe;d[n+1310736+(j+4<<2)>>2]=Xe;d[n+1310736+(j+5<<2)>>2]=Ke;d[n+1310736+(j+6<<2)>>2]=Ke;St=V;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[pt>>1]=Oe;if((Mt|0)>0){tt=0;vt=P;while(1){if((d[vt>>2]|0)==(Ce|0))d[vt>>2]=Oe;tt=tt+1|0;if((tt|0)>=(Mt|0)){Ie=Oe;break}else vt=vt+4|0}}else Ie=Oe}else{h[pt>>1]=Ce;if((Ce|0)<(Oe|0)&(Mt|0)>0){it=0;gt=P;while(1){if((d[gt>>2]|0)==(Oe|0))d[gt>>2]=Ce;it=it+1|0;if((it|0)>=(Mt|0)){Ie=Ce;break}else gt=gt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Xe;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ke;d[n+1310736+(Ne+-1<<2)>>2]=Ke;St=Mt;break}ze=h[pt+-2>>1]|0;if(ze<<16>>16<=0){h[pt>>1]=ke;M=Ae*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ke;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(Xe|0))d[A>>2]=Xe;d[n+1310736+(M+-1<<2)>>2]=Ke;St=Mt;break}u=d[n+1179664+(Ae+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[pt>>1]=m;if((Mt|0)>0){rt=0;yt=P;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=m;rt=rt+1|0;if((rt|0)>=(Mt|0)){v=m;break}else yt=yt+4|0}}else v=m}else{h[pt>>1]=u;if((u|0)<(m|0)&(Mt|0)>0){nt=0;bt=P;while(1){if((d[bt>>2]|0)==(m|0))d[bt>>2]=u;nt=nt+1|0;if((nt|0)>=(Mt|0)){v=u;break}else bt=bt+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Ke;St=Mt}else{h[pt>>1]=0;f[Ve>>0]=0;St=Mt}}while(0);Xe=Xe+1|0;W=st+2|0;X=pt+2|0;q=Ve+1|0;if((Xe|0)>=(Be|0)){Ge=q;ot=W;dt=X;Et=St;break}else{Ve=q;st=W;pt=X;Mt=St}}}else{Ge=He;ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(c|0)){_t=Et;Tt=52;break e}else{He=Ge+2|0;at=ot+4|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Y=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=P;while(1){J=d[wt>>2]|0;if((J|0)==(qe|0)){Z=$e;et=$e+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;et=$e}d[wt>>2]=Z;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}K=n+8|0;Q=Qe+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ye=0;do{$=Ye<<2;d[n+131084+($<<2)>>2]=t;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=i;d[n+131084+(($|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[K>>2]|0))}if((_t|0)>0){Je=0;do{te=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ie=Je*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[K>>2]|0)>0){Ze=0;do{ye=n+12+(Ze<<2)|0;be=Ze<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);xe=n+655376+((be|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[ye>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[K>>2]|0));a=0}else a=0}}w=kt;return a|0}function yr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){je=0;lt=l;ut=l+((fe(c,t)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(t|0))break;else{lt=lt+2|0;ut=ut+2|0}}}Be=t+-1|0;if((i|0)>0){We=0;ct=l;ft=l+(Be<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ct=ct+(t<<1)|0;ft=ft+(t<<1)|0}}}P=n+1179664|0;I=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ee=(Be|0)>1;He=(d[n+4>>2]|0)+I|0;Ke=1;at=e+(I<<1)|0;ht=l+(I<<1)|0;xt=0;t:while(1){if(ee){Ve=He;Xe=1;st=at;pt=ht;Mt=xt;while(1){do{if((p[st+1>>0]|0|0)>(r|0)){h[pt>>1]=0;f[Ve>>0]=0;St=Mt}else{f[Ve>>0]=-1;_e=h[pt+(F<<1)>>1]|0;if(_e<<16>>16>0){h[pt>>1]=_e;Ee=(_e<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Xe;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ke;d[n+1310736+(Ee+-1<<2)>>2]=Ke;St=Mt;break}ke=h[pt+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[pt+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[pt>>1]=Re;R=Le*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ke;N=n+1310736+(R+-3<<2)|0;if((d[N>>2]|0)<(Xe|0))d[N>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}D=h[pt+-2>>1]|0;if(D<<16>>16>0){h[pt>>1]=D;B=(D<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(B+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(B+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Ke;G=n+1310736+(B+-3<<2)|0;if((d[G>>2]|0)>=(Xe|0)){St=Mt;break}d[G>>2]=Xe;St=Mt;break}else{V=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=V;d[n+1179664+(Mt<<2)>>2]=V<<16>>16;j=Mt*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=Xe;d[n+1310736+(j+2<<2)>>2]=Ke;d[n+1310736+(j+3<<2)>>2]=Xe;d[n+1310736+(j+4<<2)>>2]=Xe;d[n+1310736+(j+5<<2)>>2]=Ke;d[n+1310736+(j+6<<2)>>2]=Ke;St=V;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[pt>>1]=Oe;if((Mt|0)>0){tt=0;vt=P;while(1){if((d[vt>>2]|0)==(Ce|0))d[vt>>2]=Oe;tt=tt+1|0;if((tt|0)>=(Mt|0)){Ie=Oe;break}else vt=vt+4|0}}else Ie=Oe}else{h[pt>>1]=Ce;if((Ce|0)<(Oe|0)&(Mt|0)>0){it=0;gt=P;while(1){if((d[gt>>2]|0)==(Oe|0))d[gt>>2]=Ce;it=it+1|0;if((it|0)>=(Mt|0)){Ie=Ce;break}else gt=gt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Xe;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ke;d[n+1310736+(Ne+-1<<2)>>2]=Ke;St=Mt;break}ze=h[pt+-2>>1]|0;if(ze<<16>>16<=0){h[pt>>1]=ke;M=Ae*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ke;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(Xe|0))d[A>>2]=Xe;d[n+1310736+(M+-1<<2)>>2]=Ke;St=Mt;break}u=d[n+1179664+(Ae+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[pt>>1]=m;if((Mt|0)>0){rt=0;yt=P;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=m;rt=rt+1|0;if((rt|0)>=(Mt|0)){v=m;break}else yt=yt+4|0}}else v=m}else{h[pt>>1]=u;if((u|0)<(m|0)&(Mt|0)>0){nt=0;bt=P;while(1){if((d[bt>>2]|0)==(m|0))d[bt>>2]=u;nt=nt+1|0;if((nt|0)>=(Mt|0)){v=u;break}else bt=bt+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Ke;St=Mt}}while(0);Xe=Xe+1|0;W=st+2|0;X=pt+2|0;q=Ve+1|0;if((Xe|0)>=(Be|0)){Ge=q;ot=W;dt=X;Et=St;break}else{Ve=q;st=W;pt=X;Mt=St}}}else{Ge=He;ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(c|0)){_t=Et;Tt=52;break e}else{He=Ge+2|0;at=ot+4|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Y=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=P;while(1){J=d[wt>>2]|0;if((J|0)==(qe|0)){Z=$e;et=$e+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;et=$e}d[wt>>2]=Z;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}K=n+8|0;Q=Qe+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ye=0;do{$=Ye<<2;d[n+131084+($<<2)>>2]=t;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=i;d[n+131084+(($|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[K>>2]|0))}if((_t|0)>0){Je=0;do{te=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ie=Je*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[K>>2]|0)>0){Ze=0;do{ye=n+12+(Ze<<2)|0;be=Ze<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);xe=n+655376+((be|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[ye>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[K>>2]|0));a=0}else a=0}}w=kt;return a|0}function br(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){je=0;lt=l;ut=l+((fe(c,t)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(t|0))break;else{lt=lt+2|0;ut=ut+2|0}}}Be=t+-1|0;if((i|0)>0){We=0;ct=l;ft=l+(Be<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ct=ct+(t<<1)|0;ft=ft+(t<<1)|0}}}P=n+1179664|0;I=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){te=(Be|0)>1;He=(d[n+4>>2]|0)+I|0;Ke=1;at=e+(I<<1)|0;ht=l+(I<<1)|0;xt=0;t:while(1){if(te){Ve=He;Xe=1;st=at;pt=ht;Mt=xt;while(1){do{if((p[st>>0]|0|0)>(r|0)){f[Ve>>0]=-1;ye=h[pt+(B<<1)>>1]|0;if(ye<<16>>16>0){h[pt>>1]=ye;Ee=(ye<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Xe;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ke;d[n+1310736+(Ee+-1<<2)>>2]=Ke;St=Mt;break}ke=h[pt+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[pt+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[pt>>1]=Re;R=Le*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ke;N=n+1310736+(R+-3<<2)|0;if((d[N>>2]|0)<(Xe|0))d[N>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}D=h[pt+-2>>1]|0;if(D<<16>>16>0){h[pt>>1]=D;F=(D<<16>>16)*7|0;U=n+1310736+(F+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(F+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(F+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Ke;G=n+1310736+(F+-3<<2)|0;if((d[G>>2]|0)>=(Xe|0)){St=Mt;break}d[G>>2]=Xe;St=Mt;break}else{V=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=V;d[n+1179664+(Mt<<2)>>2]=V<<16>>16;j=Mt*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=Xe;d[n+1310736+(j+2<<2)>>2]=Ke;d[n+1310736+(j+3<<2)>>2]=Xe;d[n+1310736+(j+4<<2)>>2]=Xe;d[n+1310736+(j+5<<2)>>2]=Ke;d[n+1310736+(j+6<<2)>>2]=Ke;St=V;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[pt>>1]=Oe;if((Mt|0)>0){tt=0;vt=P;while(1){if((d[vt>>2]|0)==(Ce|0))d[vt>>2]=Oe;tt=tt+1|0;if((tt|0)>=(Mt|0)){Ie=Oe;break}else vt=vt+4|0}}else Ie=Oe}else{h[pt>>1]=Ce;if((Ce|0)<(Oe|0)&(Mt|0)>0){it=0;gt=P;while(1){if((d[gt>>2]|0)==(Oe|0))d[gt>>2]=Ce;it=it+1|0;if((it|0)>=(Mt|0)){Ie=Ce;break}else gt=gt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Xe;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ke;d[n+1310736+(Ne+-1<<2)>>2]=Ke;St=Mt;break}ze=h[pt+-2>>1]|0;if(ze<<16>>16<=0){h[pt>>1]=ke;M=Ae*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ke;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(Xe|0))d[A>>2]=Xe;d[n+1310736+(M+-1<<2)>>2]=Ke;St=Mt;break}u=d[n+1179664+(Ae+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[pt>>1]=m;if((Mt|0)>0){rt=0;yt=P;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=m;rt=rt+1|0;if((rt|0)>=(Mt|0)){v=m;break}else yt=yt+4|0}}else v=m}else{h[pt>>1]=u;if((u|0)<(m|0)&(Mt|0)>0){nt=0;bt=P;while(1){if((d[bt>>2]|0)==(m|0))d[bt>>2]=u;nt=nt+1|0;if((nt|0)>=(Mt|0)){v=u;break}else bt=bt+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Ke;St=Mt}else{h[pt>>1]=0;f[Ve>>0]=0;St=Mt}}while(0);Xe=Xe+1|0;W=st+2|0;X=pt+2|0;q=Ve+1|0;if((Xe|0)>=(Be|0)){Ge=q;ot=W;dt=X;Et=St;break}else{Ve=q;st=W;pt=X;Mt=St}}}else{Ge=He;ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(c|0)){_t=Et;Tt=52;break e}else{He=Ge+2|0;at=ot+4|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Y=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=P;while(1){J=d[wt>>2]|0;if((J|0)==(qe|0)){Z=$e;et=$e+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;et=$e}d[wt>>2]=Z;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}K=n+8|0;Q=Qe+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ye=0;do{$=Ye<<2;d[n+131084+($<<2)>>2]=t;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=i;d[n+131084+(($|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[K>>2]|0))}if((_t|0)>0){Je=0;do{ee=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ie=Je*7|0;re=n+12+(ee<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=ee<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[K>>2]|0)>0){Ze=0;do{be=n+12+(Ze<<2)|0;we=Ze<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[K>>2]|0));a=0}else a=0}}w=kt;return a|0}function wr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){je=0;lt=l;ut=l+((fe(c,t)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(t|0))break;else{lt=lt+2|0;ut=ut+2|0}}}Be=t+-1|0;if((i|0)>0){We=0;ct=l;ft=l+(Be<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ct=ct+(t<<1)|0;ft=ft+(t<<1)|0}}}P=n+1179664|0;I=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){te=(Be|0)>1;He=(d[n+4>>2]|0)+I|0;Ke=1;at=e+(I<<1)|0;ht=l+(I<<1)|0;xt=0;t:while(1){if(te){Ve=He;Xe=1;st=at;pt=ht;Mt=xt;while(1){do{if((p[st>>0]|0|0)>(r|0)){h[pt>>1]=0;f[Ve>>0]=0;St=Mt}else{f[Ve>>0]=-1;ye=h[pt+(B<<1)>>1]|0;if(ye<<16>>16>0){h[pt>>1]=ye;Ee=(ye<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Xe;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ke;d[n+1310736+(Ee+-1<<2)>>2]=Ke;St=Mt;break}ke=h[pt+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[pt+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[pt>>1]=Re;R=Le*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ke;N=n+1310736+(R+-3<<2)|0;if((d[N>>2]|0)<(Xe|0))d[N>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}D=h[pt+-2>>1]|0;if(D<<16>>16>0){h[pt>>1]=D;F=(D<<16>>16)*7|0;U=n+1310736+(F+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(F+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(F+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Ke;G=n+1310736+(F+-3<<2)|0;if((d[G>>2]|0)>=(Xe|0)){St=Mt;break}d[G>>2]=Xe;St=Mt;break}else{V=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=V;d[n+1179664+(Mt<<2)>>2]=V<<16>>16;j=Mt*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=Xe;d[n+1310736+(j+2<<2)>>2]=Ke;d[n+1310736+(j+3<<2)>>2]=Xe;d[n+1310736+(j+4<<2)>>2]=Xe;d[n+1310736+(j+5<<2)>>2]=Ke;d[n+1310736+(j+6<<2)>>2]=Ke;St=V;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[pt>>1]=Oe;if((Mt|0)>0){tt=0;vt=P;while(1){if((d[vt>>2]|0)==(Ce|0))d[vt>>2]=Oe;tt=tt+1|0;if((tt|0)>=(Mt|0)){Ie=Oe;break}else vt=vt+4|0}}else Ie=Oe}else{h[pt>>1]=Ce;if((Ce|0)<(Oe|0)&(Mt|0)>0){it=0;gt=P;while(1){if((d[gt>>2]|0)==(Oe|0))d[gt>>2]=Ce;it=it+1|0;if((it|0)>=(Mt|0)){Ie=Ce;break}else gt=gt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Xe;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ke;d[n+1310736+(Ne+-1<<2)>>2]=Ke;St=Mt;break}ze=h[pt+-2>>1]|0;if(ze<<16>>16<=0){h[pt>>1]=ke;M=Ae*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ke;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(Xe|0))d[A>>2]=Xe;d[n+1310736+(M+-1<<2)>>2]=Ke;St=Mt;break}u=d[n+1179664+(Ae+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[pt>>1]=m;if((Mt|0)>0){rt=0;yt=P;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=m;rt=rt+1|0;if((rt|0)>=(Mt|0)){v=m;break}else yt=yt+4|0}}else v=m}else{h[pt>>1]=u;if((u|0)<(m|0)&(Mt|0)>0){nt=0;bt=P;while(1){if((d[bt>>2]|0)==(m|0))d[bt>>2]=u;nt=nt+1|0;if((nt|0)>=(Mt|0)){v=u;break}else bt=bt+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Ke;St=Mt}}while(0);Xe=Xe+1|0;W=st+2|0;X=pt+2|0;q=Ve+1|0;if((Xe|0)>=(Be|0)){Ge=q;ot=W;dt=X;Et=St;break}else{Ve=q;st=W;pt=X;Mt=St}}}else{Ge=He;ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(c|0)){_t=Et;Tt=52;break e}else{He=Ge+2|0;at=ot+4|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Y=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=P;while(1){J=d[wt>>2]|0;if((J|0)==(qe|0)){Z=$e;et=$e+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;et=$e}d[wt>>2]=Z;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}K=n+8|0;Q=Qe+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ye=0;do{$=Ye<<2;d[n+131084+($<<2)>>2]=t;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=i;d[n+131084+(($|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[K>>2]|0))}if((_t|0)>0){Je=0;do{ee=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ie=Je*7|0;re=n+12+(ee<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=ee<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[K>>2]|0)>0){Ze=0;do{be=n+12+(Ze<<2)|0;we=Ze<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[K>>2]|0));a=0}else a=0}}w=kt;return a|0}function _r(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){je=0;lt=l;ut=l+((fe(c,t)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(t|0))break;else{lt=lt+2|0;ut=ut+2|0}}}Be=t+-1|0;if((i|0)>0){We=0;ct=l;ft=l+(Be<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ct=ct+(t<<1)|0;ft=ft+(t<<1)|0}}}P=n+1179664|0;N=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ee=(Be|0)>1;He=(d[n+4>>2]|0)+N|0;Ke=1;at=e+N|0;ht=l+(N<<1)|0;xt=0;t:while(1){if(ee){Ve=He;Xe=1;st=at;pt=ht;Mt=xt;while(1){do{if((p[st>>0]|0|0)>(r|0)){f[Ve>>0]=-1;me=h[pt+(B<<1)>>1]|0;if(me<<16>>16>0){h[pt>>1]=me;Ee=(me<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Xe;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ke;d[n+1310736+(Ee+-1<<2)>>2]=Ke;St=Mt;break}ke=h[pt+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[pt+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[pt>>1]=Re;R=Le*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ke;I=n+1310736+(R+-3<<2)|0;if((d[I>>2]|0)<(Xe|0))d[I>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}D=h[pt+-2>>1]|0;if(D<<16>>16>0){h[pt>>1]=D;F=(D<<16>>16)*7|0;U=n+1310736+(F+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(F+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(F+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Ke;G=n+1310736+(F+-3<<2)|0;if((d[G>>2]|0)>=(Xe|0)){St=Mt;break}d[G>>2]=Xe;St=Mt;break}else{V=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=V;d[n+1179664+(Mt<<2)>>2]=V<<16>>16;j=Mt*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=Xe;d[n+1310736+(j+2<<2)>>2]=Ke;d[n+1310736+(j+3<<2)>>2]=Xe;d[n+1310736+(j+4<<2)>>2]=Xe;d[n+1310736+(j+5<<2)>>2]=Ke;d[n+1310736+(j+6<<2)>>2]=Ke;St=V;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[pt>>1]=Oe;if((Mt|0)>0){tt=0;vt=P;while(1){if((d[vt>>2]|0)==(Ce|0))d[vt>>2]=Oe;tt=tt+1|0;if((tt|0)>=(Mt|0)){Ie=Oe;break}else vt=vt+4|0}}else Ie=Oe}else{h[pt>>1]=Ce;if((Ce|0)<(Oe|0)&(Mt|0)>0){it=0;gt=P;while(1){if((d[gt>>2]|0)==(Oe|0))d[gt>>2]=Ce;it=it+1|0;if((it|0)>=(Mt|0)){Ie=Ce;break}else gt=gt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Xe;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ke;d[n+1310736+(Ne+-1<<2)>>2]=Ke;St=Mt;break}ze=h[pt+-2>>1]|0;if(ze<<16>>16<=0){h[pt>>1]=ke;M=Ae*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ke;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(Xe|0))d[A>>2]=Xe;d[n+1310736+(M+-1<<2)>>2]=Ke;St=Mt;break}u=d[n+1179664+(Ae+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[pt>>1]=m;if((Mt|0)>0){rt=0;yt=P;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=m;rt=rt+1|0;if((rt|0)>=(Mt|0)){v=m;break}else yt=yt+4|0}}else v=m}else{h[pt>>1]=u;if((u|0)<(m|0)&(Mt|0)>0){nt=0;bt=P;while(1){if((d[bt>>2]|0)==(m|0))d[bt>>2]=u;nt=nt+1|0;if((nt|0)>=(Mt|0)){v=u;break}else bt=bt+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Ke;St=Mt}else{h[pt>>1]=0;f[Ve>>0]=0;St=Mt}}while(0);Xe=Xe+1|0;W=st+1|0;X=pt+2|0;q=Ve+1|0;if((Xe|0)>=(Be|0)){Ge=q;ot=W;dt=X;Et=St;break}else{Ve=q;st=W;pt=X;Mt=St}}}else{Ge=He;ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(c|0)){_t=Et;Tt=52;break e}else{He=Ge+2|0;at=ot+2|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Y=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=P;while(1){J=d[wt>>2]|0;if((J|0)==(qe|0)){Z=$e;et=$e+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;et=$e}d[wt>>2]=Z;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}K=n+8|0;Q=Qe+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ye=0;do{$=Ye<<2;d[n+131084+($<<2)>>2]=t;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=i;d[n+131084+(($|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[K>>2]|0))}if((_t|0)>0){Je=0;do{te=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ie=Je*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;ve=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(ve|0))d[de>>2]=ve;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[K>>2]|0)>0){Ze=0;do{be=n+12+(Ze<<2)|0;we=Ze<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[K>>2]|0));a=0}else a=0}}w=kt;return a|0}function xr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){je=0;lt=l;ut=l+((fe(c,t)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(t|0))break;else{lt=lt+2|0;ut=ut+2|0}}}Be=t+-1|0;if((i|0)>0){We=0;ct=l;ft=l+(Be<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ct=ct+(t<<1)|0;ft=ft+(t<<1)|0}}}P=n+1179664|0;N=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){ee=(Be|0)>1;He=(d[n+4>>2]|0)+N|0;Ke=1;at=e+N|0;ht=l+(N<<1)|0;xt=0;t:while(1){if(ee){Ve=He;Xe=1;st=at;pt=ht;Mt=xt;while(1){do{if((p[st>>0]|0|0)>(r|0)){h[pt>>1]=0;f[Ve>>0]=0;St=Mt}else{f[Ve>>0]=-1;me=h[pt+(B<<1)>>1]|0;if(me<<16>>16>0){h[pt>>1]=me;Ee=(me<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Xe;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ke;d[n+1310736+(Ee+-1<<2)>>2]=Ke;St=Mt;break}ke=h[pt+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[pt+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[pt>>1]=Re;R=Le*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;C=n+1310736+(R+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(R+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ke;I=n+1310736+(R+-3<<2)|0;if((d[I>>2]|0)<(Xe|0))d[I>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}D=h[pt+-2>>1]|0;if(D<<16>>16>0){h[pt>>1]=D;F=(D<<16>>16)*7|0;U=n+1310736+(F+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;z=n+1310736+(F+-6<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(F+-5<<2)|0;d[H>>2]=(d[H>>2]|0)+Ke;G=n+1310736+(F+-3<<2)|0;if((d[G>>2]|0)>=(Xe|0)){St=Mt;break}d[G>>2]=Xe;St=Mt;break}else{V=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=V;d[n+1179664+(Mt<<2)>>2]=V<<16>>16;j=Mt*7|0;d[n+1310736+(j<<2)>>2]=1;d[n+1310736+(j+1<<2)>>2]=Xe;d[n+1310736+(j+2<<2)>>2]=Ke;d[n+1310736+(j+3<<2)>>2]=Xe;d[n+1310736+(j+4<<2)>>2]=Xe;d[n+1310736+(j+5<<2)>>2]=Ke;d[n+1310736+(j+6<<2)>>2]=Ke;St=V;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[pt>>1]=Oe;if((Mt|0)>0){tt=0;vt=P;while(1){if((d[vt>>2]|0)==(Ce|0))d[vt>>2]=Oe;tt=tt+1|0;if((tt|0)>=(Mt|0)){Ie=Oe;break}else vt=vt+4|0}}else Ie=Oe}else{h[pt>>1]=Ce;if((Ce|0)<(Oe|0)&(Mt|0)>0){it=0;gt=P;while(1){if((d[gt>>2]|0)==(Oe|0))d[gt>>2]=Ce;it=it+1|0;if((it|0)>=(Mt|0)){Ie=Ce;break}else gt=gt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Fe=n+1310736+(Ne+-6<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+Xe;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ke;d[n+1310736+(Ne+-1<<2)>>2]=Ke;St=Mt;break}ze=h[pt+-2>>1]|0;if(ze<<16>>16<=0){h[pt>>1]=ke;M=Ae*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ke;A=n+1310736+(M+-4<<2)|0;if((d[A>>2]|0)>(Xe|0))d[A>>2]=Xe;d[n+1310736+(M+-1<<2)>>2]=Ke;St=Mt;break}u=d[n+1179664+(Ae+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((u|0)>(m|0)){h[pt>>1]=m;if((Mt|0)>0){rt=0;yt=P;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=m;rt=rt+1|0;if((rt|0)>=(Mt|0)){v=m;break}else yt=yt+4|0}}else v=m}else{h[pt>>1]=u;if((u|0)<(m|0)&(Mt|0)>0){nt=0;bt=P;while(1){if((d[bt>>2]|0)==(m|0))d[bt>>2]=u;nt=nt+1|0;if((nt|0)>=(Mt|0)){v=u;break}else bt=bt+4|0}}else v=u}g=(v<<16>>16)*7|0;b=n+1310736+(g+-7<<2)|0;d[b>>2]=(d[b>>2]|0)+1;x=n+1310736+(g+-6<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;E=n+1310736+(g+-5<<2)|0;d[E>>2]=(d[E>>2]|0)+Ke;St=Mt}}while(0);Xe=Xe+1|0;W=st+1|0;X=pt+2|0;q=Ve+1|0;if((Xe|0)>=(Be|0)){Ge=q;ot=W;dt=X;Et=St;break}else{Ve=q;st=W;pt=X;Mt=St}}}else{Ge=He;ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(c|0)){_t=Et;Tt=52;break e}else{He=Ge+2|0;at=ot+2|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Y=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=P;while(1){J=d[wt>>2]|0;if((J|0)==(qe|0)){Z=$e;et=$e+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;et=$e}d[wt>>2]=Z;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}K=n+8|0;Q=Qe+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ye=0;do{$=Ye<<2;d[n+131084+($<<2)>>2]=t;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=i;d[n+131084+(($|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[K>>2]|0))}if((_t|0)>0){Je=0;do{te=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ie=Je*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;ve=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(ve|0))d[de>>2]=ve;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[K>>2]|0)>0){Ze=0;do{be=n+12+(Ze<<2)|0;we=Ze<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[K>>2]|0));a=0}else a=0}}w=kt;return a|0}function Er(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0;Tt=w;w=w+16|0;if((w|0)>=(_|0))pe();pt=Tt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}Fe=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(Fe<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}L=n+1179664|0;O=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){Y=(Fe|0)>1;qe=1;tt=e+O|0;lt=l+(O<<1)|0;ft=r+O|0;_t=0;t:while(1){if(Y){Ge=1;rt=tt;ut=lt;dt=ft;Et=_t;while(1){do{if((p[rt>>0]|0)>(p[dt>>0]|0)){oe=h[ut+(F<<1)>>1]|0;if(oe<<16>>16>0){h[ut>>1]=oe;ye=(oe<<16>>16)*7|0;xe=n+1310736+(ye+-7<<2)|0;d[xe>>2]=(d[xe>>2]|0)+1;Ee=n+1310736+(ye+-6<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+Ge;Me=n+1310736+(ye+-5<<2)|0;d[Me>>2]=(d[Me>>2]|0)+qe;d[n+1310736+(ye+-1<<2)>>2]=qe;Mt=Et;break}Se=h[ut+(o<<1)>>1]|0;Te=Se<<16>>16;ke=h[ut+(s<<1)>>1]|0;Ae=ke<<16>>16;Re=ke<<16>>16>0;if(Se<<16>>16<=0){if(Re){h[ut>>1]=ke;k=Ae*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Ge;P=n+1310736+(k+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+qe;C=n+1310736+(k+-3<<2)|0;if((d[C>>2]|0)<(Ge|0))d[C>>2]=Ge;d[n+1310736+(k+-1<<2)>>2]=qe;Mt=Et;break}I=h[ut+-2>>1]|0;if(I<<16>>16>0){h[ut>>1]=I;N=(I<<16>>16)*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;B=n+1310736+(N+-6<<2)|0;d[B>>2]=(d[B>>2]|0)+Ge;U=n+1310736+(N+-5<<2)|0;d[U>>2]=(d[U>>2]|0)+qe;z=n+1310736+(N+-3<<2)|0;if((d[z>>2]|0)>=(Ge|0)){Mt=Et;break}d[z>>2]=Ge;Mt=Et;break}else{H=Et+1|0;if((Et|0)>32767)break t;h[ut>>1]=H;d[n+1179664+(Et<<2)>>2]=H<<16>>16;G=Et*7|0;d[n+1310736+(G<<2)>>2]=1;d[n+1310736+(G+1<<2)>>2]=Ge;d[n+1310736+(G+2<<2)>>2]=qe;d[n+1310736+(G+3<<2)>>2]=Ge;d[n+1310736+(G+4<<2)>>2]=Ge;d[n+1310736+(G+5<<2)>>2]=qe;d[n+1310736+(G+6<<2)>>2]=qe;Mt=H;break}}if(Re){Le=d[n+1179664+(Te+-1<<2)>>2]|0;Pe=d[n+1179664+(Ae+-1<<2)>>2]|0;if((Le|0)>(Pe|0)){h[ut>>1]=Pe;if((Et|0)>0){Ke=0;mt=L;while(1){if((d[mt>>2]|0)==(Le|0))d[mt>>2]=Pe;Ke=Ke+1|0;if((Ke|0)>=(Et|0)){Ce=Pe;break}else mt=mt+4|0}}else Ce=Pe}else{h[ut>>1]=Le;if((Le|0)<(Pe|0)&(Et|0)>0){Qe=0;vt=L;while(1){if((d[vt>>2]|0)==(Pe|0))d[vt>>2]=Le;Qe=Qe+1|0;if((Qe|0)>=(Et|0)){Ce=Le;break}else vt=vt+4|0}}else Ce=Le}Oe=(Ce<<16>>16)*7|0;Ie=n+1310736+(Oe+-7<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+1;Ne=n+1310736+(Oe+-6<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+Ge;De=n+1310736+(Oe+-5<<2)|0;d[De>>2]=(d[De>>2]|0)+qe;d[n+1310736+(Oe+-1<<2)>>2]=qe;Mt=Et;break}Be=h[ut+-2>>1]|0;if(Be<<16>>16<=0){h[ut>>1]=Se;x=Te*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+Ge;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(x+-4<<2)|0;if((d[T>>2]|0)>(Ge|0))d[T>>2]=Ge;d[n+1310736+(x+-1<<2)>>2]=qe;Mt=Et;break}Ue=d[n+1179664+(Te+-1<<2)>>2]|0;u=d[n+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((Ue|0)>(u|0)){h[ut>>1]=u;if((Et|0)>0){$e=0;gt=L;while(1){if((d[gt>>2]|0)==(Ue|0))d[gt>>2]=u;$e=$e+1|0;if(($e|0)>=(Et|0)){f=u;break}else gt=gt+4|0}}else f=u}else{h[ut>>1]=Ue;if((Ue|0)<(u|0)&(Et|0)>0){et=0;yt=L;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=Ue;et=et+1|0;if((et|0)>=(Et|0)){f=Ue;break}else yt=yt+4|0}}else f=Ue}m=(f<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+Ge;b=n+1310736+(m+-5<<2)|0;d[b>>2]=(d[b>>2]|0)+qe;Mt=Et}else{h[ut>>1]=0;Mt=Et}}while(0);Ge=Ge+1|0;V=rt+1|0;j=dt+1|0;W=ut+2|0;if((Ge|0)>=(Fe|0)){it=V;ct=W;ht=j;xt=Mt;break}else{rt=V;ut=W;dt=j;Et=Mt}}}else{it=tt;ct=lt;ht=ft;xt=_t}qe=qe+1|0;if((qe|0)>=(c|0)){wt=xt;St=52;break e}else{tt=it+2|0;lt=ct+4|0;ft=ht+2|0;_t=xt}}Ha(3,3904,pt);a=-1}else{wt=0;St=52}}while(0);if((St|0)==52){X=n+12|0;if((wt|0)<1)Ye=1;else{Ve=1;Je=1;bt=L;while(1){q=d[bt>>2]|0;if((q|0)==(Ve|0)){J=Je;Ze=Je+1|0}else{J=d[n+1179664+(q+-1<<2)>>2]|0;Ze=Je}d[bt>>2]=J;if((Ve|0)<(wt|0)){Ve=Ve+1|0;Je=Ze;bt=bt+4|0}else{Ye=Ze;break}}}Z=n+8|0;K=Ye+-1|0;d[Z>>2]=K;if(!K)a=0;else{ul(X|0,0,K<<2|0)|0;ul(n+655376|0,0,K<<4|0)|0;if((Ye|0)>1){je=0;do{Q=je<<2;d[n+131084+(Q<<2)>>2]=t;d[n+131084+((Q|1)<<2)>>2]=0;d[n+131084+((Q|2)<<2)>>2]=i;d[n+131084+((Q|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Z>>2]|0))}if((wt|0)>0){We=0;do{$=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ee=We*7|0;te=n+12+($<<2)|0;d[te>>2]=(d[te>>2]|0)+(d[n+1310736+(ee<<2)>>2]|0);ie=$<<1;re=n+655376+(ie<<3)|0;y[re>>3]=+y[re>>3]+ +(d[n+1310736+(ee+1<<2)>>2]|0);ne=n+655376+((ie|1)<<3)|0;y[ne>>3]=+y[ne>>3]+ +(d[n+1310736+(ee+2<<2)>>2]|0);ae=$<<2;se=n+131084+(ae<<2)|0;le=d[n+1310736+(ee+3<<2)>>2]|0;if((d[se>>2]|0)>(le|0))d[se>>2]=le;ce=n+131084+((ae|1)<<2)|0;ue=d[n+1310736+(ee+4<<2)>>2]|0;if((d[ce>>2]|0)<(ue|0))d[ce>>2]=ue;he=n+131084+((ae|2)<<2)|0;de=d[n+1310736+(ee+5<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ae|3)<<2)|0;ve=d[n+1310736+(ee+6<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;We=We+1|0}while((We|0)<(wt|0))}if((d[Z>>2]|0)>0){Xe=0;do{ge=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ge>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ge>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Z>>2]|0));a=0}else a=0}}w=Tt;return a|0}function Mr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0;Tt=w;w=w+16|0;if((w|0)>=(_|0))pe();pt=Tt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}Fe=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(Fe<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}L=n+1179664|0;O=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){Y=(Fe|0)>1;qe=1;tt=e+O|0;lt=l+(O<<1)|0;ft=r+O|0;_t=0;t:while(1){if(Y){Ge=1;rt=tt;ut=lt;dt=ft;Et=_t;while(1){do{if((p[rt>>0]|0)>(p[dt>>0]|0)){h[ut>>1]=0;Mt=Et}else{oe=h[ut+(F<<1)>>1]|0;if(oe<<16>>16>0){h[ut>>1]=oe;ye=(oe<<16>>16)*7|0;xe=n+1310736+(ye+-7<<2)|0;d[xe>>2]=(d[xe>>2]|0)+1;Ee=n+1310736+(ye+-6<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+Ge;Me=n+1310736+(ye+-5<<2)|0;d[Me>>2]=(d[Me>>2]|0)+qe;d[n+1310736+(ye+-1<<2)>>2]=qe;Mt=Et;break}Se=h[ut+(o<<1)>>1]|0;Te=Se<<16>>16;ke=h[ut+(s<<1)>>1]|0;Ae=ke<<16>>16;Re=ke<<16>>16>0;if(Se<<16>>16<=0){if(Re){h[ut>>1]=ke;k=Ae*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+Ge;P=n+1310736+(k+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+qe;C=n+1310736+(k+-3<<2)|0;if((d[C>>2]|0)<(Ge|0))d[C>>2]=Ge;d[n+1310736+(k+-1<<2)>>2]=qe;Mt=Et;break}I=h[ut+-2>>1]|0;if(I<<16>>16>0){h[ut>>1]=I;N=(I<<16>>16)*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;B=n+1310736+(N+-6<<2)|0;d[B>>2]=(d[B>>2]|0)+Ge;U=n+1310736+(N+-5<<2)|0;d[U>>2]=(d[U>>2]|0)+qe;z=n+1310736+(N+-3<<2)|0;if((d[z>>2]|0)>=(Ge|0)){Mt=Et;break}d[z>>2]=Ge;Mt=Et;break}else{H=Et+1|0;if((Et|0)>32767)break t;h[ut>>1]=H;d[n+1179664+(Et<<2)>>2]=H<<16>>16;G=Et*7|0;d[n+1310736+(G<<2)>>2]=1;d[n+1310736+(G+1<<2)>>2]=Ge;d[n+1310736+(G+2<<2)>>2]=qe;d[n+1310736+(G+3<<2)>>2]=Ge;d[n+1310736+(G+4<<2)>>2]=Ge;d[n+1310736+(G+5<<2)>>2]=qe;d[n+1310736+(G+6<<2)>>2]=qe;Mt=H;break}}if(Re){Le=d[n+1179664+(Te+-1<<2)>>2]|0;Pe=d[n+1179664+(Ae+-1<<2)>>2]|0;if((Le|0)>(Pe|0)){h[ut>>1]=Pe;if((Et|0)>0){Ke=0;mt=L;while(1){if((d[mt>>2]|0)==(Le|0))d[mt>>2]=Pe;Ke=Ke+1|0;if((Ke|0)>=(Et|0)){Ce=Pe;break}else mt=mt+4|0}}else Ce=Pe}else{h[ut>>1]=Le;if((Le|0)<(Pe|0)&(Et|0)>0){Qe=0;vt=L;while(1){if((d[vt>>2]|0)==(Pe|0))d[vt>>2]=Le;Qe=Qe+1|0;if((Qe|0)>=(Et|0)){Ce=Le;break}else vt=vt+4|0}}else Ce=Le}Oe=(Ce<<16>>16)*7|0;Ie=n+1310736+(Oe+-7<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+1;Ne=n+1310736+(Oe+-6<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+Ge;De=n+1310736+(Oe+-5<<2)|0;d[De>>2]=(d[De>>2]|0)+qe;d[n+1310736+(Oe+-1<<2)>>2]=qe;Mt=Et;break}Be=h[ut+-2>>1]|0;if(Be<<16>>16<=0){h[ut>>1]=Se;x=Te*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+Ge;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+qe;T=n+1310736+(x+-4<<2)|0;if((d[T>>2]|0)>(Ge|0))d[T>>2]=Ge;d[n+1310736+(x+-1<<2)>>2]=qe;Mt=Et;break}Ue=d[n+1179664+(Te+-1<<2)>>2]|0;u=d[n+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((Ue|0)>(u|0)){h[ut>>1]=u;if((Et|0)>0){$e=0;gt=L;while(1){if((d[gt>>2]|0)==(Ue|0))d[gt>>2]=u;$e=$e+1|0;if(($e|0)>=(Et|0)){f=u;break}else gt=gt+4|0}}else f=u}else{h[ut>>1]=Ue;if((Ue|0)<(u|0)&(Et|0)>0){et=0;yt=L;while(1){if((d[yt>>2]|0)==(u|0))d[yt>>2]=Ue;et=et+1|0;if((et|0)>=(Et|0)){f=Ue;break}else yt=yt+4|0}}else f=Ue}m=(f<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+Ge;b=n+1310736+(m+-5<<2)|0;d[b>>2]=(d[b>>2]|0)+qe;Mt=Et}}while(0);Ge=Ge+1|0;V=rt+1|0;j=dt+1|0;W=ut+2|0;if((Ge|0)>=(Fe|0)){it=V;ct=W;ht=j;xt=Mt;break}else{rt=V;ut=W;dt=j;Et=Mt}}}else{it=tt;ct=lt;ht=ft;xt=_t}qe=qe+1|0;if((qe|0)>=(c|0)){wt=xt;St=52;break e}else{tt=it+2|0;lt=ct+4|0;ft=ht+2|0;_t=xt}}Ha(3,3904,pt);a=-1}else{wt=0;St=52}}while(0);if((St|0)==52){X=n+12|0;if((wt|0)<1)Ye=1;else{Ve=1;Je=1;bt=L;while(1){q=d[bt>>2]|0;if((q|0)==(Ve|0)){J=Je;Ze=Je+1|0}else{J=d[n+1179664+(q+-1<<2)>>2]|0;Ze=Je}d[bt>>2]=J;if((Ve|0)<(wt|0)){Ve=Ve+1|0;Je=Ze;bt=bt+4|0}else{Ye=Ze;break}}}Z=n+8|0;K=Ye+-1|0;d[Z>>2]=K;if(!K)a=0;else{ul(X|0,0,K<<2|0)|0;ul(n+655376|0,0,K<<4|0)|0;if((Ye|0)>1){je=0;do{Q=je<<2;d[n+131084+(Q<<2)>>2]=t;d[n+131084+((Q|1)<<2)>>2]=0;d[n+131084+((Q|2)<<2)>>2]=i;d[n+131084+((Q|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Z>>2]|0))}if((wt|0)>0){We=0;do{$=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ee=We*7|0;te=n+12+($<<2)|0;d[te>>2]=(d[te>>2]|0)+(d[n+1310736+(ee<<2)>>2]|0);ie=$<<1;re=n+655376+(ie<<3)|0;y[re>>3]=+y[re>>3]+ +(d[n+1310736+(ee+1<<2)>>2]|0);ne=n+655376+((ie|1)<<3)|0;y[ne>>3]=+y[ne>>3]+ +(d[n+1310736+(ee+2<<2)>>2]|0);ae=$<<2;se=n+131084+(ae<<2)|0;le=d[n+1310736+(ee+3<<2)>>2]|0;if((d[se>>2]|0)>(le|0))d[se>>2]=le;ce=n+131084+((ae|1)<<2)|0;ue=d[n+1310736+(ee+4<<2)>>2]|0;if((d[ce>>2]|0)<(ue|0))d[ce>>2]=ue;he=n+131084+((ae|2)<<2)|0;de=d[n+1310736+(ee+5<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ae|3)<<2)|0;ve=d[n+1310736+(ee+6<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;We=We+1|0}while((We|0)<(wt|0))}if((d[Z>>2]|0)>0){Xe=0;do{ge=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ge>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ge>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Z>>2]|0));a=0}else a=0}}w=Tt;return a|0}function Sr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){je=0;lt=V;ut=V+((fe(me,c)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(c|0))break;else{lt=lt+2|0;ut=ut+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){We=0;ct=V;ft=V+(x<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(u|0))break;else{ct=ct+(c<<1)|0;ft=ft+(c<<1)|0}}}U=n+1179664|0;q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){se=(x|0)>1;Ke=1;at=e+((t<<2)+4)|0;ht=V+(c+1<<1)|0;xt=0;t:while(1){if(se){Xe=1;st=at;pt=ht;Mt=xt;while(1){ve=p[st>>0]|0;Ae=p[st+1>>0]|0;do{if(((ve&248)+12+(ve<<5&224)+(Ae>>>3&24)+(Ae<<2&248)|0)>(v|0)){Re=h[pt+(q<<1)>>1]|0;if(Re<<16>>16>0){h[pt>>1]=Re;Le=(Re<<16>>16)*7|0;Pe=n+1310736+(Le+-7<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+1;Ce=n+1310736+(Le+-6<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+Xe;Oe=n+1310736+(Le+-5<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ke;d[n+1310736+(Le+-1<<2)>>2]=Ke;St=Mt;break}Ie=h[pt+(s<<1)>>1]|0;Ne=Ie<<16>>16;De=h[pt+(l<<1)>>1]|0;Fe=De<<16>>16;Be=De<<16>>16>0;if(Ie<<16>>16<=0){if(Be){h[pt>>1]=De;I=Fe*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Xe;F=n+1310736+(I+-5<<2)|0;d[F>>2]=(d[F>>2]|0)+Ke;B=n+1310736+(I+-3<<2)|0;if((d[B>>2]|0)<(Xe|0))d[B>>2]=Xe;d[n+1310736+(I+-1<<2)>>2]=Ke;St=Mt;break}z=h[pt+-2>>1]|0;if(z<<16>>16>0){h[pt>>1]=z;H=(z<<16>>16)*7|0;G=n+1310736+(H+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;j=n+1310736+(H+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Xe;W=n+1310736+(H+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+Ke;X=n+1310736+(H+-3<<2)|0;if((d[X>>2]|0)>=(Xe|0)){St=Mt;break}d[X>>2]=Xe;St=Mt;break}else{Y=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=Y;d[n+1179664+(Mt<<2)>>2]=Y<<16>>16;J=Mt*7|0;d[n+1310736+(J<<2)>>2]=1;d[n+1310736+(J+1<<2)>>2]=Xe;d[n+1310736+(J+2<<2)>>2]=Ke;d[n+1310736+(J+3<<2)>>2]=Xe;d[n+1310736+(J+4<<2)>>2]=Xe;d[n+1310736+(J+5<<2)>>2]=Ke;d[n+1310736+(J+6<<2)>>2]=Ke;St=Y;break}}if(Be){Ue=d[n+1179664+(Ne+-1<<2)>>2]|0;ze=d[n+1179664+(Fe+-1<<2)>>2]|0;if((Ue|0)>(ze|0)){h[pt>>1]=ze;if((Mt|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(Ue|0))d[vt>>2]=ze;tt=tt+1|0;if((tt|0)>=(Mt|0)){He=ze;break}else vt=vt+4|0}}else He=ze}else{h[pt>>1]=Ue;if((Ue|0)<(ze|0)&(Mt|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(ze|0))d[gt>>2]=Ue;it=it+1|0;if((it|0)>=(Mt|0)){He=Ue;break}else gt=gt+4|0}}else He=Ue}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;f=n+1310736+(Ge+-6<<2)|0;d[f>>2]=(d[f>>2]|0)+Xe;m=n+1310736+(Ge+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Ke;d[n+1310736+(Ge+-1<<2)>>2]=Ke;St=Mt;break}g=h[pt+-2>>1]|0;if(g<<16>>16<=0){h[pt>>1]=Ie;R=Ne*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;P=n+1310736+(R+-6<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(R+-5<<2)|0;d[C>>2]=(d[C>>2]|0)+Ke;O=n+1310736+(R+-4<<2)|0;if((d[O>>2]|0)>(Xe|0))d[O>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}b=d[n+1179664+(Ne+-1<<2)>>2]|0;E=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(E|0)){h[pt>>1]=E;if((Mt|0)>0){rt=0;yt=U;while(1){if((d[yt>>2]|0)==(b|0))d[yt>>2]=E;rt=rt+1|0;if((rt|0)>=(Mt|0)){M=E;break}else yt=yt+4|0}}else M=E}else{h[pt>>1]=b;if((b|0)<(E|0)&(Mt|0)>0){nt=0;bt=U;while(1){if((d[bt>>2]|0)==(E|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(Mt|0)){M=b;break}else bt=bt+4|0}}else M=b}S=(M<<16>>16)*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Xe;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ke;St=Mt}else{h[pt>>1]=0;St=Mt}}while(0);Xe=Xe+1|0;Z=st+4|0;K=pt+2|0;if((Xe|0)>=(x|0)){ot=Z;dt=K;Et=St;break}else{st=Z;pt=K;Mt=St}}}else{ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(me|0)){_t=Et;Tt=52;break e}else{at=ot+o|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Q=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=U;while(1){$=d[wt>>2]|0;if(($|0)==(qe|0)){ee=$e;et=$e+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;et=$e}d[wt>>2]=ee;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}te=n+8|0;ie=Qe+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((Qe|0)>1){Ye=0;do{re=Ye<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[te>>2]|0))}if((_t|0)>0){Je=0;do{ne=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);le=ne<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ue=n+655376+((le|1)<<3)|0;y[ue>>3]=+y[ue>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);he=ne<<2;de=n+131084+(he<<2)|0;ge=d[n+1310736+(ae+3<<2)>>2]|0;if((d[de>>2]|0)>(ge|0))d[de>>2]=ge;ye=n+131084+((he|1)<<2)|0;be=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;we=n+131084+((he|2)<<2)|0;_e=d[n+1310736+(ae+5<<2)>>2]|0;if((d[we>>2]|0)>(_e|0))d[we>>2]=_e;xe=n+131084+((he|3)<<2)|0;Ee=d[n+1310736+(ae+6<<2)>>2]|0;if((d[xe>>2]|0)<(Ee|0))d[xe>>2]=Ee;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[te>>2]|0)>0){Ze=0;do{Me=n+12+(Ze<<2)|0;Se=Ze<<1;Te=n+655376+(Se<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Me>>2]|0);ke=n+655376+((Se|1)<<3)|0;y[ke>>3]=+y[ke>>3]/+(d[Me>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[te>>2]|0));a=0}else a=0}}w=kt;return a|0}function Tr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){je=0;lt=V;ut=V+((fe(me,c)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(c|0))break;else{lt=lt+2|0;ut=ut+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){We=0;ct=V;ft=V+(x<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(u|0))break;else{ct=ct+(c<<1)|0;ft=ft+(c<<1)|0}}}U=n+1179664|0;q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){se=(x|0)>1;Ke=1;at=e+((t<<2)+4)|0;ht=V+(c+1<<1)|0;xt=0;t:while(1){if(se){Xe=1;st=at;pt=ht;Mt=xt;while(1){ve=p[st>>0]|0;Ae=p[st+1>>0]|0;do{if(((ve&248)+12+(ve<<5&224)+(Ae>>>3&24)+(Ae<<2&248)|0)>(v|0)){h[pt>>1]=0;St=Mt}else{Re=h[pt+(q<<1)>>1]|0;if(Re<<16>>16>0){h[pt>>1]=Re;Le=(Re<<16>>16)*7|0;Pe=n+1310736+(Le+-7<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+1;Ce=n+1310736+(Le+-6<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+Xe;Oe=n+1310736+(Le+-5<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ke;d[n+1310736+(Le+-1<<2)>>2]=Ke;St=Mt;break}Ie=h[pt+(s<<1)>>1]|0;Ne=Ie<<16>>16;De=h[pt+(l<<1)>>1]|0;Fe=De<<16>>16;Be=De<<16>>16>0;if(Ie<<16>>16<=0){if(Be){h[pt>>1]=De;I=Fe*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Xe;F=n+1310736+(I+-5<<2)|0;d[F>>2]=(d[F>>2]|0)+Ke;B=n+1310736+(I+-3<<2)|0;if((d[B>>2]|0)<(Xe|0))d[B>>2]=Xe;d[n+1310736+(I+-1<<2)>>2]=Ke;St=Mt;break}z=h[pt+-2>>1]|0;if(z<<16>>16>0){h[pt>>1]=z;H=(z<<16>>16)*7|0;G=n+1310736+(H+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;j=n+1310736+(H+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Xe;W=n+1310736+(H+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+Ke;X=n+1310736+(H+-3<<2)|0;if((d[X>>2]|0)>=(Xe|0)){St=Mt;break}d[X>>2]=Xe;St=Mt;break}else{Y=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=Y;d[n+1179664+(Mt<<2)>>2]=Y<<16>>16;J=Mt*7|0;d[n+1310736+(J<<2)>>2]=1;d[n+1310736+(J+1<<2)>>2]=Xe;d[n+1310736+(J+2<<2)>>2]=Ke;d[n+1310736+(J+3<<2)>>2]=Xe;d[n+1310736+(J+4<<2)>>2]=Xe;d[n+1310736+(J+5<<2)>>2]=Ke;d[n+1310736+(J+6<<2)>>2]=Ke;St=Y;break}}if(Be){Ue=d[n+1179664+(Ne+-1<<2)>>2]|0;ze=d[n+1179664+(Fe+-1<<2)>>2]|0;if((Ue|0)>(ze|0)){h[pt>>1]=ze;if((Mt|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(Ue|0))d[vt>>2]=ze;tt=tt+1|0;if((tt|0)>=(Mt|0)){He=ze;break}else vt=vt+4|0}}else He=ze}else{h[pt>>1]=Ue;if((Ue|0)<(ze|0)&(Mt|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(ze|0))d[gt>>2]=Ue;it=it+1|0;if((it|0)>=(Mt|0)){He=Ue;break}else gt=gt+4|0}}else He=Ue}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;f=n+1310736+(Ge+-6<<2)|0;d[f>>2]=(d[f>>2]|0)+Xe;m=n+1310736+(Ge+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Ke;d[n+1310736+(Ge+-1<<2)>>2]=Ke;St=Mt;break}g=h[pt+-2>>1]|0;if(g<<16>>16<=0){h[pt>>1]=Ie;R=Ne*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;P=n+1310736+(R+-6<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(R+-5<<2)|0;d[C>>2]=(d[C>>2]|0)+Ke;O=n+1310736+(R+-4<<2)|0;if((d[O>>2]|0)>(Xe|0))d[O>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}b=d[n+1179664+(Ne+-1<<2)>>2]|0;E=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(E|0)){h[pt>>1]=E;if((Mt|0)>0){rt=0;yt=U;while(1){if((d[yt>>2]|0)==(b|0))d[yt>>2]=E;rt=rt+1|0;if((rt|0)>=(Mt|0)){M=E;break}else yt=yt+4|0}}else M=E}else{h[pt>>1]=b;if((b|0)<(E|0)&(Mt|0)>0){nt=0;bt=U;while(1){if((d[bt>>2]|0)==(E|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(Mt|0)){M=b;break}else bt=bt+4|0}}else M=b}S=(M<<16>>16)*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Xe;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ke;St=Mt}}while(0);Xe=Xe+1|0;Z=st+4|0;K=pt+2|0;if((Xe|0)>=(x|0)){ot=Z;dt=K;Et=St;break}else{st=Z;pt=K;Mt=St}}}else{ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(me|0)){_t=Et;Tt=52;break e}else{at=ot+o|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Q=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=U;while(1){$=d[wt>>2]|0;if(($|0)==(qe|0)){ee=$e;et=$e+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;et=$e}d[wt>>2]=ee;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}te=n+8|0;ie=Qe+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((Qe|0)>1){Ye=0;do{re=Ye<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[te>>2]|0))}if((_t|0)>0){Je=0;do{ne=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);le=ne<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ue=n+655376+((le|1)<<3)|0;y[ue>>3]=+y[ue>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);he=ne<<2;de=n+131084+(he<<2)|0;ge=d[n+1310736+(ae+3<<2)>>2]|0;if((d[de>>2]|0)>(ge|0))d[de>>2]=ge;ye=n+131084+((he|1)<<2)|0;be=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;we=n+131084+((he|2)<<2)|0;_e=d[n+1310736+(ae+5<<2)>>2]|0;if((d[we>>2]|0)>(_e|0))d[we>>2]=_e;xe=n+131084+((he|3)<<2)|0;Ee=d[n+1310736+(ae+6<<2)>>2]|0;if((d[xe>>2]|0)<(Ee|0))d[xe>>2]=Ee;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[te>>2]|0)>0){Ze=0;do{Me=n+12+(Ze<<2)|0;Se=Ze<<1;Te=n+655376+(Se<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Me>>2]|0);ke=n+655376+((Se|1)<<3)|0;y[ke>>3]=+y[ke>>3]/+(d[Me>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[te>>2]|0));a=0}else a=0}}w=kt;return a|0}function kr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){je=0;lt=V;ut=V+((fe(me,c)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(c|0))break;else{lt=lt+2|0;ut=ut+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){We=0;ct=V;ft=V+(x<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(u|0))break;else{ct=ct+(c<<1)|0;ft=ft+(c<<1)|0}}}U=n+1179664|0;q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){se=(x|0)>1;Ke=1;at=e+((t<<2)+4)|0;ht=V+(c+1<<1)|0;xt=0;t:while(1){if(se){Xe=1;st=at;pt=ht;Mt=xt;while(1){ve=p[st>>0]|0;Ae=p[st+1>>0]|0;do{if(((ve&248)+10+(ve<<5&224)+(Ae>>>3&28)+(Ae<<3&248)|0)>(v|0)){Re=h[pt+(q<<1)>>1]|0;if(Re<<16>>16>0){h[pt>>1]=Re;Le=(Re<<16>>16)*7|0;Pe=n+1310736+(Le+-7<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+1;Ce=n+1310736+(Le+-6<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+Xe;Oe=n+1310736+(Le+-5<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ke;d[n+1310736+(Le+-1<<2)>>2]=Ke;St=Mt;break}Ie=h[pt+(s<<1)>>1]|0;Ne=Ie<<16>>16;De=h[pt+(l<<1)>>1]|0;Fe=De<<16>>16;Be=De<<16>>16>0;if(Ie<<16>>16<=0){if(Be){h[pt>>1]=De;I=Fe*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Xe;F=n+1310736+(I+-5<<2)|0;d[F>>2]=(d[F>>2]|0)+Ke;B=n+1310736+(I+-3<<2)|0;if((d[B>>2]|0)<(Xe|0))d[B>>2]=Xe;d[n+1310736+(I+-1<<2)>>2]=Ke;St=Mt;break}z=h[pt+-2>>1]|0;if(z<<16>>16>0){h[pt>>1]=z;H=(z<<16>>16)*7|0;G=n+1310736+(H+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;j=n+1310736+(H+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Xe;W=n+1310736+(H+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+Ke;X=n+1310736+(H+-3<<2)|0;if((d[X>>2]|0)>=(Xe|0)){St=Mt;break}d[X>>2]=Xe;St=Mt;break}else{Y=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=Y;d[n+1179664+(Mt<<2)>>2]=Y<<16>>16;J=Mt*7|0;d[n+1310736+(J<<2)>>2]=1;d[n+1310736+(J+1<<2)>>2]=Xe;d[n+1310736+(J+2<<2)>>2]=Ke;d[n+1310736+(J+3<<2)>>2]=Xe;d[n+1310736+(J+4<<2)>>2]=Xe;d[n+1310736+(J+5<<2)>>2]=Ke;d[n+1310736+(J+6<<2)>>2]=Ke;St=Y;break}}if(Be){Ue=d[n+1179664+(Ne+-1<<2)>>2]|0;ze=d[n+1179664+(Fe+-1<<2)>>2]|0;if((Ue|0)>(ze|0)){h[pt>>1]=ze;if((Mt|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(Ue|0))d[vt>>2]=ze;tt=tt+1|0;if((tt|0)>=(Mt|0)){He=ze;break}else vt=vt+4|0}}else He=ze}else{h[pt>>1]=Ue;if((Ue|0)<(ze|0)&(Mt|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(ze|0))d[gt>>2]=Ue;it=it+1|0;if((it|0)>=(Mt|0)){He=Ue;break}else gt=gt+4|0}}else He=Ue}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;f=n+1310736+(Ge+-6<<2)|0;d[f>>2]=(d[f>>2]|0)+Xe;m=n+1310736+(Ge+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Ke;d[n+1310736+(Ge+-1<<2)>>2]=Ke;St=Mt;break}g=h[pt+-2>>1]|0;if(g<<16>>16<=0){h[pt>>1]=Ie;R=Ne*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;P=n+1310736+(R+-6<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(R+-5<<2)|0;d[C>>2]=(d[C>>2]|0)+Ke;O=n+1310736+(R+-4<<2)|0;if((d[O>>2]|0)>(Xe|0))d[O>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}b=d[n+1179664+(Ne+-1<<2)>>2]|0;E=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(E|0)){h[pt>>1]=E;if((Mt|0)>0){rt=0;yt=U;while(1){if((d[yt>>2]|0)==(b|0))d[yt>>2]=E;rt=rt+1|0;if((rt|0)>=(Mt|0)){M=E;break}else yt=yt+4|0}}else M=E}else{h[pt>>1]=b;if((b|0)<(E|0)&(Mt|0)>0){nt=0;bt=U;while(1){if((d[bt>>2]|0)==(E|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(Mt|0)){M=b;break}else bt=bt+4|0}}else M=b}S=(M<<16>>16)*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Xe;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ke;St=Mt}else{h[pt>>1]=0;St=Mt}}while(0);Xe=Xe+1|0;Z=st+4|0;K=pt+2|0;if((Xe|0)>=(x|0)){ot=Z;dt=K;Et=St;break}else{st=Z;pt=K;Mt=St}}}else{ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(me|0)){_t=Et;Tt=52;break e}else{at=ot+o|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Q=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=U;while(1){$=d[wt>>2]|0;if(($|0)==(qe|0)){ee=$e;et=$e+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;et=$e}d[wt>>2]=ee;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}te=n+8|0;ie=Qe+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((Qe|0)>1){Ye=0;do{re=Ye<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[te>>2]|0))}if((_t|0)>0){Je=0;do{ne=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);le=ne<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ue=n+655376+((le|1)<<3)|0;y[ue>>3]=+y[ue>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);he=ne<<2;de=n+131084+(he<<2)|0;ge=d[n+1310736+(ae+3<<2)>>2]|0;if((d[de>>2]|0)>(ge|0))d[de>>2]=ge;ye=n+131084+((he|1)<<2)|0;be=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;we=n+131084+((he|2)<<2)|0;_e=d[n+1310736+(ae+5<<2)>>2]|0;if((d[we>>2]|0)>(_e|0))d[we>>2]=_e;xe=n+131084+((he|3)<<2)|0;Ee=d[n+1310736+(ae+6<<2)>>2]|0;if((d[xe>>2]|0)<(Ee|0))d[xe>>2]=Ee;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[te>>2]|0)>0){Ze=0;do{Me=n+12+(Ze<<2)|0;Se=Ze<<1;Te=n+655376+(Se<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Me>>2]|0);ke=n+655376+((Se|1)<<3)|0;y[ke>>3]=+y[ke>>3]/+(d[Me>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[te>>2]|0));a=0}else a=0}}w=kt;return a|0}function Ar(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0,kt=0;kt=w;w=w+16|0;if((w|0)>=(_|0))pe();mt=kt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){je=0;lt=V;ut=V+((fe(me,c)|0)<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(c|0))break;else{lt=lt+2|0;ut=ut+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){We=0;ct=V;ft=V+(x<<1)|0;while(1){h[ft>>1]=0;h[ct>>1]=0;We=We+1|0;if((We|0)>=(u|0))break;else{ct=ct+(c<<1)|0;ft=ft+(c<<1)|0}}}U=n+1179664|0;q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){se=(x|0)>1;Ke=1;at=e+((t<<2)+4)|0;ht=V+(c+1<<1)|0;xt=0;t:while(1){if(se){Xe=1;st=at;pt=ht;Mt=xt;while(1){ve=p[st>>0]|0;Ae=p[st+1>>0]|0;do{if(((ve&248)+10+(ve<<5&224)+(Ae>>>3&28)+(Ae<<3&248)|0)>(v|0)){h[pt>>1]=0;St=Mt}else{Re=h[pt+(q<<1)>>1]|0;if(Re<<16>>16>0){h[pt>>1]=Re;Le=(Re<<16>>16)*7|0;Pe=n+1310736+(Le+-7<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+1;Ce=n+1310736+(Le+-6<<2)|0;d[Ce>>2]=(d[Ce>>2]|0)+Xe;Oe=n+1310736+(Le+-5<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+Ke;d[n+1310736+(Le+-1<<2)>>2]=Ke;St=Mt;break}Ie=h[pt+(s<<1)>>1]|0;Ne=Ie<<16>>16;De=h[pt+(l<<1)>>1]|0;Fe=De<<16>>16;Be=De<<16>>16>0;if(Ie<<16>>16<=0){if(Be){h[pt>>1]=De;I=Fe*7|0;N=n+1310736+(I+-7<<2)|0;d[N>>2]=(d[N>>2]|0)+1;D=n+1310736+(I+-6<<2)|0;d[D>>2]=(d[D>>2]|0)+Xe;F=n+1310736+(I+-5<<2)|0;d[F>>2]=(d[F>>2]|0)+Ke;B=n+1310736+(I+-3<<2)|0;if((d[B>>2]|0)<(Xe|0))d[B>>2]=Xe;d[n+1310736+(I+-1<<2)>>2]=Ke;St=Mt;break}z=h[pt+-2>>1]|0;if(z<<16>>16>0){h[pt>>1]=z;H=(z<<16>>16)*7|0;G=n+1310736+(H+-7<<2)|0;d[G>>2]=(d[G>>2]|0)+1;j=n+1310736+(H+-6<<2)|0;d[j>>2]=(d[j>>2]|0)+Xe;W=n+1310736+(H+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+Ke;X=n+1310736+(H+-3<<2)|0;if((d[X>>2]|0)>=(Xe|0)){St=Mt;break}d[X>>2]=Xe;St=Mt;break}else{Y=Mt+1|0;if((Mt|0)>32767)break t;h[pt>>1]=Y;d[n+1179664+(Mt<<2)>>2]=Y<<16>>16;J=Mt*7|0;d[n+1310736+(J<<2)>>2]=1;d[n+1310736+(J+1<<2)>>2]=Xe;d[n+1310736+(J+2<<2)>>2]=Ke;d[n+1310736+(J+3<<2)>>2]=Xe;d[n+1310736+(J+4<<2)>>2]=Xe;d[n+1310736+(J+5<<2)>>2]=Ke;d[n+1310736+(J+6<<2)>>2]=Ke;St=Y;break}}if(Be){Ue=d[n+1179664+(Ne+-1<<2)>>2]|0;ze=d[n+1179664+(Fe+-1<<2)>>2]|0;if((Ue|0)>(ze|0)){h[pt>>1]=ze;if((Mt|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(Ue|0))d[vt>>2]=ze;tt=tt+1|0;if((tt|0)>=(Mt|0)){He=ze;break}else vt=vt+4|0}}else He=ze}else{h[pt>>1]=Ue;if((Ue|0)<(ze|0)&(Mt|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(ze|0))d[gt>>2]=Ue;it=it+1|0;if((it|0)>=(Mt|0)){He=Ue;break}else gt=gt+4|0}}else He=Ue}Ge=(He<<16>>16)*7|0;Ve=n+1310736+(Ge+-7<<2)|0;d[Ve>>2]=(d[Ve>>2]|0)+1;f=n+1310736+(Ge+-6<<2)|0;d[f>>2]=(d[f>>2]|0)+Xe;m=n+1310736+(Ge+-5<<2)|0;d[m>>2]=(d[m>>2]|0)+Ke;d[n+1310736+(Ge+-1<<2)>>2]=Ke;St=Mt;break}g=h[pt+-2>>1]|0;if(g<<16>>16<=0){h[pt>>1]=Ie;R=Ne*7|0;L=n+1310736+(R+-7<<2)|0;d[L>>2]=(d[L>>2]|0)+1;P=n+1310736+(R+-6<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(R+-5<<2)|0;d[C>>2]=(d[C>>2]|0)+Ke;O=n+1310736+(R+-4<<2)|0;if((d[O>>2]|0)>(Xe|0))d[O>>2]=Xe;d[n+1310736+(R+-1<<2)>>2]=Ke;St=Mt;break}b=d[n+1179664+(Ne+-1<<2)>>2]|0;E=d[n+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((b|0)>(E|0)){h[pt>>1]=E;if((Mt|0)>0){rt=0;yt=U;while(1){if((d[yt>>2]|0)==(b|0))d[yt>>2]=E;rt=rt+1|0;if((rt|0)>=(Mt|0)){M=E;break}else yt=yt+4|0}}else M=E}else{h[pt>>1]=b;if((b|0)<(E|0)&(Mt|0)>0){nt=0;bt=U;while(1){if((d[bt>>2]|0)==(E|0))d[bt>>2]=b;nt=nt+1|0;if((nt|0)>=(Mt|0)){M=b;break}else bt=bt+4|0}}else M=b}S=(M<<16>>16)*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Xe;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ke;St=Mt}}while(0);Xe=Xe+1|0;Z=st+4|0;K=pt+2|0;if((Xe|0)>=(x|0)){ot=Z;dt=K;Et=St;break}else{st=Z;pt=K;Mt=St}}}else{ot=at;dt=ht;Et=xt}Ke=Ke+1|0;if((Ke|0)>=(me|0)){_t=Et;Tt=52;break e}else{at=ot+o|0;ht=dt+4|0;xt=Et}}Ha(3,3904,mt);a=-1}else{_t=0;Tt=52}}while(0);if((Tt|0)==52){Q=n+12|0;if((_t|0)<1)Qe=1;else{qe=1;$e=1;wt=U;while(1){$=d[wt>>2]|0;if(($|0)==(qe|0)){ee=$e;et=$e+1|0}else{ee=d[n+1179664+($+-1<<2)>>2]|0;et=$e}d[wt>>2]=ee;if((qe|0)<(_t|0)){qe=qe+1|0;$e=et;wt=wt+4|0}else{Qe=et;break}}}te=n+8|0;ie=Qe+-1|0;d[te>>2]=ie;if(!ie)a=0;else{ul(Q|0,0,ie<<2|0)|0;ul(n+655376|0,0,ie<<4|0)|0;if((Qe|0)>1){Ye=0;do{re=Ye<<2;d[n+131084+(re<<2)>>2]=c;d[n+131084+((re|1)<<2)>>2]=0;d[n+131084+((re|2)<<2)>>2]=u;d[n+131084+((re|3)<<2)>>2]=0;Ye=Ye+1|0}while((Ye|0)<(d[te>>2]|0))}if((_t|0)>0){Je=0;do{ne=(d[n+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;oe=n+12+(ne<<2)|0;d[oe>>2]=(d[oe>>2]|0)+(d[n+1310736+(ae<<2)>>2]|0);le=ne<<1;ce=n+655376+(le<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ae+1<<2)>>2]|0);ue=n+655376+((le|1)<<3)|0;y[ue>>3]=+y[ue>>3]+ +(d[n+1310736+(ae+2<<2)>>2]|0);he=ne<<2;de=n+131084+(he<<2)|0;ge=d[n+1310736+(ae+3<<2)>>2]|0;if((d[de>>2]|0)>(ge|0))d[de>>2]=ge;ye=n+131084+((he|1)<<2)|0;be=d[n+1310736+(ae+4<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;we=n+131084+((he|2)<<2)|0;_e=d[n+1310736+(ae+5<<2)>>2]|0;if((d[we>>2]|0)>(_e|0))d[we>>2]=_e;xe=n+131084+((he|3)<<2)|0;Ee=d[n+1310736+(ae+6<<2)>>2]|0;if((d[xe>>2]|0)<(Ee|0))d[xe>>2]=Ee;Je=Je+1|0}while((Je|0)<(_t|0))}if((d[te>>2]|0)>0){Ze=0;do{Me=n+12+(Ze<<2)|0;Se=Ze<<1;Te=n+655376+(Se<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Me>>2]|0);ke=n+655376+((Se|1)<<3)|0;y[ke>>3]=+y[ke>>3]/+(d[Me>>2]|0);Ze=Ze+1|0}while((Ze|0)<(d[te>>2]|0));a=0}else a=0}}w=kt;return a|0}function Rr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0;Tt=w;w=w+16|0;if((w|0)>=(_|0))pe();pt=Tt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){Ve=0;st=V;ct=V+((fe(me,c)|0)<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(c|0))break;else{st=st+2|0;ct=ct+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){je=0;lt=V;ut=V+(x<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(u|0))break;else{lt=lt+(c<<1)|0;ut=ut+(c<<1)|0}}}U=n+1179664|0;q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){oe=(x|0)>1;Ze=1;nt=e+((t<<2)+4)|0;ft=V+(c+1<<1)|0;_t=0;t:while(1){if(oe){We=1;ot=nt;dt=ft;Et=_t;while(1){ve=p[ot>>0]|0;do{if(((ve&240)+24+(ve<<4&240)+((p[ot+1>>0]|0)&240)|0)>(v|0)){h[dt>>1]=0;Mt=Et}else{ke=h[dt+(q<<1)>>1]|0;if(ke<<16>>16>0){h[dt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+We;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+Ze;d[n+1310736+(Ae+-1<<2)>>2]=Ze;Mt=Et;break}Ce=h[dt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[dt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[dt>>1]=Ie;O=Ne*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+We;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Ze;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(We|0))d[F>>2]=We;d[n+1310736+(O+-1<<2)>>2]=Ze;Mt=Et;break}B=h[dt+-2>>1]|0;if(B<<16>>16>0){h[dt>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+We;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(We|0)){Mt=Et;break}d[W>>2]=We;Mt=Et;break}else{X=Et+1|0;if((Et|0)>32767)break t;h[dt>>1]=X;d[n+1179664+(Et<<2)>>2]=X<<16>>16;Y=Et*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=We;d[n+1310736+(Y+2<<2)>>2]=Ze;d[n+1310736+(Y+3<<2)>>2]=We;d[n+1310736+(Y+4<<2)>>2]=We;d[n+1310736+(Y+5<<2)>>2]=Ze;d[n+1310736+(Y+6<<2)>>2]=Ze;Mt=X;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[dt>>1]=Be;if((Et|0)>0){et=0;mt=U;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=Be;et=et+1|0;if((et|0)>=(Et|0)){Ue=Be;break}else mt=mt+4|0}}else Ue=Be}else{h[dt>>1]=Fe;if((Fe|0)<(Be|0)&(Et|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(Be|0))d[vt>>2]=Fe;tt=tt+1|0;if((tt|0)>=(Et|0)){Ue=Fe;break}else vt=vt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+We;f=n+1310736+(ze+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Ze;d[n+1310736+(ze+-1<<2)>>2]=Ze;Mt=Et;break}m=h[dt+-2>>1]|0;if(m<<16>>16<=0){h[dt>>1]=Ce;A=Oe*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+We;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Ze;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(We|0))d[C>>2]=We;d[n+1310736+(A+-1<<2)>>2]=Ze;Mt=Et;break}g=d[n+1179664+(Oe+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[dt>>1]=b;if((Et|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(g|0))d[gt>>2]=b;it=it+1|0;if((it|0)>=(Et|0)){E=b;break}else gt=gt+4|0}}else E=b}else{h[dt>>1]=g;if((g|0)<(b|0)&(Et|0)>0){rt=0;yt=U;while(1){if((d[yt>>2]|0)==(b|0))d[yt>>2]=g;rt=rt+1|0;if((rt|0)>=(Et|0)){E=g;break}else yt=yt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+We;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ze;Mt=Et}}while(0);We=We+1|0;J=ot+4|0;Z=dt+2|0;if((We|0)>=(x|0)){at=J;ht=Z;xt=Mt;break}else{ot=J;dt=Z;Et=Mt}}}else{at=nt;ht=ft;xt=_t}Ze=Ze+1|0;if((Ze|0)>=(me|0)){wt=xt;St=52;break e}else{nt=at+o|0;ft=ht+4|0;_t=xt}}Ha(3,3904,pt);a=-1}else{wt=0;St=52}}while(0);if((St|0)==52){K=n+12|0;if((wt|0)<1)Ke=1;else{Xe=1;Qe=1;bt=U;while(1){Q=d[bt>>2]|0;if((Q|0)==(Xe|0)){$=Qe;$e=Qe+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;$e=Qe}d[bt>>2]=$;if((Xe|0)<(wt|0)){Xe=Xe+1|0;Qe=$e;bt=bt+4|0}else{Ke=$e;break}}}ee=n+8|0;te=Ke+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ke|0)>1){qe=0;do{ie=qe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(d[ee>>2]|0))}if((wt|0)>0){Ye=0;do{re=(d[n+1179664+(Ye<<2)>>2]|0)+-1|0;ne=Ye*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;ge=n+131084+((ue|1)<<2)|0;ye=d[n+1310736+(ne+4<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ne+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ne+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Ye=Ye+1|0}while((Ye|0)<(wt|0))}if((d[ee>>2]|0)>0){Je=0;do{Ee=n+12+(Je<<2)|0;Me=Je<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);Je=Je+1|0}while((Je|0)<(d[ee>>2]|0));a=0}else a=0}}w=Tt;return a|0}function Lr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0,Tt=0;Tt=w;w=w+16|0;if((w|0)>=(_|0))pe();pt=Tt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){Ve=0;st=V;ct=V+((fe(me,c)|0)<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(c|0))break;else{st=st+2|0;ct=ct+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){je=0;lt=V;ut=V+(x<<1)|0;while(1){h[ut>>1]=0;h[lt>>1]=0;je=je+1|0;if((je|0)>=(u|0))break;else{lt=lt+(c<<1)|0;ut=ut+(c<<1)|0}}}U=n+1179664|0;q=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){oe=(x|0)>1;Ze=1;nt=e+((t<<2)+4)|0;ft=V+(c+1<<1)|0;_t=0;t:while(1){if(oe){We=1;ot=nt;dt=ft;Et=_t;while(1){ve=p[ot>>0]|0;do{if(((ve&240)+24+(ve<<4&240)+((p[ot+1>>0]|0)&240)|0)>(v|0)){ke=h[dt+(q<<1)>>1]|0;if(ke<<16>>16>0){h[dt>>1]=ke;Ae=(ke<<16>>16)*7|0;Re=n+1310736+(Ae+-7<<2)|0;d[Re>>2]=(d[Re>>2]|0)+1;Le=n+1310736+(Ae+-6<<2)|0;d[Le>>2]=(d[Le>>2]|0)+We;Pe=n+1310736+(Ae+-5<<2)|0;d[Pe>>2]=(d[Pe>>2]|0)+Ze;d[n+1310736+(Ae+-1<<2)>>2]=Ze;Mt=Et;break}Ce=h[dt+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=h[dt+(l<<1)>>1]|0;Ne=Ie<<16>>16;De=Ie<<16>>16>0;if(Ce<<16>>16<=0){if(De){h[dt>>1]=Ie;O=Ne*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+We;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Ze;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(We|0))d[F>>2]=We;d[n+1310736+(O+-1<<2)>>2]=Ze;Mt=Et;break}B=h[dt+-2>>1]|0;if(B<<16>>16>0){h[dt>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+We;j=n+1310736+(z+-5<<2)|0;d[j>>2]=(d[j>>2]|0)+Ze;W=n+1310736+(z+-3<<2)|0;if((d[W>>2]|0)>=(We|0)){Mt=Et;break}d[W>>2]=We;Mt=Et;break}else{X=Et+1|0;if((Et|0)>32767)break t;h[dt>>1]=X;d[n+1179664+(Et<<2)>>2]=X<<16>>16;Y=Et*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=We;d[n+1310736+(Y+2<<2)>>2]=Ze;d[n+1310736+(Y+3<<2)>>2]=We;d[n+1310736+(Y+4<<2)>>2]=We;d[n+1310736+(Y+5<<2)>>2]=Ze;d[n+1310736+(Y+6<<2)>>2]=Ze;Mt=X;break}}if(De){Fe=d[n+1179664+(Oe+-1<<2)>>2]|0;Be=d[n+1179664+(Ne+-1<<2)>>2]|0;if((Fe|0)>(Be|0)){h[dt>>1]=Be;if((Et|0)>0){et=0;mt=U;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=Be;et=et+1|0;if((et|0)>=(Et|0)){Ue=Be;break}else mt=mt+4|0}}else Ue=Be}else{h[dt>>1]=Fe;if((Fe|0)<(Be|0)&(Et|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(Be|0))d[vt>>2]=Fe;tt=tt+1|0;if((tt|0)>=(Et|0)){Ue=Fe;break}else vt=vt+4|0}}else Ue=Fe}ze=(Ue<<16>>16)*7|0;He=n+1310736+(ze+-7<<2)|0;d[He>>2]=(d[He>>2]|0)+1;Ge=n+1310736+(ze+-6<<2)|0;d[Ge>>2]=(d[Ge>>2]|0)+We;f=n+1310736+(ze+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Ze;d[n+1310736+(ze+-1<<2)>>2]=Ze;Mt=Et;break}m=h[dt+-2>>1]|0;if(m<<16>>16<=0){h[dt>>1]=Ce;A=Oe*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+We;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Ze;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(We|0))d[C>>2]=We;d[n+1310736+(A+-1<<2)>>2]=Ze;Mt=Et;break}g=d[n+1179664+(Oe+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[dt>>1]=b;if((Et|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(g|0))d[gt>>2]=b;it=it+1|0;if((it|0)>=(Et|0)){E=b;break}else gt=gt+4|0}}else E=b}else{h[dt>>1]=g;if((g|0)<(b|0)&(Et|0)>0){rt=0;yt=U;while(1){if((d[yt>>2]|0)==(b|0))d[yt>>2]=g;rt=rt+1|0;if((rt|0)>=(Et|0)){E=g;break}else yt=yt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+We;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Ze;Mt=Et}else{h[dt>>1]=0;Mt=Et}}while(0);We=We+1|0;J=ot+4|0;Z=dt+2|0;if((We|0)>=(x|0)){at=J;ht=Z;xt=Mt;break}else{ot=J;dt=Z;Et=Mt}}}else{at=nt;ht=ft;xt=_t}Ze=Ze+1|0;if((Ze|0)>=(me|0)){wt=xt;St=52;break e}else{nt=at+o|0;ft=ht+4|0;_t=xt}}Ha(3,3904,pt);a=-1}else{wt=0;St=52}}while(0);if((St|0)==52){K=n+12|0;if((wt|0)<1)Ke=1;else{Xe=1;Qe=1;bt=U;while(1){Q=d[bt>>2]|0;if((Q|0)==(Xe|0)){$=Qe;$e=Qe+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;$e=Qe}d[bt>>2]=$;if((Xe|0)<(wt|0)){Xe=Xe+1|0;Qe=$e;bt=bt+4|0}else{Ke=$e;break}}}ee=n+8|0;te=Ke+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ke|0)>1){qe=0;do{ie=qe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(d[ee>>2]|0))}if((wt|0)>0){Ye=0;do{re=(d[n+1179664+(Ye<<2)>>2]|0)+-1|0;ne=Ye*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);se=re<<1;le=n+655376+(se<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((se|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;ge=n+131084+((ue|1)<<2)|0;ye=d[n+1310736+(ne+4<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;be=n+131084+((ue|2)<<2)|0;we=d[n+1310736+(ne+5<<2)>>2]|0;if((d[be>>2]|0)>(we|0))d[be>>2]=we;_e=n+131084+((ue|3)<<2)|0;xe=d[n+1310736+(ne+6<<2)>>2]|0;if((d[_e>>2]|0)<(xe|0))d[_e>>2]=xe;Ye=Ye+1|0}while((Ye|0)<(wt|0))}if((d[ee>>2]|0)>0){Je=0;do{Ee=n+12+(Je<<2)|0;Me=Je<<1;Se=n+655376+(Me<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[Ee>>2]|0);Te=n+655376+((Me|1)<<3)|0;y[Te>>3]=+y[Te>>3]/+(d[Ee>>2]|0);Je=Je+1|0}while((Je|0)<(d[ee>>2]|0));a=0}else a=0}}w=Tt;return a|0}function Pr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ge=0;ot=l;lt=l+((fe(c,t)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(t|0))break;else{ot=ot+2|0;lt=lt+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){Ve=0;st=l;ct=l+(u<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(i|0))break;else{st=st+(t<<1)|0;ct=ct+(t<<1)|0}}}C=n+1179664|0;D=t+1|0;U=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;Je=1;rt=e+(D<<1)|0;ut=l+(D<<1)|0;wt=0;t:while(1){if(K){je=1;at=rt;ht=ut;xt=wt;while(1){ie=p[at>>0]|0;we=p[at+1>>0]|0;do{if(((ie&248)+12+(ie<<5&224)+(we>>>3&24)+(we<<2&248)|0)>(Fe|0)){Se=h[ht+(U<<1)>>1]|0;if(Se<<16>>16>0){h[ht>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+je;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Je;d[n+1310736+(Te+-1<<2)>>2]=Je;Et=xt;break}Le=h[ht+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[ht+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[ht>>1]=Ce;P=Oe*7|0;O=n+1310736+(P+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(P+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+je;N=n+1310736+(P+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+Je;F=n+1310736+(P+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(P+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(z+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;j=n+1310736+(z+-3<<2)|0;if((d[j>>2]|0)>=(je|0)){Et=xt;break}d[j>>2]=je;Et=xt;break}else{W=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=W;d[n+1179664+(xt<<2)>>2]=W<<16>>16;X=xt*7|0;d[n+1310736+(X<<2)>>2]=1;d[n+1310736+(X+1<<2)>>2]=je;d[n+1310736+(X+2<<2)>>2]=Je;d[n+1310736+(X+3<<2)>>2]=je;d[n+1310736+(X+4<<2)>>2]=je;d[n+1310736+(X+5<<2)>>2]=Je;d[n+1310736+(X+6<<2)>>2]=Je;Et=W;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[ht>>1]=De;if((xt|0)>0){$e=0;pt=C;while(1){if((d[pt>>2]|0)==(Ne|0))d[pt>>2]=De;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=De;break}else pt=pt+4|0}}else Be=De}else{h[ht>>1]=Ne;if((Ne|0)<(De|0)&(xt|0)>0){et=0;mt=C;while(1){if((d[mt>>2]|0)==(De|0))d[mt>>2]=Ne;et=et+1|0;if((et|0)>=(xt|0)){Be=Ne;break}else mt=mt+4|0}}else Be=Ne}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Le;T=Pe*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+je;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(T+-4<<2)|0;if((d[L>>2]|0)>(je|0))d[L>>2]=je;d[n+1310736+(T+-1<<2)>>2]=Je;Et=xt;break}v=d[n+1179664+(Pe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[ht>>1]=g;if((xt|0)>0){tt=0;vt=C;while(1){if((d[vt>>2]|0)==(v|0))d[vt>>2]=g;tt=tt+1|0;if((tt|0)>=(xt|0)){b=g;break}else vt=vt+4|0}}else b=g}else{h[ht>>1]=v;if((v|0)<(g|0)&(xt|0)>0){it=0;gt=C;while(1){if((d[gt>>2]|0)==(g|0))d[gt>>2]=v;it=it+1|0;if((it|0)>=(xt|0)){b=v;break}else gt=gt+4|0}}else b=v}x=(b<<16>>16)*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+je;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;Et=xt}else{h[ht>>1]=0;Et=xt}}while(0);je=je+1|0;q=at+2|0;Y=ht+2|0;if((je|0)>=(u|0)){nt=q;ft=Y;_t=Et;break}else{at=q;ht=Y;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(c|0)){bt=_t;Mt=52;break e}else{rt=nt+4|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){J=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=C;while(1){Z=d[yt>>2]|0;if((Z|0)==(We|0)){Q=Ke;Qe=Ke+1|0}else{Q=d[n+1179664+(Z+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=Q;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}$=n+8|0;ee=Ze+-1|0;d[$>>2]=ee;if(!ee)a=0;else{ul(J|0,0,ee<<2|0)|0;ul(n+655376|0,0,ee<<4|0)|0;if((Ze|0)>1){Xe=0;do{te=Xe<<2;d[n+131084+(te<<2)>>2]=t;d[n+131084+((te|1)<<2)>>2]=0;d[n+131084+((te|2)<<2)>>2]=i;d[n+131084+((te|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[$>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);le=n+655376+((oe|1)<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ce=re<<2;ue=n+131084+(ce<<2)|0;he=d[n+1310736+(ne+3<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ce|1)<<2)|0;me=d[n+1310736+(ne+4<<2)>>2]|0;if((d[de>>2]|0)<(me|0))d[de>>2]=me;ve=n+131084+((ce|2)<<2)|0;ge=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ve>>2]|0)>(ge|0))d[ve>>2]=ge;ye=n+131084+((ce|3)<<2)|0;be=d[n+1310736+(ne+6<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[$>>2]|0)>0){Ye=0;do{_e=n+12+(Ye<<2)|0;xe=Ye<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[$>>2]|0));a=0}else a=0}}w=St;return a|0}function Cr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ge=0;ot=l;lt=l+((fe(c,t)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(t|0))break;else{ot=ot+2|0;lt=lt+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){Ve=0;st=l;ct=l+(u<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(i|0))break;else{st=st+(t<<1)|0;ct=ct+(t<<1)|0}}}C=n+1179664|0;D=t+1|0;U=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;Je=1;rt=e+(D<<1)|0;ut=l+(D<<1)|0;wt=0;t:while(1){if(K){je=1;at=rt;ht=ut;xt=wt;while(1){ie=p[at>>0]|0;we=p[at+1>>0]|0;do{if(((ie&248)+12+(ie<<5&224)+(we>>>3&24)+(we<<2&248)|0)>(Fe|0)){h[ht>>1]=0;Et=xt}else{Se=h[ht+(U<<1)>>1]|0;if(Se<<16>>16>0){h[ht>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+je;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Je;d[n+1310736+(Te+-1<<2)>>2]=Je;Et=xt;break}Le=h[ht+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[ht+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[ht>>1]=Ce;P=Oe*7|0;O=n+1310736+(P+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(P+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+je;N=n+1310736+(P+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+Je;F=n+1310736+(P+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(P+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(z+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;j=n+1310736+(z+-3<<2)|0;if((d[j>>2]|0)>=(je|0)){Et=xt;break}d[j>>2]=je;Et=xt;break}else{W=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=W;d[n+1179664+(xt<<2)>>2]=W<<16>>16;X=xt*7|0;d[n+1310736+(X<<2)>>2]=1;d[n+1310736+(X+1<<2)>>2]=je;d[n+1310736+(X+2<<2)>>2]=Je;d[n+1310736+(X+3<<2)>>2]=je;d[n+1310736+(X+4<<2)>>2]=je;d[n+1310736+(X+5<<2)>>2]=Je;d[n+1310736+(X+6<<2)>>2]=Je;Et=W;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[ht>>1]=De;if((xt|0)>0){$e=0;pt=C;while(1){if((d[pt>>2]|0)==(Ne|0))d[pt>>2]=De;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=De;break}else pt=pt+4|0}}else Be=De}else{h[ht>>1]=Ne;if((Ne|0)<(De|0)&(xt|0)>0){et=0;mt=C;while(1){if((d[mt>>2]|0)==(De|0))d[mt>>2]=Ne;et=et+1|0;if((et|0)>=(xt|0)){Be=Ne;break}else mt=mt+4|0}}else Be=Ne}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Le;T=Pe*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+je;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(T+-4<<2)|0;if((d[L>>2]|0)>(je|0))d[L>>2]=je;d[n+1310736+(T+-1<<2)>>2]=Je;Et=xt;break}v=d[n+1179664+(Pe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[ht>>1]=g;if((xt|0)>0){tt=0;vt=C;while(1){if((d[vt>>2]|0)==(v|0))d[vt>>2]=g;tt=tt+1|0;if((tt|0)>=(xt|0)){b=g;break}else vt=vt+4|0}}else b=g}else{h[ht>>1]=v;if((v|0)<(g|0)&(xt|0)>0){it=0;gt=C;while(1){if((d[gt>>2]|0)==(g|0))d[gt>>2]=v;it=it+1|0;if((it|0)>=(xt|0)){b=v;break}else gt=gt+4|0}}else b=v}x=(b<<16>>16)*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+je;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;Et=xt}}while(0);je=je+1|0;q=at+2|0;Y=ht+2|0;if((je|0)>=(u|0)){nt=q;ft=Y;_t=Et;break}else{at=q;ht=Y;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(c|0)){bt=_t;Mt=52;break e}else{rt=nt+4|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){J=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=C;while(1){Z=d[yt>>2]|0;if((Z|0)==(We|0)){Q=Ke;Qe=Ke+1|0}else{Q=d[n+1179664+(Z+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=Q;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}$=n+8|0;ee=Ze+-1|0;d[$>>2]=ee;if(!ee)a=0;else{ul(J|0,0,ee<<2|0)|0;ul(n+655376|0,0,ee<<4|0)|0;if((Ze|0)>1){Xe=0;do{te=Xe<<2;d[n+131084+(te<<2)>>2]=t;d[n+131084+((te|1)<<2)>>2]=0;d[n+131084+((te|2)<<2)>>2]=i;d[n+131084+((te|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[$>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);le=n+655376+((oe|1)<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ce=re<<2;ue=n+131084+(ce<<2)|0;he=d[n+1310736+(ne+3<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ce|1)<<2)|0;me=d[n+1310736+(ne+4<<2)>>2]|0;if((d[de>>2]|0)<(me|0))d[de>>2]=me;ve=n+131084+((ce|2)<<2)|0;ge=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ve>>2]|0)>(ge|0))d[ve>>2]=ge;ye=n+131084+((ce|3)<<2)|0;be=d[n+1310736+(ne+6<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[$>>2]|0)>0){Ye=0;do{_e=n+12+(Ye<<2)|0;xe=Ye<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[$>>2]|0));a=0}else a=0}}w=St;return a|0}function Or(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ge=0;ot=l;lt=l+((fe(c,t)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(t|0))break;else{ot=ot+2|0;lt=lt+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){Ve=0;st=l;ct=l+(u<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(i|0))break;else{st=st+(t<<1)|0;ct=ct+(t<<1)|0}}}C=n+1179664|0;D=t+1|0;U=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;Je=1;rt=e+(D<<1)|0;ut=l+(D<<1)|0;wt=0;t:while(1){if(K){je=1;at=rt;ht=ut;xt=wt;while(1){ie=p[at>>0]|0;we=p[at+1>>0]|0;do{if(((ie&248)+10+(ie<<5&224)+(we>>>3&28)+(we<<3&248)|0)>(Fe|0)){Se=h[ht+(U<<1)>>1]|0;if(Se<<16>>16>0){h[ht>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+je;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Je;d[n+1310736+(Te+-1<<2)>>2]=Je;Et=xt;break}Le=h[ht+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[ht+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[ht>>1]=Ce;P=Oe*7|0;O=n+1310736+(P+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(P+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+je;N=n+1310736+(P+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+Je;F=n+1310736+(P+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(P+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(z+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;j=n+1310736+(z+-3<<2)|0;if((d[j>>2]|0)>=(je|0)){Et=xt;break}d[j>>2]=je;Et=xt;break}else{W=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=W;d[n+1179664+(xt<<2)>>2]=W<<16>>16;X=xt*7|0;d[n+1310736+(X<<2)>>2]=1;d[n+1310736+(X+1<<2)>>2]=je;d[n+1310736+(X+2<<2)>>2]=Je;d[n+1310736+(X+3<<2)>>2]=je;d[n+1310736+(X+4<<2)>>2]=je;d[n+1310736+(X+5<<2)>>2]=Je;d[n+1310736+(X+6<<2)>>2]=Je;Et=W;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[ht>>1]=De;if((xt|0)>0){$e=0;pt=C;while(1){if((d[pt>>2]|0)==(Ne|0))d[pt>>2]=De;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=De;break}else pt=pt+4|0}}else Be=De}else{h[ht>>1]=Ne;if((Ne|0)<(De|0)&(xt|0)>0){et=0;mt=C;while(1){if((d[mt>>2]|0)==(De|0))d[mt>>2]=Ne;et=et+1|0;if((et|0)>=(xt|0)){Be=Ne;break}else mt=mt+4|0}}else Be=Ne}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Le;T=Pe*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+je;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(T+-4<<2)|0;if((d[L>>2]|0)>(je|0))d[L>>2]=je;d[n+1310736+(T+-1<<2)>>2]=Je;Et=xt;break}v=d[n+1179664+(Pe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[ht>>1]=g;if((xt|0)>0){tt=0;vt=C;while(1){if((d[vt>>2]|0)==(v|0))d[vt>>2]=g;tt=tt+1|0;if((tt|0)>=(xt|0)){b=g;break}else vt=vt+4|0}}else b=g}else{h[ht>>1]=v;if((v|0)<(g|0)&(xt|0)>0){it=0;gt=C;while(1){if((d[gt>>2]|0)==(g|0))d[gt>>2]=v;it=it+1|0;if((it|0)>=(xt|0)){b=v;break}else gt=gt+4|0}}else b=v}x=(b<<16>>16)*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+je;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;Et=xt}else{h[ht>>1]=0;Et=xt}}while(0);je=je+1|0;q=at+2|0;Y=ht+2|0;if((je|0)>=(u|0)){nt=q;ft=Y;_t=Et;break}else{at=q;ht=Y;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(c|0)){bt=_t;Mt=52;break e}else{rt=nt+4|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){J=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=C;while(1){Z=d[yt>>2]|0;if((Z|0)==(We|0)){Q=Ke;Qe=Ke+1|0}else{Q=d[n+1179664+(Z+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=Q;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}$=n+8|0;ee=Ze+-1|0;d[$>>2]=ee;if(!ee)a=0;else{ul(J|0,0,ee<<2|0)|0;ul(n+655376|0,0,ee<<4|0)|0;if((Ze|0)>1){Xe=0;do{te=Xe<<2;d[n+131084+(te<<2)>>2]=t;d[n+131084+((te|1)<<2)>>2]=0;d[n+131084+((te|2)<<2)>>2]=i;d[n+131084+((te|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[$>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);le=n+655376+((oe|1)<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ce=re<<2;ue=n+131084+(ce<<2)|0;he=d[n+1310736+(ne+3<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ce|1)<<2)|0;me=d[n+1310736+(ne+4<<2)>>2]|0;if((d[de>>2]|0)<(me|0))d[de>>2]=me;ve=n+131084+((ce|2)<<2)|0;ge=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ve>>2]|0)>(ge|0))d[ve>>2]=ge;ye=n+131084+((ce|3)<<2)|0;be=d[n+1310736+(ne+6<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[$>>2]|0)>0){Ye=0;do{_e=n+12+(Ye<<2)|0;xe=Ye<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[$>>2]|0));a=0}else a=0}}w=St;return a|0}function Ir(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ge=0;ot=l;lt=l+((fe(c,t)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(t|0))break;else{ot=ot+2|0;lt=lt+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){Ve=0;st=l;ct=l+(u<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(i|0))break;else{st=st+(t<<1)|0;ct=ct+(t<<1)|0}}}C=n+1179664|0;D=t+1|0;U=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;Je=1;rt=e+(D<<1)|0;ut=l+(D<<1)|0;wt=0;t:while(1){if(K){je=1;at=rt;ht=ut;xt=wt;while(1){ie=p[at>>0]|0;we=p[at+1>>0]|0;do{if(((ie&248)+10+(ie<<5&224)+(we>>>3&28)+(we<<3&248)|0)>(Fe|0)){h[ht>>1]=0;Et=xt}else{Se=h[ht+(U<<1)>>1]|0;if(Se<<16>>16>0){h[ht>>1]=Se;Te=(Se<<16>>16)*7|0;ke=n+1310736+(Te+-7<<2)|0;d[ke>>2]=(d[ke>>2]|0)+1;Ae=n+1310736+(Te+-6<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+je;Re=n+1310736+(Te+-5<<2)|0;d[Re>>2]=(d[Re>>2]|0)+Je;d[n+1310736+(Te+-1<<2)>>2]=Je;Et=xt;break}Le=h[ht+(o<<1)>>1]|0;Pe=Le<<16>>16;Ce=h[ht+(s<<1)>>1]|0;Oe=Ce<<16>>16;Ie=Ce<<16>>16>0;if(Le<<16>>16<=0){if(Ie){h[ht>>1]=Ce;P=Oe*7|0;O=n+1310736+(P+-7<<2)|0;d[O>>2]=(d[O>>2]|0)+1;I=n+1310736+(P+-6<<2)|0;d[I>>2]=(d[I>>2]|0)+je;N=n+1310736+(P+-5<<2)|0;d[N>>2]=(d[N>>2]|0)+Je;F=n+1310736+(P+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(P+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(z+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;j=n+1310736+(z+-3<<2)|0;if((d[j>>2]|0)>=(je|0)){Et=xt;break}d[j>>2]=je;Et=xt;break}else{W=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=W;d[n+1179664+(xt<<2)>>2]=W<<16>>16;X=xt*7|0;d[n+1310736+(X<<2)>>2]=1;d[n+1310736+(X+1<<2)>>2]=je;d[n+1310736+(X+2<<2)>>2]=Je;d[n+1310736+(X+3<<2)>>2]=je;d[n+1310736+(X+4<<2)>>2]=je;d[n+1310736+(X+5<<2)>>2]=Je;d[n+1310736+(X+6<<2)>>2]=Je;Et=W;break}}if(Ie){Ne=d[n+1179664+(Pe+-1<<2)>>2]|0;De=d[n+1179664+(Oe+-1<<2)>>2]|0;if((Ne|0)>(De|0)){h[ht>>1]=De;if((xt|0)>0){$e=0;pt=C;while(1){if((d[pt>>2]|0)==(Ne|0))d[pt>>2]=De;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=De;break}else pt=pt+4|0}}else Be=De}else{h[ht>>1]=Ne;if((Ne|0)<(De|0)&(xt|0)>0){et=0;mt=C;while(1){if((d[mt>>2]|0)==(De|0))d[mt>>2]=Ne;et=et+1|0;if((et|0)>=(xt|0)){Be=Ne;break}else mt=mt+4|0}}else Be=Ne}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Le;T=Pe*7|0;k=n+1310736+(T+-7<<2)|0;d[k>>2]=(d[k>>2]|0)+1;A=n+1310736+(T+-6<<2)|0;d[A>>2]=(d[A>>2]|0)+je;R=n+1310736+(T+-5<<2)|0;d[R>>2]=(d[R>>2]|0)+Je;L=n+1310736+(T+-4<<2)|0;if((d[L>>2]|0)>(je|0))d[L>>2]=je;d[n+1310736+(T+-1<<2)>>2]=Je;Et=xt;break}v=d[n+1179664+(Pe+-1<<2)>>2]|0;g=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((v|0)>(g|0)){h[ht>>1]=g;if((xt|0)>0){tt=0;vt=C;while(1){if((d[vt>>2]|0)==(v|0))d[vt>>2]=g;tt=tt+1|0;if((tt|0)>=(xt|0)){b=g;break}else vt=vt+4|0}}else b=g}else{h[ht>>1]=v;if((v|0)<(g|0)&(xt|0)>0){it=0;gt=C;while(1){if((d[gt>>2]|0)==(g|0))d[gt>>2]=v;it=it+1|0;if((it|0)>=(xt|0)){b=v;break}else gt=gt+4|0}}else b=v}x=(b<<16>>16)*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+je;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Je;Et=xt}}while(0);je=je+1|0;q=at+2|0;Y=ht+2|0;if((je|0)>=(u|0)){nt=q;ft=Y;_t=Et;break}else{at=q;ht=Y;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(c|0)){bt=_t;Mt=52;break e}else{rt=nt+4|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){J=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=C;while(1){Z=d[yt>>2]|0;if((Z|0)==(We|0)){Q=Ke;Qe=Ke+1|0}else{Q=d[n+1179664+(Z+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=Q;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}$=n+8|0;ee=Ze+-1|0;d[$>>2]=ee;if(!ee)a=0;else{ul(J|0,0,ee<<2|0)|0;ul(n+655376|0,0,ee<<4|0)|0;if((Ze|0)>1){Xe=0;do{te=Xe<<2;d[n+131084+(te<<2)>>2]=t;d[n+131084+((te|1)<<2)>>2]=0;d[n+131084+((te|2)<<2)>>2]=i;d[n+131084+((te|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[$>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);le=n+655376+((oe|1)<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ce=re<<2;ue=n+131084+(ce<<2)|0;he=d[n+1310736+(ne+3<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ce|1)<<2)|0;me=d[n+1310736+(ne+4<<2)>>2]|0;if((d[de>>2]|0)<(me|0))d[de>>2]=me;ve=n+131084+((ce|2)<<2)|0;ge=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ve>>2]|0)>(ge|0))d[ve>>2]=ge;ye=n+131084+((ce|3)<<2)|0;be=d[n+1310736+(ne+6<<2)>>2]|0;if((d[ye>>2]|0)<(be|0))d[ye>>2]=be;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[$>>2]|0)>0){Ye=0;do{_e=n+12+(Ye<<2)|0;xe=Ye<<1;Ee=n+655376+(xe<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[_e>>2]|0);Me=n+655376+((xe|1)<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[_e>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[$>>2]|0));a=0}else a=0}}w=St;return a|0}function Nr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){Ge=0;ot=j;lt=j+((fe(ve,c)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(c|0))break;else{ot=ot+2|0;lt=lt+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){Ve=0;st=j;ct=j+(x<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{st=st+(c<<1)|0;ct=ct+(c<<1)|0}}}z=n+1179664|0;W=0-c|0;s=1-c|0;l=~c;o=(t*3|0)+12|0;e:do{if((ve|0)>1){le=(x|0)>1;Je=1;rt=e+((t*6|0)+6)|0;ut=j+(c+1<<1)|0;wt=0;t:while(1){if(le){je=1;at=rt;ht=ut;xt=wt;while(1){do{if(((p[at+1>>0]|0)+(p[at>>0]|0)+(p[at+2>>0]|0)|0)>(v|0)){Te=h[ht+(W<<1)>>1]|0;if(Te<<16>>16>0){h[ht>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+je;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;d[n+1310736+(ke+-1<<2)>>2]=Je;Et=xt;break}Pe=h[ht+(s<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[ht+(l<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[ht>>1]=Oe;O=Ie*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+je;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(O+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;U=(B<<16>>16)*7|0;H=n+1310736+(U+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(U+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;X=n+1310736+(U+-3<<2)|0;if((d[X>>2]|0)>=(je|0)){Et=xt;break}d[X>>2]=je;Et=xt;break}else{q=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=q;d[n+1179664+(xt<<2)>>2]=q<<16>>16;Y=xt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=je;d[n+1310736+(Y+2<<2)>>2]=Je;d[n+1310736+(Y+3<<2)>>2]=je;d[n+1310736+(Y+4<<2)>>2]=je;d[n+1310736+(Y+5<<2)>>2]=Je;d[n+1310736+(Y+6<<2)>>2]=Je;Et=q;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[ht>>1]=Fe;if((xt|0)>0){$e=0;pt=z;while(1){if((d[pt>>2]|0)==(De|0))d[pt>>2]=Fe;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=Fe;break}else pt=pt+4|0}}else Be=Fe}else{h[ht>>1]=De;if((De|0)<(Fe|0)&(xt|0)>0){et=0;mt=z;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=De;et=et+1|0;if((et|0)>=(xt|0)){Be=De;break}else mt=mt+4|0}}else Be=De}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Pe;A=Ce*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Je;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(je|0))d[C>>2]=je;d[n+1310736+(A+-1<<2)>>2]=Je;Et=xt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[ht>>1]=b;if((xt|0)>0){tt=0;vt=z;while(1){if((d[vt>>2]|0)==(g|0))d[vt>>2]=b;tt=tt+1|0;if((tt|0)>=(xt|0)){E=b;break}else vt=vt+4|0}}else E=b}else{h[ht>>1]=g;if((g|0)<(b|0)&(xt|0)>0){it=0;gt=z;while(1){if((d[gt>>2]|0)==(b|0))d[gt>>2]=g;it=it+1|0;if((it|0)>=(xt|0)){E=g;break}else gt=gt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Je;Et=xt}else{h[ht>>1]=0;Et=xt}}while(0);je=je+1|0;J=at+6|0;Z=ht+2|0;if((je|0)>=(x|0)){nt=J;ft=Z;_t=Et;break}else{at=J;ht=Z;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(ve|0)){bt=_t;Mt=52;break e}else{rt=nt+o|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){K=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=z;while(1){Q=d[yt>>2]|0;if((Q|0)==(We|0)){$=Ke;Qe=Ke+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=$;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}ee=n+8|0;te=Ze+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ze|0)>1){Xe=0;do{ie=Xe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[ee>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((oe|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ge|0))d[me>>2]=ge;ye=n+131084+((ue|2)<<2)|0;be=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((ue|3)<<2)|0;_e=d[n+1310736+(ne+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[ee>>2]|0)>0){Ye=0;do{xe=n+12+(Ye<<2)|0;Ee=Ye<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[ee>>2]|0));a=0}else a=0}}w=St;return a|0}function Dr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){Ge=0;ot=j;lt=j+((fe(ve,c)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(c|0))break;else{ot=ot+2|0;lt=lt+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){Ve=0;st=j;ct=j+(x<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{st=st+(c<<1)|0;ct=ct+(c<<1)|0}}}z=n+1179664|0;W=0-c|0;s=1-c|0;l=~c;o=(t*3|0)+12|0;e:do{if((ve|0)>1){le=(x|0)>1;Je=1;rt=e+((t*6|0)+6)|0;ut=j+(c+1<<1)|0;wt=0;t:while(1){if(le){je=1;at=rt;ht=ut;xt=wt;while(1){do{if(((p[at+1>>0]|0)+(p[at>>0]|0)+(p[at+2>>0]|0)|0)>(v|0)){h[ht>>1]=0;Et=xt}else{Te=h[ht+(W<<1)>>1]|0;if(Te<<16>>16>0){h[ht>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+je;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;d[n+1310736+(ke+-1<<2)>>2]=Je;Et=xt;break}Pe=h[ht+(s<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[ht+(l<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[ht>>1]=Oe;O=Ie*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+je;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(O+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;U=(B<<16>>16)*7|0;H=n+1310736+(U+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(U+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;X=n+1310736+(U+-3<<2)|0;if((d[X>>2]|0)>=(je|0)){Et=xt;break}d[X>>2]=je;Et=xt;break}else{q=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=q;d[n+1179664+(xt<<2)>>2]=q<<16>>16;Y=xt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=je;d[n+1310736+(Y+2<<2)>>2]=Je;d[n+1310736+(Y+3<<2)>>2]=je;d[n+1310736+(Y+4<<2)>>2]=je;d[n+1310736+(Y+5<<2)>>2]=Je;d[n+1310736+(Y+6<<2)>>2]=Je;Et=q;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[ht>>1]=Fe;if((xt|0)>0){$e=0;pt=z;while(1){if((d[pt>>2]|0)==(De|0))d[pt>>2]=Fe;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=Fe;break}else pt=pt+4|0}}else Be=Fe}else{h[ht>>1]=De;if((De|0)<(Fe|0)&(xt|0)>0){et=0;mt=z;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=De;et=et+1|0;if((et|0)>=(xt|0)){Be=De;break}else mt=mt+4|0}}else Be=De}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Pe;A=Ce*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Je;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(je|0))d[C>>2]=je;d[n+1310736+(A+-1<<2)>>2]=Je;Et=xt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[ht>>1]=b;if((xt|0)>0){tt=0;vt=z;while(1){if((d[vt>>2]|0)==(g|0))d[vt>>2]=b;tt=tt+1|0;if((tt|0)>=(xt|0)){E=b;break}else vt=vt+4|0}}else E=b}else{h[ht>>1]=g;if((g|0)<(b|0)&(xt|0)>0){it=0;gt=z;while(1){if((d[gt>>2]|0)==(b|0))d[gt>>2]=g;it=it+1|0;if((it|0)>=(xt|0)){E=g;break}else gt=gt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Je;Et=xt}}while(0);je=je+1|0;J=at+6|0;Z=ht+2|0;if((je|0)>=(x|0)){nt=J;ft=Z;_t=Et;break}else{at=J;ht=Z;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(ve|0)){bt=_t;Mt=52;break e}else{rt=nt+o|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){K=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=z;while(1){Q=d[yt>>2]|0;if((Q|0)==(We|0)){$=Ke;Qe=Ke+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=$;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}ee=n+8|0;te=Ze+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ze|0)>1){Xe=0;do{ie=Xe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[ee>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((oe|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ge|0))d[me>>2]=ge;ye=n+131084+((ue|2)<<2)|0;be=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((ue|3)<<2)|0;_e=d[n+1310736+(ne+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[ee>>2]|0)>0){Ye=0;do{xe=n+12+(Ye<<2)|0;Ee=Ye<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[ee>>2]|0));a=0}else a=0}}w=St;return a|0}function Fr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){Ge=0;ot=V;lt=V+((fe(ve,c)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(c|0))break;else{ot=ot+2|0;lt=lt+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){Ve=0;st=V;ct=V+(x<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{st=st+(c<<1)|0;ct=ct+(c<<1)|0}}}U=n+1179664|0;j=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ve|0)>1){se=(x|0)>1;Je=1;rt=e+((t<<3)+8)|0;ut=V+(c+1<<1)|0;wt=0;t:while(1){if(se){je=1;at=rt;ht=ut;xt=wt;while(1){do{if(((p[at+2>>0]|0)+(p[at+1>>0]|0)+(p[at+3>>0]|0)|0)>(v|0)){Te=h[ht+(j<<1)>>1]|0;if(Te<<16>>16>0){h[ht>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+je;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;d[n+1310736+(ke+-1<<2)>>2]=Je;Et=xt;break}Pe=h[ht+(s<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[ht+(l<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[ht>>1]=Oe;O=Ie*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+je;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(O+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;W=n+1310736+(z+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+Je;X=n+1310736+(z+-3<<2)|0;if((d[X>>2]|0)>=(je|0)){Et=xt;break}d[X>>2]=je;Et=xt;break}else{q=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=q;d[n+1179664+(xt<<2)>>2]=q<<16>>16;Y=xt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=je;d[n+1310736+(Y+2<<2)>>2]=Je;d[n+1310736+(Y+3<<2)>>2]=je;d[n+1310736+(Y+4<<2)>>2]=je;d[n+1310736+(Y+5<<2)>>2]=Je;d[n+1310736+(Y+6<<2)>>2]=Je;Et=q;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[ht>>1]=Fe;if((xt|0)>0){$e=0;pt=U;while(1){if((d[pt>>2]|0)==(De|0))d[pt>>2]=Fe;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=Fe;break}else pt=pt+4|0}}else Be=Fe}else{h[ht>>1]=De;if((De|0)<(Fe|0)&(xt|0)>0){et=0;mt=U;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=De;et=et+1|0;if((et|0)>=(xt|0)){Be=De;break}else mt=mt+4|0}}else Be=De}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Pe;A=Ce*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Je;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(je|0))d[C>>2]=je;d[n+1310736+(A+-1<<2)>>2]=Je;Et=xt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[ht>>1]=b;if((xt|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(g|0))d[vt>>2]=b;tt=tt+1|0;if((tt|0)>=(xt|0)){E=b;break}else vt=vt+4|0}}else E=b}else{h[ht>>1]=g;if((g|0)<(b|0)&(xt|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(b|0))d[gt>>2]=g;it=it+1|0;if((it|0)>=(xt|0)){E=g;break}else gt=gt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Je;Et=xt}else{h[ht>>1]=0;Et=xt}}while(0);je=je+1|0;J=at+8|0;Z=ht+2|0;if((je|0)>=(x|0)){nt=J;ft=Z;_t=Et;break}else{at=J;ht=Z;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(ve|0)){bt=_t;Mt=52;break e}else{rt=nt+o|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){K=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=U;while(1){Q=d[yt>>2]|0;if((Q|0)==(We|0)){$=Ke;Qe=Ke+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=$;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}ee=n+8|0;te=Ze+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ze|0)>1){Xe=0;do{ie=Xe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[ee>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;le=n+655376+(oe<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((oe|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ge|0))d[me>>2]=ge;ye=n+131084+((ue|2)<<2)|0;be=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((ue|3)<<2)|0;_e=d[n+1310736+(ne+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[ee>>2]|0)>0){Ye=0;do{xe=n+12+(Ye<<2)|0;Ee=Ye<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[ee>>2]|0));a=0}else a=0}}w=St;return a|0}function Br(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){Ge=0;ot=V;lt=V+((fe(ve,c)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(c|0))break;else{ot=ot+2|0;lt=lt+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){Ve=0;st=V;ct=V+(x<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{st=st+(c<<1)|0;ct=ct+(c<<1)|0}}}U=n+1179664|0;j=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ve|0)>1){se=(x|0)>1;Je=1;rt=e+((t<<3)+8)|0;ut=V+(c+1<<1)|0;wt=0;t:while(1){if(se){je=1;at=rt;ht=ut;xt=wt;while(1){do{if(((p[at+2>>0]|0)+(p[at+1>>0]|0)+(p[at+3>>0]|0)|0)>(v|0)){h[ht>>1]=0;Et=xt}else{Te=h[ht+(j<<1)>>1]|0;if(Te<<16>>16>0){h[ht>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+je;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;d[n+1310736+(ke+-1<<2)>>2]=Je;Et=xt;break}Pe=h[ht+(s<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[ht+(l<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[ht>>1]=Oe;O=Ie*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+je;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(O+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;z=(B<<16>>16)*7|0;H=n+1310736+(z+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(z+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;W=n+1310736+(z+-5<<2)|0;d[W>>2]=(d[W>>2]|0)+Je;X=n+1310736+(z+-3<<2)|0;if((d[X>>2]|0)>=(je|0)){Et=xt;break}d[X>>2]=je;Et=xt;break}else{q=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=q;d[n+1179664+(xt<<2)>>2]=q<<16>>16;Y=xt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=je;d[n+1310736+(Y+2<<2)>>2]=Je;d[n+1310736+(Y+3<<2)>>2]=je;d[n+1310736+(Y+4<<2)>>2]=je;d[n+1310736+(Y+5<<2)>>2]=Je;d[n+1310736+(Y+6<<2)>>2]=Je;Et=q;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[ht>>1]=Fe;if((xt|0)>0){$e=0;pt=U;while(1){if((d[pt>>2]|0)==(De|0))d[pt>>2]=Fe;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=Fe;break}else pt=pt+4|0}}else Be=Fe}else{h[ht>>1]=De;if((De|0)<(Fe|0)&(xt|0)>0){et=0;mt=U;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=De;et=et+1|0;if((et|0)>=(xt|0)){Be=De;break}else mt=mt+4|0}}else Be=De}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Pe;A=Ce*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Je;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(je|0))d[C>>2]=je;d[n+1310736+(A+-1<<2)>>2]=Je;Et=xt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[ht>>1]=b;if((xt|0)>0){tt=0;vt=U;while(1){if((d[vt>>2]|0)==(g|0))d[vt>>2]=b;tt=tt+1|0;if((tt|0)>=(xt|0)){E=b;break}else vt=vt+4|0}}else E=b}else{h[ht>>1]=g;if((g|0)<(b|0)&(xt|0)>0){it=0;gt=U;while(1){if((d[gt>>2]|0)==(b|0))d[gt>>2]=g;it=it+1|0;if((it|0)>=(xt|0)){E=g;break}else gt=gt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Je;Et=xt}}while(0);je=je+1|0;J=at+8|0;Z=ht+2|0;if((je|0)>=(x|0)){nt=J;ft=Z;_t=Et;break}else{at=J;ht=Z;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(ve|0)){bt=_t;Mt=52;break e}else{rt=nt+o|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){K=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=U;while(1){Q=d[yt>>2]|0;if((Q|0)==(We|0)){$=Ke;Qe=Ke+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=$;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}ee=n+8|0;te=Ze+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ze|0)>1){Xe=0;do{ie=Xe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[ee>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;le=n+655376+(oe<<3)|0;y[le>>3]=+y[le>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((oe|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ge|0))d[me>>2]=ge;ye=n+131084+((ue|2)<<2)|0;be=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((ue|3)<<2)|0;_e=d[n+1310736+(ne+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[ee>>2]|0)>0){Ye=0;do{xe=n+12+(Ye<<2)|0;Ee=Ye<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[ee>>2]|0));a=0}else a=0}}w=St;return a|0}function Ur(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){Ge=0;ot=j;lt=j+((fe(ve,c)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(c|0))break;else{ot=ot+2|0;lt=lt+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){Ve=0;st=j;ct=j+(x<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{st=st+(c<<1)|0;ct=ct+(c<<1)|0}}}z=n+1179664|0;W=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ve|0)>1){le=(x|0)>1;Je=1;rt=e+((t<<3)+8)|0;ut=j+(c+1<<1)|0;wt=0;t:while(1){if(le){je=1;at=rt;ht=ut;xt=wt;while(1){do{if(((p[at+1>>0]|0)+(p[at>>0]|0)+(p[at+2>>0]|0)|0)>(v|0)){Te=h[ht+(W<<1)>>1]|0;if(Te<<16>>16>0){h[ht>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+je;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;d[n+1310736+(ke+-1<<2)>>2]=Je;Et=xt;break}Pe=h[ht+(s<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[ht+(l<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[ht>>1]=Oe;O=Ie*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+je;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(O+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;U=(B<<16>>16)*7|0;H=n+1310736+(U+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(U+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;X=n+1310736+(U+-3<<2)|0;if((d[X>>2]|0)>=(je|0)){Et=xt;break}d[X>>2]=je;Et=xt;break}else{q=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=q;d[n+1179664+(xt<<2)>>2]=q<<16>>16;Y=xt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=je;d[n+1310736+(Y+2<<2)>>2]=Je;d[n+1310736+(Y+3<<2)>>2]=je;d[n+1310736+(Y+4<<2)>>2]=je;d[n+1310736+(Y+5<<2)>>2]=Je;d[n+1310736+(Y+6<<2)>>2]=Je;Et=q;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[ht>>1]=Fe;if((xt|0)>0){$e=0;pt=z;while(1){if((d[pt>>2]|0)==(De|0))d[pt>>2]=Fe;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=Fe;break}else pt=pt+4|0}}else Be=Fe}else{h[ht>>1]=De;if((De|0)<(Fe|0)&(xt|0)>0){et=0;mt=z;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=De;et=et+1|0;if((et|0)>=(xt|0)){Be=De;break}else mt=mt+4|0}}else Be=De}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Pe;A=Ce*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Je;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(je|0))d[C>>2]=je;d[n+1310736+(A+-1<<2)>>2]=Je;Et=xt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[ht>>1]=b;if((xt|0)>0){tt=0;vt=z;while(1){if((d[vt>>2]|0)==(g|0))d[vt>>2]=b;tt=tt+1|0;if((tt|0)>=(xt|0)){E=b;break}else vt=vt+4|0}}else E=b}else{h[ht>>1]=g;if((g|0)<(b|0)&(xt|0)>0){it=0;gt=z;while(1){if((d[gt>>2]|0)==(b|0))d[gt>>2]=g;it=it+1|0;if((it|0)>=(xt|0)){E=g;break}else gt=gt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Je;Et=xt}else{h[ht>>1]=0;Et=xt}}while(0);je=je+1|0;J=at+8|0;Z=ht+2|0;if((je|0)>=(x|0)){nt=J;ft=Z;_t=Et;break}else{at=J;ht=Z;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(ve|0)){bt=_t;Mt=52;break e}else{rt=nt+o|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){K=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=z;while(1){Q=d[yt>>2]|0;if((Q|0)==(We|0)){$=Ke;Qe=Ke+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=$;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}ee=n+8|0;te=Ze+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ze|0)>1){Xe=0;do{ie=Xe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[ee>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((oe|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ge|0))d[me>>2]=ge;ye=n+131084+((ue|2)<<2)|0;be=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((ue|3)<<2)|0;_e=d[n+1310736+(ne+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[ee>>2]|0)>0){Ye=0;do{xe=n+12+(Ye<<2)|0;Ee=Ye<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[ee>>2]|0));a=0}else a=0}}w=St;return a|0}function zr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0,St=0;St=w;w=w+16|0;if((w|0)>=(_|0))pe();dt=St;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){Ge=0;ot=j;lt=j+((fe(ve,c)|0)<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(c|0))break;else{ot=ot+2|0;lt=lt+2|0}}}v=r*3|0;x=c+-1|0;if((i|0)>1){Ve=0;st=j;ct=j+(x<<1)|0;while(1){h[ct>>1]=0;h[st>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{st=st+(c<<1)|0;ct=ct+(c<<1)|0}}}z=n+1179664|0;W=0-c|0;s=1-c|0;l=~c;o=(t<<2)+16|0;e:do{if((ve|0)>1){le=(x|0)>1;Je=1;rt=e+((t<<3)+8)|0;ut=j+(c+1<<1)|0;wt=0;t:while(1){if(le){je=1;at=rt;ht=ut;xt=wt;while(1){do{if(((p[at+1>>0]|0)+(p[at>>0]|0)+(p[at+2>>0]|0)|0)>(v|0)){h[ht>>1]=0;Et=xt}else{Te=h[ht+(W<<1)>>1]|0;if(Te<<16>>16>0){h[ht>>1]=Te;ke=(Te<<16>>16)*7|0;Ae=n+1310736+(ke+-7<<2)|0;d[Ae>>2]=(d[Ae>>2]|0)+1;Re=n+1310736+(ke+-6<<2)|0;d[Re>>2]=(d[Re>>2]|0)+je;Le=n+1310736+(ke+-5<<2)|0;d[Le>>2]=(d[Le>>2]|0)+Je;d[n+1310736+(ke+-1<<2)>>2]=Je;Et=xt;break}Pe=h[ht+(s<<1)>>1]|0;Ce=Pe<<16>>16;Oe=h[ht+(l<<1)>>1]|0;Ie=Oe<<16>>16;Ne=Oe<<16>>16>0;if(Pe<<16>>16<=0){if(Ne){h[ht>>1]=Oe;O=Ie*7|0;I=n+1310736+(O+-7<<2)|0;d[I>>2]=(d[I>>2]|0)+1;N=n+1310736+(O+-6<<2)|0;d[N>>2]=(d[N>>2]|0)+je;D=n+1310736+(O+-5<<2)|0;d[D>>2]=(d[D>>2]|0)+Je;F=n+1310736+(O+-3<<2)|0;if((d[F>>2]|0)<(je|0))d[F>>2]=je;d[n+1310736+(O+-1<<2)>>2]=Je;Et=xt;break}B=h[ht+-2>>1]|0;if(B<<16>>16>0){h[ht>>1]=B;U=(B<<16>>16)*7|0;H=n+1310736+(U+-7<<2)|0;d[H>>2]=(d[H>>2]|0)+1;G=n+1310736+(U+-6<<2)|0;d[G>>2]=(d[G>>2]|0)+je;V=n+1310736+(U+-5<<2)|0;d[V>>2]=(d[V>>2]|0)+Je;X=n+1310736+(U+-3<<2)|0;if((d[X>>2]|0)>=(je|0)){Et=xt;break}d[X>>2]=je;Et=xt;break}else{q=xt+1|0;if((xt|0)>32767)break t;h[ht>>1]=q;d[n+1179664+(xt<<2)>>2]=q<<16>>16;Y=xt*7|0;d[n+1310736+(Y<<2)>>2]=1;d[n+1310736+(Y+1<<2)>>2]=je;d[n+1310736+(Y+2<<2)>>2]=Je;d[n+1310736+(Y+3<<2)>>2]=je;d[n+1310736+(Y+4<<2)>>2]=je;d[n+1310736+(Y+5<<2)>>2]=Je;d[n+1310736+(Y+6<<2)>>2]=Je;Et=q;break}}if(Ne){De=d[n+1179664+(Ce+-1<<2)>>2]|0;Fe=d[n+1179664+(Ie+-1<<2)>>2]|0;if((De|0)>(Fe|0)){h[ht>>1]=Fe;if((xt|0)>0){$e=0;pt=z;while(1){if((d[pt>>2]|0)==(De|0))d[pt>>2]=Fe;$e=$e+1|0;if(($e|0)>=(xt|0)){Be=Fe;break}else pt=pt+4|0}}else Be=Fe}else{h[ht>>1]=De;if((De|0)<(Fe|0)&(xt|0)>0){et=0;mt=z;while(1){if((d[mt>>2]|0)==(Fe|0))d[mt>>2]=De;et=et+1|0;if((et|0)>=(xt|0)){Be=De;break}else mt=mt+4|0}}else Be=De}Ue=(Be<<16>>16)*7|0;ze=n+1310736+(Ue+-7<<2)|0;d[ze>>2]=(d[ze>>2]|0)+1;He=n+1310736+(Ue+-6<<2)|0;d[He>>2]=(d[He>>2]|0)+je;f=n+1310736+(Ue+-5<<2)|0;d[f>>2]=(d[f>>2]|0)+Je;d[n+1310736+(Ue+-1<<2)>>2]=Je;Et=xt;break}m=h[ht+-2>>1]|0;if(m<<16>>16<=0){h[ht>>1]=Pe;A=Ce*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;L=n+1310736+(A+-6<<2)|0;d[L>>2]=(d[L>>2]|0)+je;P=n+1310736+(A+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Je;C=n+1310736+(A+-4<<2)|0;if((d[C>>2]|0)>(je|0))d[C>>2]=je;d[n+1310736+(A+-1<<2)>>2]=Je;Et=xt;break}g=d[n+1179664+(Ce+-1<<2)>>2]|0;b=d[n+1179664+((m<<16>>16)+-1<<2)>>2]|0;if((g|0)>(b|0)){h[ht>>1]=b;if((xt|0)>0){tt=0;vt=z;while(1){if((d[vt>>2]|0)==(g|0))d[vt>>2]=b;tt=tt+1|0;if((tt|0)>=(xt|0)){E=b;break}else vt=vt+4|0}}else E=b}else{h[ht>>1]=g;if((g|0)<(b|0)&(xt|0)>0){it=0;gt=z;while(1){if((d[gt>>2]|0)==(b|0))d[gt>>2]=g;it=it+1|0;if((it|0)>=(xt|0)){E=g;break}else gt=gt+4|0}}else E=g}M=(E<<16>>16)*7|0;S=n+1310736+(M+-7<<2)|0;d[S>>2]=(d[S>>2]|0)+1;T=n+1310736+(M+-6<<2)|0;d[T>>2]=(d[T>>2]|0)+je;k=n+1310736+(M+-5<<2)|0;d[k>>2]=(d[k>>2]|0)+Je;Et=xt}}while(0);je=je+1|0;J=at+8|0;Z=ht+2|0;if((je|0)>=(x|0)){nt=J;ft=Z;_t=Et;break}else{at=J;ht=Z;xt=Et}}}else{nt=rt;ft=ut;_t=wt}Je=Je+1|0;if((Je|0)>=(ve|0)){bt=_t;Mt=52;break e}else{rt=nt+o|0;ut=ft+4|0;wt=_t}}Ha(3,3904,dt);a=-1}else{bt=0;Mt=52}}while(0);if((Mt|0)==52){K=n+12|0;if((bt|0)<1)Ze=1;else{We=1;Ke=1;yt=z;while(1){Q=d[yt>>2]|0;if((Q|0)==(We|0)){$=Ke;Qe=Ke+1|0}else{$=d[n+1179664+(Q+-1<<2)>>2]|0;Qe=Ke}d[yt>>2]=$;if((We|0)<(bt|0)){We=We+1|0;Ke=Qe;yt=yt+4|0}else{Ze=Qe;break}}}ee=n+8|0;te=Ze+-1|0;d[ee>>2]=te;if(!te)a=0;else{ul(K|0,0,te<<2|0)|0;ul(n+655376|0,0,te<<4|0)|0;if((Ze|0)>1){Xe=0;do{ie=Xe<<2;d[n+131084+(ie<<2)>>2]=c;d[n+131084+((ie|1)<<2)>>2]=0;d[n+131084+((ie|2)<<2)>>2]=u;d[n+131084+((ie|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(d[ee>>2]|0))}if((bt|0)>0){qe=0;do{re=(d[n+1179664+(qe<<2)>>2]|0)+-1|0;ne=qe*7|0;ae=n+12+(re<<2)|0;d[ae>>2]=(d[ae>>2]|0)+(d[n+1310736+(ne<<2)>>2]|0);oe=re<<1;se=n+655376+(oe<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(ne+1<<2)>>2]|0);ce=n+655376+((oe|1)<<3)|0;y[ce>>3]=+y[ce>>3]+ +(d[n+1310736+(ne+2<<2)>>2]|0);ue=re<<2;he=n+131084+(ue<<2)|0;de=d[n+1310736+(ne+3<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ue|1)<<2)|0;ge=d[n+1310736+(ne+4<<2)>>2]|0;if((d[me>>2]|0)<(ge|0))d[me>>2]=ge;ye=n+131084+((ue|2)<<2)|0;be=d[n+1310736+(ne+5<<2)>>2]|0;if((d[ye>>2]|0)>(be|0))d[ye>>2]=be;we=n+131084+((ue|3)<<2)|0;_e=d[n+1310736+(ne+6<<2)>>2]|0;if((d[we>>2]|0)<(_e|0))d[we>>2]=_e;qe=qe+1|0}while((qe|0)<(bt|0))}if((d[ee>>2]|0)>0){Ye=0;do{xe=n+12+(Ye<<2)|0;Ee=Ye<<1;Me=n+655376+(Ee<<3)|0;y[Me>>3]=+y[Me>>3]/+(d[xe>>2]|0);Se=n+655376+((Ee|1)<<3)|0;y[Se>>3]=+y[Se>>3]/+(d[xe>>2]|0);Ye=Ye+1|0}while((Ye|0)<(d[ee>>2]|0));a=0}else a=0}}w=St;return a|0}function Hr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){He=0;at=l;st=l+((fe(c,t)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(t|0))break;else{at=at+2|0;st=st+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){Ge=0;ot=l;lt=l+(u<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(i|0))break;else{ot=ot+(t<<1)|0;lt=lt+(t<<1)|0}}}C=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;Ye=1;it=e+(D<<1)|0;ct=l+(D<<1)|0;bt=0;t:while(1){if(K){Ve=1;nt=it;ft=ct;_t=bt;while(1){te=p[nt>>0]|0;do{if(((te&240)+24+(te<<4&240)+((p[nt+1>>0]|0)&240)|0)>(Fe|0)){Ee=h[ft+(z<<1)>>1]|0;if(Ee<<16>>16>0){h[ft>>1]=Ee;Me=(Ee<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(o<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(s<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;O=n+1310736+(L+-6<<2)|0;d[O>>2]=(d[O>>2]|0)+Ve;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+Ye;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ve|0))d[N>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}F=h[ft+-2>>1]|0;if(F<<16>>16>0){h[ft>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ve;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+Ye;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ve|0)){xt=_t;break}d[V>>2]=Ve;xt=_t;break}else{j=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=j;d[n+1179664+(_t<<2)>>2]=j<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=j;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=C;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=C;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Be=n+1310736+(De+-7<<2)|0;d[Be>>2]=(d[Be>>2]|0)+1;Ue=n+1310736+(De+-6<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ve;ze=n+1310736+(De+-5<<2)|0;d[ze>>2]=(d[ze>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}f=h[ft+-2>>1]|0;if(f<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}m=d[n+1179664+(Re+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ft>>1]=v;if((_t|0)>0){et=0;mt=C;while(1){if((d[mt>>2]|0)==(m|0))d[mt>>2]=v;et=et+1|0;if((et|0)>=(_t|0)){g=v;break}else mt=mt+4|0}}else g=v}else{h[ft>>1]=m;if((m|0)<(v|0)&(_t|0)>0){tt=0;vt=C;while(1){if((d[vt>>2]|0)==(v|0))d[vt>>2]=m;tt=tt+1|0;if((tt|0)>=(_t|0)){g=m;break}else vt=vt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}else{h[ft>>1]=0;xt=_t}}while(0);Ve=Ve+1|0;X=nt+2|0;q=ft+2|0;if((Ve|0)>=(u|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(c|0)){yt=wt;Et=52;break e}else{it=rt+4|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=C;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}Q=n+8|0;$=Je+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Je|0)>1){We=0;do{ee=We<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[Q>>2]|0))}if((yt|0)>0){Xe=0;do{ie=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;re=Xe*7|0;ne=n+12+(ie<<2)|0;d[ne>>2]=(d[ne>>2]|0)+(d[n+1310736+(re<<2)>>2]|0);ae=ie<<1;oe=n+655376+(ae<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(re+1<<2)>>2]|0);se=n+655376+((ae|1)<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(re+2<<2)>>2]|0);le=ie<<2;ce=n+131084+(le<<2)|0;ue=d[n+1310736+(re+3<<2)>>2]|0;if((d[ce>>2]|0)>(ue|0))d[ce>>2]=ue;he=n+131084+((le|1)<<2)|0;de=d[n+1310736+(re+4<<2)>>2]|0;if((d[he>>2]|0)<(de|0))d[he>>2]=de;me=n+131084+((le|2)<<2)|0;ve=d[n+1310736+(re+5<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((le|3)<<2)|0;ye=d[n+1310736+(re+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[Q>>2]|0)>0){qe=0;do{be=n+12+(qe<<2)|0;we=qe<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);qe=qe+1|0}while((qe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Mt;return a|0}function Gr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){He=0;at=l;st=l+((fe(c,t)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(t|0))break;else{at=at+2|0;st=st+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){Ge=0;ot=l;lt=l+(u<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(i|0))break;else{ot=ot+(t<<1)|0;lt=lt+(t<<1)|0}}}C=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;Ye=1;it=e+(D<<1)|0;ct=l+(D<<1)|0;bt=0;t:while(1){if(K){Ve=1;nt=it;ft=ct;_t=bt;while(1){te=p[nt>>0]|0;do{if(((te&240)+24+(te<<4&240)+((p[nt+1>>0]|0)&240)|0)>(Fe|0)){h[ft>>1]=0;xt=_t}else{Ee=h[ft+(z<<1)>>1]|0;if(Ee<<16>>16>0){h[ft>>1]=Ee;Me=(Ee<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(o<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(s<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;O=n+1310736+(L+-6<<2)|0;d[O>>2]=(d[O>>2]|0)+Ve;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+Ye;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ve|0))d[N>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}F=h[ft+-2>>1]|0;if(F<<16>>16>0){h[ft>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ve;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+Ye;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ve|0)){xt=_t;break}d[V>>2]=Ve;xt=_t;break}else{j=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=j;d[n+1179664+(_t<<2)>>2]=j<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=j;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=C;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=C;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Be=n+1310736+(De+-7<<2)|0;d[Be>>2]=(d[Be>>2]|0)+1;Ue=n+1310736+(De+-6<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ve;ze=n+1310736+(De+-5<<2)|0;d[ze>>2]=(d[ze>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}f=h[ft+-2>>1]|0;if(f<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}m=d[n+1179664+(Re+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ft>>1]=v;if((_t|0)>0){et=0;mt=C;while(1){if((d[mt>>2]|0)==(m|0))d[mt>>2]=v;et=et+1|0;if((et|0)>=(_t|0)){g=v;break}else mt=mt+4|0}}else g=v}else{h[ft>>1]=m;if((m|0)<(v|0)&(_t|0)>0){tt=0;vt=C;while(1){if((d[vt>>2]|0)==(v|0))d[vt>>2]=m;tt=tt+1|0;if((tt|0)>=(_t|0)){g=m;break}else vt=vt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}}while(0);Ve=Ve+1|0;X=nt+2|0;q=ft+2|0;if((Ve|0)>=(u|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(c|0)){yt=wt;Et=52;break e}else{it=rt+4|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=C;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}Q=n+8|0;$=Je+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Je|0)>1){We=0;do{ee=We<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[Q>>2]|0))}if((yt|0)>0){Xe=0;do{ie=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;re=Xe*7|0;ne=n+12+(ie<<2)|0;d[ne>>2]=(d[ne>>2]|0)+(d[n+1310736+(re<<2)>>2]|0);ae=ie<<1;oe=n+655376+(ae<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(re+1<<2)>>2]|0);se=n+655376+((ae|1)<<3)|0;y[se>>3]=+y[se>>3]+ +(d[n+1310736+(re+2<<2)>>2]|0);le=ie<<2;ce=n+131084+(le<<2)|0;ue=d[n+1310736+(re+3<<2)>>2]|0;if((d[ce>>2]|0)>(ue|0))d[ce>>2]=ue;he=n+131084+((le|1)<<2)|0;de=d[n+1310736+(re+4<<2)>>2]|0;if((d[he>>2]|0)<(de|0))d[he>>2]=de;me=n+131084+((le|2)<<2)|0;ve=d[n+1310736+(re+5<<2)>>2]|0;if((d[me>>2]|0)>(ve|0))d[me>>2]=ve;ge=n+131084+((le|3)<<2)|0;ye=d[n+1310736+(re+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[Q>>2]|0)>0){qe=0;do{be=n+12+(qe<<2)|0;we=qe<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);qe=qe+1|0}while((qe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Mt;return a|0}function Vr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0;Et=w;w=w+16|0;if((w|0)>=(_|0))pe();ft=Et;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}De=r*3|0;u=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(u<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}O=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;qe=1;tt=e+(D<<2)|0;lt=l+(D<<1)|0;yt=0;t:while(1){if(K){Ge=1;rt=tt;ut=lt;wt=yt;while(1){do{if(((p[rt+2>>0]|0)+(p[rt+1>>0]|0)+(p[rt+3>>0]|0)|0)>(De|0)){xe=h[ut+(z<<1)>>1]|0;if(xe<<16>>16>0){h[ut>>1]=xe;Ee=(xe<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Ge;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;d[n+1310736+(Ee+-1<<2)>>2]=qe;_t=wt;break}ke=h[ut+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[ut+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[ut>>1]=Re;L=Le*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ge;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+qe;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ge|0))d[N>>2]=Ge;d[n+1310736+(L+-1<<2)>>2]=qe;_t=wt;break}F=h[ut+-2>>1]|0;if(F<<16>>16>0){h[ut>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ge;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+qe;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ge|0)){_t=wt;break}d[V>>2]=Ge;_t=wt;break}else{j=wt+1|0;if((wt|0)>32767)break t;h[ut>>1]=j;d[n+1179664+(wt<<2)>>2]=j<<16>>16;W=wt*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ge;d[n+1310736+(W+2<<2)>>2]=qe;d[n+1310736+(W+3<<2)>>2]=Ge;d[n+1310736+(W+4<<2)>>2]=Ge;d[n+1310736+(W+5<<2)>>2]=qe;d[n+1310736+(W+6<<2)>>2]=qe;_t=j;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[ut>>1]=Oe;if((wt|0)>0){Ke=0;ht=O;while(1){if((d[ht>>2]|0)==(Ce|0))d[ht>>2]=Oe;Ke=Ke+1|0;if((Ke|0)>=(wt|0)){Ie=Oe;break}else ht=ht+4|0}}else Ie=Oe}else{h[ut>>1]=Ce;if((Ce|0)<(Oe|0)&(wt|0)>0){Qe=0;dt=O;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(wt|0)){Ie=Ce;break}else dt=dt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;Fe=n+1310736+(Ne+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(Ne+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ge;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+qe;d[n+1310736+(Ne+-1<<2)>>2]=qe;_t=wt;break}f=h[ut+-2>>1]|0;if(f<<16>>16<=0){h[ut>>1]=ke;S=Ae*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ge;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+qe;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ge|0))d[R>>2]=Ge;d[n+1310736+(S+-1<<2)>>2]=qe;_t=wt;break}m=d[n+1179664+(Ae+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ut>>1]=v;if((wt|0)>0){$e=0;pt=O;while(1){if((d[pt>>2]|0)==(m|0))d[pt>>2]=v;$e=$e+1|0;if(($e|0)>=(wt|0)){g=v;break}else pt=pt+4|0}}else g=v}else{h[ut>>1]=m;if((m|0)<(v|0)&(wt|0)>0){et=0;mt=O;while(1){if((d[mt>>2]|0)==(v|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(wt|0)){g=m;break}else mt=mt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ge;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+qe;_t=wt}else{h[ut>>1]=0;_t=wt}}while(0);Ge=Ge+1|0;X=rt+4|0;q=ut+2|0;if((Ge|0)>=(u|0)){it=X;ct=q;bt=_t;break}else{rt=X;ut=q;wt=_t}}}else{it=tt;ct=lt;bt=yt}qe=qe+1|0;if((qe|0)>=(c|0)){gt=bt;xt=52;break e}else{tt=it+8|0;lt=ct+4|0;yt=bt}}Ha(3,3904,ft);a=-1}else{gt=0;xt=52}}while(0);if((xt|0)==52){Y=n+12|0;if((gt|0)<1)Ye=1;else{Ve=1;Je=1;vt=O;while(1){J=d[vt>>2]|0;if((J|0)==(Ve|0)){Z=Je;Ze=Je+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ze=Je}d[vt>>2]=Z;if((Ve|0)<(gt|0)){Ve=Ve+1|0;Je=Ze;vt=vt+4|0}else{Ye=Ze;break}}}Q=n+8|0;$=Ye+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Ye|0)>1){je=0;do{ee=je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Q>>2]|0))}if((gt|0)>0){We=0;do{te=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ie=We*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;We=We+1|0}while((We|0)<(gt|0))}if((d[Q>>2]|0)>0){Xe=0;do{ye=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ye>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Et;return a|0}function jr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0;Et=w;w=w+16|0;if((w|0)>=(_|0))pe();ft=Et;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}De=r*3|0;u=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(u<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}O=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;qe=1;tt=e+(D<<2)|0;lt=l+(D<<1)|0;yt=0;t:while(1){if(K){Ge=1;rt=tt;ut=lt;wt=yt;while(1){do{if(((p[rt+2>>0]|0)+(p[rt+1>>0]|0)+(p[rt+3>>0]|0)|0)>(De|0)){h[ut>>1]=0;_t=wt}else{xe=h[ut+(z<<1)>>1]|0;if(xe<<16>>16>0){h[ut>>1]=xe;Ee=(xe<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Ge;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;d[n+1310736+(Ee+-1<<2)>>2]=qe;_t=wt;break}ke=h[ut+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[ut+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[ut>>1]=Re;L=Le*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ge;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+qe;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ge|0))d[N>>2]=Ge;d[n+1310736+(L+-1<<2)>>2]=qe;_t=wt;break}F=h[ut+-2>>1]|0;if(F<<16>>16>0){h[ut>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ge;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+qe;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ge|0)){_t=wt;break}d[V>>2]=Ge;_t=wt;break}else{j=wt+1|0;if((wt|0)>32767)break t;h[ut>>1]=j;d[n+1179664+(wt<<2)>>2]=j<<16>>16;W=wt*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ge;d[n+1310736+(W+2<<2)>>2]=qe;d[n+1310736+(W+3<<2)>>2]=Ge;d[n+1310736+(W+4<<2)>>2]=Ge;d[n+1310736+(W+5<<2)>>2]=qe;d[n+1310736+(W+6<<2)>>2]=qe;_t=j;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[ut>>1]=Oe;if((wt|0)>0){Ke=0;ht=O;while(1){if((d[ht>>2]|0)==(Ce|0))d[ht>>2]=Oe;Ke=Ke+1|0;if((Ke|0)>=(wt|0)){Ie=Oe;break}else ht=ht+4|0}}else Ie=Oe}else{h[ut>>1]=Ce;if((Ce|0)<(Oe|0)&(wt|0)>0){Qe=0;dt=O;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(wt|0)){Ie=Ce;break}else dt=dt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;Fe=n+1310736+(Ne+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(Ne+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ge;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+qe;d[n+1310736+(Ne+-1<<2)>>2]=qe;_t=wt;break}f=h[ut+-2>>1]|0;if(f<<16>>16<=0){h[ut>>1]=ke;S=Ae*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ge;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+qe;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ge|0))d[R>>2]=Ge;d[n+1310736+(S+-1<<2)>>2]=qe;_t=wt;break}m=d[n+1179664+(Ae+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ut>>1]=v;if((wt|0)>0){$e=0;pt=O;while(1){if((d[pt>>2]|0)==(m|0))d[pt>>2]=v;$e=$e+1|0;if(($e|0)>=(wt|0)){g=v;break}else pt=pt+4|0}}else g=v}else{h[ut>>1]=m;if((m|0)<(v|0)&(wt|0)>0){et=0;mt=O;while(1){if((d[mt>>2]|0)==(v|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(wt|0)){g=m;break}else mt=mt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ge;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+qe;_t=wt}}while(0);Ge=Ge+1|0;X=rt+4|0;q=ut+2|0;if((Ge|0)>=(u|0)){it=X;ct=q;bt=_t;break}else{rt=X;ut=q;wt=_t}}}else{it=tt;ct=lt;bt=yt}qe=qe+1|0;if((qe|0)>=(c|0)){gt=bt;xt=52;break e}else{tt=it+8|0;lt=ct+4|0;yt=bt}}Ha(3,3904,ft);a=-1}else{gt=0;xt=52}}while(0);if((xt|0)==52){Y=n+12|0;if((gt|0)<1)Ye=1;else{Ve=1;Je=1;vt=O;while(1){J=d[vt>>2]|0;if((J|0)==(Ve|0)){Z=Je;Ze=Je+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ze=Je}d[vt>>2]=Z;if((Ve|0)<(gt|0)){Ve=Ve+1|0;Je=Ze;vt=vt+4|0}else{Ye=Ze;break}}}Q=n+8|0;$=Ye+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Ye|0)>1){je=0;do{ee=je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Q>>2]|0))}if((gt|0)>0){We=0;do{te=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ie=We*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;We=We+1|0}while((We|0)<(gt|0))}if((d[Q>>2]|0)>0){Xe=0;do{ye=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ye>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Et;return a|0}function Wr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0;Et=w;w=w+16|0;if((w|0)>=(_|0))pe();ft=Et;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(u<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}O=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;qe=1;tt=e+(D*3|0)|0;lt=l+(D<<1)|0;yt=0;t:while(1){if(K){Ge=1;rt=tt;ut=lt;wt=yt;while(1){do{if(((p[rt+1>>0]|0)+(p[rt>>0]|0)+(p[rt+2>>0]|0)|0)>(Fe|0)){xe=h[ut+(z<<1)>>1]|0;if(xe<<16>>16>0){h[ut>>1]=xe;Ee=(xe<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Ge;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;d[n+1310736+(Ee+-1<<2)>>2]=qe;_t=wt;break}ke=h[ut+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[ut+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[ut>>1]=Re;L=Le*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ge;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+qe;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ge|0))d[N>>2]=Ge;d[n+1310736+(L+-1<<2)>>2]=qe;_t=wt;break}F=h[ut+-2>>1]|0;if(F<<16>>16>0){h[ut>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ge;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+qe;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ge|0)){_t=wt;break}d[V>>2]=Ge;_t=wt;break}else{j=wt+1|0;if((wt|0)>32767)break t;h[ut>>1]=j;d[n+1179664+(wt<<2)>>2]=j<<16>>16;W=wt*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ge;d[n+1310736+(W+2<<2)>>2]=qe;d[n+1310736+(W+3<<2)>>2]=Ge;d[n+1310736+(W+4<<2)>>2]=Ge;d[n+1310736+(W+5<<2)>>2]=qe;d[n+1310736+(W+6<<2)>>2]=qe;_t=j;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[ut>>1]=Oe;if((wt|0)>0){Ke=0;ht=O;while(1){if((d[ht>>2]|0)==(Ce|0))d[ht>>2]=Oe;Ke=Ke+1|0;if((Ke|0)>=(wt|0)){Ie=Oe;break}else ht=ht+4|0}}else Ie=Oe}else{h[ut>>1]=Ce;if((Ce|0)<(Oe|0)&(wt|0)>0){Qe=0;dt=O;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(wt|0)){Ie=Ce;break}else dt=dt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Be=n+1310736+(Ne+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ge;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+qe;d[n+1310736+(Ne+-1<<2)>>2]=qe;_t=wt;break}f=h[ut+-2>>1]|0;if(f<<16>>16<=0){h[ut>>1]=ke;S=Ae*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ge;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+qe;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ge|0))d[R>>2]=Ge;d[n+1310736+(S+-1<<2)>>2]=qe;_t=wt;break}m=d[n+1179664+(Ae+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ut>>1]=v;if((wt|0)>0){$e=0;pt=O;while(1){if((d[pt>>2]|0)==(m|0))d[pt>>2]=v;$e=$e+1|0;if(($e|0)>=(wt|0)){g=v;break}else pt=pt+4|0}}else g=v}else{h[ut>>1]=m;if((m|0)<(v|0)&(wt|0)>0){et=0;mt=O;while(1){if((d[mt>>2]|0)==(v|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(wt|0)){g=m;break}else mt=mt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ge;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+qe;_t=wt}else{h[ut>>1]=0;_t=wt}}while(0);Ge=Ge+1|0;X=rt+3|0;q=ut+2|0;if((Ge|0)>=(u|0)){it=X;ct=q;bt=_t;break}else{rt=X;ut=q;wt=_t}}}else{it=tt;ct=lt;bt=yt}qe=qe+1|0;if((qe|0)>=(c|0)){gt=bt;xt=52;break e}else{tt=it+6|0;lt=ct+4|0;yt=bt}}Ha(3,3904,ft);a=-1}else{gt=0;xt=52}}while(0);if((xt|0)==52){Y=n+12|0;if((gt|0)<1)Ye=1;else{Ve=1;Je=1;vt=O;while(1){J=d[vt>>2]|0;if((J|0)==(Ve|0)){Z=Je;Ze=Je+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ze=Je}d[vt>>2]=Z;if((Ve|0)<(gt|0)){Ve=Ve+1|0;Je=Ze;vt=vt+4|0}else{Ye=Ze;break}}}Q=n+8|0;$=Ye+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Ye|0)>1){je=0;do{ee=je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Q>>2]|0))}if((gt|0)>0){We=0;do{te=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ie=We*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;We=We+1|0}while((We|0)<(gt|0))}if((d[Q>>2]|0)>0){Xe=0;do{ye=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ye>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Et;return a|0}function Xr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0;Et=w;w=w+16|0;if((w|0)>=(_|0))pe();ft=Et;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(u<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}O=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;qe=1;tt=e+(D*3|0)|0;lt=l+(D<<1)|0;yt=0;t:while(1){if(K){Ge=1;rt=tt;ut=lt;wt=yt;while(1){do{if(((p[rt+1>>0]|0)+(p[rt>>0]|0)+(p[rt+2>>0]|0)|0)>(Fe|0)){h[ut>>1]=0;_t=wt}else{xe=h[ut+(z<<1)>>1]|0;if(xe<<16>>16>0){h[ut>>1]=xe;Ee=(xe<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Ge;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;d[n+1310736+(Ee+-1<<2)>>2]=qe;_t=wt;break}ke=h[ut+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[ut+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[ut>>1]=Re;L=Le*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ge;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+qe;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ge|0))d[N>>2]=Ge;d[n+1310736+(L+-1<<2)>>2]=qe;_t=wt;break}F=h[ut+-2>>1]|0;if(F<<16>>16>0){h[ut>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ge;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+qe;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ge|0)){_t=wt;break}d[V>>2]=Ge;_t=wt;break}else{j=wt+1|0;if((wt|0)>32767)break t;h[ut>>1]=j;d[n+1179664+(wt<<2)>>2]=j<<16>>16;W=wt*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ge;d[n+1310736+(W+2<<2)>>2]=qe;d[n+1310736+(W+3<<2)>>2]=Ge;d[n+1310736+(W+4<<2)>>2]=Ge;d[n+1310736+(W+5<<2)>>2]=qe;d[n+1310736+(W+6<<2)>>2]=qe;_t=j;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[ut>>1]=Oe;if((wt|0)>0){Ke=0;ht=O;while(1){if((d[ht>>2]|0)==(Ce|0))d[ht>>2]=Oe;Ke=Ke+1|0;if((Ke|0)>=(wt|0)){Ie=Oe;break}else ht=ht+4|0}}else Ie=Oe}else{h[ut>>1]=Ce;if((Ce|0)<(Oe|0)&(wt|0)>0){Qe=0;dt=O;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(wt|0)){Ie=Ce;break}else dt=dt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Be=n+1310736+(Ne+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ge;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+qe;d[n+1310736+(Ne+-1<<2)>>2]=qe;_t=wt;break}f=h[ut+-2>>1]|0;if(f<<16>>16<=0){h[ut>>1]=ke;S=Ae*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ge;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+qe;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ge|0))d[R>>2]=Ge;d[n+1310736+(S+-1<<2)>>2]=qe;_t=wt;break}m=d[n+1179664+(Ae+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ut>>1]=v;if((wt|0)>0){$e=0;pt=O;while(1){if((d[pt>>2]|0)==(m|0))d[pt>>2]=v;$e=$e+1|0;if(($e|0)>=(wt|0)){g=v;break}else pt=pt+4|0}}else g=v}else{h[ut>>1]=m;if((m|0)<(v|0)&(wt|0)>0){et=0;mt=O;while(1){if((d[mt>>2]|0)==(v|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(wt|0)){g=m;break}else mt=mt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ge;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+qe;_t=wt}}while(0);Ge=Ge+1|0;X=rt+3|0;q=ut+2|0;if((Ge|0)>=(u|0)){it=X;ct=q;bt=_t;break}else{rt=X;ut=q;wt=_t}}}else{it=tt;ct=lt;bt=yt}qe=qe+1|0;if((qe|0)>=(c|0)){gt=bt;xt=52;break e}else{tt=it+6|0;lt=ct+4|0;yt=bt}}Ha(3,3904,ft);a=-1}else{gt=0;xt=52}}while(0);if((xt|0)==52){Y=n+12|0;if((gt|0)<1)Ye=1;else{Ve=1;Je=1;vt=O;while(1){J=d[vt>>2]|0;if((J|0)==(Ve|0)){Z=Je;Ze=Je+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ze=Je}d[vt>>2]=Z;if((Ve|0)<(gt|0)){Ve=Ve+1|0;Je=Ze;vt=vt+4|0}else{Ye=Ze;break}}}Q=n+8|0;$=Ye+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Ye|0)>1){je=0;do{ee=je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Q>>2]|0))}if((gt|0)>0){We=0;do{te=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ie=We*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;We=We+1|0}while((We|0)<(gt|0))}if((d[Q>>2]|0)>0){Xe=0;do{ye=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ye>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Et;return a|0}function qr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0;Et=w;w=w+16|0;if((w|0)>=(_|0))pe();ft=Et;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(u<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}O=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;qe=1;tt=e+(D<<2)|0;lt=l+(D<<1)|0;yt=0;t:while(1){if(K){Ge=1;rt=tt;ut=lt;wt=yt;while(1){do{if(((p[rt+1>>0]|0)+(p[rt>>0]|0)+(p[rt+2>>0]|0)|0)>(Fe|0)){xe=h[ut+(z<<1)>>1]|0;if(xe<<16>>16>0){h[ut>>1]=xe;Ee=(xe<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Ge;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;d[n+1310736+(Ee+-1<<2)>>2]=qe;_t=wt;break}ke=h[ut+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[ut+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[ut>>1]=Re;L=Le*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ge;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+qe;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ge|0))d[N>>2]=Ge;d[n+1310736+(L+-1<<2)>>2]=qe;_t=wt;break}F=h[ut+-2>>1]|0;if(F<<16>>16>0){h[ut>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ge;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+qe;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ge|0)){_t=wt;break}d[V>>2]=Ge;_t=wt;break}else{j=wt+1|0;if((wt|0)>32767)break t;h[ut>>1]=j;d[n+1179664+(wt<<2)>>2]=j<<16>>16;W=wt*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ge;d[n+1310736+(W+2<<2)>>2]=qe;d[n+1310736+(W+3<<2)>>2]=Ge;d[n+1310736+(W+4<<2)>>2]=Ge;d[n+1310736+(W+5<<2)>>2]=qe;d[n+1310736+(W+6<<2)>>2]=qe;_t=j;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[ut>>1]=Oe;if((wt|0)>0){Ke=0;ht=O;while(1){if((d[ht>>2]|0)==(Ce|0))d[ht>>2]=Oe;Ke=Ke+1|0;if((Ke|0)>=(wt|0)){Ie=Oe;break}else ht=ht+4|0}}else Ie=Oe}else{h[ut>>1]=Ce;if((Ce|0)<(Oe|0)&(wt|0)>0){Qe=0;dt=O;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(wt|0)){Ie=Ce;break}else dt=dt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Be=n+1310736+(Ne+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ge;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+qe;d[n+1310736+(Ne+-1<<2)>>2]=qe;_t=wt;break}f=h[ut+-2>>1]|0;if(f<<16>>16<=0){h[ut>>1]=ke;S=Ae*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ge;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+qe;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ge|0))d[R>>2]=Ge;d[n+1310736+(S+-1<<2)>>2]=qe;_t=wt;break}m=d[n+1179664+(Ae+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ut>>1]=v;if((wt|0)>0){$e=0;pt=O;while(1){if((d[pt>>2]|0)==(m|0))d[pt>>2]=v;$e=$e+1|0;if(($e|0)>=(wt|0)){g=v;break}else pt=pt+4|0}}else g=v}else{h[ut>>1]=m;if((m|0)<(v|0)&(wt|0)>0){et=0;mt=O;while(1){if((d[mt>>2]|0)==(v|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(wt|0)){g=m;break}else mt=mt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ge;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+qe;_t=wt}else{h[ut>>1]=0;_t=wt}}while(0);Ge=Ge+1|0;X=rt+4|0;q=ut+2|0;if((Ge|0)>=(u|0)){it=X;ct=q;bt=_t;break}else{rt=X;ut=q;wt=_t}}}else{it=tt;ct=lt;bt=yt}qe=qe+1|0;if((qe|0)>=(c|0)){gt=bt;xt=52;break e}else{tt=it+8|0;lt=ct+4|0;yt=bt}}Ha(3,3904,ft);a=-1}else{gt=0;xt=52}}while(0);if((xt|0)==52){Y=n+12|0;if((gt|0)<1)Ye=1;else{Ve=1;Je=1;vt=O;while(1){J=d[vt>>2]|0;if((J|0)==(Ve|0)){Z=Je;Ze=Je+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ze=Je}d[vt>>2]=Z;if((Ve|0)<(gt|0)){Ve=Ve+1|0;Je=Ze;vt=vt+4|0}else{Ye=Ze;break}}}Q=n+8|0;$=Ye+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Ye|0)>1){je=0;do{ee=je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Q>>2]|0))}if((gt|0)>0){We=0;do{te=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ie=We*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;We=We+1|0}while((We|0)<(gt|0))}if((d[Q>>2]|0)>0){Xe=0;do{ye=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ye>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Et;return a|0}function Yr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0;Et=w;w=w+16|0;if((w|0)>=(_|0))pe();ft=Et;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){ze=0;nt=l;ot=l+((fe(c,t)|0)<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(t|0))break;else{nt=nt+2|0;ot=ot+2|0}}}Fe=r*3|0;u=t+-1|0;if((i|0)>0){He=0;at=l;st=l+(u<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{at=at+(t<<1)|0;st=st+(t<<1)|0}}}O=n+1179664|0;D=t+1|0;z=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){K=(u|0)>1;qe=1;tt=e+(D<<2)|0;lt=l+(D<<1)|0;yt=0;t:while(1){if(K){Ge=1;rt=tt;ut=lt;wt=yt;while(1){do{if(((p[rt+1>>0]|0)+(p[rt>>0]|0)+(p[rt+2>>0]|0)|0)>(Fe|0)){h[ut>>1]=0;_t=wt}else{xe=h[ut+(z<<1)>>1]|0;if(xe<<16>>16>0){h[ut>>1]=xe;Ee=(xe<<16>>16)*7|0;Me=n+1310736+(Ee+-7<<2)|0;d[Me>>2]=(d[Me>>2]|0)+1;Se=n+1310736+(Ee+-6<<2)|0;d[Se>>2]=(d[Se>>2]|0)+Ge;Te=n+1310736+(Ee+-5<<2)|0;d[Te>>2]=(d[Te>>2]|0)+qe;d[n+1310736+(Ee+-1<<2)>>2]=qe;_t=wt;break}ke=h[ut+(o<<1)>>1]|0;Ae=ke<<16>>16;Re=h[ut+(s<<1)>>1]|0;Le=Re<<16>>16;Pe=Re<<16>>16>0;if(ke<<16>>16<=0){if(Pe){h[ut>>1]=Re;L=Le*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ge;I=n+1310736+(L+-5<<2)|0;d[I>>2]=(d[I>>2]|0)+qe;N=n+1310736+(L+-3<<2)|0;if((d[N>>2]|0)<(Ge|0))d[N>>2]=Ge;d[n+1310736+(L+-1<<2)>>2]=qe;_t=wt;break}F=h[ut+-2>>1]|0;if(F<<16>>16>0){h[ut>>1]=F;B=(F<<16>>16)*7|0;U=n+1310736+(B+-7<<2)|0;d[U>>2]=(d[U>>2]|0)+1;H=n+1310736+(B+-6<<2)|0;d[H>>2]=(d[H>>2]|0)+Ge;G=n+1310736+(B+-5<<2)|0;d[G>>2]=(d[G>>2]|0)+qe;V=n+1310736+(B+-3<<2)|0;if((d[V>>2]|0)>=(Ge|0)){_t=wt;break}d[V>>2]=Ge;_t=wt;break}else{j=wt+1|0;if((wt|0)>32767)break t;h[ut>>1]=j;d[n+1179664+(wt<<2)>>2]=j<<16>>16;W=wt*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ge;d[n+1310736+(W+2<<2)>>2]=qe;d[n+1310736+(W+3<<2)>>2]=Ge;d[n+1310736+(W+4<<2)>>2]=Ge;d[n+1310736+(W+5<<2)>>2]=qe;d[n+1310736+(W+6<<2)>>2]=qe;_t=j;break}}if(Pe){Ce=d[n+1179664+(Ae+-1<<2)>>2]|0;Oe=d[n+1179664+(Le+-1<<2)>>2]|0;if((Ce|0)>(Oe|0)){h[ut>>1]=Oe;if((wt|0)>0){Ke=0;ht=O;while(1){if((d[ht>>2]|0)==(Ce|0))d[ht>>2]=Oe;Ke=Ke+1|0;if((Ke|0)>=(wt|0)){Ie=Oe;break}else ht=ht+4|0}}else Ie=Oe}else{h[ut>>1]=Ce;if((Ce|0)<(Oe|0)&(wt|0)>0){Qe=0;dt=O;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(wt|0)){Ie=Ce;break}else dt=dt+4|0}}else Ie=Ce}Ne=(Ie<<16>>16)*7|0;De=n+1310736+(Ne+-7<<2)|0;d[De>>2]=(d[De>>2]|0)+1;Be=n+1310736+(Ne+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ge;Ue=n+1310736+(Ne+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+qe;d[n+1310736+(Ne+-1<<2)>>2]=qe;_t=wt;break}f=h[ut+-2>>1]|0;if(f<<16>>16<=0){h[ut>>1]=ke;S=Ae*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ge;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+qe;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ge|0))d[R>>2]=Ge;d[n+1310736+(S+-1<<2)>>2]=qe;_t=wt;break}m=d[n+1179664+(Ae+-1<<2)>>2]|0;v=d[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((m|0)>(v|0)){h[ut>>1]=v;if((wt|0)>0){$e=0;pt=O;while(1){if((d[pt>>2]|0)==(m|0))d[pt>>2]=v;$e=$e+1|0;if(($e|0)>=(wt|0)){g=v;break}else pt=pt+4|0}}else g=v}else{h[ut>>1]=m;if((m|0)<(v|0)&(wt|0)>0){et=0;mt=O;while(1){if((d[mt>>2]|0)==(v|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(wt|0)){g=m;break}else mt=mt+4|0}}else g=m}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ge;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+qe;_t=wt}}while(0);Ge=Ge+1|0;X=rt+4|0;q=ut+2|0;if((Ge|0)>=(u|0)){it=X;ct=q;bt=_t;break}else{rt=X;ut=q;wt=_t}}}else{it=tt;ct=lt;bt=yt}qe=qe+1|0;if((qe|0)>=(c|0)){gt=bt;xt=52;break e}else{tt=it+8|0;lt=ct+4|0;yt=bt}}Ha(3,3904,ft);a=-1}else{gt=0;xt=52}}while(0);if((xt|0)==52){Y=n+12|0;if((gt|0)<1)Ye=1;else{Ve=1;Je=1;vt=O;while(1){J=d[vt>>2]|0;if((J|0)==(Ve|0)){Z=Je;Ze=Je+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ze=Je}d[vt>>2]=Z;if((Ve|0)<(gt|0)){Ve=Ve+1|0;Je=Ze;vt=vt+4|0}else{Ye=Ze;break}}}Q=n+8|0;$=Ye+-1|0;d[Q>>2]=$;if(!$)a=0;else{ul(Y|0,0,$<<2|0)|0;ul(n+655376|0,0,$<<4|0)|0;if((Ye|0)>1){je=0;do{ee=je<<2;d[n+131084+(ee<<2)>>2]=t;d[n+131084+((ee|1)<<2)>>2]=0;d[n+131084+((ee|2)<<2)>>2]=i;d[n+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(d[Q>>2]|0))}if((gt|0)>0){We=0;do{te=(d[n+1179664+(We<<2)>>2]|0)+-1|0;ie=We*7|0;re=n+12+(te<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(ie<<2)>>2]|0);ne=te<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(ie+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(ie+2<<2)>>2]|0);se=te<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(ie+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(ie+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(ie+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ve=n+131084+((se|3)<<2)|0;ge=d[n+1310736+(ie+6<<2)>>2]|0;if((d[ve>>2]|0)<(ge|0))d[ve>>2]=ge;We=We+1|0}while((We|0)<(gt|0))}if((d[Q>>2]|0)>0){Xe=0;do{ye=n+12+(Xe<<2)|0;be=Xe<<1;we=n+655376+(be<<3)|0;y[we>>3]=+y[we>>3]/+(d[ye>>2]|0);_e=n+655376+((be|1)<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[ye>>2]|0);Xe=Xe+1|0}while((Xe|0)<(d[Q>>2]|0));a=0}else a=0}}w=Et;return a|0}function Jr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){He=0;at=V;st=V+((fe(me,c)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(c|0))break;else{at=at+2|0;st=st+2|0}}}v=c+-1|0;if((i|0)>1){Ge=0;ot=V;lt=V+(v<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{ot=ot+(c<<1)|0;lt=lt+(c<<1)|0}}}D=n+1179664|0;j=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){re=(v|0)>1;Ye=1;it=e+((t<<2)+4)|0;ct=V+(c+1<<1)|0;bt=0;t:while(1){if(re){Ve=1;nt=it;ft=ct;_t=bt;while(1){do{if((p[nt+1>>0]|0|0)>(r|0)){Ee=h[ft+(j<<1)>>1]|0;if(Ee<<16>>16>0){h[ft>>1]=Ee;Me=(Ee<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(s<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(l<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ve;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ye;I=n+1310736+(L+-3<<2)|0;if((d[I>>2]|0)<(Ve|0))d[I>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}N=h[ft+-2>>1]|0;if(N<<16>>16>0){h[ft>>1]=N;F=(N<<16>>16)*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Ve;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Ye;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)>=(Ve|0)){xt=_t;break}d[H>>2]=Ve;xt=_t;break}else{G=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=G;d[n+1179664+(_t<<2)>>2]=G<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=G;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=D;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=D;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ve;Ue=n+1310736+(De+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}ze=h[ft+-2>>1]|0;if(ze<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}f=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){h[ft>>1]=m;if((_t|0)>0){et=0;mt=D;while(1){if((d[mt>>2]|0)==(f|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(_t|0)){g=m;break}else mt=mt+4|0}}else g=m}else{h[ft>>1]=f;if((f|0)<(m|0)&(_t|0)>0){tt=0;vt=D;while(1){if((d[vt>>2]|0)==(m|0))d[vt>>2]=f;tt=tt+1|0;if((tt|0)>=(_t|0)){g=f;break}else vt=vt+4|0}}else g=f}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}else{h[ft>>1]=0;xt=_t}}while(0);Ve=Ve+1|0;X=nt+4|0;q=ft+2|0;if((Ve|0)>=(v|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(me|0)){yt=wt;Et=52;break e}else{it=rt+o|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=D;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}K=n+8|0;Q=Je+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Je|0)>1){We=0;do{$=We<<2;d[n+131084+($<<2)>>2]=c;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=u;d[n+131084+(($|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[K>>2]|0))}if((yt|0)>0){Xe=0;do{ee=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;te=Xe*7|0;ie=n+12+(ee<<2)|0;d[ie>>2]=(d[ie>>2]|0)+(d[n+1310736+(te<<2)>>2]|0);ne=ee<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(te+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(te+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(te+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(te+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;ve=d[n+1310736+(te+5<<2)>>2]|0;if((d[de>>2]|0)>(ve|0))d[de>>2]=ve;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(te+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[K>>2]|0)>0){qe=0;do{be=n+12+(qe<<2)|0;we=qe<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);qe=qe+1|0}while((qe|0)<(d[K>>2]|0));a=0}else a=0}}w=Mt;return a|0}function Zr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){He=0;at=V;st=V+((fe(me,c)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(c|0))break;else{at=at+2|0;st=st+2|0}}}v=c+-1|0;if((i|0)>1){Ge=0;ot=V;lt=V+(v<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{ot=ot+(c<<1)|0;lt=lt+(c<<1)|0}}}D=n+1179664|0;j=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){re=(v|0)>1;Ye=1;it=e+((t<<2)+4)|0;ct=V+(c+1<<1)|0;bt=0;t:while(1){if(re){Ve=1;nt=it;ft=ct;_t=bt;while(1){do{if((p[nt+1>>0]|0|0)>(r|0)){h[ft>>1]=0;xt=_t}else{Ee=h[ft+(j<<1)>>1]|0;if(Ee<<16>>16>0){h[ft>>1]=Ee;Me=(Ee<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(s<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(l<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ve;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ye;I=n+1310736+(L+-3<<2)|0;if((d[I>>2]|0)<(Ve|0))d[I>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}N=h[ft+-2>>1]|0;if(N<<16>>16>0){h[ft>>1]=N;F=(N<<16>>16)*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Ve;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Ye;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)>=(Ve|0)){xt=_t;break}d[H>>2]=Ve;xt=_t;break}else{G=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=G;d[n+1179664+(_t<<2)>>2]=G<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=G;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=D;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=D;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ve;Ue=n+1310736+(De+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}ze=h[ft+-2>>1]|0;if(ze<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}f=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){h[ft>>1]=m;if((_t|0)>0){et=0;mt=D;while(1){if((d[mt>>2]|0)==(f|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(_t|0)){g=m;break}else mt=mt+4|0}}else g=m}else{h[ft>>1]=f;if((f|0)<(m|0)&(_t|0)>0){tt=0;vt=D;while(1){if((d[vt>>2]|0)==(m|0))d[vt>>2]=f;tt=tt+1|0;if((tt|0)>=(_t|0)){g=f;break}else vt=vt+4|0}}else g=f}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}}while(0);Ve=Ve+1|0;X=nt+4|0;q=ft+2|0;if((Ve|0)>=(v|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(me|0)){yt=wt;Et=52;break e}else{it=rt+o|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=D;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}K=n+8|0;Q=Je+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Je|0)>1){We=0;do{$=We<<2;d[n+131084+($<<2)>>2]=c;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=u;d[n+131084+(($|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[K>>2]|0))}if((yt|0)>0){Xe=0;do{ee=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;te=Xe*7|0;ie=n+12+(ee<<2)|0;d[ie>>2]=(d[ie>>2]|0)+(d[n+1310736+(te<<2)>>2]|0);ne=ee<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(te+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(te+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(te+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(te+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;ve=d[n+1310736+(te+5<<2)>>2]|0;if((d[de>>2]|0)>(ve|0))d[de>>2]=ve;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(te+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[K>>2]|0)>0){qe=0;do{be=n+12+(qe<<2)|0;we=qe<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);xe=n+655376+((we|1)<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[be>>2]|0);qe=qe+1|0}while((qe|0)<(d[K>>2]|0));a=0}else a=0}}w=Mt;return a|0}function Kr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){He=0;at=V;st=V+((fe(me,c)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(c|0))break;else{at=at+2|0;st=st+2|0}}}v=c+-1|0;if((i|0)>1){Ge=0;ot=V;lt=V+(v<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{ot=ot+(c<<1)|0;lt=lt+(c<<1)|0}}}D=n+1179664|0;j=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){ne=(v|0)>1;Ye=1;it=e+((t<<2)+4)|0;ct=V+(c+1<<1)|0;bt=0;t:while(1){if(ne){Ve=1;nt=it;ft=ct;_t=bt;while(1){do{if((p[nt>>0]|0|0)>(r|0)){xe=h[ft+(j<<1)>>1]|0;if(xe<<16>>16>0){h[ft>>1]=xe;Me=(xe<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(s<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(l<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ve;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ye;I=n+1310736+(L+-3<<2)|0;if((d[I>>2]|0)<(Ve|0))d[I>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}N=h[ft+-2>>1]|0;if(N<<16>>16>0){h[ft>>1]=N;F=(N<<16>>16)*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Ve;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Ye;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)>=(Ve|0)){xt=_t;break}d[H>>2]=Ve;xt=_t;break}else{G=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=G;d[n+1179664+(_t<<2)>>2]=G<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=G;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=D;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=D;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ve;Ue=n+1310736+(De+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}ze=h[ft+-2>>1]|0;if(ze<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}f=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){h[ft>>1]=m;if((_t|0)>0){et=0;mt=D;while(1){if((d[mt>>2]|0)==(f|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(_t|0)){g=m;break}else mt=mt+4|0}}else g=m}else{h[ft>>1]=f;if((f|0)<(m|0)&(_t|0)>0){tt=0;vt=D;while(1){if((d[vt>>2]|0)==(m|0))d[vt>>2]=f;tt=tt+1|0;if((tt|0)>=(_t|0)){g=f;break}else vt=vt+4|0}}else g=f}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}else{h[ft>>1]=0;xt=_t}}while(0);Ve=Ve+1|0;X=nt+4|0;q=ft+2|0;if((Ve|0)>=(v|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(me|0)){yt=wt;Et=52;break e}else{it=rt+o|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=D;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}K=n+8|0;Q=Je+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Je|0)>1){We=0;do{$=We<<2;d[n+131084+($<<2)>>2]=c;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=u;d[n+131084+(($|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[K>>2]|0))}if((yt|0)>0){Xe=0;do{ee=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;te=Xe*7|0;ie=n+12+(ee<<2)|0;d[ie>>2]=(d[ie>>2]|0)+(d[n+1310736+(te<<2)>>2]|0);re=ee<<1;ae=n+655376+(re<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(te+1<<2)>>2]|0);oe=n+655376+((re|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(te+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(te+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(te+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;ve=d[n+1310736+(te+5<<2)>>2]|0;if((d[de>>2]|0)>(ve|0))d[de>>2]=ve;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(te+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[K>>2]|0)>0){qe=0;do{be=n+12+(qe<<2)|0;we=qe<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);Ee=n+655376+((we|1)<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[be>>2]|0);qe=qe+1|0}while((qe|0)<(d[K>>2]|0));a=0}else a=0}}w=Mt;return a|0}function Qr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;c=(t|0)/2|0;u=(i|0)/2|0;V=d[n>>2]|0;me=u+-1|0;if((t|0)>1){He=0;at=V;st=V+((fe(me,c)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(c|0))break;else{at=at+2|0;st=st+2|0}}}v=c+-1|0;if((i|0)>1){Ge=0;ot=V;lt=V+(v<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{ot=ot+(c<<1)|0;lt=lt+(c<<1)|0}}}D=n+1179664|0;j=0-c|0;s=1-c|0;l=~c;o=(t<<1)+8|0;e:do{if((me|0)>1){ne=(v|0)>1;Ye=1;it=e+((t<<2)+4)|0;ct=V+(c+1<<1)|0;bt=0;t:while(1){if(ne){Ve=1;nt=it;ft=ct;_t=bt;while(1){do{if((p[nt>>0]|0|0)>(r|0)){h[ft>>1]=0;xt=_t}else{xe=h[ft+(j<<1)>>1]|0;if(xe<<16>>16>0){h[ft>>1]=xe;Me=(xe<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(s<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(l<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ve;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ye;I=n+1310736+(L+-3<<2)|0;if((d[I>>2]|0)<(Ve|0))d[I>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}N=h[ft+-2>>1]|0;if(N<<16>>16>0){h[ft>>1]=N;F=(N<<16>>16)*7|0;B=n+1310736+(F+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(F+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Ve;z=n+1310736+(F+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Ye;H=n+1310736+(F+-3<<2)|0;if((d[H>>2]|0)>=(Ve|0)){xt=_t;break}d[H>>2]=Ve;xt=_t;break}else{G=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=G;d[n+1179664+(_t<<2)>>2]=G<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=G;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=D;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=D;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ve;Ue=n+1310736+(De+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}ze=h[ft+-2>>1]|0;if(ze<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}f=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){h[ft>>1]=m;if((_t|0)>0){et=0;mt=D;while(1){if((d[mt>>2]|0)==(f|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(_t|0)){g=m;break}else mt=mt+4|0}}else g=m}else{h[ft>>1]=f;if((f|0)<(m|0)&(_t|0)>0){tt=0;vt=D;while(1){if((d[vt>>2]|0)==(m|0))d[vt>>2]=f;tt=tt+1|0;if((tt|0)>=(_t|0)){g=f;break}else vt=vt+4|0}}else g=f}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}}while(0);Ve=Ve+1|0;X=nt+4|0;q=ft+2|0;if((Ve|0)>=(v|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(me|0)){yt=wt;Et=52;break e}else{it=rt+o|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=D;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}K=n+8|0;Q=Je+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Je|0)>1){We=0;do{$=We<<2;d[n+131084+($<<2)>>2]=c;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=u;d[n+131084+(($|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[K>>2]|0))}if((yt|0)>0){Xe=0;do{ee=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;te=Xe*7|0;ie=n+12+(ee<<2)|0;d[ie>>2]=(d[ie>>2]|0)+(d[n+1310736+(te<<2)>>2]|0);re=ee<<1;ae=n+655376+(re<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(te+1<<2)>>2]|0);oe=n+655376+((re|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(te+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(te+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(te+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;ve=d[n+1310736+(te+5<<2)>>2]|0;if((d[de>>2]|0)>(ve|0))d[de>>2]=ve;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(te+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[K>>2]|0)>0){qe=0;do{be=n+12+(qe<<2)|0;we=qe<<1;_e=n+655376+(we<<3)|0;y[_e>>3]=+y[_e>>3]/+(d[be>>2]|0);Ee=n+655376+((we|1)<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[be>>2]|0);qe=qe+1|0}while((qe|0)<(d[K>>2]|0));a=0}else a=0}}w=Mt;return a|0}function $r(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){He=0;at=j;st=j+((fe(ve,c)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(c|0))break;else{at=at+2|0;st=st+2|0}}}v=c+-1|0;if((i|0)>1){Ge=0;ot=j;lt=j+(v<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{ot=ot+(c<<1)|0;lt=lt+(c<<1)|0}}}F=n+1179664|0;H=0-c|0;s=1-c|0;l=~c;o=t+4|0;e:do{if((ve|0)>1){ie=(v|0)>1;Ye=1;it=e+((t<<1)+2)|0;ct=j+(c+1<<1)|0;bt=0;t:while(1){if(ie){Ve=1;nt=it;ft=ct;_t=bt;while(1){do{if((p[nt>>0]|0|0)>(r|0)){be=h[ft+(H<<1)>>1]|0;if(be<<16>>16>0){h[ft>>1]=be;Me=(be<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(s<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(l<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ve;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ye;I=n+1310736+(L+-3<<2)|0;if((d[I>>2]|0)<(Ve|0))d[I>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}N=h[ft+-2>>1]|0;if(N<<16>>16>0){h[ft>>1]=N;D=(N<<16>>16)*7|0;B=n+1310736+(D+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(D+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Ve;z=n+1310736+(D+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Ye;G=n+1310736+(D+-3<<2)|0;if((d[G>>2]|0)>=(Ve|0)){xt=_t;break}d[G>>2]=Ve;xt=_t;break}else{V=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=V;d[n+1179664+(_t<<2)>>2]=V<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=V;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=F;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=F;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ve;Ue=n+1310736+(De+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}ze=h[ft+-2>>1]|0;if(ze<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}f=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){h[ft>>1]=m;if((_t|0)>0){et=0;mt=F;while(1){if((d[mt>>2]|0)==(f|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(_t|0)){g=m;break}else mt=mt+4|0}}else g=m}else{h[ft>>1]=f;if((f|0)<(m|0)&(_t|0)>0){tt=0;vt=F;while(1){if((d[vt>>2]|0)==(m|0))d[vt>>2]=f;tt=tt+1|0;if((tt|0)>=(_t|0)){g=f;break}else vt=vt+4|0}}else g=f}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}else{h[ft>>1]=0;xt=_t}}while(0);Ve=Ve+1|0;X=nt+2|0;q=ft+2|0;if((Ve|0)>=(v|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(ve|0)){yt=wt;Et=52;break e}else{it=rt+o|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=F;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}K=n+8|0;Q=Je+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Je|0)>1){We=0;do{$=We<<2;d[n+131084+($<<2)>>2]=c;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=u;d[n+131084+(($|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[K>>2]|0))}if((yt|0)>0){Xe=0;do{ee=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;te=Xe*7|0;re=n+12+(ee<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(te<<2)>>2]|0);ne=ee<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(te+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(te+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(te+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(te+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(te+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(te+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[K>>2]|0)>0){qe=0;do{we=n+12+(qe<<2)|0;_e=qe<<1;xe=n+655376+(_e<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[we>>2]|0);Ee=n+655376+((_e|1)<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[we>>2]|0);qe=qe+1|0}while((qe|0)<(d[K>>2]|0));a=0}else a=0}}w=Mt;return a|0}function en(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;Mt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=Mt;c=(t|0)/2|0;u=(i|0)/2|0;j=d[n>>2]|0;ve=u+-1|0;if((t|0)>1){He=0;at=j;st=j+((fe(ve,c)|0)<<1)|0;while(1){h[st>>1]=0;h[at>>1]=0;He=He+1|0;if((He|0)>=(c|0))break;else{at=at+2|0;st=st+2|0}}}v=c+-1|0;if((i|0)>1){Ge=0;ot=j;lt=j+(v<<1)|0;while(1){h[lt>>1]=0;h[ot>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{ot=ot+(c<<1)|0;lt=lt+(c<<1)|0}}}F=n+1179664|0;H=0-c|0;s=1-c|0;l=~c;o=t+4|0;e:do{if((ve|0)>1){ie=(v|0)>1;Ye=1;it=e+((t<<1)+2)|0;ct=j+(c+1<<1)|0;bt=0;t:while(1){if(ie){Ve=1;nt=it;ft=ct;_t=bt;while(1){do{if((p[nt>>0]|0|0)>(r|0)){h[ft>>1]=0;xt=_t}else{be=h[ft+(H<<1)>>1]|0;if(be<<16>>16>0){h[ft>>1]=be;Me=(be<<16>>16)*7|0;Se=n+1310736+(Me+-7<<2)|0;d[Se>>2]=(d[Se>>2]|0)+1;Te=n+1310736+(Me+-6<<2)|0;d[Te>>2]=(d[Te>>2]|0)+Ve;ke=n+1310736+(Me+-5<<2)|0;d[ke>>2]=(d[ke>>2]|0)+Ye;d[n+1310736+(Me+-1<<2)>>2]=Ye;xt=_t;break}Ae=h[ft+(s<<1)>>1]|0;Re=Ae<<16>>16;Le=h[ft+(l<<1)>>1]|0;Pe=Le<<16>>16;Ce=Le<<16>>16>0;if(Ae<<16>>16<=0){if(Ce){h[ft>>1]=Le;L=Pe*7|0;P=n+1310736+(L+-7<<2)|0;d[P>>2]=(d[P>>2]|0)+1;C=n+1310736+(L+-6<<2)|0;d[C>>2]=(d[C>>2]|0)+Ve;O=n+1310736+(L+-5<<2)|0;d[O>>2]=(d[O>>2]|0)+Ye;I=n+1310736+(L+-3<<2)|0;if((d[I>>2]|0)<(Ve|0))d[I>>2]=Ve;d[n+1310736+(L+-1<<2)>>2]=Ye;xt=_t;break}N=h[ft+-2>>1]|0;if(N<<16>>16>0){h[ft>>1]=N;D=(N<<16>>16)*7|0;B=n+1310736+(D+-7<<2)|0;d[B>>2]=(d[B>>2]|0)+1;U=n+1310736+(D+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+Ve;z=n+1310736+(D+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Ye;G=n+1310736+(D+-3<<2)|0;if((d[G>>2]|0)>=(Ve|0)){xt=_t;break}d[G>>2]=Ve;xt=_t;break}else{V=_t+1|0;if((_t|0)>32767)break t;h[ft>>1]=V;d[n+1179664+(_t<<2)>>2]=V<<16>>16;W=_t*7|0;d[n+1310736+(W<<2)>>2]=1;d[n+1310736+(W+1<<2)>>2]=Ve;d[n+1310736+(W+2<<2)>>2]=Ye;d[n+1310736+(W+3<<2)>>2]=Ve;d[n+1310736+(W+4<<2)>>2]=Ve;d[n+1310736+(W+5<<2)>>2]=Ye;d[n+1310736+(W+6<<2)>>2]=Ye;xt=V;break}}if(Ce){Oe=d[n+1179664+(Re+-1<<2)>>2]|0;Ie=d[n+1179664+(Pe+-1<<2)>>2]|0;if((Oe|0)>(Ie|0)){h[ft>>1]=Ie;if((_t|0)>0){Qe=0;dt=F;while(1){if((d[dt>>2]|0)==(Oe|0))d[dt>>2]=Ie;Qe=Qe+1|0;if((Qe|0)>=(_t|0)){Ne=Ie;break}else dt=dt+4|0}}else Ne=Ie}else{h[ft>>1]=Oe;if((Oe|0)<(Ie|0)&(_t|0)>0){$e=0;pt=F;while(1){if((d[pt>>2]|0)==(Ie|0))d[pt>>2]=Oe;$e=$e+1|0;if(($e|0)>=(_t|0)){Ne=Oe;break}else pt=pt+4|0}}else Ne=Oe}De=(Ne<<16>>16)*7|0;Fe=n+1310736+(De+-7<<2)|0;d[Fe>>2]=(d[Fe>>2]|0)+1;Be=n+1310736+(De+-6<<2)|0;d[Be>>2]=(d[Be>>2]|0)+Ve;Ue=n+1310736+(De+-5<<2)|0;d[Ue>>2]=(d[Ue>>2]|0)+Ye;d[n+1310736+(De+-1<<2)>>2]=Ye;xt=_t;break}ze=h[ft+-2>>1]|0;if(ze<<16>>16<=0){h[ft>>1]=Ae;S=Re*7|0;T=n+1310736+(S+-7<<2)|0;d[T>>2]=(d[T>>2]|0)+1;k=n+1310736+(S+-6<<2)|0;d[k>>2]=(d[k>>2]|0)+Ve;A=n+1310736+(S+-5<<2)|0;d[A>>2]=(d[A>>2]|0)+Ye;R=n+1310736+(S+-4<<2)|0;if((d[R>>2]|0)>(Ve|0))d[R>>2]=Ve;d[n+1310736+(S+-1<<2)>>2]=Ye;xt=_t;break}f=d[n+1179664+(Re+-1<<2)>>2]|0;m=d[n+1179664+((ze<<16>>16)+-1<<2)>>2]|0;if((f|0)>(m|0)){h[ft>>1]=m;if((_t|0)>0){et=0;mt=F;while(1){if((d[mt>>2]|0)==(f|0))d[mt>>2]=m;et=et+1|0;if((et|0)>=(_t|0)){g=m;break}else mt=mt+4|0}}else g=m}else{h[ft>>1]=f;if((f|0)<(m|0)&(_t|0)>0){tt=0;vt=F;while(1){if((d[vt>>2]|0)==(m|0))d[vt>>2]=f;tt=tt+1|0;if((tt|0)>=(_t|0)){g=f;break}else vt=vt+4|0}}else g=f}b=(g<<16>>16)*7|0;x=n+1310736+(b+-7<<2)|0;d[x>>2]=(d[x>>2]|0)+1;E=n+1310736+(b+-6<<2)|0;d[E>>2]=(d[E>>2]|0)+Ve;M=n+1310736+(b+-5<<2)|0;d[M>>2]=(d[M>>2]|0)+Ye;xt=_t}}while(0);Ve=Ve+1|0;X=nt+2|0;q=ft+2|0;if((Ve|0)>=(v|0)){rt=X;ut=q;wt=xt;break}else{nt=X;ft=q;_t=xt}}}else{rt=it;ut=ct;wt=bt}Ye=Ye+1|0;if((Ye|0)>=(ve|0)){yt=wt;Et=52;break e}else{it=rt+o|0;ct=ut+4|0;bt=wt}}Ha(3,3904,ht);a=-1}else{yt=0;Et=52}}while(0);if((Et|0)==52){Y=n+12|0;if((yt|0)<1)Je=1;else{je=1;Ze=1;gt=F;while(1){J=d[gt>>2]|0;if((J|0)==(je|0)){Z=Ze;Ke=Ze+1|0}else{Z=d[n+1179664+(J+-1<<2)>>2]|0;Ke=Ze}d[gt>>2]=Z;if((je|0)<(yt|0)){je=je+1|0;Ze=Ke;gt=gt+4|0}else{Je=Ke;break}}}K=n+8|0;Q=Je+-1|0;d[K>>2]=Q;if(!Q)a=0;else{ul(Y|0,0,Q<<2|0)|0;ul(n+655376|0,0,Q<<4|0)|0;if((Je|0)>1){We=0;do{$=We<<2;d[n+131084+($<<2)>>2]=c;d[n+131084+(($|1)<<2)>>2]=0;d[n+131084+(($|2)<<2)>>2]=u;d[n+131084+(($|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(d[K>>2]|0))}if((yt|0)>0){Xe=0;do{ee=(d[n+1179664+(Xe<<2)>>2]|0)+-1|0;te=Xe*7|0;re=n+12+(ee<<2)|0;d[re>>2]=(d[re>>2]|0)+(d[n+1310736+(te<<2)>>2]|0);ne=ee<<1;ae=n+655376+(ne<<3)|0;y[ae>>3]=+y[ae>>3]+ +(d[n+1310736+(te+1<<2)>>2]|0);oe=n+655376+((ne|1)<<3)|0;y[oe>>3]=+y[oe>>3]+ +(d[n+1310736+(te+2<<2)>>2]|0);se=ee<<2;le=n+131084+(se<<2)|0;ce=d[n+1310736+(te+3<<2)>>2]|0;if((d[le>>2]|0)>(ce|0))d[le>>2]=ce;ue=n+131084+((se|1)<<2)|0;he=d[n+1310736+(te+4<<2)>>2]|0;if((d[ue>>2]|0)<(he|0))d[ue>>2]=he;de=n+131084+((se|2)<<2)|0;me=d[n+1310736+(te+5<<2)>>2]|0;if((d[de>>2]|0)>(me|0))d[de>>2]=me;ge=n+131084+((se|3)<<2)|0;ye=d[n+1310736+(te+6<<2)>>2]|0;if((d[ge>>2]|0)<(ye|0))d[ge>>2]=ye;Xe=Xe+1|0}while((Xe|0)<(yt|0))}if((d[K>>2]|0)>0){qe=0;do{we=n+12+(qe<<2)|0;_e=qe<<1;xe=n+655376+(_e<<3)|0;y[xe>>3]=+y[xe>>3]/+(d[we>>2]|0);Ee=n+655376+((_e|1)<<3)|0;y[Ee>>3]=+y[Ee>>3]/+(d[we>>2]|0);qe=qe+1|0}while((qe|0)<(d[K>>2]|0));a=0}else a=0}}w=Mt;return a|0}function tn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0;xt=w;w=w+16|0;if((w|0)>=(_|0))pe();ut=xt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ue=0;rt=l;at=l+((fe(c,t)|0)<<1)|0;while(1){h[at>>1]=0;h[rt>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(t|0))break;else{rt=rt+2|0;at=at+2|0}}}Fe=t+-1|0;if((i|0)>0){ze=0;nt=l;ot=l+(Fe<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{nt=nt+(t<<1)|0;ot=ot+(t<<1)|0}}}L=n+1179664|0;I=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){J=(Fe|0)>1;Xe=1;et=e+(I<<1)|0;st=l+(I<<1)|0;gt=0;t:while(1){if(J){He=1;it=et;ct=st;bt=gt;while(1){do{if((p[it+1>>0]|0|0)>(r|0)){ce=h[ct+(B<<1)>>1]|0;if(ce<<16>>16>0){h[ct>>1]=ce;_e=(ce<<16>>16)*7|0;xe=n+1310736+(_e+-7<<2)|0;d[xe>>2]=(d[xe>>2]|0)+1;Ee=n+1310736+(_e+-6<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+He;Me=n+1310736+(_e+-5<<2)|0;d[Me>>2]=(d[Me>>2]|0)+Xe;d[n+1310736+(_e+-1<<2)>>2]=Xe;wt=bt;break}Se=h[ct+(o<<1)>>1]|0;Te=Se<<16>>16;ke=h[ct+(s<<1)>>1]|0;Ae=ke<<16>>16;Re=ke<<16>>16>0;if(Se<<16>>16<=0){if(Re){h[ct>>1]=ke;A=Ae*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;P=n+1310736+(A+-6<<2)|0;d[P>>2]=(d[P>>2]|0)+He;C=n+1310736+(A+-5<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(A+-3<<2)|0;if((d[O>>2]|0)<(He|0))d[O>>2]=He;d[n+1310736+(A+-1<<2)>>2]=Xe;wt=bt;break}N=h[ct+-2>>1]|0;if(N<<16>>16>0){h[ct>>1]=N;D=(N<<16>>16)*7|0;F=n+1310736+(D+-7<<2)|0;d[F>>2]=(d[F>>2]|0)+1;U=n+1310736+(D+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+He;z=n+1310736+(D+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(D+-3<<2)|0;if((d[H>>2]|0)>=(He|0)){wt=bt;break}d[H>>2]=He;wt=bt;break}else{G=bt+1|0;if((bt|0)>32767)break t;h[ct>>1]=G;d[n+1179664+(bt<<2)>>2]=G<<16>>16;V=bt*7|0;d[n+1310736+(V<<2)>>2]=1;d[n+1310736+(V+1<<2)>>2]=He;d[n+1310736+(V+2<<2)>>2]=Xe;d[n+1310736+(V+3<<2)>>2]=He;d[n+1310736+(V+4<<2)>>2]=He;d[n+1310736+(V+5<<2)>>2]=Xe;d[n+1310736+(V+6<<2)>>2]=Xe;wt=G;break}}if(Re){Le=d[n+1179664+(Te+-1<<2)>>2]|0;Pe=d[n+1179664+(Ae+-1<<2)>>2]|0;if((Le|0)>(Pe|0)){h[ct>>1]=Pe;if((bt|0)>0){Ze=0;ft=L;while(1){if((d[ft>>2]|0)==(Le|0))d[ft>>2]=Pe;Ze=Ze+1|0;if((Ze|0)>=(bt|0)){Ce=Pe;break}else ft=ft+4|0}}else Ce=Pe}else{h[ct>>1]=Le;if((Le|0)<(Pe|0)&(bt|0)>0){Ke=0;ht=L;while(1){if((d[ht>>2]|0)==(Pe|0))d[ht>>2]=Le;Ke=Ke+1|0;if((Ke|0)>=(bt|0)){Ce=Le;break}else ht=ht+4|0}}else Ce=Le}Oe=(Ce<<16>>16)*7|0;Ie=n+1310736+(Oe+-7<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+1;Ne=n+1310736+(Oe+-6<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+He;De=n+1310736+(Oe+-5<<2)|0;d[De>>2]=(d[De>>2]|0)+Xe;d[n+1310736+(Oe+-1<<2)>>2]=Xe;wt=bt;break}Be=h[ct+-2>>1]|0;if(Be<<16>>16<=0){h[ct>>1]=Se;E=Te*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+He;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(E+-4<<2)|0;if((d[k>>2]|0)>(He|0))d[k>>2]=He;d[n+1310736+(E+-1<<2)>>2]=Xe;wt=bt;break}u=d[n+1179664+(Te+-1<<2)>>2]|0;f=d[n+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((u|0)>(f|0)){h[ct>>1]=f;if((bt|0)>0){Qe=0;dt=L;while(1){if((d[dt>>2]|0)==(u|0))d[dt>>2]=f;Qe=Qe+1|0;if((Qe|0)>=(bt|0)){m=f;break}else dt=dt+4|0}}else m=f}else{h[ct>>1]=u;if((u|0)<(f|0)&(bt|0)>0){$e=0;pt=L;while(1){if((d[pt>>2]|0)==(f|0))d[pt>>2]=u;$e=$e+1|0;if(($e|0)>=(bt|0)){m=u;break}else pt=pt+4|0}}else m=u}v=(m<<16>>16)*7|0;g=n+1310736+(v+-7<<2)|0;d[g>>2]=(d[g>>2]|0)+1;b=n+1310736+(v+-6<<2)|0;d[b>>2]=(d[b>>2]|0)+He;x=n+1310736+(v+-5<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;wt=bt}else{h[ct>>1]=0;wt=bt}}while(0);He=He+1|0;j=it+2|0;W=ct+2|0;if((He|0)>=(Fe|0)){tt=j;lt=W;yt=wt;break}else{it=j;ct=W;bt=wt}}}else{tt=et;lt=st;yt=gt}Xe=Xe+1|0;if((Xe|0)>=(c|0)){vt=yt;_t=52;break e}else{et=tt+4|0;st=lt+4|0;gt=yt}}Ha(3,3904,ut);a=-1}else{vt=0;_t=52}}while(0);if((_t|0)==52){X=n+12|0;if((vt|0)<1)qe=1;else{Ge=1;Ye=1;mt=L;while(1){q=d[mt>>2]|0;if((q|0)==(Ge|0)){Y=Ye;Je=Ye+1|0}else{Y=d[n+1179664+(q+-1<<2)>>2]|0;Je=Ye}d[mt>>2]=Y;if((Ge|0)<(vt|0)){Ge=Ge+1|0;Ye=Je;mt=mt+4|0}else{qe=Je;break}}}Z=n+8|0;K=qe+-1|0;d[Z>>2]=K;if(!K)a=0;else{ul(X|0,0,K<<2|0)|0;ul(n+655376|0,0,K<<4|0)|0;if((qe|0)>1){Ve=0;do{Q=Ve<<2;d[n+131084+(Q<<2)>>2]=t;d[n+131084+((Q|1)<<2)>>2]=0;d[n+131084+((Q|2)<<2)>>2]=i;d[n+131084+((Q|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(d[Z>>2]|0))}if((vt|0)>0){je=0;do{$=(d[n+1179664+(je<<2)>>2]|0)+-1|0;ee=je*7|0;te=n+12+($<<2)|0;d[te>>2]=(d[te>>2]|0)+(d[n+1310736+(ee<<2)>>2]|0);ie=$<<1;re=n+655376+(ie<<3)|0;y[re>>3]=+y[re>>3]+ +(d[n+1310736+(ee+1<<2)>>2]|0);ne=n+655376+((ie|1)<<3)|0;y[ne>>3]=+y[ne>>3]+ +(d[n+1310736+(ee+2<<2)>>2]|0);ae=$<<2;oe=n+131084+(ae<<2)|0;se=d[n+1310736+(ee+3<<2)>>2]|0;if((d[oe>>2]|0)>(se|0))d[oe>>2]=se;le=n+131084+((ae|1)<<2)|0;ue=d[n+1310736+(ee+4<<2)>>2]|0;if((d[le>>2]|0)<(ue|0))d[le>>2]=ue;he=n+131084+((ae|2)<<2)|0;de=d[n+1310736+(ee+5<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ae|3)<<2)|0;ve=d[n+1310736+(ee+6<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;je=je+1|0}while((je|0)<(vt|0))}if((d[Z>>2]|0)>0){We=0;do{ge=n+12+(We<<2)|0;ye=We<<1;be=n+655376+(ye<<3)|0;y[be>>3]=+y[be>>3]/+(d[ge>>2]|0);we=n+655376+((ye|1)<<3)|0;y[we>>3]=+y[we>>3]/+(d[ge>>2]|0);We=We+1|0}while((We|0)<(d[Z>>2]|0));a=0}else a=0}}w=xt;return a|0}function rn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0;xt=w;w=w+16|0;if((w|0)>=(_|0))pe();ut=xt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ue=0;rt=l;at=l+((fe(c,t)|0)<<1)|0;while(1){h[at>>1]=0;h[rt>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(t|0))break;else{rt=rt+2|0;at=at+2|0}}}Fe=t+-1|0;if((i|0)>0){ze=0;nt=l;ot=l+(Fe<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{nt=nt+(t<<1)|0;ot=ot+(t<<1)|0}}}L=n+1179664|0;I=t+1|0;B=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){J=(Fe|0)>1;Xe=1;et=e+(I<<1)|0;st=l+(I<<1)|0;gt=0;t:while(1){if(J){He=1;it=et;ct=st;bt=gt;while(1){do{if((p[it+1>>0]|0|0)>(r|0)){h[ct>>1]=0;wt=bt}else{ce=h[ct+(B<<1)>>1]|0;if(ce<<16>>16>0){h[ct>>1]=ce;_e=(ce<<16>>16)*7|0;xe=n+1310736+(_e+-7<<2)|0;d[xe>>2]=(d[xe>>2]|0)+1;Ee=n+1310736+(_e+-6<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+He;Me=n+1310736+(_e+-5<<2)|0;d[Me>>2]=(d[Me>>2]|0)+Xe;d[n+1310736+(_e+-1<<2)>>2]=Xe;wt=bt;break}Se=h[ct+(o<<1)>>1]|0;Te=Se<<16>>16;ke=h[ct+(s<<1)>>1]|0;Ae=ke<<16>>16;Re=ke<<16>>16>0;if(Se<<16>>16<=0){if(Re){h[ct>>1]=ke;A=Ae*7|0;R=n+1310736+(A+-7<<2)|0;d[R>>2]=(d[R>>2]|0)+1;P=n+1310736+(A+-6<<2)|0;d[P>>2]=(d[P>>2]|0)+He;C=n+1310736+(A+-5<<2)|0;d[C>>2]=(d[C>>2]|0)+Xe;O=n+1310736+(A+-3<<2)|0;if((d[O>>2]|0)<(He|0))d[O>>2]=He;d[n+1310736+(A+-1<<2)>>2]=Xe;wt=bt;break}N=h[ct+-2>>1]|0;if(N<<16>>16>0){h[ct>>1]=N;D=(N<<16>>16)*7|0;F=n+1310736+(D+-7<<2)|0;d[F>>2]=(d[F>>2]|0)+1;U=n+1310736+(D+-6<<2)|0;d[U>>2]=(d[U>>2]|0)+He;z=n+1310736+(D+-5<<2)|0;d[z>>2]=(d[z>>2]|0)+Xe;H=n+1310736+(D+-3<<2)|0;if((d[H>>2]|0)>=(He|0)){wt=bt;break}d[H>>2]=He;wt=bt;break}else{G=bt+1|0;if((bt|0)>32767)break t;h[ct>>1]=G;d[n+1179664+(bt<<2)>>2]=G<<16>>16;V=bt*7|0;d[n+1310736+(V<<2)>>2]=1;d[n+1310736+(V+1<<2)>>2]=He;d[n+1310736+(V+2<<2)>>2]=Xe;d[n+1310736+(V+3<<2)>>2]=He;d[n+1310736+(V+4<<2)>>2]=He;d[n+1310736+(V+5<<2)>>2]=Xe;d[n+1310736+(V+6<<2)>>2]=Xe;wt=G;break}}if(Re){Le=d[n+1179664+(Te+-1<<2)>>2]|0;Pe=d[n+1179664+(Ae+-1<<2)>>2]|0;if((Le|0)>(Pe|0)){h[ct>>1]=Pe;if((bt|0)>0){Ze=0;ft=L;while(1){if((d[ft>>2]|0)==(Le|0))d[ft>>2]=Pe;Ze=Ze+1|0;if((Ze|0)>=(bt|0)){Ce=Pe;break}else ft=ft+4|0}}else Ce=Pe}else{h[ct>>1]=Le;if((Le|0)<(Pe|0)&(bt|0)>0){Ke=0;ht=L;while(1){if((d[ht>>2]|0)==(Pe|0))d[ht>>2]=Le;Ke=Ke+1|0;if((Ke|0)>=(bt|0)){Ce=Le;break}else ht=ht+4|0}}else Ce=Le}Oe=(Ce<<16>>16)*7|0;Ie=n+1310736+(Oe+-7<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+1;Ne=n+1310736+(Oe+-6<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+He;De=n+1310736+(Oe+-5<<2)|0;d[De>>2]=(d[De>>2]|0)+Xe;d[n+1310736+(Oe+-1<<2)>>2]=Xe;wt=bt;break}Be=h[ct+-2>>1]|0;if(Be<<16>>16<=0){h[ct>>1]=Se;E=Te*7|0;M=n+1310736+(E+-7<<2)|0;d[M>>2]=(d[M>>2]|0)+1;S=n+1310736+(E+-6<<2)|0;d[S>>2]=(d[S>>2]|0)+He;T=n+1310736+(E+-5<<2)|0;d[T>>2]=(d[T>>2]|0)+Xe;k=n+1310736+(E+-4<<2)|0;if((d[k>>2]|0)>(He|0))d[k>>2]=He;d[n+1310736+(E+-1<<2)>>2]=Xe;wt=bt;break}u=d[n+1179664+(Te+-1<<2)>>2]|0;f=d[n+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((u|0)>(f|0)){h[ct>>1]=f;if((bt|0)>0){Qe=0;dt=L;while(1){if((d[dt>>2]|0)==(u|0))d[dt>>2]=f;Qe=Qe+1|0;if((Qe|0)>=(bt|0)){m=f;break}else dt=dt+4|0}}else m=f}else{h[ct>>1]=u;if((u|0)<(f|0)&(bt|0)>0){$e=0;pt=L;while(1){if((d[pt>>2]|0)==(f|0))d[pt>>2]=u;$e=$e+1|0;if(($e|0)>=(bt|0)){m=u;break}else pt=pt+4|0}}else m=u}v=(m<<16>>16)*7|0;g=n+1310736+(v+-7<<2)|0;d[g>>2]=(d[g>>2]|0)+1;b=n+1310736+(v+-6<<2)|0;d[b>>2]=(d[b>>2]|0)+He;x=n+1310736+(v+-5<<2)|0;d[x>>2]=(d[x>>2]|0)+Xe;wt=bt}}while(0);He=He+1|0;j=it+2|0;W=ct+2|0;if((He|0)>=(Fe|0)){tt=j;lt=W;yt=wt;break}else{it=j;ct=W;bt=wt}}}else{tt=et;lt=st;yt=gt}Xe=Xe+1|0;if((Xe|0)>=(c|0)){vt=yt;_t=52;break e}else{et=tt+4|0;st=lt+4|0;gt=yt}}Ha(3,3904,ut);a=-1}else{vt=0;_t=52}}while(0);if((_t|0)==52){X=n+12|0;if((vt|0)<1)qe=1;else{Ge=1;Ye=1;mt=L;while(1){q=d[mt>>2]|0;if((q|0)==(Ge|0)){Y=Ye;Je=Ye+1|0}else{Y=d[n+1179664+(q+-1<<2)>>2]|0;Je=Ye}d[mt>>2]=Y;if((Ge|0)<(vt|0)){Ge=Ge+1|0;Ye=Je;mt=mt+4|0}else{qe=Je;break}}}Z=n+8|0;K=qe+-1|0;d[Z>>2]=K;if(!K)a=0;else{ul(X|0,0,K<<2|0)|0;ul(n+655376|0,0,K<<4|0)|0;if((qe|0)>1){Ve=0;do{Q=Ve<<2;d[n+131084+(Q<<2)>>2]=t;d[n+131084+((Q|1)<<2)>>2]=0;d[n+131084+((Q|2)<<2)>>2]=i;d[n+131084+((Q|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(d[Z>>2]|0))}if((vt|0)>0){je=0;do{$=(d[n+1179664+(je<<2)>>2]|0)+-1|0;ee=je*7|0;te=n+12+($<<2)|0;d[te>>2]=(d[te>>2]|0)+(d[n+1310736+(ee<<2)>>2]|0);ie=$<<1;re=n+655376+(ie<<3)|0;y[re>>3]=+y[re>>3]+ +(d[n+1310736+(ee+1<<2)>>2]|0);ne=n+655376+((ie|1)<<3)|0;y[ne>>3]=+y[ne>>3]+ +(d[n+1310736+(ee+2<<2)>>2]|0);ae=$<<2;oe=n+131084+(ae<<2)|0;se=d[n+1310736+(ee+3<<2)>>2]|0;if((d[oe>>2]|0)>(se|0))d[oe>>2]=se;le=n+131084+((ae|1)<<2)|0;ue=d[n+1310736+(ee+4<<2)>>2]|0;if((d[le>>2]|0)<(ue|0))d[le>>2]=ue;he=n+131084+((ae|2)<<2)|0;de=d[n+1310736+(ee+5<<2)>>2]|0;if((d[he>>2]|0)>(de|0))d[he>>2]=de;me=n+131084+((ae|3)<<2)|0;ve=d[n+1310736+(ee+6<<2)>>2]|0;if((d[me>>2]|0)<(ve|0))d[me>>2]=ve;je=je+1|0}while((je|0)<(vt|0))}if((d[Z>>2]|0)>0){We=0;do{ge=n+12+(We<<2)|0;ye=We<<1;be=n+655376+(ye<<3)|0;y[be>>3]=+y[be>>3]/+(d[ge>>2]|0);we=n+655376+((ye|1)<<3)|0;y[we>>3]=+y[we>>3]/+(d[ge>>2]|0);We=We+1|0}while((We|0)<(d[Z>>2]|0));a=0}else a=0}}w=xt;return a|0}function nn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0;xt=w;w=w+16|0;if((w|0)>=(_|0))pe();ut=xt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ue=0;rt=l;at=l+((fe(c,t)|0)<<1)|0;while(1){h[at>>1]=0;h[rt>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(t|0))break;else{rt=rt+2|0;at=at+2|0}}}De=t+-1|0;if((i|0)>0){ze=0;nt=l;ot=l+(De<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{nt=nt+(t<<1)|0;ot=ot+(t<<1)|0}}}L=n+1179664|0;O=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){Y=(De|0)>1;Xe=1;et=e+(O<<1)|0;st=l+(O<<1)|0;gt=0;t:while(1){if(Y){He=1;it=et;ct=st;bt=gt;while(1){do{if((p[it>>0]|0|0)>(r|0)){oe=h[ct+(F<<1)>>1]|0;if(oe<<16>>16>0){h[ct>>1]=oe;ge=(oe<<16>>16)*7|0;_e=n+1310736+(ge+-7<<2)|0;d[_e>>2]=(d[_e>>2]|0)+1;xe=n+1310736+(ge+-6<<2)|0;d[xe>>2]=(d[xe>>2]|0)+He;Ee=n+1310736+(ge+-5<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+Xe;d[n+1310736+(ge+-1<<2)>>2]=Xe;wt=bt;break}Me=h[ct+(o<<1)>>1]|0;Se=Me<<16>>16;Te=h[ct+(s<<1)>>1]|0;ke=Te<<16>>16;Ae=Te<<16>>16>0;if(Me<<16>>16<=0){if(Ae){h[ct>>1]=Te;k=ke*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+He;P=n+1310736+(k+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(k+-3<<2)|0;if((d[C>>2]|0)<(He|0))d[C>>2]=He;d[n+1310736+(k+-1<<2)>>2]=Xe;wt=bt;break}I=h[ct+-2>>1]|0;if(I<<16>>16>0){h[ct>>1]=I;N=(I<<16>>16)*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;B=n+1310736+(N+-6<<2)|0;d[B>>2]=(d[B>>2]|0)+He;U=n+1310736+(N+-5<<2)|0;d[U>>2]=(d[U>>2]|0)+Xe;z=n+1310736+(N+-3<<2)|0;if((d[z>>2]|0)>=(He|0)){wt=bt;break}d[z>>2]=He;wt=bt;break}else{H=bt+1|0;if((bt|0)>32767)break t;h[ct>>1]=H;d[n+1179664+(bt<<2)>>2]=H<<16>>16;G=bt*7|0;d[n+1310736+(G<<2)>>2]=1;d[n+1310736+(G+1<<2)>>2]=He;d[n+1310736+(G+2<<2)>>2]=Xe;d[n+1310736+(G+3<<2)>>2]=He;d[n+1310736+(G+4<<2)>>2]=He;d[n+1310736+(G+5<<2)>>2]=Xe;d[n+1310736+(G+6<<2)>>2]=Xe;wt=H;break}}if(Ae){Re=d[n+1179664+(Se+-1<<2)>>2]|0;Le=d[n+1179664+(ke+-1<<2)>>2]|0;if((Re|0)>(Le|0)){h[ct>>1]=Le;if((bt|0)>0){Ze=0;ft=L;while(1){if((d[ft>>2]|0)==(Re|0))d[ft>>2]=Le;Ze=Ze+1|0;if((Ze|0)>=(bt|0)){Pe=Le;break}else ft=ft+4|0}}else Pe=Le}else{h[ct>>1]=Re;if((Re|0)<(Le|0)&(bt|0)>0){Ke=0;ht=L;while(1){if((d[ht>>2]|0)==(Le|0))d[ht>>2]=Re;Ke=Ke+1|0;if((Ke|0)>=(bt|0)){Pe=Re;break}else ht=ht+4|0}}else Pe=Re}Ce=(Pe<<16>>16)*7|0;Oe=n+1310736+(Ce+-7<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+1;Ie=n+1310736+(Ce+-6<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+He;Ne=n+1310736+(Ce+-5<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+Xe;d[n+1310736+(Ce+-1<<2)>>2]=Xe;wt=bt;break}Fe=h[ct+-2>>1]|0;if(Fe<<16>>16<=0){h[ct>>1]=Me;x=Se*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+He;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Xe;T=n+1310736+(x+-4<<2)|0;if((d[T>>2]|0)>(He|0))d[T>>2]=He;d[n+1310736+(x+-1<<2)>>2]=Xe;wt=bt;break}Be=d[n+1179664+(Se+-1<<2)>>2]|0;u=d[n+1179664+((Fe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){h[ct>>1]=u;if((bt|0)>0){Qe=0;dt=L;while(1){if((d[dt>>2]|0)==(Be|0))d[dt>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(bt|0)){f=u;break}else dt=dt+4|0}}else f=u}else{h[ct>>1]=Be;if((Be|0)<(u|0)&(bt|0)>0){$e=0;pt=L;while(1){if((d[pt>>2]|0)==(u|0))d[pt>>2]=Be;$e=$e+1|0;if(($e|0)>=(bt|0)){f=Be;break}else pt=pt+4|0}}else f=Be}m=(f<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+He;b=n+1310736+(m+-5<<2)|0;d[b>>2]=(d[b>>2]|0)+Xe;wt=bt}else{h[ct>>1]=0;wt=bt}}while(0);He=He+1|0;V=it+2|0;j=ct+2|0;if((He|0)>=(De|0)){tt=V;lt=j;yt=wt;break}else{it=V;ct=j;bt=wt}}}else{tt=et;lt=st;yt=gt}Xe=Xe+1|0;if((Xe|0)>=(c|0)){vt=yt;_t=52;break e}else{et=tt+4|0;st=lt+4|0;gt=yt}}Ha(3,3904,ut);a=-1}else{vt=0;_t=52}}while(0);if((_t|0)==52){W=n+12|0;if((vt|0)<1)qe=1;else{Ge=1;Ye=1;mt=L;while(1){X=d[mt>>2]|0;if((X|0)==(Ge|0)){q=Ye;Je=Ye+1|0}else{q=d[n+1179664+(X+-1<<2)>>2]|0;Je=Ye}d[mt>>2]=q;if((Ge|0)<(vt|0)){Ge=Ge+1|0;Ye=Je;mt=mt+4|0}else{qe=Je;break}}}J=n+8|0;Z=qe+-1|0;d[J>>2]=Z;if(!Z)a=0;else{ul(W|0,0,Z<<2|0)|0;ul(n+655376|0,0,Z<<4|0)|0;if((qe|0)>1){Ve=0;do{K=Ve<<2;d[n+131084+(K<<2)>>2]=t;d[n+131084+((K|1)<<2)>>2]=0;d[n+131084+((K|2)<<2)>>2]=i;d[n+131084+((K|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(d[J>>2]|0))}if((vt|0)>0){je=0;do{Q=(d[n+1179664+(je<<2)>>2]|0)+-1|0;$=je*7|0;ee=n+12+(Q<<2)|0;d[ee>>2]=(d[ee>>2]|0)+(d[n+1310736+($<<2)>>2]|0);te=Q<<1;ie=n+655376+(te<<3)|0;y[ie>>3]=+y[ie>>3]+ +(d[n+1310736+($+1<<2)>>2]|0);re=n+655376+((te|1)<<3)|0;y[re>>3]=+y[re>>3]+ +(d[n+1310736+($+2<<2)>>2]|0);ne=Q<<2;ae=n+131084+(ne<<2)|0;se=d[n+1310736+($+3<<2)>>2]|0;if((d[ae>>2]|0)>(se|0))d[ae>>2]=se;le=n+131084+((ne|1)<<2)|0;ce=d[n+1310736+($+4<<2)>>2]|0;if((d[le>>2]|0)<(ce|0))d[le>>2]=ce;ue=n+131084+((ne|2)<<2)|0;he=d[n+1310736+($+5<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ne|3)<<2)|0;me=d[n+1310736+($+6<<2)>>2]|0;if((d[de>>2]|0)<(me|0))d[de>>2]=me;je=je+1|0}while((je|0)<(vt|0))}if((d[J>>2]|0)>0){We=0;do{ve=n+12+(We<<2)|0;ye=We<<1;be=n+655376+(ye<<3)|0;y[be>>3]=+y[be>>3]/+(d[ve>>2]|0);we=n+655376+((ye|1)<<3)|0;y[we>>3]=+y[we>>3]/+(d[ve>>2]|0);We=We+1|0}while((We|0)<(d[J>>2]|0));a=0}else a=0}}w=xt;return a|0}function an(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0;xt=w;w=w+16|0;if((w|0)>=(_|0))pe();ut=xt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ue=0;rt=l;at=l+((fe(c,t)|0)<<1)|0;while(1){h[at>>1]=0;h[rt>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(t|0))break;else{rt=rt+2|0;at=at+2|0}}}De=t+-1|0;if((i|0)>0){ze=0;nt=l;ot=l+(De<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{nt=nt+(t<<1)|0;ot=ot+(t<<1)|0}}}L=n+1179664|0;O=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){Y=(De|0)>1;Xe=1;et=e+(O<<1)|0;st=l+(O<<1)|0;gt=0;t:while(1){if(Y){He=1;it=et;ct=st;bt=gt;while(1){do{if((p[it>>0]|0|0)>(r|0)){h[ct>>1]=0;wt=bt}else{oe=h[ct+(F<<1)>>1]|0;if(oe<<16>>16>0){h[ct>>1]=oe;ge=(oe<<16>>16)*7|0;_e=n+1310736+(ge+-7<<2)|0;d[_e>>2]=(d[_e>>2]|0)+1;xe=n+1310736+(ge+-6<<2)|0;d[xe>>2]=(d[xe>>2]|0)+He;Ee=n+1310736+(ge+-5<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+Xe;d[n+1310736+(ge+-1<<2)>>2]=Xe;wt=bt;break}Me=h[ct+(o<<1)>>1]|0;Se=Me<<16>>16;Te=h[ct+(s<<1)>>1]|0;ke=Te<<16>>16;Ae=Te<<16>>16>0;if(Me<<16>>16<=0){if(Ae){h[ct>>1]=Te;k=ke*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+He;P=n+1310736+(k+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(k+-3<<2)|0;if((d[C>>2]|0)<(He|0))d[C>>2]=He;d[n+1310736+(k+-1<<2)>>2]=Xe;wt=bt;break}I=h[ct+-2>>1]|0;if(I<<16>>16>0){h[ct>>1]=I;N=(I<<16>>16)*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;B=n+1310736+(N+-6<<2)|0;d[B>>2]=(d[B>>2]|0)+He;U=n+1310736+(N+-5<<2)|0;d[U>>2]=(d[U>>2]|0)+Xe;z=n+1310736+(N+-3<<2)|0;if((d[z>>2]|0)>=(He|0)){wt=bt;break}d[z>>2]=He;wt=bt;break}else{H=bt+1|0;if((bt|0)>32767)break t;h[ct>>1]=H;d[n+1179664+(bt<<2)>>2]=H<<16>>16;G=bt*7|0;d[n+1310736+(G<<2)>>2]=1;d[n+1310736+(G+1<<2)>>2]=He;d[n+1310736+(G+2<<2)>>2]=Xe;d[n+1310736+(G+3<<2)>>2]=He;d[n+1310736+(G+4<<2)>>2]=He;d[n+1310736+(G+5<<2)>>2]=Xe;d[n+1310736+(G+6<<2)>>2]=Xe;wt=H;break}}if(Ae){Re=d[n+1179664+(Se+-1<<2)>>2]|0;Le=d[n+1179664+(ke+-1<<2)>>2]|0;if((Re|0)>(Le|0)){h[ct>>1]=Le;if((bt|0)>0){Ze=0;ft=L;while(1){if((d[ft>>2]|0)==(Re|0))d[ft>>2]=Le;Ze=Ze+1|0;if((Ze|0)>=(bt|0)){Pe=Le;break}else ft=ft+4|0}}else Pe=Le}else{h[ct>>1]=Re;if((Re|0)<(Le|0)&(bt|0)>0){Ke=0;ht=L;while(1){if((d[ht>>2]|0)==(Le|0))d[ht>>2]=Re;Ke=Ke+1|0;if((Ke|0)>=(bt|0)){Pe=Re;break}else ht=ht+4|0}}else Pe=Re}Ce=(Pe<<16>>16)*7|0;Oe=n+1310736+(Ce+-7<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+1;Ie=n+1310736+(Ce+-6<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+He;Ne=n+1310736+(Ce+-5<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+Xe;d[n+1310736+(Ce+-1<<2)>>2]=Xe;wt=bt;break}Fe=h[ct+-2>>1]|0;if(Fe<<16>>16<=0){h[ct>>1]=Me;x=Se*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+He;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Xe;T=n+1310736+(x+-4<<2)|0;if((d[T>>2]|0)>(He|0))d[T>>2]=He;d[n+1310736+(x+-1<<2)>>2]=Xe;wt=bt;break}Be=d[n+1179664+(Se+-1<<2)>>2]|0;u=d[n+1179664+((Fe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){h[ct>>1]=u;if((bt|0)>0){Qe=0;dt=L;while(1){if((d[dt>>2]|0)==(Be|0))d[dt>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(bt|0)){f=u;break}else dt=dt+4|0}}else f=u}else{h[ct>>1]=Be;if((Be|0)<(u|0)&(bt|0)>0){$e=0;pt=L;while(1){if((d[pt>>2]|0)==(u|0))d[pt>>2]=Be;$e=$e+1|0;if(($e|0)>=(bt|0)){f=Be;break}else pt=pt+4|0}}else f=Be}m=(f<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+He;b=n+1310736+(m+-5<<2)|0;d[b>>2]=(d[b>>2]|0)+Xe;wt=bt}}while(0);He=He+1|0;V=it+2|0;j=ct+2|0;if((He|0)>=(De|0)){tt=V;lt=j;yt=wt;break}else{it=V;ct=j;bt=wt}}}else{tt=et;lt=st;yt=gt}Xe=Xe+1|0;if((Xe|0)>=(c|0)){vt=yt;_t=52;break e}else{et=tt+4|0;st=lt+4|0;gt=yt}}Ha(3,3904,ut);a=-1}else{vt=0;_t=52}}while(0);if((_t|0)==52){W=n+12|0;if((vt|0)<1)qe=1;else{Ge=1;Ye=1;mt=L;while(1){X=d[mt>>2]|0;if((X|0)==(Ge|0)){q=Ye;Je=Ye+1|0}else{q=d[n+1179664+(X+-1<<2)>>2]|0;Je=Ye}d[mt>>2]=q;if((Ge|0)<(vt|0)){Ge=Ge+1|0;Ye=Je;mt=mt+4|0}else{qe=Je;break}}}J=n+8|0;Z=qe+-1|0;d[J>>2]=Z;if(!Z)a=0;else{ul(W|0,0,Z<<2|0)|0;ul(n+655376|0,0,Z<<4|0)|0;if((qe|0)>1){Ve=0;do{K=Ve<<2;d[n+131084+(K<<2)>>2]=t;d[n+131084+((K|1)<<2)>>2]=0;d[n+131084+((K|2)<<2)>>2]=i;d[n+131084+((K|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(d[J>>2]|0))}if((vt|0)>0){je=0;do{Q=(d[n+1179664+(je<<2)>>2]|0)+-1|0;$=je*7|0;ee=n+12+(Q<<2)|0;d[ee>>2]=(d[ee>>2]|0)+(d[n+1310736+($<<2)>>2]|0);te=Q<<1;ie=n+655376+(te<<3)|0;y[ie>>3]=+y[ie>>3]+ +(d[n+1310736+($+1<<2)>>2]|0);re=n+655376+((te|1)<<3)|0;y[re>>3]=+y[re>>3]+ +(d[n+1310736+($+2<<2)>>2]|0);ne=Q<<2;ae=n+131084+(ne<<2)|0;se=d[n+1310736+($+3<<2)>>2]|0;if((d[ae>>2]|0)>(se|0))d[ae>>2]=se;le=n+131084+((ne|1)<<2)|0;ce=d[n+1310736+($+4<<2)>>2]|0;if((d[le>>2]|0)<(ce|0))d[le>>2]=ce;ue=n+131084+((ne|2)<<2)|0;he=d[n+1310736+($+5<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ne|3)<<2)|0;me=d[n+1310736+($+6<<2)>>2]|0;if((d[de>>2]|0)<(me|0))d[de>>2]=me;je=je+1|0}while((je|0)<(vt|0))}if((d[J>>2]|0)>0){We=0;do{ve=n+12+(We<<2)|0;ye=We<<1;be=n+655376+(ye<<3)|0;y[be>>3]=+y[be>>3]/+(d[ve>>2]|0);we=n+655376+((ye|1)<<3)|0;y[we>>3]=+y[we>>3]/+(d[ve>>2]|0);We=We+1|0}while((We|0)<(d[J>>2]|0));a=0}else a=0}}w=xt;return a|0}function on(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0;xt=w;w=w+16|0;if((w|0)>=(_|0))pe();ut=xt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ue=0;rt=l;at=l+((fe(c,t)|0)<<1)|0;while(1){h[at>>1]=0;h[rt>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(t|0))break;else{rt=rt+2|0;at=at+2|0}}}De=t+-1|0;if((i|0)>0){ze=0;nt=l;ot=l+(De<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{nt=nt+(t<<1)|0;ot=ot+(t<<1)|0}}}L=n+1179664|0;O=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){X=(De|0)>1;Xe=1;et=e+O|0;st=l+(O<<1)|0;gt=0;t:while(1){if(X){He=1;it=et;ct=st;bt=gt;while(1){do{if((p[it>>0]|0|0)>(r|0)){re=h[ct+(F<<1)>>1]|0;if(re<<16>>16>0){h[ct>>1]=re;me=(re<<16>>16)*7|0;_e=n+1310736+(me+-7<<2)|0;d[_e>>2]=(d[_e>>2]|0)+1;xe=n+1310736+(me+-6<<2)|0;d[xe>>2]=(d[xe>>2]|0)+He;Ee=n+1310736+(me+-5<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+Xe;d[n+1310736+(me+-1<<2)>>2]=Xe;wt=bt;break}Me=h[ct+(o<<1)>>1]|0;Se=Me<<16>>16;Te=h[ct+(s<<1)>>1]|0;ke=Te<<16>>16;Ae=Te<<16>>16>0;if(Me<<16>>16<=0){if(Ae){h[ct>>1]=Te;k=ke*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+He;P=n+1310736+(k+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(k+-3<<2)|0;if((d[C>>2]|0)<(He|0))d[C>>2]=He;d[n+1310736+(k+-1<<2)>>2]=Xe;wt=bt;break}I=h[ct+-2>>1]|0;if(I<<16>>16>0){h[ct>>1]=I;N=(I<<16>>16)*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;B=n+1310736+(N+-6<<2)|0;d[B>>2]=(d[B>>2]|0)+He;U=n+1310736+(N+-5<<2)|0;d[U>>2]=(d[U>>2]|0)+Xe;z=n+1310736+(N+-3<<2)|0;if((d[z>>2]|0)>=(He|0)){wt=bt;break}d[z>>2]=He;wt=bt;break}else{H=bt+1|0;if((bt|0)>32767)break t;h[ct>>1]=H;d[n+1179664+(bt<<2)>>2]=H<<16>>16;G=bt*7|0;d[n+1310736+(G<<2)>>2]=1;d[n+1310736+(G+1<<2)>>2]=He;d[n+1310736+(G+2<<2)>>2]=Xe;d[n+1310736+(G+3<<2)>>2]=He;d[n+1310736+(G+4<<2)>>2]=He;d[n+1310736+(G+5<<2)>>2]=Xe;d[n+1310736+(G+6<<2)>>2]=Xe;wt=H;break}}if(Ae){Re=d[n+1179664+(Se+-1<<2)>>2]|0;Le=d[n+1179664+(ke+-1<<2)>>2]|0;if((Re|0)>(Le|0)){h[ct>>1]=Le;if((bt|0)>0){Ze=0;ft=L;while(1){if((d[ft>>2]|0)==(Re|0))d[ft>>2]=Le;Ze=Ze+1|0;if((Ze|0)>=(bt|0)){Pe=Le;break}else ft=ft+4|0}}else Pe=Le}else{h[ct>>1]=Re;if((Re|0)<(Le|0)&(bt|0)>0){Ke=0;ht=L;while(1){if((d[ht>>2]|0)==(Le|0))d[ht>>2]=Re;Ke=Ke+1|0;if((Ke|0)>=(bt|0)){Pe=Re;break}else ht=ht+4|0}}else Pe=Re}Ce=(Pe<<16>>16)*7|0;Oe=n+1310736+(Ce+-7<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+1;Ie=n+1310736+(Ce+-6<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+He;Ne=n+1310736+(Ce+-5<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+Xe;d[n+1310736+(Ce+-1<<2)>>2]=Xe;wt=bt;break}Fe=h[ct+-2>>1]|0;if(Fe<<16>>16<=0){h[ct>>1]=Me;x=Se*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+He;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Xe;T=n+1310736+(x+-4<<2)|0;if((d[T>>2]|0)>(He|0))d[T>>2]=He;d[n+1310736+(x+-1<<2)>>2]=Xe;wt=bt;break}Be=d[n+1179664+(Se+-1<<2)>>2]|0;u=d[n+1179664+((Fe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){h[ct>>1]=u;if((bt|0)>0){Qe=0;dt=L;while(1){if((d[dt>>2]|0)==(Be|0))d[dt>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(bt|0)){f=u;break}else dt=dt+4|0}}else f=u}else{h[ct>>1]=Be;if((Be|0)<(u|0)&(bt|0)>0){$e=0;pt=L;while(1){if((d[pt>>2]|0)==(u|0))d[pt>>2]=Be;$e=$e+1|0;if(($e|0)>=(bt|0)){f=Be;break}else pt=pt+4|0}}else f=Be}m=(f<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+He;b=n+1310736+(m+-5<<2)|0;d[b>>2]=(d[b>>2]|0)+Xe;wt=bt}else{h[ct>>1]=0;wt=bt}}while(0);He=He+1|0;V=it+1|0;j=ct+2|0;if((He|0)>=(De|0)){tt=V;lt=j;yt=wt;break}else{it=V;ct=j;bt=wt}}}else{tt=et;lt=st;yt=gt}Xe=Xe+1|0;if((Xe|0)>=(c|0)){vt=yt;_t=52;break e}else{et=tt+2|0;st=lt+4|0;gt=yt}}Ha(3,3904,ut);a=-1}else{vt=0;_t=52}}while(0);if((_t|0)==52){W=n+12|0;if((vt|0)<1)qe=1;else{Ge=1;Ye=1;mt=L;while(1){q=d[mt>>2]|0;if((q|0)==(Ge|0)){Y=Ye;Je=Ye+1|0}else{Y=d[n+1179664+(q+-1<<2)>>2]|0;Je=Ye}d[mt>>2]=Y;if((Ge|0)<(vt|0)){Ge=Ge+1|0;Ye=Je;mt=mt+4|0}else{qe=Je;break}}}J=n+8|0;Z=qe+-1|0;d[J>>2]=Z;if(!Z)a=0;else{ul(W|0,0,Z<<2|0)|0;ul(n+655376|0,0,Z<<4|0)|0;if((qe|0)>1){Ve=0;do{K=Ve<<2;d[n+131084+(K<<2)>>2]=t;d[n+131084+((K|1)<<2)>>2]=0;d[n+131084+((K|2)<<2)>>2]=i;d[n+131084+((K|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(d[J>>2]|0))}if((vt|0)>0){je=0;do{Q=(d[n+1179664+(je<<2)>>2]|0)+-1|0;$=je*7|0;ee=n+12+(Q<<2)|0;d[ee>>2]=(d[ee>>2]|0)+(d[n+1310736+($<<2)>>2]|0);te=Q<<1;ie=n+655376+(te<<3)|0;y[ie>>3]=+y[ie>>3]+ +(d[n+1310736+($+1<<2)>>2]|0);ne=n+655376+((te|1)<<3)|0;y[ne>>3]=+y[ne>>3]+ +(d[n+1310736+($+2<<2)>>2]|0);ae=Q<<2;oe=n+131084+(ae<<2)|0;se=d[n+1310736+($+3<<2)>>2]|0;if((d[oe>>2]|0)>(se|0))d[oe>>2]=se;le=n+131084+((ae|1)<<2)|0;ce=d[n+1310736+($+4<<2)>>2]|0;if((d[le>>2]|0)<(ce|0))d[le>>2]=ce;ue=n+131084+((ae|2)<<2)|0;he=d[n+1310736+($+5<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ae|3)<<2)|0;ve=d[n+1310736+($+6<<2)>>2]|0;if((d[de>>2]|0)<(ve|0))d[de>>2]=ve;je=je+1|0}while((je|0)<(vt|0))}if((d[J>>2]|0)>0){We=0;do{ge=n+12+(We<<2)|0;ye=We<<1;be=n+655376+(ye<<3)|0;y[be>>3]=+y[be>>3]/+(d[ge>>2]|0);we=n+655376+((ye|1)<<3)|0;y[we>>3]=+y[we>>3]/+(d[ge>>2]|0);We=We+1|0}while((We|0)<(d[J>>2]|0));a=0}else a=0}}w=xt;return a|0}function sn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0;xt=w;w=w+16|0;if((w|0)>=(_|0))pe();ut=xt;l=d[n>>2]|0;c=i+-1|0;if((t|0)>0){Ue=0;rt=l;at=l+((fe(c,t)|0)<<1)|0;while(1){h[at>>1]=0;h[rt>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(t|0))break;else{rt=rt+2|0;at=at+2|0}}}De=t+-1|0;if((i|0)>0){ze=0;nt=l;ot=l+(De<<1)|0;while(1){h[ot>>1]=0;h[nt>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{nt=nt+(t<<1)|0;ot=ot+(t<<1)|0}}}L=n+1179664|0;O=t+1|0;F=0-t|0;o=1-t|0;s=~t;e:do{if((c|0)>1){X=(De|0)>1;Xe=1;et=e+O|0;st=l+(O<<1)|0;gt=0;t:while(1){if(X){He=1;it=et;ct=st;bt=gt;while(1){do{if((p[it>>0]|0|0)>(r|0)){h[ct>>1]=0;wt=bt}else{re=h[ct+(F<<1)>>1]|0;if(re<<16>>16>0){h[ct>>1]=re;me=(re<<16>>16)*7|0;_e=n+1310736+(me+-7<<2)|0;d[_e>>2]=(d[_e>>2]|0)+1;xe=n+1310736+(me+-6<<2)|0;d[xe>>2]=(d[xe>>2]|0)+He;Ee=n+1310736+(me+-5<<2)|0;d[Ee>>2]=(d[Ee>>2]|0)+Xe;d[n+1310736+(me+-1<<2)>>2]=Xe;wt=bt;break}Me=h[ct+(o<<1)>>1]|0;Se=Me<<16>>16;Te=h[ct+(s<<1)>>1]|0;ke=Te<<16>>16;Ae=Te<<16>>16>0;if(Me<<16>>16<=0){if(Ae){h[ct>>1]=Te;k=ke*7|0;A=n+1310736+(k+-7<<2)|0;d[A>>2]=(d[A>>2]|0)+1;R=n+1310736+(k+-6<<2)|0;d[R>>2]=(d[R>>2]|0)+He;P=n+1310736+(k+-5<<2)|0;d[P>>2]=(d[P>>2]|0)+Xe;C=n+1310736+(k+-3<<2)|0;if((d[C>>2]|0)<(He|0))d[C>>2]=He;d[n+1310736+(k+-1<<2)>>2]=Xe;wt=bt;break}I=h[ct+-2>>1]|0;if(I<<16>>16>0){h[ct>>1]=I;N=(I<<16>>16)*7|0;D=n+1310736+(N+-7<<2)|0;d[D>>2]=(d[D>>2]|0)+1;B=n+1310736+(N+-6<<2)|0;d[B>>2]=(d[B>>2]|0)+He;U=n+1310736+(N+-5<<2)|0;d[U>>2]=(d[U>>2]|0)+Xe;z=n+1310736+(N+-3<<2)|0;if((d[z>>2]|0)>=(He|0)){wt=bt;break}d[z>>2]=He;wt=bt;break}else{H=bt+1|0;if((bt|0)>32767)break t;h[ct>>1]=H;d[n+1179664+(bt<<2)>>2]=H<<16>>16;G=bt*7|0;d[n+1310736+(G<<2)>>2]=1;d[n+1310736+(G+1<<2)>>2]=He;d[n+1310736+(G+2<<2)>>2]=Xe;d[n+1310736+(G+3<<2)>>2]=He;d[n+1310736+(G+4<<2)>>2]=He;d[n+1310736+(G+5<<2)>>2]=Xe;d[n+1310736+(G+6<<2)>>2]=Xe;wt=H;break}}if(Ae){Re=d[n+1179664+(Se+-1<<2)>>2]|0;Le=d[n+1179664+(ke+-1<<2)>>2]|0;if((Re|0)>(Le|0)){h[ct>>1]=Le;if((bt|0)>0){Ze=0;ft=L;while(1){if((d[ft>>2]|0)==(Re|0))d[ft>>2]=Le;Ze=Ze+1|0;if((Ze|0)>=(bt|0)){Pe=Le;break}else ft=ft+4|0}}else Pe=Le}else{h[ct>>1]=Re;if((Re|0)<(Le|0)&(bt|0)>0){Ke=0;ht=L;while(1){if((d[ht>>2]|0)==(Le|0))d[ht>>2]=Re;Ke=Ke+1|0;if((Ke|0)>=(bt|0)){Pe=Re;break}else ht=ht+4|0}}else Pe=Re}Ce=(Pe<<16>>16)*7|0;Oe=n+1310736+(Ce+-7<<2)|0;d[Oe>>2]=(d[Oe>>2]|0)+1;Ie=n+1310736+(Ce+-6<<2)|0;d[Ie>>2]=(d[Ie>>2]|0)+He;Ne=n+1310736+(Ce+-5<<2)|0;d[Ne>>2]=(d[Ne>>2]|0)+Xe;d[n+1310736+(Ce+-1<<2)>>2]=Xe;wt=bt;break}Fe=h[ct+-2>>1]|0;if(Fe<<16>>16<=0){h[ct>>1]=Me;x=Se*7|0;E=n+1310736+(x+-7<<2)|0;d[E>>2]=(d[E>>2]|0)+1;M=n+1310736+(x+-6<<2)|0;d[M>>2]=(d[M>>2]|0)+He;S=n+1310736+(x+-5<<2)|0;d[S>>2]=(d[S>>2]|0)+Xe;T=n+1310736+(x+-4<<2)|0;if((d[T>>2]|0)>(He|0))d[T>>2]=He;d[n+1310736+(x+-1<<2)>>2]=Xe;wt=bt;break}Be=d[n+1179664+(Se+-1<<2)>>2]|0;u=d[n+1179664+((Fe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){h[ct>>1]=u;if((bt|0)>0){Qe=0;dt=L;while(1){if((d[dt>>2]|0)==(Be|0))d[dt>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(bt|0)){f=u;break}else dt=dt+4|0}}else f=u}else{h[ct>>1]=Be;if((Be|0)<(u|0)&(bt|0)>0){$e=0;pt=L;while(1){if((d[pt>>2]|0)==(u|0))d[pt>>2]=Be;$e=$e+1|0;if(($e|0)>=(bt|0)){f=Be;break}else pt=pt+4|0}}else f=Be}m=(f<<16>>16)*7|0;v=n+1310736+(m+-7<<2)|0;d[v>>2]=(d[v>>2]|0)+1;g=n+1310736+(m+-6<<2)|0;d[g>>2]=(d[g>>2]|0)+He;b=n+1310736+(m+-5<<2)|0;d[b>>2]=(d[b>>2]|0)+Xe;wt=bt}}while(0);He=He+1|0;V=it+1|0;j=ct+2|0;if((He|0)>=(De|0)){tt=V;lt=j;yt=wt;break}else{it=V;ct=j;bt=wt}}}else{tt=et;lt=st;yt=gt}Xe=Xe+1|0;if((Xe|0)>=(c|0)){vt=yt;_t=52;break e}else{et=tt+2|0;st=lt+4|0;gt=yt}}Ha(3,3904,ut);a=-1}else{vt=0;_t=52}}while(0);if((_t|0)==52){W=n+12|0;if((vt|0)<1)qe=1;else{Ge=1;Ye=1;mt=L;while(1){q=d[mt>>2]|0;if((q|0)==(Ge|0)){Y=Ye;Je=Ye+1|0}else{Y=d[n+1179664+(q+-1<<2)>>2]|0;Je=Ye}d[mt>>2]=Y;if((Ge|0)<(vt|0)){Ge=Ge+1|0;Ye=Je;mt=mt+4|0}else{qe=Je;break}}}J=n+8|0;Z=qe+-1|0;d[J>>2]=Z;if(!Z)a=0;else{ul(W|0,0,Z<<2|0)|0;ul(n+655376|0,0,Z<<4|0)|0;if((qe|0)>1){Ve=0;do{K=Ve<<2;d[n+131084+(K<<2)>>2]=t;d[n+131084+((K|1)<<2)>>2]=0;d[n+131084+((K|2)<<2)>>2]=i;d[n+131084+((K|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(d[J>>2]|0))}if((vt|0)>0){je=0;do{Q=(d[n+1179664+(je<<2)>>2]|0)+-1|0;$=je*7|0;ee=n+12+(Q<<2)|0;d[ee>>2]=(d[ee>>2]|0)+(d[n+1310736+($<<2)>>2]|0);te=Q<<1;ie=n+655376+(te<<3)|0;y[ie>>3]=+y[ie>>3]+ +(d[n+1310736+($+1<<2)>>2]|0);ne=n+655376+((te|1)<<3)|0;y[ne>>3]=+y[ne>>3]+ +(d[n+1310736+($+2<<2)>>2]|0);ae=Q<<2;oe=n+131084+(ae<<2)|0;se=d[n+1310736+($+3<<2)>>2]|0;if((d[oe>>2]|0)>(se|0))d[oe>>2]=se;le=n+131084+((ae|1)<<2)|0;ce=d[n+1310736+($+4<<2)>>2]|0;if((d[le>>2]|0)<(ce|0))d[le>>2]=ce;ue=n+131084+((ae|2)<<2)|0;he=d[n+1310736+($+5<<2)>>2]|0;if((d[ue>>2]|0)>(he|0))d[ue>>2]=he;de=n+131084+((ae|3)<<2)|0;ve=d[n+1310736+($+6<<2)>>2]|0;if((d[de>>2]|0)<(ve|0))d[de>>2]=ve;je=je+1|0}while((je|0)<(vt|0))}if((d[J>>2]|0)>0){We=0;do{ge=n+12+(We<<2)|0;ye=We<<1;be=n+655376+(ye<<3)|0;y[be>>3]=+y[be>>3]/+(d[ge>>2]|0);we=n+655376+((ye|1)<<3)|0;y[we>>3]=+y[we>>3]/+(d[ge>>2]|0);We=We+1|0}while((We|0)<(d[J>>2]|0));a=0}else a=0}}w=xt;return a|0}function ln(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0;et=w;w=w+96|0;if((w|0)>=(_|0))pe();Xe=et+64|0;qe=et+52|0;h=et+40|0;p=et+16|0;$=et;e:do{if((t-e|0)>1)if((f[e>>0]|0)==73){He=i+61|0;u=i+36|0;if(f[He>>0]|0){M=d[u>>2]|0;O=d[M+-16>>2]|0;N=M+-12|0;z=d[N>>2]|0;if((z|0)!=(O|0)){J=z;do{j=J+-16|0;d[N>>2]=j;ol(j);J=d[N>>2]|0}while((J|0)!=(O|0))}}ne=e+1|0;fl(qe,12750,1);ce=i+4|0;he=i+12|0;de=Xe+8|0;me=Xe+8|0;ve=qe+4|0;ge=h+8|0;ye=h+1|0;be=h+4|0;we=i+32|0;_e=i+40|0;xe=i+44|0;Ee=Xe+8|0;t:do{if((f[ne>>0]|0)==69)Ke=ne;else{Qe=ne;i:while(1){do{if(f[He>>0]|0){Se=d[he>>2]|0;Te=d[u>>2]|0;ke=d[_e>>2]|0;if(Te>>>0<ke>>>0){d[Te>>2]=0;d[Te+4>>2]=0;d[Te+8>>2]=0;d[Te+12>>2]=Se;d[u>>2]=(d[u>>2]|0)+16;break}Ae=d[we>>2]|0;Re=Te-Ae|0;Le=Re>>4;Pe=Le+1|0;if((Re|0)<-16){$e=12;break i}Ce=ke-Ae|0;if(Ce>>4>>>0<1073741823){Oe=Ce>>3;r=Oe>>>0<Pe>>>0?Pe:Oe}else r=2147483647;cl(Xe,r,Le,xe);Ie=d[Ee>>2]|0;d[Ie>>2]=0;d[Ie+4>>2]=0;d[Ie+8>>2]=0;d[Ie+12>>2]=Se;d[Ee>>2]=Ie+16;Ua(we,Xe);Ss(Xe)}}while(0);Ne=((d[ce>>2]|0)-(d[i>>2]|0)|0)/24|0;Me=La(Qe,t,i)|0;De=((d[ce>>2]|0)-(d[i>>2]|0)|0)/24|0;if(f[He>>0]|0){Fe=d[u>>2]|0;Be=Fe+-16|0;ze=Fe;do{Ue=ze+-16|0;d[u>>2]=Ue;Os(Ue);ze=d[u>>2]|0}while((ze|0)!=(Be|0))}if((Me|0)==(Qe|0)|(Me|0)==(t|0)){$e=56;break}if(f[He>>0]|0){Ge=d[u>>2]|0;Ve=Ge+-16|0;je=d[he>>2]|0;We=Ge+-12|0;m=d[We>>2]|0;v=d[Ge+-8>>2]|0;if(m>>>0<v>>>0){d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;d[m+12>>2]=je;d[We>>2]=(d[We>>2]|0)+16}else{g=d[Ve>>2]|0;y=m-g|0;b=y>>4;x=b+1|0;if((y|0)<-16){l=Ve;$e=25;break}E=v-g|0;if(E>>4>>>0<1073741823){S=E>>3;o=S>>>0<x>>>0?x:S}else o=2147483647;vl(Xe,o,b,Ge+-4|0);T=d[de>>2]|0;d[T>>2]=0;d[T+4>>2]=0;d[T+8>>2]=0;d[T+12>>2]=je;d[de>>2]=T+16;Ga(Ve,Xe);Cs(Xe)}if(Ne>>>0<De>>>0){Ye=Ne;do{k=d[(d[u>>2]|0)+-12>>2]|0;A=k+-16|0;R=d[i>>2]|0;L=R+(Ye*24|0)|0;P=k+-12|0;C=d[P>>2]|0;if((C|0)==(d[k+-8>>2]|0)){I=C-(d[A>>2]|0)|0;D=(I|0)/24|0;F=D+1|0;if((I|0)<-24){c=A;$e=33;break i}if(D>>>0<1073741823){B=D<<1;n=B>>>0<F>>>0?F:B}else n=2147483647;_l(Xe,n,D,k+-4|0);U=d[me>>2]|0;Dl(U,L);Dl(U+12|0,R+(Ye*24|0)+12|0);d[me>>2]=U+24;Bo(A,Xe);al(Xe)}else{Dl(C,L);Dl(C+12|0,R+(Ye*24|0)+12|0);d[P>>2]=(d[P>>2]|0)+24}Ye=Ye+1|0}while(Ye>>>0<De>>>0)}}if(Ne>>>0<De>>>0){Ze=Ne;do{H=f[qe>>0]|0;if(((H&1)==0?(H&255)>>>1:d[ve>>2]|0)>>>0>1)Gc(qe,12690)|0;el(h,(d[i>>2]|0)+(Ze*24|0)|0);G=f[h>>0]|0;V=(G&1)==0;Go(qe,V?ye:d[ge>>2]|0,V?(G&255)>>>1:d[be>>2]|0)|0;Lu(h);Ze=Ze+1|0}while(Ze>>>0<De>>>0)}if((De|0)!=(Ne|0)){Je=De;do{W=d[ce>>2]|0;X=W+-24|0;Y=W;do{q=Y+-24|0;d[ce>>2]=q;Vc(q);Y=d[ce>>2]|0}while((Y|0)!=(X|0));Je=Je+-1|0}while((Je|0)!=(Ne|0))}if((f[Me>>0]|0)==69){Ke=Me;break t}else Qe=Me}if(($e|0)==12)Ef(we);else if(($e|0)==25)Ef(l);else if(($e|0)==33)Ef(c);else if(($e|0)==56){Lu(qe);s=e;break e}}}while(0);Z=Ke+1|0;K=f[qe>>0]|0;Q=(K&1)==0;if((f[(Q?qe+1|0:d[qe+8>>2]|0)+((Q?(K&255)>>>1:d[ve>>2]|0)+-1)>>0]|0)==62)Gc(qe,13735)|0;else Gc(qe,12752)|0;d[$>>2]=d[qe>>2];d[$+4>>2]=d[qe+4>>2];d[$+8>>2]=d[qe+8>>2];d[qe>>2]=0;d[qe+4>>2]=0;d[qe+8>>2]=0;Kl(p,$);ee=d[ce>>2]|0;te=d[i+8>>2]|0;if(ee>>>0<te>>>0){Pl(ee,p);d[ce>>2]=(d[ce>>2]|0)+24}else{ie=d[i>>2]|0;re=ee-ie|0;ae=(re|0)/24|0;oe=ae+1|0;if((re|0)<-24)Ef(i);se=(te-ie|0)/24|0;if(se>>>0<1073741823){le=se<<1;a=le>>>0<oe>>>0?oe:le}else a=2147483647;_l(Xe,a,ae,i+12|0);ue=Xe+8|0;fe=d[ue>>2]|0;Pl(fe,p);d[ue>>2]=fe+24;Bo(i,Xe);al(Xe)}Vc(p);Lu($);Lu(qe);s=Z}else s=e;else s=e}while(0);w=et;return s|0}function cn(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,pe=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,nt=0,at=0,ot=0,st=0,lt=0;if(!e)return;o=e+-8|0;U=d[760]|0;if(o>>>0<U>>>0)rt();_e=d[e+-4>>2]|0;Te=_e&3;if((Te|0)==1)rt();Ne=_e&-8;Be=e+(Ne+-8)|0;do{if(!(_e&1)){f=d[o>>2]|0;if(!Te)return;a=-8-f|0;b=e+a|0;_=f+Ne|0;if(b>>>0<U>>>0)rt();if((b|0)==(d[761]|0)){s=e+(Ne+-4)|0;l=d[s>>2]|0;if((l&3|0)!=3){nt=b;at=_;break}d[758]=_;d[s>>2]=l&-2;d[e+(a+4)>>2]=_|1;d[Be>>2]=_;return}D=f>>>3;if(f>>>0<256){j=d[e+(a+8)>>2]|0;Z=d[e+(a+12)>>2]|0;ne=3064+(D<<1<<2)|0;if((j|0)!=(ne|0)){if(j>>>0<U>>>0)rt();if((d[j+12>>2]|0)!=(b|0))rt()}if((Z|0)==(j|0)){d[756]=d[756]&~(1<<D);nt=b;at=_;break}if((Z|0)==(ne|0))r=Z+8|0;else{if(Z>>>0<U>>>0)rt();ge=Z+8|0;if((d[ge>>2]|0)==(b|0))r=ge;else rt()}d[j+12>>2]=Z;d[r>>2]=j;nt=b;at=_;break}ye=d[e+(a+24)>>2]|0;be=d[e+(a+12)>>2]|0;do{if((be|0)==(b|0)){Me=e+(a+20)|0;Se=d[Me>>2]|0;if(!Se){ke=e+(a+16)|0;Ae=d[ke>>2]|0;if(!Ae){Xe=0;break}else{je=Ae;Ze=ke}}else{je=Se;Ze=Me}while(1){Re=je+20|0;Le=d[Re>>2]|0;if(Le){je=Le;Ze=Re;continue}Pe=je+16|0;Ce=d[Pe>>2]|0;if(!Ce){We=je;Ke=Ze;break}else{je=Ce;Ze=Pe}}if(Ke>>>0<U>>>0)rt();else{d[Ke>>2]=0;Xe=We;break}}else{we=d[e+(a+8)>>2]|0;if(we>>>0<U>>>0)rt();xe=we+12|0;if((d[xe>>2]|0)!=(b|0))rt();Ee=be+8|0;if((d[Ee>>2]|0)==(b|0)){d[xe>>2]=be;d[Ee>>2]=we;Xe=be;break}else rt()}}while(0);if(!ye){nt=b;at=_}else{Oe=d[e+(a+28)>>2]|0;Ie=3328+(Oe<<2)|0;if((b|0)==(d[Ie>>2]|0)){d[Ie>>2]=Xe;if(!Xe){d[757]=d[757]&~(1<<Oe);nt=b;at=_;break}}else{if(ye>>>0<(d[760]|0)>>>0)rt();De=ye+16|0;if((d[De>>2]|0)==(b|0))d[De>>2]=Xe;else d[ye+20>>2]=Xe;if(!Xe){nt=b;at=_;break}}Fe=d[760]|0;if(Xe>>>0<Fe>>>0)rt();d[Xe+24>>2]=ye;Ue=d[e+(a+16)>>2]|0;do{if(Ue)if(Ue>>>0<Fe>>>0)rt();else{d[Xe+16>>2]=Ue;d[Ue+24>>2]=Xe;break}}while(0);ze=d[e+(a+20)>>2]|0;if(!ze){nt=b;at=_}else if(ze>>>0<(d[760]|0)>>>0)rt();else{d[Xe+20>>2]=ze;d[ze+24>>2]=Xe;nt=b;at=_;break}}}else{nt=o;at=Ne}}while(0);if(nt>>>0>=Be>>>0)rt();c=e+(Ne+-4)|0;u=d[c>>2]|0;if(!(u&1))rt();if(!(u&2)){if((Be|0)==(d[762]|0)){h=(d[759]|0)+at|0;d[759]=h;d[762]=nt;d[nt+4>>2]=h|1;if((nt|0)!=(d[761]|0))return;d[761]=0;d[758]=0;return}if((Be|0)==(d[761]|0)){p=(d[758]|0)+at|0;d[758]=p;d[761]=nt;d[nt+4>>2]=p|1;d[nt+p>>2]=p;return}m=(u&-8)+at|0;v=u>>>3;do{if(u>>>0<256){g=d[e+Ne>>2]|0;y=d[e+(Ne|4)>>2]|0;w=3064+(v<<1<<2)|0;if((g|0)!=(w|0)){if(g>>>0<(d[760]|0)>>>0)rt();if((d[g+12>>2]|0)!=(Be|0))rt()}if((y|0)==(g|0)){d[756]=d[756]&~(1<<v);break}if((y|0)==(w|0))i=y+8|0;else{if(y>>>0<(d[760]|0)>>>0)rt();x=y+8|0;if((d[x>>2]|0)==(Be|0))i=x;else rt()}d[g+12>>2]=y;d[i>>2]=g}else{E=d[e+(Ne+16)>>2]|0;M=d[e+(Ne|4)>>2]|0;do{if((M|0)==(Be|0)){A=e+(Ne+12)|0;R=d[A>>2]|0;if(!R){L=e+(Ne+8)|0;P=d[L>>2]|0;if(!P){Je=0;break}else{qe=P;Qe=L}}else{qe=R;Qe=A}while(1){C=qe+20|0;O=d[C>>2]|0;if(O){qe=O;Qe=C;continue}I=qe+16|0;N=d[I>>2]|0;if(!N){Ye=qe;$e=Qe;break}else{qe=N;Qe=I}}if($e>>>0<(d[760]|0)>>>0)rt();else{d[$e>>2]=0;Je=Ye;break}}else{S=d[e+Ne>>2]|0;if(S>>>0<(d[760]|0)>>>0)rt();T=S+12|0;if((d[T>>2]|0)!=(Be|0))rt();k=M+8|0;if((d[k>>2]|0)==(Be|0)){d[T>>2]=M;d[k>>2]=S;Je=M;break}else rt()}}while(0);if(E){F=d[e+(Ne+20)>>2]|0;B=3328+(F<<2)|0;if((Be|0)==(d[B>>2]|0)){d[B>>2]=Je;if(!Je){d[757]=d[757]&~(1<<F);break}}else{if(E>>>0<(d[760]|0)>>>0)rt();z=E+16|0;if((d[z>>2]|0)==(Be|0))d[z>>2]=Je;else d[E+20>>2]=Je;if(!Je)break}H=d[760]|0;if(Je>>>0<H>>>0)rt();d[Je+24>>2]=E;G=d[e+(Ne+8)>>2]|0;do{if(G)if(G>>>0<H>>>0)rt();else{d[Je+16>>2]=G;d[G+24>>2]=Je;break}}while(0);V=d[e+(Ne+12)>>2]|0;if(V)if(V>>>0<(d[760]|0)>>>0)rt();else{d[Je+20>>2]=V;d[V+24>>2]=Je;break}}}}while(0);d[nt+4>>2]=m|1;d[nt+m>>2]=m;if((nt|0)==(d[761]|0)){d[758]=m;return}else ot=m}else{d[c>>2]=u&-2;d[nt+4>>2]=at|1;d[nt+at>>2]=at;ot=at}W=ot>>>3;if(ot>>>0<256){X=W<<1;q=3064+(X<<2)|0;Y=d[756]|0;J=1<<W;if(!(Y&J)){d[756]=Y|J;n=3064+(X+2<<2)|0;He=q}else{K=3064+(X+2<<2)|0;Q=d[K>>2]|0;if(Q>>>0<(d[760]|0)>>>0)rt();else{n=K;He=Q}}d[n>>2]=nt;d[He+12>>2]=nt;d[nt+8>>2]=He;d[nt+12>>2]=q;return}$=ot>>>8;if(!$)Ge=0;else if(ot>>>0>16777215)Ge=31;else{ee=($+1048320|0)>>>16&8;te=$<<ee;ie=(te+520192|0)>>>16&4;re=te<<ie;ae=(re+245760|0)>>>16&2;oe=14-(ie|ee|ae)+(re<<ae>>>15)|0;Ge=ot>>>(oe+7|0)&1|oe<<1}se=3328+(Ge<<2)|0;d[nt+28>>2]=Ge;d[nt+20>>2]=0;d[nt+16>>2]=0;le=d[757]|0;ce=1<<Ge;e:do{if(!(le&ce)){d[757]=le|ce;d[se>>2]=nt;d[nt+24>>2]=se;d[nt+12>>2]=nt;d[nt+8>>2]=nt}else{ue=d[se>>2]|0;t:do{if((d[ue+4>>2]&-8|0)==(ot|0))et=ue;else{Ve=ot<<((Ge|0)==31?0:25-(Ge>>>1)|0);tt=ue;while(1){he=tt+16+(Ve>>>31<<2)|0;fe=d[he>>2]|0;if(!fe){t=he;it=tt;break}if((d[fe+4>>2]&-8|0)==(ot|0)){et=fe;break t}else{Ve=Ve<<1;tt=fe}}if(t>>>0<(d[760]|0)>>>0)rt();else{d[t>>2]=nt;d[nt+24>>2]=it;d[nt+12>>2]=nt;d[nt+8>>2]=nt;break e}}}while(0);de=et+8|0;pe=d[de>>2]|0;me=d[760]|0;if(pe>>>0>=me>>>0&et>>>0>=me>>>0){d[pe+12>>2]=nt;d[de>>2]=nt;d[nt+8>>2]=pe;d[nt+12>>2]=et;d[nt+24>>2]=0;break}else rt()}}while(0);ve=(d[764]|0)+-1|0;d[764]=ve;if(!ve)lt=3480;else return;while(1){st=d[lt>>2]|0;if(!st)break;else lt=st+8|0}d[764]=-1;return}function un(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,pe=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0,mt=0,vt=0,gt=0,yt=0,bt=0,wt=0,_t=0,xt=0,Et=0,Mt=0;e:do{if(t>>>0>36){De=Ju()|0;d[De>>2]=22;we=0;_e=0}else{Pe=e+4|0;Ie=e+100|0;do{Be=d[Pe>>2]|0;if(Be>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=Be+1;S=p[Be>>0]|0}else S=to(e)|0}while((th(S)|0)!=0);y=S;t:do{switch(y|0){case 43:case 45:{W=((y|0)==45)<<31>>31;X=d[Pe>>2]|0;if(X>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=X+1;$e=p[X>>0]|0;bt=W;break t}else{$e=to(e)|0;bt=W;break t}break}default:{$e=y;bt=0}}}while(0);ue=(t|0)==0;do{if((t&-17|0)==0&($e|0)==48){Me=d[Pe>>2]|0;if(Me>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=Me+1;Ce=p[Me>>0]|0}else Ce=to(e)|0;if((Ce|32|0)!=120)if(ue){s=8;tt=Ce;Mt=46;break}else{a=t;et=Ce;Mt=32;break}Oe=d[Pe>>2]|0;if(Oe>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=Oe+1;Ne=p[Oe>>0]|0}else Ne=to(e)|0;if((p[16467+(Ne+1)>>0]|0)>15){Fe=(d[Ie>>2]|0)==0;if(!Fe)d[Pe>>2]=(d[Pe>>2]|0)+-1;if(!i){Rc(e,0);we=0;_e=0;break e}if(Fe){we=0;_e=0;break e}d[Pe>>2]=(d[Pe>>2]|0)+-1;we=0;_e=0;break e}else{s=16;tt=Ne;Mt=46}}else{l=ue?10:t;if((p[16467+($e+1)>>0]|0)>>>0<l>>>0){a=l;et=$e;Mt=32}else{if(d[Ie>>2]|0)d[Pe>>2]=(d[Pe>>2]|0)+-1;Rc(e,0);Ue=Ju()|0;d[Ue>>2]=22;we=0;_e=0;break e}}}while(0);if((Mt|0)==32)if((a|0)==10){ze=et+-48|0;if(ze>>>0<10){Ge=ze;_t=0;while(1){He=(_t*10|0)+Ge|0;Ve=d[Pe>>2]|0;if(Ve>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=Ve+1;it=p[Ve>>0]|0}else it=to(e)|0;Ge=it+-48|0;if(!(Ge>>>0<10&He>>>0<429496729)){g=He;rt=it;break}else _t=He}xe=g;Ee=0;nt=rt}else{xe=0;Ee=0;nt=et}je=nt+-48|0;if(je>>>0<10){We=xe;Xe=Ee;Je=je;st=nt;while(1){qe=Vl(We|0,Xe|0,10,0)|0;Ye=H;Ze=((Je|0)<0)<<31>>31;Ke=~Ze;if(Ye>>>0>Ke>>>0|(Ye|0)==(Ke|0)&qe>>>0>~Je>>>0){c=Je;Se=We;Te=Xe;ot=st;break}Qe=Ku(qe|0,Ye|0,Je|0,Ze|0)|0;b=H;w=d[Pe>>2]|0;if(w>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=w+1;at=p[w>>0]|0}else at=to(e)|0;_=at+-48|0;if(_>>>0<10&(b>>>0<429496729|(b|0)==429496729&Qe>>>0<2576980378)){We=Qe;Xe=b;Je=_;st=at}else{c=_;Se=Qe;Te=b;ot=at;break}}if(c>>>0>9){de=Te;pe=Se;wt=bt}else{o=10;ke=Se;Ae=Te;gt=ot;Mt=72}}else{de=Ee;pe=xe;wt=bt}}else{s=a;tt=et;Mt=46}t:do{if((Mt|0)==46){if(!(s+-1&s)){M=f[16724+((s*23|0)>>>5&7)>>0]|0;T=f[16467+(tt+1)>>0]|0;k=T&255;if(k>>>0<s>>>0){R=k;xt=0;while(1){A=R|xt<<M;L=d[Pe>>2]|0;if(L>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=L+1;lt=p[L>>0]|0}else lt=to(e)|0;P=f[16467+(lt+1)>>0]|0;R=P&255;if(!(A>>>0<134217728&R>>>0<s>>>0)){u=A;h=P;ct=lt;break}else xt=A}I=h;N=0;D=u;ut=ct}else{I=T;N=0;D=0;ut=tt}C=ru(-1,-1,M|0)|0;O=H;if((I&255)>>>0>=s>>>0|(N>>>0>O>>>0|(N|0)==(O|0)&D>>>0>C>>>0)){o=s;ke=D;Ae=N;gt=ut;Mt=72;break}else{F=D;B=N;G=I}while(1){U=eu(F|0,B|0,M|0)|0;z=H;V=G&255|U;j=d[Pe>>2]|0;if(j>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=j+1;ft=p[j>>0]|0}else ft=to(e)|0;G=f[16467+(ft+1)>>0]|0;if((G&255)>>>0>=s>>>0|(z>>>0>O>>>0|(z|0)==(O|0)&V>>>0>C>>>0)){o=s;ke=V;Ae=z;gt=ft;Mt=72;break t}else{F=V;B=z}}}x=f[16467+(tt+1)>>0]|0;E=x&255;if(E>>>0<s>>>0){Y=E;Et=0;while(1){q=Y+(fe(Et,s)|0)|0;J=d[Pe>>2]|0;if(J>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=J+1;ht=p[J>>0]|0}else ht=to(e)|0;Z=f[16467+(ht+1)>>0]|0;Y=Z&255;if(!(q>>>0<119304647&Y>>>0<s>>>0)){m=q;v=Z;dt=ht;break}else Et=q}K=v;Re=m;Le=0;pt=dt}else{K=x;Re=0;Le=0;pt=tt}if((K&255)>>>0<s>>>0){Q=ef(-1,-1,s|0,0)|0;$=H;ee=Le;te=Re;ae=K;vt=pt;while(1){if(ee>>>0>$>>>0|(ee|0)==($|0)&te>>>0>Q>>>0){o=s;ke=te;Ae=ee;gt=vt;Mt=72;break t}ie=Vl(te|0,ee|0,s|0,0)|0;re=H;ne=ae&255;if(re>>>0>4294967295|(re|0)==-1&ie>>>0>~ne>>>0){o=s;ke=te;Ae=ee;gt=vt;Mt=72;break t}oe=Ku(ne|0,0,ie|0,re|0)|0;se=H;le=d[Pe>>2]|0;if(le>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=le+1;mt=p[le>>0]|0}else mt=to(e)|0;ae=f[16467+(mt+1)>>0]|0;if((ae&255)>>>0>=s>>>0){o=s;ke=oe;Ae=se;gt=mt;Mt=72;break}else{ee=se;te=oe;vt=mt}}}else{o=s;ke=Re;Ae=Le;gt=pt;Mt=72}}}while(0);if((Mt|0)==72)if((p[16467+(gt+1)>>0]|0)>>>0<o>>>0){do{ce=d[Pe>>2]|0;if(ce>>>0<(d[Ie>>2]|0)>>>0){d[Pe>>2]=ce+1;yt=p[ce>>0]|0}else yt=to(e)|0}while((p[16467+(yt+1)>>0]|0)>>>0<o>>>0);he=Ju()|0;d[he>>2]=34;de=n;pe=r;wt=(r&1|0)==0&0==0?bt:0}else{de=Ae;pe=ke;wt=bt}if(d[Ie>>2]|0)d[Pe>>2]=(d[Pe>>2]|0)+-1;if(!(de>>>0<n>>>0|(de|0)==(n|0)&pe>>>0<r>>>0)){if(!((r&1|0)!=0|0!=0|(wt|0)!=0)){me=Ju()|0;d[me>>2]=34;ve=Ku(r|0,n|0,-1,-1)|0;we=H;_e=ve;break}if(de>>>0>n>>>0|(de|0)==(n|0)&pe>>>0>r>>>0){ge=Ju()|0;d[ge>>2]=34;we=n;_e=r;break}}ye=((wt|0)<0)<<31>>31;be=_u(pe^wt|0,de^ye|0,wt|0,ye|0)|0;we=H;_e=be}}while(0);H=we;return _e|0}function fn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,pe=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,nt=0,at=0;f=e+t|0;X=d[e+4>>2]|0;do{if(!(X&1)){Se=d[e>>2]|0;if(!(X&3))return;ze=e+(0-Se)|0;h=Se+t|0;y=d[760]|0;if(ze>>>0<y>>>0)rt();if((ze|0)==(d[761]|0)){Ge=e+(t+4)|0;p=d[Ge>>2]|0;if((p&3|0)!=3){i=ze;r=h;break}d[758]=h;d[Ge>>2]=p&-2;d[e+(4-Se)>>2]=h|1;d[f>>2]=h;return}k=Se>>>3;if(Se>>>0<256){H=d[e+(8-Se)>>2]|0;q=d[e+(12-Se)>>2]|0;Z=3064+(k<<1<<2)|0;if((H|0)!=(Z|0)){if(H>>>0<y>>>0)rt();if((d[H+12>>2]|0)!=(ze|0))rt()}if((q|0)==(H|0)){d[756]=d[756]&~(1<<k);i=ze;r=h;break}if((q|0)==(Z|0))s=q+8|0;else{if(q>>>0<y>>>0)rt();we=q+8|0;if((d[we>>2]|0)==(ze|0))s=we;else rt()}d[H+12>>2]=q;d[s>>2]=H;i=ze;r=h;break}_e=d[e+(24-Se)>>2]|0;xe=d[e+(12-Se)>>2]|0;do{if((xe|0)==(ze|0)){c=16-Se|0;ke=e+(c+4)|0;Ae=d[ke>>2]|0;if(!Ae){Re=e+c|0;Le=d[Re>>2]|0;if(!Le){Ye=0;break}else{Xe=Le;Qe=Re}}else{Xe=Ae;Qe=ke}while(1){Pe=Xe+20|0;Ce=d[Pe>>2]|0;if(Ce){Xe=Ce;Qe=Pe;continue}Oe=Xe+16|0;Ie=d[Oe>>2]|0;if(!Ie){qe=Xe;$e=Qe;break}else{Xe=Ie;Qe=Oe}}if($e>>>0<y>>>0)rt();else{d[$e>>2]=0;Ye=qe;break}}else{Ee=d[e+(8-Se)>>2]|0;if(Ee>>>0<y>>>0)rt();Me=Ee+12|0;if((d[Me>>2]|0)!=(ze|0))rt();Te=xe+8|0;if((d[Te>>2]|0)==(ze|0)){d[Me>>2]=xe;d[Te>>2]=Ee;Ye=xe;break}else rt()}}while(0);if(!_e){i=ze;r=h}else{Ne=d[e+(28-Se)>>2]|0;De=3328+(Ne<<2)|0;if((ze|0)==(d[De>>2]|0)){d[De>>2]=Ye;if(!Ye){d[757]=d[757]&~(1<<Ne);i=ze;r=h;break}}else{if(_e>>>0<(d[760]|0)>>>0)rt();Fe=_e+16|0;if((d[Fe>>2]|0)==(ze|0))d[Fe>>2]=Ye;else d[_e+20>>2]=Ye;if(!Ye){i=ze;r=h;break}}Be=d[760]|0;if(Ye>>>0<Be>>>0)rt();d[Ye+24>>2]=_e;u=16-Se|0;Ue=d[e+u>>2]|0;do{if(Ue)if(Ue>>>0<Be>>>0)rt();else{d[Ye+16>>2]=Ue;d[Ue+24>>2]=Ye;break}}while(0);He=d[e+(u+4)>>2]|0;if(!He){i=ze;r=h}else if(He>>>0<(d[760]|0)>>>0)rt();else{d[Ye+20>>2]=He;d[He+24>>2]=Ye;i=ze;r=h;break}}}else{i=e;r=t}}while(0);m=d[760]|0;if(f>>>0<m>>>0)rt();v=e+(t+4)|0;g=d[v>>2]|0;if(!(g&2)){if((f|0)==(d[762]|0)){b=(d[759]|0)+r|0;d[759]=b;d[762]=i;d[i+4>>2]=b|1;if((i|0)!=(d[761]|0))return;d[761]=0;d[758]=0;return}if((f|0)==(d[761]|0)){w=(d[758]|0)+r|0;d[758]=w;d[761]=i;d[i+4>>2]=w|1;d[i+w>>2]=w;return}_=(g&-8)+r|0;x=g>>>3;do{if(g>>>0<256){E=d[e+(t+8)>>2]|0;M=d[e+(t+12)>>2]|0;S=3064+(x<<1<<2)|0;if((E|0)!=(S|0)){if(E>>>0<m>>>0)rt();if((d[E+12>>2]|0)!=(f|0))rt()}if((M|0)==(E|0)){d[756]=d[756]&~(1<<x);break}if((M|0)==(S|0))o=M+8|0;else{if(M>>>0<m>>>0)rt();T=M+8|0;if((d[T>>2]|0)==(f|0))o=T;else rt()}d[E+12>>2]=M;d[o>>2]=E}else{A=d[e+(t+24)>>2]|0;R=d[e+(t+12)>>2]|0;do{if((R|0)==(f|0)){O=e+(t+20)|0;I=d[O>>2]|0;if(!I){N=e+(t+16)|0;D=d[N>>2]|0;if(!D){Ke=0;break}else{Je=D;et=N}}else{Je=I;et=O}while(1){F=Je+20|0;B=d[F>>2]|0;if(B){Je=B;et=F;continue}U=Je+16|0;z=d[U>>2]|0;if(!z){Ze=Je;tt=et;break}else{Je=z;et=U}}if(tt>>>0<m>>>0)rt();else{d[tt>>2]=0;Ke=Ze;break}}else{L=d[e+(t+8)>>2]|0;if(L>>>0<m>>>0)rt();P=L+12|0;if((d[P>>2]|0)!=(f|0))rt();C=R+8|0;if((d[C>>2]|0)==(f|0)){d[P>>2]=R;d[C>>2]=L;Ke=R;break}else rt()}}while(0);if(A){G=d[e+(t+28)>>2]|0;V=3328+(G<<2)|0;if((f|0)==(d[V>>2]|0)){d[V>>2]=Ke;if(!Ke){d[757]=d[757]&~(1<<G);break}}else{if(A>>>0<(d[760]|0)>>>0)rt();j=A+16|0;if((d[j>>2]|0)==(f|0))d[j>>2]=Ke;else d[A+20>>2]=Ke;if(!Ke)break}W=d[760]|0;if(Ke>>>0<W>>>0)rt();d[Ke+24>>2]=A;Y=d[e+(t+16)>>2]|0;do{if(Y)if(Y>>>0<W>>>0)rt();else{d[Ke+16>>2]=Y;d[Y+24>>2]=Ke;break}}while(0);J=d[e+(t+20)>>2]|0;if(J)if(J>>>0<(d[760]|0)>>>0)rt();else{d[Ke+20>>2]=J;d[J+24>>2]=Ke;break}}}}while(0);d[i+4>>2]=_|1;d[i+_>>2]=_;if((i|0)==(d[761]|0)){d[758]=_;return}else n=_}else{d[v>>2]=g&-2;d[i+4>>2]=r|1;d[i+r>>2]=r;n=r}K=n>>>3;if(n>>>0<256){Q=K<<1;$=3064+(Q<<2)|0;ee=d[756]|0;te=1<<K;if(!(ee&te)){d[756]=ee|te;l=3064+(Q+2<<2)|0;Ve=$}else{ie=3064+(Q+2<<2)|0;re=d[ie>>2]|0;if(re>>>0<(d[760]|0)>>>0)rt();else{l=ie;Ve=re}}d[l>>2]=i;d[Ve+12>>2]=i;d[i+8>>2]=Ve;d[i+12>>2]=$;return}ne=n>>>8;if(!ne)je=0;else if(n>>>0>16777215)je=31;else{ae=(ne+1048320|0)>>>16&8;oe=ne<<ae;se=(oe+520192|0)>>>16&4;le=oe<<se;ce=(le+245760|0)>>>16&2;ue=14-(se|ae|ce)+(le<<ce>>>15)|0;je=n>>>(ue+7|0)&1|ue<<1}fe=3328+(je<<2)|0;d[i+28>>2]=je;d[i+20>>2]=0;d[i+16>>2]=0;he=d[757]|0;de=1<<je;if(!(he&de)){d[757]=he|de;d[fe>>2]=i;d[i+24>>2]=fe;d[i+12>>2]=i;d[i+8>>2]=i;return}pe=d[fe>>2]|0;e:do{if((d[pe+4>>2]&-8|0)==(n|0))it=pe;else{We=n<<((je|0)==31?0:25-(je>>>1)|0);nt=pe;while(1){ve=nt+16+(We>>>31<<2)|0;me=d[ve>>2]|0;if(!me){a=ve;at=nt;break}if((d[me+4>>2]&-8|0)==(n|0)){it=me;break e}else{We=We<<1;nt=me}}if(a>>>0<(d[760]|0)>>>0)rt();d[a>>2]=i;d[i+24>>2]=at;d[i+12>>2]=i;d[i+8>>2]=i;return}}while(0);ge=it+8|0;ye=d[ge>>2]|0;be=d[760]|0;if(!(ye>>>0>=be>>>0&it>>>0>=be>>>0))rt();d[ye+12>>2]=i;d[ge>>2]=i;d[i+8>>2]=ye;d[i+12>>2]=it;d[i+24>>2]=0;return}function hn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0;De=w;w=w+96|0;if((w|0)>=(_|0))pe();Re=De+64|0;u=De+40|0;h=De+16|0;Z=De;ae=e;e:do{if((t-ae|0)>1)if((f[e>>0]|0)==84){p=f[e+1>>0]|0;if(p<<24>>24==95){I=d[i+36>>2]|0;if((d[i+32>>2]|0)==(I|0)){r=e;break}j=d[I+-16>>2]|0;if((j|0)==(d[I+-12>>2]|0)){f[u>>0]=4;fe=u+1|0;f[fe>>0]=84;f[fe+1>>0]=95;f[u+3>>0]=0;he=u+12|0;d[he>>2]=0;d[he+4>>2]=0;d[he+8>>2]=0;de=i+4|0;me=d[de>>2]|0;ve=d[i+8>>2]|0;if(me>>>0<ve>>>0){Pl(me,u);d[de>>2]=(d[de>>2]|0)+24}else{ge=d[i>>2]|0;ye=me-ge|0;be=(ye|0)/24|0;we=be+1|0;if((ye|0)<-24)Ef(i);_e=(ve-ge|0)/24|0;if(_e>>>0<1073741823){xe=_e<<1;s=xe>>>0<we>>>0?we:xe}else s=2147483647;_l(Re,s,be,i+12|0);Ee=Re+8|0;Me=d[Ee>>2]|0;Pl(Me,u);d[Ee>>2]=Me+24;Bo(i,Re);al(Re)}Vc(u);f[i+62>>0]=1;r=e+2|0;break}K=d[j>>2]|0;Q=d[j+4>>2]|0;$=i+4|0;ee=i+8|0;te=i+12|0;ie=Re+8|0;t:do{if((K|0)!=(Q|0)){ne=K;while(1){re=d[$>>2]|0;if((re|0)==(d[ee>>2]|0)){oe=re-(d[i>>2]|0)|0;se=(oe|0)/24|0;le=se+1|0;if((oe|0)<-24)break;if(se>>>0<1073741823){ce=se<<1;o=ce>>>0<le>>>0?le:ce}else o=2147483647;_l(Re,o,se,te);ue=d[ie>>2]|0;Dl(ue,ne);Dl(ue+12|0,ne+12|0);d[ie>>2]=ue+24;Bo(i,Re);al(Re)}else{Dl(re,ne);Dl(re+12|0,ne+12|0);d[$>>2]=(d[$>>2]|0)+24}ne=ne+24|0;if((ne|0)==(Q|0))break t}Ef(i)}}while(0);r=e+2|0;break}Le=(p<<24>>24)+-48|0;if(Le>>>0<10){Se=e+2|0;if((Se|0)==(t|0))r=e;else{Ce=Le;Ie=Se;while(1){Te=f[Ie>>0]|0;Pe=(Te<<24>>24)+-48|0;if(Pe>>>0>=10){c=Te;Oe=Ce;Ne=Ie;break}Ie=Ie+1|0;if((Ie|0)==(t|0)){r=e;break e}else Ce=Pe+(Ce*10|0)|0}if(c<<24>>24==95){m=d[i+36>>2]|0;if((d[i+32>>2]|0)==(m|0))r=e;else{v=Oe+1|0;g=d[m+-16>>2]|0;if(v>>>0<(d[m+-12>>2]|0)-g>>4>>>0){y=d[g+(v<<4)>>2]|0;b=d[g+(v<<4)+4>>2]|0;x=i+4|0;E=i+8|0;M=i+12|0;S=Re+8|0;t:do{if((y|0)!=(b|0)){k=y;while(1){T=d[x>>2]|0;if((T|0)==(d[E>>2]|0)){A=T-(d[i>>2]|0)|0;R=(A|0)/24|0;L=R+1|0;if((A|0)<-24)break;if(R>>>0<1073741823){P=R<<1;a=P>>>0<L>>>0?L:P}else a=2147483647;_l(Re,a,R,M);C=d[S>>2]|0;Dl(C,k);Dl(C+12|0,k+12|0);d[S>>2]=C+24;Bo(i,Re);al(Re)}else{Dl(T,k);Dl(T+12|0,k+12|0);d[x>>2]=(d[x>>2]|0)+24}k=k+24|0;if((k|0)==(b|0))break t}Ef(i)}}while(0);r=Ne+1|0;break}O=Ne+1|0;N=O-ae|0;if(N>>>0>4294967279)bf(Z);if(N>>>0<11){f[Z>>0]=N<<1;Ae=Z+1|0}else{D=N+16&-16;F=xi(D)|0;d[Z+8>>2]=F;d[Z>>2]=D|1;d[Z+4>>2]=N;Ae=F}if((O|0)!=(e|0)){l=e;ke=Ae;while(1){f[ke>>0]=f[l>>0]|0;if((l|0)==(Ne|0))break;else{l=l+1|0;ke=ke+1|0}}}f[Ae+N>>0]=0;Kl(h,Z);B=i+4|0;U=d[B>>2]|0;z=d[i+8>>2]|0;if(U>>>0<z>>>0){Pl(U,h);d[B>>2]=(d[B>>2]|0)+24}else{H=d[i>>2]|0;G=U-H|0;V=(G|0)/24|0;W=V+1|0;if((G|0)<-24)Ef(i);X=(z-H|0)/24|0;if(X>>>0<1073741823){q=X<<1;n=q>>>0<W>>>0?W:q}else n=2147483647;_l(Re,n,V,i+12|0);Y=Re+8|0;J=d[Y>>2]|0;Pl(J,h);d[Y>>2]=J+24;Bo(i,Re);al(Re)}Vc(h);Lu(Z);f[i+62>>0]=1;r=O}}else r=e}}else r=e}else r=e;else r=e}while(0);w=De;return r|0}function dn(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;var s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0;ut=w;w=w+32|0;if((w|0)>=(_|0))pe();Xe=ut+24|0;We=ut+8|0;He=ut;e:do{if((t+-3|0)>>>0>5){d[i>>2]=-1;d[r>>2]=0;y[n>>3]=-1.0;l=-1}else{d[We>>2]=0;v=t+-1|0;$=fe(v,t)|0;d[We+4>>2]=$;Ie=fe(t,t)|0;d[We+8>>2]=Ie+-1;d[We+12>>2]=v;g=f[e+(d[We>>2]|0)>>0]|0;u=(g&255)>0?g:0;at=(g&255)<255?g:-1;z=f[e+(d[We+4>>2]|0)>>0]|0;h=(z&255)>(u&255)?z:u;ot=(z&255)<(at&255)?z:at;re=f[e+(d[We+8>>2]|0)>>0]|0;m=(re&255)>(h&255)?re:h;st=(re&255)<(ot&255)?re:ot;Le=f[e+(d[We+12>>2]|0)>>0]|0;Pe=((Le&255)>(m&255)?Le:m)&255;Ce=((Le&255)<(st&255)?Le:st)&255;if((Pe-Ce|0)<30){d[i>>2]=-1;d[r>>2]=0;y[n>>3]=-1.0;l=-2;break}Oe=(Pe+Ce|0)>>>1;f[Xe>>0]=(p[e+(d[We>>2]|0)>>0]|0)>>>0<Oe>>>0&1;f[Xe+1>>0]=(p[e+(d[We+4>>2]|0)>>0]|0)>>>0<Oe>>>0&1;f[Xe+2>>0]=(p[e+(d[We+8>>2]|0)>>0]|0)>>>0<Oe>>>0&1;f[Xe+3>>0]=(p[e+(d[We+12>>2]|0)>>0]|0)>>>0<Oe>>>0&1;Ye=0;while(1){Ne=Ye+1|0;if((f[Xe+Ye>>0]|0)==1)if((f[Xe+((Ne|0)%4|0)>>0]|0)==1)if(!(f[Xe+((Ye+2|0)%4|0)>>0]|0)){Je=Ye;ct=10;break}if((Ne|0)<4)Ye=Ne;else{c=Ne;ct=12;break}}if((ct|0)==10)d[r>>2]=Je;else if((ct|0)==12)if((c|0)==4){d[i>>2]=-1;d[r>>2]=0;y[n>>3]=-1.0;l=-3;break}if(!Ie)Ge=255;else{Ve=255;Ze=0;while(1){De=e+Ze|0;Fe=p[De>>0]|0;Be=Fe-Oe|0;s=(Be|0)<0?0-Be|0:Be;je=(s|0)<(Ve|0)?s:Ve;f[De>>0]=Fe>>>0<Oe>>>0&1;Ze=Ze+1|0;if((Ze|0)>=(Ie|0)){Ge=je;break}else Ve=je}}switch(d[r>>2]|0){case 0:{if((t|0)>0){qe=(t|0)==0;ue=0;he=0;tt=0;while(1){x=(tt|0)==(v|0);E=fe(tt,t)|0;if(qe){de=ue;me=he}else{M=ue;S=he;Ke=0;while(1){if(!(Ke|tt)){ve=M;ge=S}else if(x&((Ke|0)==0|(Ke|0)==(v|0))){ve=M;ge=S}else{T=eu(M|0,S|0,1)|0;ve=(f[e+(Ke+E)>>0]|0)!=0|T;ge=H}Ke=Ke+1|0;if((Ke|0)==(t|0)){de=ve;me=ge;break}else{M=ve;S=ge}}}tt=tt+1|0;if((tt|0)>=(t|0)){X=de;ee=me;break}else{ue=de;he=me}}}else{X=0;ee=0}break}case 1:{if((t|0)>0){b=(t|0)>0;le=0;ce=0;Qe=0;while(1){k=(Qe|0)==0;A=(Qe|0)==(v|0);if(b){L=le;P=ce;it=v;while(1){R=(it|0)==(v|0);if(k&R){we=L;_e=P}else if(A&(R|(it|0)==0)){we=L;_e=P}else{C=eu(L|0,P|0,1)|0;O=e+((fe(it,t)|0)+Qe)|0;we=(f[O>>0]|0)!=0|C;_e=H}if((it|0)>0){L=we;P=_e;it=it+-1|0}else{ye=we;be=_e;break}}}else{ye=le;be=ce}Qe=Qe+1|0;if((Qe|0)>=(t|0)){X=ye;ee=be;break}else{le=ye;ce=be}}}else{X=0;ee=0}break}case 2:{if((t|0)>0){ze=(t|0)>0;oe=0;se=0;rt=v;while(1){lt=(rt|0)==(v|0)|(rt|0)==0;I=fe(rt,t)|0;if(ze){N=oe;D=se;$e=v;while(1){if(lt&($e|0)==(v|0)|($e|rt|0)==0){Me=N;Se=D}else{F=eu(N|0,D|0,1)|0;Me=(f[e+($e+I)>>0]|0)!=0|F;Se=H}if(($e|0)>0){N=Me;D=Se;$e=$e+-1|0}else{xe=Me;Ee=Se;break}}}else{xe=oe;Ee=se}if((rt|0)>0){oe=xe;se=Ee;rt=rt+-1|0}else{X=xe;ee=Ee;break}}}else{X=0;ee=0}break}case 3:{if((t|0)>0){Ue=(t|0)>0;ne=0;ae=0;et=v;while(1){B=(et|0)==(v|0);U=(et|0)==0;if(Ue){G=ne;V=ae;nt=0;while(1){if(B&(nt|0)==0|(nt|et|0)==0|U&(nt|0)==(v|0)){Ae=G;Re=V}else{j=eu(G|0,V|0,1)|0;W=e+((fe(nt,t)|0)+et)|0;Ae=(f[W>>0]|0)!=0|j;Re=H}nt=nt+1|0;if((nt|0)>=(t|0)){Te=Ae;ke=Re;break}else{G=Ae;V=Re}}}else{Te=ne;ke=ae}if((et|0)>0){ne=Te;ae=ke;et=et+-1|0}else{X=Te;ee=ke;break}}}else{X=0;ee=0}break}default:{X=0;ee=0}}y[n>>3]=(Ge|0)>30?1.0:+(Ge|0)/30.0;switch(a|0){case 259:{q=f[4551+X>>0]|0;Y=q<<24>>24;J=He;d[J>>2]=Y;d[J+4>>2]=((Y|0)<0)<<31>>31;if(q<<24>>24<0){d[i>>2]=-1;y[n>>3]=-1.0;l=-4;break e}break}case 515:{Z=f[4423+X>>0]|0;K=Z<<24>>24;Q=He;d[Q>>2]=K;d[Q+4>>2]=((K|0)<0)<<31>>31;if(o)d[o>>2]=p[4487+X>>0];if(Z<<24>>24<0){d[i>>2]=-1;y[n>>3]=-1.0;l=-4;break e}break}case 772:case 1028:{te=pn(a,X,ee,0,He)|0;if((te|0)<0){d[i>>2]=-1;y[n>>3]=-1.0;l=-4;break e}if((o|0)!=0&(te|0)>0)d[o>>2]=te;break}default:{ie=He;d[ie>>2]=X;d[ie+4>>2]=ee}}d[i>>2]=d[He>>2];l=0}}while(0);w=ut;return l|0}function pn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0,nt=0,at=0,ot=0,st=0,lt=0,ct=0,ut=0,ft=0,ht=0;ut=w;w=w+2320|0;if((w|0)>=(_|0))pe();Qe=ut+2304|0;we=ut+864|0;be=ut+784|0;ze=ut+704|0;lt=ut+624|0;et=ut+548|0;Ge=ut+40|0;$e=ut;switch(e|0){case 772:{Be=9;nt=1;ct=3;break}case 1028:{Be=5;nt=2;ct=3;break}case 2830:{me=900;Ie=1472;Ue=64;He=120;Ve=127;Ke=r;at=9;ct=6;break}default:o=-1}if((ct|0)==3){Z=t;ae=i;_e=0;while(1){f[Qe+_e>>0]=Z&1;Z=ru(Z|0,ae|0,1)|0;_e=_e+1|0;if((_e|0)==13)break;else ae=H}me=840;Ie=1408;Ue=Be;He=13;Ve=15;Ke=Qe;at=nt;ct=6}do{if((ct|0)==6){v=at<<1;Se=1;rt=0;while(1){x=et+(Se<<2)|0;d[x>>2]=0;X=0;Ne=0;while(1){if(!(f[Ke+Ne>>0]|0))q=X;else{N=me+(((fe(Ne,Se)|0)%(Ve|0)|0)<<2)|0;B=X^d[N>>2];d[x>>2]=B;q=B}Ne=Ne+1|0;if((Ne|0)>=(He|0)){c=q;break}else X=q}tt=(c|0)==0?rt:1;d[x>>2]=d[Ie+(c<<2)>>2];if((Se|0)<(v|0)){Se=Se+1|0;rt=tt}else{it=tt;break}}J=(it|0)!=0;if(J){d[be>>2]=0;K=d[et+4>>2]|0;d[be+4>>2]=K;d[we>>2]=0;d[we+72>>2]=1;if((v|0)>1){Te=1;do{d[we+(Te<<2)>>2]=-1;d[we+72+(Te<<2)>>2]=0;Te=Te+1|0}while((Te|0)<(v|0))}d[ze>>2]=0;d[ze+4>>2]=0;d[lt>>2]=-1;d[lt+4>>2]=0;$=K;te=0;ot=0;while(1){ht=ot;ot=ot+1|0;Q=be+(ot<<2)|0;if(($|0)==-1){ee=ht+2|0;d[ze+(ee<<2)>>2]=te;if((te|0)<0){h=ee;E=te}else{ke=0;while(1){ie=we+(ot*72|0)+(ke<<2)|0;re=d[ie>>2]|0;d[we+(ee*72|0)+(ke<<2)>>2]=re;d[ie>>2]=d[Ie+(re<<2)>>2];if((ke|0)<(te|0))ke=ke+1|0;else{h=ee;E=te;break}}}}else{je=ht;while(1){ne=(je|0)>0;if(ne&(d[be+(je<<2)>>2]|0)==-1)je=je+-1|0;else break}if(ne){De=je;We=je;while(1){ft=De;De=De+-1|0;if((d[be+(De<<2)>>2]|0)==-1)Xe=We;else Xe=(d[lt+(We<<2)>>2]|0)<(d[lt+(De<<2)>>2]|0)?De:We;if((ft|0)<=1){qe=Xe;break}else We=Xe}}else qe=je;oe=ze+(qe<<2)|0;se=ot-qe|0;le=se+(d[oe>>2]|0)|0;ce=ht+2|0;a=(te|0)>(le|0)?te:le;d[ze+(ce<<2)>>2]=a;Ae=0;do{d[we+(ce*72|0)+(Ae<<2)>>2]=0;Ae=Ae+1|0}while((Ae|0)<(v|0));ue=d[oe>>2]|0;he=be+(qe<<2)|0;if((ue|0)>=0){Re=0;while(1){de=d[we+(qe*72|0)+(Re<<2)>>2]|0;if((de|0)!=-1)d[we+(ce*72|0)+(se+Re<<2)>>2]=d[me+(((de+Ve+(d[Q>>2]|0)-(d[he>>2]|0)|0)%(Ve|0)|0)<<2)>>2];if((Re|0)<(ue|0))Re=Re+1|0;else break}}if((te|0)<0){h=ce;E=a}else{Le=0;while(1){g=we+(ot*72|0)+(Le<<2)|0;y=d[g>>2]|0;b=we+(ce*72|0)+(Le<<2)|0;d[b>>2]=d[b>>2]^y;d[g>>2]=d[Ie+(y<<2)>>2];if((Le|0)<(te|0))Le=Le+1|0;else{h=ce;E=a;break}}}}d[lt+(h<<2)>>2]=ot-E;if((ot|0)>=(v|0)){l=E;u=h;break}M=d[et+(h<<2)>>2]|0;if((M|0)==-1)m=0;else m=d[me+(M<<2)>>2]|0;S=be+(h<<2)|0;d[S>>2]=m;if((E|0)<1)s=m;else{R=m;Pe=1;while(1){T=d[et+(h-Pe<<2)>>2]|0;if((T|0)==-1)Y=R;else{k=d[we+(h*72|0)+(Pe<<2)>>2]|0;if(!k)Y=R;else{A=R^d[me+((((d[Ie+(k<<2)>>2]|0)+T|0)%(Ve|0)|0)<<2)>>2];d[S>>2]=A;Y=A}}if((Pe|0)<(E|0)){R=Y;Pe=Pe+1|0}else{s=Y;break}}}$=d[Ie+(s<<2)>>2]|0;d[S>>2]=$;if((E|0)>(at|0)){l=E;u=h;break}else te=E}if((l|0)>(at|0)){o=-1;break}if((l|0)>=0){Ce=0;while(1){L=we+(u*72|0)+(Ce<<2)|0;d[L>>2]=d[Ie+(d[L>>2]<<2)>>2];if((Ce|0)<(l|0))Ce=Ce+1|0;else break}}if((l|0)>=1){Oe=1;while(1){d[$e+(Oe<<2)>>2]=d[we+(u*72|0)+(Oe<<2)>>2];if((Oe|0)<(l|0))Oe=Oe+1|0;else break}}P=(l|0)<1;ve=0;xe=1;while(1){if(P)Ye=1;else{Fe=1;Je=1;while(1){C=$e+(Fe<<2)|0;O=d[C>>2]|0;if((O|0)==-1)Ze=Je;else{I=(O+Fe|0)%(Ve|0)|0;d[C>>2]=I;Ze=d[me+(I<<2)>>2]^Je}if((Fe|0)<(l|0)){Fe=Fe+1|0;Je=Ze}else{Ye=Ze;break}}}if(!Ye){d[Ge+(ve<<2)>>2]=Ve-xe;ge=ve+1|0}else ge=ve;xe=xe+1|0;if((Ve|0)<(xe|0)){ye=ge;break}else ve=ge}if((ye|0)!=(l|0)){o=-1;break}if((l|0)>0){Ee=0;do{D=Ke+(d[Ge+(Ee<<2)>>2]|0)|0;f[D>>0]=p[D>>0]^1;Ee=Ee+1|0}while((Ee|0)<(l|0));st=u}else st=u}else st=0;F=n;d[F>>2]=0;d[F+4>>2]=0;U=1;z=0;V=0;j=0;Me=He-Ue|0;while(1){G=Vl(p[Ke+Me>>0]|0,0,U|0,z|0)|0;V=Ku(G|0,H|0,V|0,j|0)|0;j=H;W=n;d[W>>2]=V;d[W+4>>2]=j;U=eu(U|0,z|0,1)|0;Me=Me+1|0;if((Me|0)>=(He|0))break;else z=H}if(J)o=d[ze+(st<<2)>>2]|0;else o=0}}while(0);w=ut;return o|0}function mn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0;Le=w;w=w+96|0;if((w|0)>=(_|0))pe();Ae=Le+72|0;s=Le+56|0;l=Le+48|0;J=Le+32|0;$=Le+24|0;re=Le+8|0;oe=Le;e:do{if((e|0)==(t|0))o=e;else switch(f[e>>0]|0){case 84:{Me=i+4|0;A=((d[Me>>2]|0)-(d[i>>2]|0)|0)/24|0;O=hn(e,t,i)|0;F=d[Me>>2]|0;K=(F-(d[i>>2]|0)|0)/24|0;if(!((O|0)!=(e|0)&(K|0)==(A+1|0))){if((K|0)==(A|0)){o=e;break e}else{ye=F;Re=K}while(1){we=ye;ye=ye+-24|0;do{be=we+-24|0;d[Me>>2]=be;Vc(be);we=d[Me>>2]|0}while((we|0)!=(ye|0));Re=Re+-1|0;if((Re|0)==(A|0)){o=e;break e}}}Q=i+16|0;d[l>>2]=d[i+12>>2];xs(s,F+-24|0,l);ee=i+20|0;te=d[ee>>2]|0;ie=d[i+24>>2]|0;if(te>>>0<ie>>>0){d[te+12>>2]=d[s+12>>2];d[te>>2]=d[s>>2];ne=s+4|0;d[te+4>>2]=d[ne>>2];ae=s+8|0;d[te+8>>2]=d[ae>>2];d[ae>>2]=0;d[ne>>2]=0;d[s>>2]=0;d[ee>>2]=(d[ee>>2]|0)+16}else{se=d[Q>>2]|0;le=te-se|0;ce=le>>4;ue=ce+1|0;if((le|0)<-16)Ef(Q);fe=ie-se|0;if(fe>>4>>>0<1073741823){he=fe>>3;r=he>>>0<ue>>>0?ue:he}else r=2147483647;vl(Ae,r,ce,i+28|0);de=Ae+8|0;me=d[de>>2]|0;d[me+12>>2]=d[s+12>>2];d[me>>2]=d[s>>2];ve=s+4|0;d[me+4>>2]=d[ve>>2];ge=s+8|0;d[me+8>>2]=d[ge>>2];d[ge>>2]=0;d[ve>>2]=0;d[s>>2]=0;d[de>>2]=me+16;Ga(Q,Ae);Cs(Ae)}ol(s);o=O;break e;break}case 68:{_e=da(e,t,i)|0;if((_e|0)==(e|0)){o=e;break e}xe=d[i+4>>2]|0;if((d[i>>2]|0)==(xe|0)){o=e;break e}Ee=i+16|0;d[$>>2]=d[i+12>>2];xs(J,xe+-24|0,$);Se=i+20|0;Te=d[Se>>2]|0;ke=d[i+24>>2]|0;if(Te>>>0<ke>>>0){d[Te+12>>2]=d[J+12>>2];d[Te>>2]=d[J>>2];c=J+4|0;d[Te+4>>2]=d[c>>2];u=J+8|0;d[Te+8>>2]=d[u>>2];d[u>>2]=0;d[c>>2]=0;d[J>>2]=0;d[Se>>2]=(d[Se>>2]|0)+16}else{h=d[Ee>>2]|0;p=Te-h|0;m=p>>4;v=m+1|0;if((p|0)<-16)Ef(Ee);g=ke-h|0;if(g>>4>>>0<1073741823){y=g>>3;a=y>>>0<v>>>0?v:y}else a=2147483647;vl(Ae,a,m,i+28|0);b=Ae+8|0;x=d[b>>2]|0;d[x+12>>2]=d[J+12>>2];d[x>>2]=d[J>>2];E=J+4|0;d[x+4>>2]=d[E>>2];M=J+8|0;d[x+8>>2]=d[M>>2];d[M>>2]=0;d[E>>2]=0;d[J>>2]=0;d[b>>2]=x+16;Ga(Ee,Ae);Cs(Ae)}ol(J);o=_e;break e;break}case 83:{S=Oi(e,t,i)|0;if((S|0)!=(e|0)){o=S;break e}if((t-e|0)<=2){o=e;break e}if((f[e+1>>0]|0)!=116){o=e;break e}T=e+2|0;k=Ri(T,t,i)|0;if((k|0)==(T|0)){o=e;break e}R=i+4|0;L=d[R>>2]|0;if((d[i>>2]|0)==(L|0)){o=e;break e}Ac(L+-24|0,0,12896)|0;P=i+16|0;C=(d[R>>2]|0)+-24|0;d[oe>>2]=d[i+12>>2];xs(re,C,oe);I=i+20|0;N=d[I>>2]|0;D=d[i+24>>2]|0;if(N>>>0<D>>>0){d[N+12>>2]=d[re+12>>2];d[N>>2]=d[re>>2];B=re+4|0;d[N+4>>2]=d[B>>2];U=re+8|0;d[N+8>>2]=d[U>>2];d[U>>2]=0;d[B>>2]=0;d[re>>2]=0;d[I>>2]=(d[I>>2]|0)+16}else{z=d[P>>2]|0;H=N-z|0;G=H>>4;V=G+1|0;if((H|0)<-16)Ef(P);j=D-z|0;if(j>>4>>>0<1073741823){W=j>>3;n=W>>>0<V>>>0?V:W}else n=2147483647;vl(Ae,n,G,i+28|0);X=Ae+8|0;q=d[X>>2]|0;d[q+12>>2]=d[re+12>>2];d[q>>2]=d[re>>2];Y=re+4|0;d[q+4>>2]=d[Y>>2];Z=re+8|0;d[q+8>>2]=d[Z>>2];d[Z>>2]=0;d[Y>>2]=0;d[re>>2]=0;d[X>>2]=q+16;Ga(P,Ae);Cs(Ae)}ol(re);o=k;break e;break}default:{o=e;break e}}}while(0);w=Le;return o|0}function vn(e,t,i,r,n,a,o,s,l){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=+o;s=s|0;l=l|0;var c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0.0,O=0.0,I=0.0,N=0.0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0.0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0,Pe=0,Ce=0,Oe=0,Ie=0,Ne=0,De=0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0;Ve=w;w=w+96|0;if((w|0)>=(_|0))pe();Be=Ve+56|0;ze=Ve+48|0;Ue=Ve+8|0;He=Ve;M=(r|0)==1;if(M){c=(e|0)/2|0;u=(t|0)/2|0;f=(n|0)/4|0;h=(a|0)/4|0}else{c=e;u=t;f=n;h=a}d[l>>2]=0;ne=i+8|0;ce=c+-2|0;de=u+-2|0;ve=i+1179664|0;e:do{if((d[ne>>2]|0)>0){_e=0;while(1){T=i+12+(_e<<2)|0;R=d[T>>2]|0;t:do{if(!((R|0)<(h|0)|(R|0)>(f|0))){U=i+131084+(_e<<4)|0;if((d[U>>2]|0)!=1)if((d[i+131084+(_e<<4)+4>>2]|0)!=(ce|0))if((d[i+131084+(_e<<4)+8>>2]|0)!=1)if((d[i+131084+(_e<<4)+12>>2]|0)!=(de|0))if((Nn(d[i>>2]|0,c,0,ve,_e+1|0,U,s+((d[l>>2]|0)*80048|0)|0)|0)>=0){Y=d[T>>2]|0;J=d[l>>2]|0;Z=s+(J*80048|0)+28|0;K=d[Z>>2]|0;Q=s+(J*80048|0)+40028|0;$=d[Q>>2]|0;ee=s+(J*80048|0)+24|0;te=(d[ee>>2]|0)+-1|0;if((te|0)>1){ye=0;be=1;Ie=0;while(1){ie=(d[s+(J*80048|0)+28+(be<<2)>>2]|0)-K|0;re=fe(ie,ie)|0;ae=(d[s+(J*80048|0)+40028+(be<<2)>>2]|0)-$|0;oe=(fe(ae,ae)|0)+re|0;se=(oe|0)>(ye|0);we=se?be:Ie;be=be+1|0;if((be|0)>=(te|0)){Oe=we;break}else{ye=se?oe:ye;Ie=we}}}else Oe=0;le=+(Y|0)/.75*.01*o;d[ze>>2]=0;d[He>>2]=0;i:do{if((Ca(Z,Q,0,Oe,le,Be,ze)|0)>=0)if((Ca(Z,Q,Oe,(d[ee>>2]|0)+-1|0,le,Ue,He)|0)>=0){ue=d[ze>>2]|0;he=d[He>>2]|0;do{if((ue|0)==1&(he|0)==1){Ne=d[Ue>>2]|0;De=d[Be>>2]|0;Fe=Oe}else{if((ue|0)>1&(he|0)==0){me=(Oe|0)/2|0;d[He>>2]=0;d[ze>>2]=0;if((Ca(Z,Q,0,me,le,Be,ze)|0)<0)break i;if((Ca(Z,Q,me,Oe,le,Ue,He)|0)<0)break i;if(!((d[ze>>2]|0)==1&(d[He>>2]|0)==1))break i;Ne=Oe;De=d[Be>>2]|0;Fe=d[Ue>>2]|0;break}if(!((ue|0)==0&(he|0)>1))break i;ge=(Oe+-1+(d[ee>>2]|0)|0)/2|0;d[He>>2]=0;d[ze>>2]=0;if((Ca(Z,Q,Oe,ge,le,Be,ze)|0)<0)break i;if((Ca(Z,Q,ge,(d[ee>>2]|0)+-1|0,le,Ue,He)|0)<0)break i;if(!((d[ze>>2]|0)==1&(d[He>>2]|0)==1))break i;Ne=d[Ue>>2]|0;De=Oe;Fe=d[Be>>2]|0}}while(0);d[s+(J*80048|0)+80028>>2]=0;d[s+(J*80048|0)+80032>>2]=De;d[s+(J*80048|0)+80036>>2]=Fe;d[s+(J*80048|0)+80040>>2]=Ne;d[s+(J*80048|0)+80044>>2]=(d[ee>>2]|0)+-1;d[s+((d[l>>2]|0)*80048|0)>>2]=d[T>>2];S=d[l>>2]|0;y[s+(S*80048|0)+8>>3]=+y[i+655376+(_e<<4)>>3];y[s+(S*80048|0)+16>>3]=+y[i+655376+(_e<<4)+8>>3];k=S+1|0;d[l>>2]=k;if((k|0)==60){b=60;break e}else break t}}while(0)}}}while(0);_e=_e+1|0;if((_e|0)>=(d[ne>>2]|0)){Ge=4;break}}}else Ge=4}while(0);if((Ge|0)==4)b=d[l>>2]|0;if((b|0)>0){P=b;xe=0;while(1){je=xe;xe=xe+1|0;A=s+(je*80048|0)+16|0;L=s+(je*80048|0)|0;if((xe|0)<(P|0)){C=+y[s+(je*80048|0)+8>>3];Se=xe;do{O=C-+y[s+(Se*80048|0)+8>>3];I=+y[A>>3]-+y[s+(Se*80048|0)+16>>3];N=O*O+I*I;D=d[L>>2]|0;F=s+(Se*80048|0)|0;B=d[F>>2]|0;if((D|0)>(B|0)){if(N<+((D|0)/4|0|0))d[F>>2]=0}else if(N<+((B|0)/4|0|0))d[L>>2]=0;Se=Se+1|0;x=d[l>>2]|0}while((Se|0)<(x|0));v=x}else v=P;if((xe|0)>=(v|0)){g=v;break}else P=v}}else g=b;if((g|0)>0){z=g;Ee=0;while(1){if(!(d[s+(Ee*80048|0)>>2]|0)){Re=Ee+1|0;if((Re|0)<(z|0)){ke=Ee;Le=Re;while(1){il(s+(ke*80048|0)|0,s+(Le*80048|0)|0,80048)|0;E=d[l>>2]|0;Te=Le+1|0;if((Te|0)<(E|0)){Ae=Le;Le=Te;ke=Ae}else{p=E;break}}}else p=z;H=p+-1|0;d[l>>2]=H;G=H}else G=z;Ee=Ee+1|0;if((Ee|0)>=(G|0)){m=G;break}else z=G}}else m=g;if(M&(m|0)>0){Me=0;Ce=s;while(1){d[Ce>>2]=d[Ce>>2]<<2;V=Ce+8|0;y[V>>3]=+y[V>>3]*2.0;j=Ce+16|0;y[j>>3]=+y[j>>3]*2.0;W=Ce+24|0;if((d[W>>2]|0)>0){Pe=0;do{X=Ce+28+(Pe<<2)|0;d[X>>2]=d[X>>2]<<1;q=Ce+40028+(Pe<<2)|0;d[q>>2]=d[q>>2]<<1;Pe=Pe+1|0}while((Pe|0)<(d[W>>2]|0))}Me=Me+1|0;if((Me|0)>=(d[l>>2]|0))break;else Ce=Ce+80048|0}}w=Ve;return 0}function gn(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;var s=0,l=0,c=0,u=0,f=0,h=0,m=0,v=0,g=0,b=0,x=0.0,E=0,M=0,S=0,T=0,k=0,A=0.0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0.0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0.0,J=0,Z=0,K=0,Q=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0.0,Ae=0.0,Re=0.0,Le=0.0,Pe=0.0,Ce=0.0,Oe=0.0,Ie=0.0,Ne=0.0,De=0.0,Fe=0,Be=0,Ue=0,ze=0,He=0,Ge=0,Ve=0,je=0,We=0,Xe=0,qe=0,Ye=0,Je=0,Ze=0,Ke=0,Qe=0,$e=0,et=0,tt=0,it=0,rt=0.0,nt=0,at=0,ot=0,st=0.0,lt=0,ct=0,ut=0,ft=0,ht=0,dt=0,pt=0;pt=w;w=w+16|0;if((w|0)>=(_|0))pe();ht=pt+8|0;ft=pt;e:do{if(!e){d[n>>2]=0;d[a>>2]=0;y[o>>3]=-1.0;s=-1}else switch(t|0){case 0:{u=fe(r,r)|0;S=u*3|0;I=xi(u*12|0)|0;if(!I){Ha(3,5471,ft);Wt(1)}if(!u)te=0;else{ie=0;ae=0;while(1){g=((p[i+ae>>0]|0)^255)+ie|0;ae=ae+1|0;if((ae|0)>=(S|0)){te=g;break}else ie=g}}M=(te|0)/(S|0)|0;if(!u)rt=0.0;else{oe=0;nt=0;while(1){T=((p[i+oe>>0]|0)^255)-M|0;d[I+(oe<<2)>>2]=T;k=(fe(T,T)|0)+nt|0;oe=oe+1|0;if((oe|0)>=(S|0)){l=k;break}else nt=k}rt=+(l|0)}A=+$(+rt);if(A/(+(r|0)*1.7320508)<15.0){d[n>>2]=0;d[a>>2]=0;y[o>>3]=-1.0;cn(I);s=-2;break e}R=d[e>>2]|0;L=e+12|0;P=e+16|0;if((R|0)>0){C=d[e+8>>2]|0;O=(u|0)==0;me=-1;Se=0;Ae=0.0;Be=-1;Ye=-1;while(1){ge=me;t:while(1){ve=ge+1|0;switch(d[C+(ve<<2)>>2]|0){case 0:{ge=ve;break}case 2:{be=ve;Pe=Ae;He=Be;Ke=Ye;break t;break}default:{ye=ve;dt=17;break t}}}if((dt|0)==17){dt=0;N=ye<<2;D=d[P>>2]|0;he=0;Re=Ae;Ue=Be;Je=Ye;while(1){F=he+N|0;if(O)at=0;else{B=d[(d[L>>2]|0)+(F<<2)>>2]|0;se=0;ot=0;while(1){U=(fe(d[B+(se<<2)>>2]|0,d[I+(se<<2)>>2]|0)|0)+ot|0;se=se+1|0;if((se|0)>=(S|0)){at=U;break}else ot=U}}z=+(at|0)/+y[D+(F<<3)>>3]/A;H=z>Re;ze=H?he:Ue;Ze=H?ye:Je;Le=H?z:Re;he=he+1|0;if((he|0)==4){be=ye;Pe=Le;He=ze;Ke=Ze;break}else{Re=Le;Ue=ze;Je=Ze}}}Se=Se+1|0;if((Se|0)>=(R|0)){ke=Pe;Fe=He;qe=Ke;break}else{me=be;Ae=Pe;Be=He;Ye=Ke}}}else{ke=0.0;Fe=-1;qe=-1}d[a>>2]=Fe;d[n>>2]=qe;y[o>>3]=ke;cn(I);s=0;break e;break}case 1:{G=fe(r,r)|0;V=xi(G<<2)|0;if(!V){Ha(3,5471,ht);Wt(1)}if(!G)re=0;else{ne=0;le=0;while(1){j=((p[i+le>>0]|0)^255)+ne|0;le=le+1|0;if((le|0)>=(G|0)){re=j;break}else ne=j}}W=(re|0)/(G|0)|0;if(!G)st=0.0;else{ce=0;lt=0;while(1){X=((p[i+ce>>0]|0)^255)-W|0;d[V+(ce<<2)>>2]=X;q=(fe(X,X)|0)+lt|0;ce=ce+1|0;if((ce|0)>=(G|0)){c=q;break}else lt=q}st=+(c|0)}Y=+$(+st);if(Y/+(r|0)<15.0){d[n>>2]=0;d[a>>2]=0;y[o>>3]=-1.0;cn(V);s=-2;break e}J=d[e>>2]|0;Z=e+20|0;K=e+24|0;if((J|0)>0){Q=d[e+8>>2]|0;ee=(G|0)==0;we=-1;Te=0;Oe=0.0;Ve=-1;$e=-1;while(1){xe=we;t:while(1){_e=xe+1|0;switch(d[Q+(_e<<2)>>2]|0){case 0:{xe=_e;break}case 2:{Me=_e;De=Oe;Xe=Ve;it=$e;break t;break}default:{Ee=_e;dt=37;break t}}}if((dt|0)==37){dt=0;f=Ee<<2;h=d[K>>2]|0;de=0;Ie=Oe;je=Ve;et=$e;while(1){m=de+f|0;if(ee)ct=0;else{v=d[(d[Z>>2]|0)+(m<<2)>>2]|0;ue=0;ut=0;while(1){b=(fe(d[v+(ue<<2)>>2]|0,d[V+(ue<<2)>>2]|0)|0)+ut|0;ue=ue+1|0;if((ue|0)>=(G|0)){ct=b;break}else ut=b}}x=+(ct|0)/+y[h+(m<<3)>>3]/Y;E=x>Ie;We=E?de:je;tt=E?Ee:et;Ne=E?x:Ie;de=de+1|0;if((de|0)==4){Me=Ee;De=Ne;Xe=We;it=tt;break}else{Ie=Ne;je=We;et=tt}}}Te=Te+1|0;if((Te|0)>=(J|0)){Ce=De;Ge=Xe;Qe=it;break}else{we=Me;Oe=De;Ve=Xe;$e=it}}}else{Ce=0.0;Ge=-1;Qe=-1}d[a>>2]=Ge;d[n>>2]=Qe;y[o>>3]=Ce;cn(V);s=0;break e;break}default:{s=-1;break e}}}while(0);w=pt;return s|0}function yn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0.0,R=0.0,L=0,P=0.0,C=0,O=0,I=0,N=0,D=0,F=0,B=0.0,U=0.0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0;xe=w;w=w+2544|0;if((w|0)>=(_|0))pe();ye=xe+208|0;ge=xe+200|0;me=xe+184|0;de=xe+176|0;he=xe+168|0;fe=xe+152|0;ue=xe+144|0;ce=xe+136|0;le=xe+128|0;se=xe+120|0;oe=xe+112|0;ae=xe+104|0;ne=xe+96|0;be=xe+88|0;ve=xe+80|0;re=xe+72|0;ie=xe+64|0;we=xe;H=xe+2280|0;Z=xe+232|0;G=xe+224|0;J=xe+220|0;ee=xe+216|0;te=xe+212|0;r=Zo(e,5306)|0;e:do{if(!r){d[ie>>2]=e;Ha(3,5308,ie);m=Ju()|0;E=ms(d[m>>2]|0)|0;d[re>>2]=13809;d[re+4>>2]=E;Ha(3,5361,re);i=0}else{Ml(H,r);d[ve>>2]=J;if((zc(H,5367,ve)|0)!=1){d[be>>2]=e;Ha(3,5370,be);ml(r)|0;i=0;break}L=d[J>>2]|0;z=xi(L*320|0)|0;if(!z){Ha(3,5471,ne);Wt(1)}a=we+8|0;s=we+16|0;l=we+24|0;c=we+32|0;u=we+40|0;f=we+48|0;h=we+56|0;p=(t|0)==0;t:do{if((L|0)>0){V=0;Q=0;i:while(1){Ml(H,r);v=z+(V*320|0)|0;g=z+(V*320|0)+312|0;d[ae>>2]=g;d[ae+4>>2]=G;if((zc(H,5488,ae)|0)==1){x=d[g>>2]|0;d[v>>2]=(x&-32768|0)==0&0==0?x&32767:0;d[z+(V*320|0)+4>>2]=1;$=Q|2}else{if(p){_e=10;break}if(!(kl(Z,e,2048,1)|0)){_e=12;break}El(Z,H,2047-(Uo(Z)|0)|0)|0;b=Po(t,Z)|0;d[v>>2]=b;if((b|0)<0){_e=14;break}d[z+(V*320|0)+4>>2]=0;$=Q|1}Ml(H,r);M=z+(V*320|0)+8|0;d[ce>>2]=M;if((zc(H,5784,ce)|0)!=1){j=V;_e=18;break}Ml(H,r);S=z+(V*320|0)+16|0;T=z+(V*320|0)+24|0;k=z+(V*320|0)+40|0;d[fe>>2]=S;d[fe+4>>2]=T;d[fe+8>>2]=z+(V*320|0)+32;d[fe+12>>2]=k;if((zc(H,5893,fe)|0)==4)q=1;else{d[he>>2]=ee;d[he+4>>2]=te;if((zc(H,5909,he)|0)==2)q=0;else{W=V;_e=21;break}}do{Ml(H,r);d[me>>2]=z+(V*320|0)+16+(q<<5);d[me+4>>2]=z+(V*320|0)+16+(q<<5)+8;d[me+8>>2]=z+(V*320|0)+16+(q<<5)+16;d[me+12>>2]=z+(V*320|0)+16+(q<<5)+24;if((zc(H,5893,me)|0)!=4){X=V;_e=23;break i}q=q+1|0}while((q|0)<3);qa(S,z+(V*320|0)+112|0)|0;A=+y[M>>3];R=A*-.5;y[we>>3]=R;P=A*.5;y[a>>3]=P;y[s>>3]=P;y[l>>3]=P;y[c>>3]=P;y[u>>3]=R;y[f>>3]=R;y[h>>3]=R;C=z+(V*320|0)+48|0;O=z+(V*320|0)+56|0;I=z+(V*320|0)+72|0;N=z+(V*320|0)+80|0;D=z+(V*320|0)+88|0;F=z+(V*320|0)+104|0;Y=0;do{B=+y[we+(Y<<4)>>3];U=+y[we+(Y<<4)+8>>3];y[z+(V*320|0)+208+(Y*24|0)>>3]=+y[k>>3]+(+y[S>>3]*B+ +y[T>>3]*U);y[z+(V*320|0)+208+(Y*24|0)+8>>3]=+y[I>>3]+(+y[C>>3]*B+ +y[O>>3]*U);y[z+(V*320|0)+208+(Y*24|0)+16>>3]=+y[F>>3]+(+y[N>>3]*B+ +y[D>>3]*U);Y=Y+1|0}while((Y|0)!=4);V=V+1|0;if((V|0)>=(d[J>>2]|0)){K=$;break t}else Q=$}if((_e|0)==10){d[oe>>2]=e;d[oe+4>>2]=H;Ha(3,5495,oe)}else if((_e|0)==12){d[se>>2]=e;Ha(3,5623,se)}else if((_e|0)==14){d[le>>2]=e;d[le+4>>2]=Z;Ha(3,5707,le)}else if((_e|0)==18){d[ue>>2]=e;d[ue+4>>2]=j+1;Ha(3,5788,ue)}else if((_e|0)==21){d[de>>2]=e;d[de+4>>2]=W+1;Ha(3,5915,de)}else if((_e|0)==23){d[ge>>2]=e;d[ge+4>>2]=X+1;Ha(3,5915,ge)}ml(r)|0;cn(z);i=0;break e}else K=0}while(0);ml(r)|0;n=xi(136)|0;if(!n){Ha(3,5471,ye);Wt(1)}d[n>>2]=z;d[n+4>>2]=d[J>>2];d[n+104>>2]=0;do{if((K&3|0)==3)d[n+108>>2]=2;else{o=n+108|0;if(!(K&1)){d[o>>2]=1;break}else{d[o>>2]=0;break}}}while(0);y[n+112>>3]=.5;y[n+120>>3]=.5;i=n}}while(0);w=xe;return i|0}function bn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0;a=e;o=t;s=o;l=i;c=r;u=c;if(!s){f=(n|0)!=0;if(!u){if(f){d[n>>2]=(a>>>0)%(l>>>0);d[n+4>>2]=0}ae=0;ne=(a>>>0)/(l>>>0)>>>0;return(H=ae,ne)|0}else{if(!f){ae=0;ne=0;return(H=ae,ne)|0}d[n>>2]=e|0;d[n+4>>2]=t&0;ae=0;ne=0;return(H=ae,ne)|0}}h=(u|0)==0;do{if(!l){if(h){if(n){d[n>>2]=(s>>>0)%(l>>>0);d[n+4>>2]=0}ae=0;ne=(s>>>0)/(l>>>0)>>>0;return(H=ae,ne)|0}if(!a){if(n){d[n>>2]=0;d[n+4>>2]=(s>>>0)%(u>>>0)}ae=0;ne=(s>>>0)/(u>>>0)>>>0;return(H=ae,ne)|0}p=u-1|0;if(!(p&u)){if(n){d[n>>2]=e|0;d[n+4>>2]=p&s|t&0}ae=0;ne=s>>>((bc(u|0)|0)>>>0);return(H=ae,ne)|0}m=(de(u|0)|0)-(de(s|0)|0)|0;if(m>>>0<=30){v=m+1|0;g=31-m|0;I=v;O=s<<g|a>>>(v>>>0);C=s>>>(v>>>0);P=0;L=a<<g;break}if(!n){ae=0;ne=0;return(H=ae,ne)|0}d[n>>2]=e|0;d[n+4>>2]=o|t&0;ae=0;ne=0;return(H=ae,ne)|0}else{if(!h){T=(de(u|0)|0)-(de(s|0)|0)|0;if(T>>>0<=31){k=T+1|0;A=31-T|0;R=T-31>>31;I=k;O=a>>>(k>>>0)&R|s<<A;C=s>>>(k>>>0)&R;P=0;L=a<<A;break}if(!n){ae=0;ne=0;return(H=ae,ne)|0}d[n>>2]=e|0;d[n+4>>2]=o|t&0;ae=0;ne=0;return(H=ae,ne)|0}y=l-1|0;if(y&l){w=(de(l|0)|0)+33-(de(s|0)|0)|0;_=64-w|0;x=32-w|0;E=x>>31;M=w-32|0;S=M>>31;I=w;O=x-1>>31&s>>>(M>>>0)|(s<<x|a>>>(w>>>0))&S;C=S&s>>>(w>>>0);P=a<<_&E;L=(s<<_|a>>>(M>>>0))&E|a<<x&w-33>>31;break}if(n){d[n>>2]=y&a;d[n+4>>2]=0}if((l|0)==1){ae=o|t&0;ne=e|0|0;return(H=ae,ne)|0}else{b=bc(l|0)|0;ae=s>>>(b>>>0)|0;ne=s<<32-b|a>>>(b>>>0)|0;return(H=ae,ne)|0}}}while(0);if(!I){te=L;ee=P;$=C;Q=O;K=0;Z=0}else{N=i|0|0;D=c|r&0;F=Ku(N|0,D|0,-1,-1)|0;B=H;W=L;j=P;V=C;G=O;z=I;U=0;do{oe=W;W=j>>>31|W<<1;j=U|j<<1;X=G<<1|oe>>>31|0;q=G>>>31|V<<1|0;_u(F,B,X,q)|0;Y=H;J=Y>>31|((Y|0)<0?-1:0)<<1;U=J&1;G=_u(X,q,J&N,(((Y|0)<0?-1:0)>>31|((Y|0)<0?-1:0)<<1)&D)|0;V=H;z=z-1|0}while((z|0)!=0);te=W;ee=j;$=V;Q=G;K=0;Z=U}ie=ee;re=0;if(n){d[n>>2]=Q;d[n+4>>2]=$}ae=(ie|0)>>>31|(te|re)<<1|(re<<1|ie>>>31)&0|K;ne=(ie<<1|0>>>31)&-2|Z;return(H=ae,ne)|0}function wn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0.0,o=0.0,s=0.0,l=0,c=0,u=0,f=0,h=0,p=0,m=0.0,v=0.0,g=0.0,b=0.0,x=0.0,E=0.0,M=0.0,S=0.0,T=0.0,k=0.0,A=0.0,R=0.0,L=0.0,P=0.0,C=0.0,O=0.0,I=0.0,N=0.0,D=0.0,F=0.0,B=0.0,U=0.0,z=0.0,H=0.0,G=0.0,V=0.0,j=0.0,W=0.0,X=0,q=0.0,Y=0.0,J=0.0,Z=0.0,K=0.0,Q=0.0,$=0.0,ee=0.0,te=0.0,ie=0.0,re=0.0,ne=0.0,ae=0,oe=0.0,se=0.0,le=0.0,ce=0.0,ue=0.0,fe=0.0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0;Ae=w;w=w+1072|0;if((w|0)>=(_|0))pe();Te=Ae+1056|0;we=Ae+768|0;ge=Ae+192|0;be=Ae+48|0;ye=Ae;o=+y[i>>3];s=+y[r>>3];G=o*s;ne=+y[i+8>>3];ae=r+8|0;se=+y[ae>>3];le=ne*se;fe=+y[i+16>>3];m=+y[r+16>>3];b=fe*m;A=+y[i+24>>3];N=+y[i+32>>3];z=+y[i+40>>3];H=se*z;q=+y[i+48>>3];Z=m*q;K=+y[i+56>>3];Q=+y[i+64>>3];$=+y[i+72>>3];ee=se*$;te=+y[i+80>>3];ie=m*te;re=+y[i+88>>3];y[we>>3]=G;y[we+8>>3]=o*se;y[we+16>>3]=o*m;y[we+24>>3]=s*ne;y[we+32>>3]=le;y[we+40>>3]=m*ne;y[we+48>>3]=s*fe;y[we+56>>3]=se*fe;y[we+64>>3]=b;y[we+72>>3]=o;y[we+80>>3]=ne;y[we+88>>3]=fe;oe=s*N;y[we+96>>3]=oe;y[we+104>>3]=se*N;y[we+112>>3]=m*N;y[we+120>>3]=s*z;y[we+128>>3]=H;y[we+136>>3]=m*z;y[we+144>>3]=s*q;y[we+152>>3]=se*q;y[we+160>>3]=Z;y[we+168>>3]=N;y[we+176>>3]=z;y[we+184>>3]=q;ce=Q*s;y[we+192>>3]=ce;y[we+200>>3]=se*Q;y[we+208>>3]=m*Q;y[we+216>>3]=s*$;ue=+y[ae>>3];y[we+224>>3]=$*ue;y[we+232>>3]=m*$;y[we+240>>3]=s*te;y[we+248>>3]=ue*te;y[we+256>>3]=ie;y[we+264>>3]=Q;y[we+272>>3]=$;y[we+280>>3]=te;he=ge+64|0;ke=ge;Re=ke+64|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[he>>3]=-1.0;de=ge+72|0;d[de>>2]=0;d[de+4>>2]=0;d[de+8>>2]=0;d[de+12>>2]=0;d[de+16>>2]=0;d[de+20>>2]=0;d[de+24>>2]=0;d[de+28>>2]=0;y[ge+104>>3]=1.0;me=ge+160|0;ke=ge+112|0;Re=ke+48|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[me>>3]=1.0;ve=ge+240|0;ke=ge+168|0;Re=ke+72|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[ve>>3]=-1.0;l=ge+296|0;ke=ge+248|0;Re=ke+48|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[l>>3]=-1.0;c=ge+304|0;d[c>>2]=0;d[c+4>>2]=0;d[c+8>>2]=0;d[c+12>>2]=0;d[c+16>>2]=0;d[c+20>>2]=0;d[c+24>>2]=0;d[c+28>>2]=0;y[ge+336>>3]=1.0;u=ge+456|0;ke=ge+344|0;Re=ke+112|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[u>>3]=1.0;f=ge+512|0;ke=ge+464|0;Re=ke+48|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[f>>3]=1.0;h=ge+568|0;ke=ge+520|0;Re=ke+48|0;do{d[ke>>2]=0;ke=ke+4|0}while((ke|0)<(Re|0));y[h>>3]=1.0;Ee=0;do{_e=0;do{p=be+(Ee*48|0)+(_e<<3)|0;y[p>>3]=0.0;g=0.0;Se=0;while(1){v=g+ +y[we+(Ee*96|0)+(Se<<3)>>3]*+y[ge+(Se*48|0)+(_e<<3)>>3];Se=Se+1|0;if((Se|0)==12){a=v;break}else g=v}y[p>>3]=a;_e=_e+1|0}while((_e|0)!=6);Ee=Ee+1|0}while((Ee|0)!=3);x=A+(G+le+b);E=K+(oe+H+Z);M=re+(ce+ee+ie);S=+y[t>>3];T=+y[t+8>>3];k=+y[t+16>>3];R=+y[t+24>>3]+(x*S+E*T+M*k);L=+y[t+32>>3];P=+y[t+40>>3];C=+y[t+48>>3];O=+y[t+56>>3]+(x*L+E*P+M*C);I=+y[t+64>>3];D=+y[t+72>>3];F=+y[t+80>>3];B=+y[t+88>>3]+(x*I+E*D+M*F);if(B==0.0){Ha(3,5089,Te);n=-1}else{U=B*B;y[ye>>3]=(S*B-R*I)/U;y[ye+8>>3]=(B*T-R*D)/U;y[ye+16>>3]=(B*k-R*F)/U;y[ye+24>>3]=(B*L-O*I)/U;y[ye+32>>3]=(B*P-O*D)/U;y[ye+40>>3]=(B*C-O*F)/U;Me=0;do{V=+y[ye+(Me*24|0)>>3];j=+y[ye+(Me*24|0)+8>>3];W=+y[ye+(Me*24|0)+16>>3];xe=0;do{X=e+(Me*48|0)+(xe<<3)|0;y[X>>3]=0.0;Y=V*+y[be+(xe<<3)>>3]+0.0;y[X>>3]=Y;J=Y+j*+y[be+48+(xe<<3)>>3];y[X>>3]=J;y[X>>3]=J+W*+y[be+96+(xe<<3)>>3];xe=xe+1|0}while((xe|0)!=6);Me=Me+1|0}while((Me|0)!=2);n=0}w=Ae;return n|0}function _n(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0;oe=w;w=w+128|0;if((w|0)>=(_|0))pe();re=oe+108|0;ne=oe+104|0;l=oe+80|0;c=oe+64|0;k=oe+52|0;ae=oe+48|0;L=oe+24|0;O=oe+12|0;F=oe;e:do{if((t-e|0)>2)if((f[e>>0]|0)==102){switch(f[e+1>>0]|0){case 112:{S=ds(e+2|0,t,ne)|0;T=Ms(S,t)|0;if((T|0)==(t|0)){r=e;break e}if((f[T>>0]|0)!=95){r=e;break e}A=T-S|0;if(A>>>0>4294967279)bf(k);if(A>>>0<11){f[k>>0]=A<<1;te=k+1|0}else{R=A+16&-16;P=xi(R)|0;d[k+8>>2]=P;d[k>>2]=R|1;d[k+4>>2]=A;te=P}if((S|0)!=(T|0)){s=S;$=te;while(1){f[$>>0]=f[s>>0]|0;s=s+1|0;if((s|0)==(T|0))break;else $=$+1|0}}f[te+A>>0]=0;C=Ac(k,0,14123)|0;d[c>>2]=d[C>>2];d[c+4>>2]=d[C+4>>2];d[c+8>>2]=d[C+8>>2];d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;Kl(l,c);I=i+4|0;N=d[I>>2]|0;D=d[i+8>>2]|0;if(N>>>0<D>>>0){Pl(N,l);d[I>>2]=(d[I>>2]|0)+24}else{B=d[i>>2]|0;U=N-B|0;z=(U|0)/24|0;H=z+1|0;if((U|0)<-24)Ef(i);G=(D-B|0)/24|0;if(G>>>0<1073741823){V=G<<1;n=V>>>0<H>>>0?H:V}else n=2147483647;_l(re,n,z,i+12|0);j=re+8|0;W=d[j>>2]|0;Pl(W,l);d[j>>2]=W+24;Bo(i,re);al(re)}Vc(l);Lu(c);Lu(k);r=T+1|0;break e;break}case 76:break;default:{r=e;break e}}X=Ms(e+2|0,t)|0;if((X|0)==(t|0))r=e;else if((f[X>>0]|0)==112){q=ds(X+1|0,t,ae)|0;Y=Ms(q,t)|0;if((Y|0)==(t|0))r=e;else if((f[Y>>0]|0)==95){J=Y-q|0;if(J>>>0>4294967279)bf(F);if(J>>>0<11){f[F>>0]=J<<1;ie=F+1|0}else{Z=J+16&-16;K=xi(Z)|0;d[F+8>>2]=K;d[F>>2]=Z|1;d[F+4>>2]=J;ie=K}if((q|0)!=(Y|0)){o=q;ee=ie;while(1){f[ee>>0]=f[o>>0]|0;o=o+1|0;if((o|0)==(Y|0))break;else ee=ee+1|0}}f[ie+J>>0]=0;Q=Ac(F,0,14123)|0;d[O>>2]=d[Q>>2];d[O+4>>2]=d[Q+4>>2];d[O+8>>2]=d[Q+8>>2];d[Q>>2]=0;d[Q+4>>2]=0;d[Q+8>>2]=0;Kl(L,O);u=i+4|0;h=d[u>>2]|0;p=d[i+8>>2]|0;if(h>>>0<p>>>0){Pl(h,L);d[u>>2]=(d[u>>2]|0)+24}else{m=d[i>>2]|0;v=h-m|0;g=(v|0)/24|0;y=g+1|0;if((v|0)<-24)Ef(i);b=(p-m|0)/24|0;if(b>>>0<1073741823){x=b<<1;a=x>>>0<y>>>0?y:x}else a=2147483647;_l(re,a,g,i+12|0);E=re+8|0;M=d[E>>2]|0;Pl(M,L);d[E>>2]=M+24;Bo(i,re);al(re)}Vc(L);Lu(O);Lu(F);r=Y+1|0}else r=e}else r=e}else r=e;else r=e}while(0);w=oe;return r|0}function xn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0.0,c=0.0,u=0,f=0,h=0,p=0,m=0,v=0.0,g=0.0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0.0,J=0.0,Z=0,K=0.0,Q=0,$=0.0,ee=0,te=0.0,ie=0.0,re=0.0,ne=0,ae=0.0,oe=0.0,se=0.0,le=0,ce=0,ue=0.0,fe=0.0,he=0.0,de=0.0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0;Re=w;w=w+192|0;if((w|0)>=(_|0))pe();ke=Re+184|0;Te=Re+176|0;Se=Re+168|0;Me=Re+160|0;le=Re+48|0;Ee=Re+64|0;ce=Re;f=t+8|0;h=d[f>>2]|0;do{if((h|0)<4)o=-1;else{ne=~~(+(h|0)*+y[e+128>>3])+-1|0;a=(ne|0)<3?3:ne;b=xi(h*96|0)|0;if(!b){Ha(3,5109,Me);o=-1;break}R=xi(h<<4)|0;if(!R){Ha(3,5109,Se);cn(b);o=-1;break}N=h<<3;D=xi(N)|0;if(!D){Ha(3,5109,Te);cn(b);cn(R);o=-1;break}B=xi(N)|0;if(!B){Ha(3,5109,ke);cn(b);cn(R);cn(D);o=-1;break}else ve=0;do{y[r+(ve<<5)>>3]=+y[i+(ve<<5)>>3];y[r+(ve<<5)+8>>3]=+y[i+(ve<<5)+8>>3];y[r+(ve<<5)+16>>3]=+y[i+(ve<<5)+16>>3];y[r+(ve<<5)+24>>3]=+y[i+(ve<<5)+24>>3];ve=ve+1|0}while((ve|0)!=3);U=t+4|0;z=le+8|0;H=B+(a<<3)|0;G=e+104|0;V=e+120|0;j=e+112|0;W=e+96|0;ue=0.0;me=0;e:while(1){Hs(e,r,Ee)|0;X=d[f>>2]|0;if((X|0)>0){ge=0;while(1){if((_s(le,Ee,(d[U>>2]|0)+(ge*24|0)|0)|0)<0){Ae=14;break e}q=d[t>>2]|0;Y=+y[q+(ge<<4)>>3]-+y[le>>3];J=+y[q+(ge<<4)+8>>3]-+y[z>>3];Z=ge<<1;y[R+(Z<<3)>>3]=Y;y[R+((Z|1)<<3)>>3]=J;K=Y*Y+J*J;y[B+(ge<<3)>>3]=K;y[D+(ge<<3)>>3]=K;ge=ge+1|0;Q=d[f>>2]|0;if((ge|0)>=(Q|0)){s=Q;break}}}else s=X;Tn(B,s,8,1);$=+y[H>>3]*4.0;se=$<16.0?16.0:$;ee=d[f>>2]|0;te=se/6.0;if((ee|0)>0){he=0.0;ye=0;while(1){ie=+y[B+(ye<<3)>>3];if(ie>se)c=te;else{re=1.0-ie/se;c=te*(1.0-re*(re*re))}de=he+c;ye=ye+1|0;if((ye|0)>=(ee|0)){fe=de;break}else he=de}}else fe=0.0;ae=fe/+(ee|0);if(ae<+y[G>>3]){l=ae;Ae=36;break}if((me|0)>0)if(ae<+y[V>>3])if(ae/ue>+y[j>>3]){l=ae;Ae=36;break}if((me|0)==(d[W>>2]|0)){l=ae;Ae=36;break}if((ee|0)>0){F=ee;be=0;_e=0;while(1){oe=+y[D+(be<<3)>>3];if(!(oe<=se)){u=F;xe=_e}else{p=_e*6|0;m=b+(p<<3)|0;if((wn(m,e,r,(d[U>>2]|0)+(be*24|0)|0)|0)<0){Ae=28;break e}v=1.0-oe/se;g=v*v;y[m>>3]=+y[m>>3]*g;x=b+((p|1)<<3)|0;y[x>>3]=+y[x>>3]*g;E=b+(p+2<<3)|0;y[E>>3]=g*+y[E>>3];M=b+(p+3<<3)|0;y[M>>3]=g*+y[M>>3];S=b+(p+4<<3)|0;y[S>>3]=g*+y[S>>3];T=b+(p+5<<3)|0;y[T>>3]=g*+y[T>>3];k=b+(p+6<<3)|0;y[k>>3]=g*+y[k>>3];A=b+(p+7<<3)|0;y[A>>3]=g*+y[A>>3];L=b+(p+8<<3)|0;y[L>>3]=g*+y[L>>3];P=b+(p+9<<3)|0;y[P>>3]=g*+y[P>>3];C=b+(p+10<<3)|0;y[C>>3]=g*+y[C>>3];O=b+(p+11<<3)|0;y[O>>3]=g*+y[O>>3];I=be<<1;y[R+(_e<<3)>>3]=g*+y[R+(I<<3)>>3];y[R+(_e+1<<3)>>3]=g*+y[R+((I|1)<<3)>>3];u=d[f>>2]|0;xe=_e+2|0}be=be+1|0;if((be|0)>=(u|0)){we=xe;break}else{F=u;_e=xe}}}else we=0;if((we|0)<6){Ae=32;break}if((uo(ce,R,b,we)|0)<0){Ae=34;break}ca(r,ce)|0;ue=ae;me=me+1|0}if((Ae|0)==14){Yu(b,R,D,B);o=-1;break}else if((Ae|0)==28){Yu(b,R,D,B);o=-1;break}else if((Ae|0)==32){Yu(b,R,D,B);o=-1;break}else if((Ae|0)==34){Yu(b,R,D,B);o=-1;break}else if((Ae|0)==36){y[n>>3]=l;cn(b);cn(R);cn(D);cn(B);o=0;break}}}while(0);w=Re;return o|0}function En(e,t,i,r,n,a){e=e|0;t=+t;i=+i;r=r|0;n=n|0;a=a|0;var o=0,s=0.0,l=0.0,c=0.0,u=0.0,f=0,h=0.0,d=0.0,p=0.0,m=0.0,v=0.0,g=0.0,b=0.0,w=0.0,_=0.0,x=0.0,E=0,M=0.0,S=0.0,T=0,k=0.0,A=0.0,R=0.0,L=0.0,P=0.0,C=0.0,O=0.0,I=0.0,N=0.0,D=0.0,F=0,B=0.0,U=0.0,z=0.0,H=0.0,G=0,V=0.0,j=0.0,W=0.0,X=0.0,q=0.0,Y=0.0,J=0.0,Z=0.0,K=0.0,Q=0,ee=0.0,te=0.0,ie=0.0,re=0.0,ne=0.0,ae=0.0,oe=0.0,se=0.0,le=0.0,ce=0.0,ue=0.0,fe=0,he=0,de=0,pe=0,me=0.0,ve=0.0,ge=0.0,ye=0.0,be=0.0,we=0.0,_e=0.0,xe=0.0,Ee=0.0,Me=0.0,Se=0.0,Te=0.0,ke=0.0,Ae=0.0,Re=0.0,Le=0.0,Pe=0.0,Ce=0.0,Oe=0.0,Ie=0.0,Ne=0.0,De=0.0,Fe=0.0,Be=0.0;switch(a|0){case 4:{s=+y[e>>3];B=+y[e+8>>3];ae=+y[e+16>>3];le=+y[e+24>>3];ue=+y[e+32>>3];l=+y[e+40>>3];w=+y[e+48>>3];x=+y[e+56>>3];A=+y[e+64>>3];N=(t-w)/ue;U=(i-x)/l;V=N*N;J=U*U;K=ae*2.0;ee=le*6.0;te=le*2.0;ie=ae*6.0;e:do{if(J!=0.0|V!=0.0){fe=1;me=N;Ee=U;Pe=V;Ce=J;while(1){re=Ce+Pe;ne=s*re+1.0+re*(B*re);oe=Pe*3.0;se=Ce*oe;me=me-(le*(re+Pe*2.0)+(Ee*(K*me)+me*ne)-N)/(ee*me+(K*Ee+(s*(Ce+oe)+1.0+B*(Ce*Ce+(Pe*(Pe*5.0)+se)))));ce=te*me;Ee=Ee-(ae*(Ce*2.0+re)+Ee*ne+Ee*ce-U)/(ie*Ee+(s*(Pe+Ce*3.0)+1.0+B*(Ce*(Ce*5.0)+(Pe*Pe+se)))+ce);if((fe|0)==4){ve=me;Me=Ee;break e}Pe=me*me;Ce=Ee*Ee;if(!(Ce!=0.0|Pe!=0.0)){ve=0.0;Me=0.0;break}else fe=fe+1|0}}else{ve=0.0;Me=0.0}}while(0);y[r>>3]=w+ue*ve/A;y[n>>3]=x+l*Me/A;o=0;break}case 3:{c=+y[e>>3];u=(t-c)/+y[e+24>>3];f=e+8|0;h=i-+y[f>>3];d=+y[e+32>>3]/1.0e8;p=+y[e+40>>3]/1.0e8/1.0e5;m=u*u+h*h;v=+$(+m);g=d*3.0;b=p*5.0;e:do{if(v!=0.0){pe=1;_e=u;Re=h;Oe=v;Ne=m;while(1){_=Oe-(Oe*(1.0-d*Ne-Ne*(p*Ne))-v)/(1.0-g*Ne-Ne*(b*Ne));_e=_e*_/Oe;Re=Re*_/Oe;if((pe|0)==3){xe=_e;Le=Re;break e}Ne=_e*_e+Re*Re;Oe=+$(+Ne);if(!(Oe!=0.0)){xe=0.0;Le=0.0;break}else pe=pe+1|0}}else{xe=0.0;Le=0.0}}while(0);E=e+16|0;y[r>>3]=xe/+y[E>>3]+c;y[n>>3]=Le/+y[E>>3]+ +y[f>>3];o=0;break}case 2:{M=+y[e>>3];S=t-M;T=e+8|0;k=i-+y[T>>3];R=+y[e+24>>3]/1.0e8;L=+y[e+32>>3]/1.0e8/1.0e5;P=S*S+k*k;C=+$(+P);O=R*3.0;I=L*5.0;e:do{if(C!=0.0){he=1;ge=S;Se=k;Fe=P;Be=C;while(1){D=Be-(Be*(1.0-R*Fe-Fe*(L*Fe))-C)/(1.0-O*Fe-Fe*(I*Fe));ge=ge*D/Be;Se=Se*D/Be;if((he|0)==3){ye=ge;Te=Se;break e}Fe=ge*ge+Se*Se;Be=+$(+Fe);if(!(Be!=0.0)){ye=0.0;Te=0.0;break}else he=he+1|0}}else{ye=0.0;Te=0.0}}while(0);F=e+16|0;y[r>>3]=ye/+y[F>>3]+M;y[n>>3]=Te/+y[F>>3]+ +y[T>>3];o=0;break}case 1:{z=+y[e>>3];H=t-z;G=e+8|0;j=i-+y[G>>3];W=+y[e+24>>3]/1.0e8;X=H*H+j*j;q=+$(+X);Y=W*3.0;e:do{if(q!=0.0){de=1;be=H;ke=j;Ie=q;De=X;while(1){Z=Ie-(Ie*(1.0-W*De)-q)/(1.0-Y*De);be=be*Z/Ie;ke=ke*Z/Ie;if((de|0)==3){we=be;Ae=ke;break e}De=be*be+ke*ke;Ie=+$(+De);if(!(Ie!=0.0)){we=0.0;Ae=0.0;break}else de=de+1|0}}else{we=0.0;Ae=0.0}}while(0);Q=e+16|0;y[r>>3]=we/+y[Q>>3]+z;y[n>>3]=Ae/+y[Q>>3]+ +y[G>>3];o=0;break}default:o=-1}return o|0}function Mn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0;oe=w;w=w+112|0;if((w|0)>=(_|0))pe();Z=oe+88|0;ne=oe+76|0;s=oe+64|0;l=oe+40|0;y=oe+16|0;E=oe;e:do{if((e|0)==(t|0))a=e;else{$=(f[e>>0]|0)+-48|0;if($>>>0<10){N=e+1|0;if((N|0)==(t|0))a=e;else{ee=(f[N>>0]|0)+-48|0;if(ee>>>0<10){Q=N;te=ee;re=$;while(1){c=Q+1|0;if((c|0)==(t|0)){a=e;break e}v=te+(re*10|0)|0;te=(f[c>>0]|0)+-48|0;if(te>>>0>=10){o=Q;K=c;ie=v;break}else{Q=c;re=v}}}else{o=e;K=N;ie=$}if((t-K|0)>>>0<ie>>>0)a=e;else{fl(ne,K,ie);g=f[ne>>0]|0;b=(g&1)==0;x=b?(g&255)>>>1:d[ne+4>>2]|0;fl(s,b?ne+1|0:d[ne+8>>2]|0,x>>>0<10?x:10);M=f[s>>0]|0;S=(M&1)==0;T=S?(M&255)>>>1:d[s+4>>2]|0;k=T>>>0>10;A=bl(S?s+1|0:d[s+8>>2]|0,13702,k?10:T)|0;Lu(s);if(!(((A|0)==0?T>>>0<10?-1:k&1:A)|0)){R=xi(32)|0;d[l+8>>2]=R;d[l>>2]=33;d[l+4>>2]=21;ae=R;se=13713;le=ae+21|0;do{f[ae>>0]=f[se>>0]|0;ae=ae+1|0;se=se+1|0}while((ae|0)<(le|0));f[R+21>>0]=0;L=l+12|0;d[L>>2]=0;d[L+4>>2]=0;d[L+8>>2]=0;P=i+4|0;C=d[P>>2]|0;O=d[i+8>>2]|0;if(C>>>0<O>>>0){Pl(C,l);d[P>>2]=(d[P>>2]|0)+24}else{I=d[i>>2]|0;D=C-I|0;F=(D|0)/24|0;B=F+1|0;if((D|0)<-24)Ef(i);U=(O-I|0)/24|0;if(U>>>0<1073741823){z=U<<1;r=z>>>0<B>>>0?B:z}else r=2147483647;_l(Z,r,F,i+12|0);H=Z+8|0;G=d[H>>2]|0;Pl(G,l);d[H>>2]=G+24;Bo(i,Z);al(Z)}Vc(l)}else{d[E>>2]=d[ne>>2];d[E+4>>2]=d[ne+4>>2];d[E+8>>2]=d[ne+8>>2];d[ne>>2]=0;d[ne+4>>2]=0;d[ne+8>>2]=0;Kl(y,E);V=i+4|0;j=d[V>>2]|0;W=d[i+8>>2]|0;if(j>>>0<W>>>0){Pl(j,y);d[V>>2]=(d[V>>2]|0)+24}else{X=d[i>>2]|0;q=j-X|0;Y=(q|0)/24|0;J=Y+1|0;if((q|0)<-24)Ef(i);u=(W-X|0)/24|0;if(u>>>0<1073741823){h=u<<1;n=h>>>0<J>>>0?J:h}else n=2147483647;_l(Z,n,Y,i+12|0);p=Z+8|0;m=d[p>>2]|0;Pl(m,y);d[p>>2]=m+24;Bo(i,Z);al(Z)}Vc(y);Lu(E)}Lu(ne);a=o+(ie+1)|0}}}else a=e}}while(0);w=oe;return a|0}function Sn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0.0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0.0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0;Ae=w;w=w+32|0;if((w|0)>=(_|0))pe();Te=Ae+24|0;Se=Ae+16|0;Me=Ae+8|0;do{if(!e){Ha(3,4649,Ae);i=-1}else{if(!t){Ha(3,4674,Me);i=-1;break}b=e+8|0;C=d[e+4>>2]|0;e:do{if((C|0)>0){B=d[b>>2]|0;oe=0;while(1){if(!(d[B+(oe<<2)>>2]|0)){ae=oe;break e}c=oe+1|0;if((c|0)<(C|0))oe=c;else{ae=c;break}}}else ae=0}while(0);if((ae|0)==(C|0))i=-1;else{h=Mu(t)|0;if(!h){Ha(3,4719,Se);i=-1;break}p=e+28|0;m=ae<<2;v=e+12|0;g=e+20|0;x=e+16|0;E=e+24|0;Z=Zs(h,4742)|0;ne=0;e:while(1){M=ne+m|0;K=Z;he=0;de=0;while(1){S=(he|0)==0;T=(he|0)==2;s=d[p>>2]|0;if((s|0)>0){k=s;te=K;ue=0;ge=de;while(1){if((k|0)>0){re=te;ce=0;be=ge;while(1){if(!re){ke=17;break e}A=vo(re)|0;R=Zs(0,4742)|0;L=255-A|0;P=(((fe(d[p>>2]|0,ue)|0)+ce|0)*3|0)+he|0;d[(d[(d[v>>2]|0)+(M<<2)>>2]|0)+(P<<2)>>2]=L;O=(fe(d[p>>2]|0,ue)|0)+ce|0;I=d[(d[g>>2]|0)+(M<<2)>>2]|0;N=I+(O<<2)|0;if(S)d[N>>2]=L;else{d[N>>2]=(d[N>>2]|0)+L;if(T){D=I+((fe(d[p>>2]|0,ue)|0)+ce<<2)|0;d[D>>2]=(d[D>>2]|0)/3|0}}F=L+be|0;ce=ce+1|0;l=d[p>>2]|0;if((ce|0)>=(l|0)){r=l;ie=R;ye=F;break}else{re=R;be=F}}}else{r=k;ie=te;ye=ge}ue=ue+1|0;if((ue|0)>=(r|0)){Q=ie;me=ye;break}else{k=r;te=ie;ge=ye}}}else{Q=K;me=de}he=he+1|0;if((he|0)>=3){ee=Q;ve=me;break}else{K=Q;de=me}}U=d[p>>2]|0;z=(ve|0)/(fe(U*3|0,U)|0)|0;if((fe(U*3|0,U)|0)>0){H=d[(d[v>>2]|0)+(M<<2)>>2]|0;se=0;_e=0;while(1){G=H+(se<<2)|0;V=(d[G>>2]|0)-z|0;d[G>>2]=V;j=(fe(V,V)|0)+_e|0;se=se+1|0;a=d[p>>2]|0;if((se|0)>=(fe(a*3|0,a)|0)){n=a;we=j;break}else _e=j}}else{n=U;we=0}W=+$(+ +(we|0));y[(d[x>>2]|0)+(M<<3)>>3]=W==0.0?1.0e-07:W;if(!(fe(n,n)|0))xe=0;else{X=d[(d[g>>2]|0)+(M<<2)>>2]|0;le=0;Ee=0;while(1){q=X+(le<<2)|0;Y=(d[q>>2]|0)-z|0;d[q>>2]=Y;J=(fe(Y,Y)|0)+Ee|0;le=le+1|0;o=d[p>>2]|0;if((le|0)>=(fe(o,o)|0)){xe=J;break}else Ee=J}}u=+$(+ +(xe|0));y[(d[E>>2]|0)+(M<<3)>>3]=u==0.0?1.0e-07:u;f=ne+1|0;if((f|0)<4){Z=ee;ne=f}else{ke=32;break}}if((ke|0)==17){Ha(3,4747,Te);cn(h);i=-1;break}else if((ke|0)==32){cn(h);d[(d[b>>2]|0)+(ae<<2)>>2]=1;d[e>>2]=(d[e>>2]|0)+1;i=ae;break}}}}while(0);w=Ae;return i|0}function Tn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,he=0,de=0,me=0,ve=0,ge=0,ye=0;ye=w;w=w+208|0;if((w|0)>=(_|0))pe();ae=ye+8|0;ce=ye;v=fe(i,t)|0;g=ce;d[g>>2]=1;d[g+4>>2]=0;if(v){m=v-i|0;d[ae+4>>2]=i;d[ae>>2]=i;y=i;V=i;ne=2;while(1){J=V+i+y|0;d[ae+(ne<<2)>>2]=J;if(J>>>0<v>>>0){j=y;y=J;ne=ne+1|0;V=j}else break}x=0-i|0;E=e+m|0;u=ce+4|0;if((m|0)>0){M=E;S=1;te=e;he=1;while(1){do{if((S&3|0)==3){ro(te,i,r,he,ae);f=d[u>>2]|0;T=f<<30|(d[ce>>2]|0)>>>2;d[ce>>2]=T;d[u>>2]=f>>>2;O=T;de=he+2|0}else{k=he+-1|0;if((d[ae+(k<<2)>>2]|0)>>>0<(M-te|0)>>>0)ro(te,i,r,he,ae);else Hn(te,i,r,ce,he,0,ae);if((he|0)==1){h=d[ce>>2]|0;d[u>>2]=h>>>31|d[u>>2]<<1;A=h<<1;d[ce>>2]=A;O=A;de=0;break}if(k>>>0>31){R=d[ce>>2]|0;d[u>>2]=R;d[ce>>2]=0;n=he+-33|0;L=R;P=0}else{n=k;L=d[u>>2]|0;P=d[ce>>2]|0}d[u>>2]=P>>>(32-n|0)|L<<n;C=P<<n;d[ce>>2]=C;O=C;de=1}}while(0);S=O|1;d[ce>>2]=S;I=te+i|0;if(I>>>0>=E>>>0){ee=I;ue=de;break}else{te=I;he=de}}}else{ee=e;ue=1}Hn(ee,i,r,ce,ue,0,ae);N=ce+4|0;D=d[ce>>2]|0;if(!((ue|0)==1&(D|0)==1&(d[N>>2]|0)==0)){B=D;re=ee;ve=ue;while(1){if((ve|0)<2){F=B+-1|0;do{if(!F){W=32;ge=30}else{if(!(F&1)){o=F;oe=0;while(1){U=oe+1|0;o=o>>>1;if(o&1){l=U;break}else oe=U}if(!l)ge=24;else G=l}else ge=24;if((ge|0)==24){ge=0;z=d[u>>2]|0;if(!z){W=64;ge=30;break}if(!(z&1)){s=z;se=0}else{a=0;q=B;Y=z;Z=0;break}while(1){H=se+1|0;s=s>>>1;if(s&1){c=H;le=se;break}else se=H}if(!c){a=0;q=B;Y=z;Z=0;break}else G=le+33|0}if(G>>>0>31){W=G;ge=30}else{a=G;q=B;Y=d[u>>2]|0;Z=G}}}while(0);if((ge|0)==30){ge=0;X=d[u>>2]|0;d[ce>>2]=X;d[u>>2]=0;a=W+-32|0;q=X;Y=0;Z=W}d[ce>>2]=Y<<32-a|q>>>a;d[u>>2]=Y>>>a;ie=re+x|0;me=Z+ve|0}else{K=B>>>30;Q=K|d[u>>2]<<2;$=ve+-2|0;d[ce>>2]=(B<<1&2147483646|K<<31)^3;d[u>>2]=Q>>>1;Hn(re+(0-((d[ae+($<<2)>>2]|0)+i))|0,i,r,ce,ve+-1|0,1,ae);p=d[ce>>2]|0;d[u>>2]=p>>>31|d[u>>2]<<1;d[ce>>2]=p<<1|1;b=re+x|0;Hn(b,i,r,ce,$,1,ae);ie=b;me=$}B=d[ce>>2]|0;if((me|0)==1&(B|0)==1&(d[N>>2]|0)==0)break;else{re=ie;ve=me}}}}w=ye;return}function kn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0;q=w;w=w+16|0;if((w|0)>=(_|0))pe();X=q;r=d[e+2068>>2]|0;e:do{switch(r|0){case 5:case 12:case 13:case 14:{if(!(d[e+2072>>2]|0)){d[e>>2]=t;i=0;break e}else{il(d[e>>2]|0,t|0,fe(d[e+12>>2]|0,d[e+8>>2]|0)|0)|0;i=0;break e}break}default:{if((r&-2|0)==2){g=e+8|0;y=e+12|0;if(!(fe(d[y>>2]|0,d[g>>2]|0)|0)){i=0;break e}else{L=0;B=0}while(1){f[(d[e>>2]|0)+L>>0]=(((p[t+(B|1)>>0]|0)+(p[t+B>>0]|0)+(p[t+(B|2)>>0]|0)|0)>>>0)/3|0;L=L+1|0;if(L>>>0>=(fe(d[y>>2]|0,d[g>>2]|0)|0)>>>0){i=0;break e}else B=B+4|0}}if((r&-3|0)==4){T=e+8|0;k=e+12|0;if(!(fe(d[k>>2]|0,d[T>>2]|0)|0)){i=0;break e}else{P=0;U=0}while(1){f[(d[e>>2]|0)+P>>0]=(((p[t+(U|2)>>0]|0)+(p[t+(U|1)>>0]|0)+(p[t+(U|3)>>0]|0)|0)>>>0)/3|0;P=P+1|0;if(P>>>0>=(fe(d[k>>2]|0,d[T>>2]|0)|0)>>>0){i=0;break e}else U=U+4|0}}if(r>>>0<2){A=e+8|0;R=e+12|0;if(!(fe(d[R>>2]|0,d[A>>2]|0)|0)){i=0;break e}else{C=0;z=0}while(1){f[(d[e>>2]|0)+C>>0]=(((p[t+(z+1)>>0]|0)+(p[t+z>>0]|0)+(p[t+(z+2)>>0]|0)|0)>>>0)/3|0;C=C+1|0;if(C>>>0>=(fe(d[R>>2]|0,d[A>>2]|0)|0)>>>0){i=0;break e}else z=z+3|0}}switch(r|0){case 8:{m=e+8|0;v=e+12|0;if(!(fe(d[v>>2]|0,d[m>>2]|0)|0)){i=0;break e}else{O=0;H=0}while(1){f[(d[e>>2]|0)+O>>0]=f[t+H>>0]|0;O=O+1|0;if(O>>>0>=(fe(d[v>>2]|0,d[m>>2]|0)|0)>>>0){i=0;break}else H=H+2|0}break}case 7:{u=e+8|0;h=e+12|0;if(!(fe(d[h>>2]|0,d[u>>2]|0)|0)){i=0;break e}else{I=0;G=0}while(1){f[(d[e>>2]|0)+I>>0]=f[t+(G|1)>>0]|0;I=I+1|0;if(I>>>0>=(fe(d[h>>2]|0,d[u>>2]|0)|0)>>>0){i=0;break}else G=G+2|0}break}case 9:{l=e+8|0;c=e+12|0;if(!(fe(d[c>>2]|0,d[l>>2]|0)|0)){i=0;break e}else{N=0;V=0}while(1){b=p[t+V>>0]|0;x=p[t+(V|1)>>0]|0;f[(d[e>>2]|0)+N>>0]=(((b&248)+10+(b<<5&224)+(x>>>3&28)+(x<<3&248)|0)>>>0)/3|0;N=N+1|0;if(N>>>0>=(fe(d[c>>2]|0,d[l>>2]|0)|0)>>>0){i=0;break}else V=V+2|0}break}case 10:{o=e+8|0;s=e+12|0;if(!(fe(d[s>>2]|0,d[o>>2]|0)|0)){i=0;break e}else{D=0;j=0}while(1){E=p[t+j>>0]|0;M=p[t+(j|1)>>0]|0;f[(d[e>>2]|0)+D>>0]=(((E&248)+12+(E<<5&224)+(M>>>3&24)+(M<<2&248)|0)>>>0)/3|0;D=D+1|0;if(D>>>0>=(fe(d[s>>2]|0,d[o>>2]|0)|0)>>>0){i=0;break}else j=j+2|0}break}case 11:{n=e+8|0;a=e+12|0;if(!(fe(d[a>>2]|0,d[n>>2]|0)|0)){i=0;break e}else{F=0;W=0}while(1){S=p[t+W>>0]|0;f[(d[e>>2]|0)+F>>0]=(((S&240)+24+(S<<4&240)+((p[t+(W|1)>>0]|0)&240)|0)>>>0)/3|0;F=F+1|0;if(F>>>0>=(fe(d[a>>2]|0,d[n>>2]|0)|0)>>>0){i=0;break}else W=W+2|0}break}default:{Ha(3,4361,X);i=-1;break e}}}}}while(0);w=q;return i|0}function An(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0;ee=w;w=w+96|0;if((w|0)>=(_|0))pe();$=ee+84|0;Q=ee+72|0;a=ee+60|0;o=ee+48|0;x=ee+36|0;A=ee+24|0;C=ee+12|0;B=ee;G=yi(e,t,r)|0;e:do{if((G|0)==(e|0))n=e;else{q=yi(G,t,r)|0;s=r+4|0;h=d[s>>2]|0;if((q|0)==(G|0)){v=h+-24|0;y=h;while(1){g=y+-24|0;d[s>>2]=g;Vc(g);y=d[s>>2]|0;if((y|0)==(v|0)){n=e;break e}}}if(((h-(d[r>>2]|0)|0)/24|0)>>>0<2)n=e;else{el($,h+-24|0);b=d[s>>2]|0;E=b+-24|0;S=b;do{M=S+-24|0;d[s>>2]=M;Vc(M);S=d[s>>2]|0}while((S|0)!=(E|0));el(Q,b+-48|0);T=d[s>>2]|0;k=T+-24|0;if(!(f[k>>0]&1)){f[k+1>>0]=0;f[k>>0]=0}else{f[d[T+-16>>2]>>0]=0;d[T+-20>>2]=0}R=f[i>>0]|0;L=(R&1)==0;P=i+4|0;O=L?(R&255)>>>1:d[P>>2]|0;I=i+8|0;N=i+1|0;D=O>>>0>1;F=bl(L?N:d[I>>2]|0,12752,D?1:O)|0;if(!(((F|0)==0?(O|0)==0?-1:D&1:F)|0))yo(k,40);gs(B,12688,Q);U=Gc(B,13981)|0;d[C>>2]=d[U>>2];d[C+4>>2]=d[U+4>>2];d[C+8>>2]=d[U+8>>2];d[U>>2]=0;d[U+4>>2]=0;d[U+8>>2]=0;z=f[i>>0]|0;H=(z&1)==0;V=Go(C,H?N:d[I>>2]|0,H?(z&255)>>>1:d[P>>2]|0)|0;d[A>>2]=d[V>>2];d[A+4>>2]=d[V+4>>2];d[A+8>>2]=d[V+8>>2];d[V>>2]=0;d[V+4>>2]=0;d[V+8>>2]=0;j=Gc(A,12590)|0;d[x>>2]=d[j>>2];d[x+4>>2]=d[j+4>>2];d[x+8>>2]=d[j+8>>2];d[j>>2]=0;d[j+4>>2]=0;d[j+8>>2]=0;W=f[$>>0]|0;X=(W&1)==0;Y=Go(x,X?$+1|0:d[$+8>>2]|0,X?(W&255)>>>1:d[$+4>>2]|0)|0;d[o>>2]=d[Y>>2];d[o+4>>2]=d[Y+4>>2];d[o+8>>2]=d[Y+8>>2];d[Y>>2]=0;d[Y+4>>2]=0;d[Y+8>>2]=0;J=Gc(o,12593)|0;d[a>>2]=d[J>>2];d[a+4>>2]=d[J+4>>2];d[a+8>>2]=d[J+8>>2];d[J>>2]=0;d[J+4>>2]=0;d[J+8>>2]=0;Z=f[a>>0]|0;K=(Z&1)==0;Go(k,K?a+1|0:d[a+8>>2]|0,K?(Z&255)>>>1:d[a+4>>2]|0)|0;Lu(a);Lu(o);Lu(x);Lu(A);Lu(C);Lu(B);l=f[i>>0]|0;c=(l&1)==0;u=c?(l&255)>>>1:d[P>>2]|0;p=u>>>0>1;m=bl(c?N:d[I>>2]|0,12752,p?1:u)|0;if(!(((m|0)==0?(u|0)==0?-1:p&1:m)|0))yo(k,41);Lu(Q);Lu($);n=q}}}while(0);w=ee;return n|0}function Rn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0;e:do{if((e|0)==(d[t+8>>2]|0)){if((d[t+4>>2]|0)==(i|0)){y=t+28|0;if((d[y>>2]|0)!=1)d[y>>2]=r}}else{if((e|0)!=(d[t>>2]|0)){g=d[e+12>>2]|0;b=e+16+(g<<3)|0;Ks(e+16|0,t,i,r,n);w=e+24|0;if((g|0)<=1)break;_=d[e+8>>2]|0;if(!(_&2)){x=t+36|0;if((d[x>>2]|0)!=1){if(!(_&1)){T=t+54|0;D=w;while(1){if(f[T>>0]|0)break e;if((d[x>>2]|0)==1)break e;Ks(D,t,i,r,n);D=D+8|0;if(D>>>0>=b>>>0)break e}}M=t+24|0;S=t+54|0;N=w;while(1){if(f[S>>0]|0)break e;if((d[x>>2]|0)==1)if((d[M>>2]|0)==1)break e;Ks(N,t,i,r,n);N=N+8|0;if(N>>>0>=b>>>0)break e}}}E=t+54|0;I=w;while(1){if(f[E>>0]|0)break e;Ks(I,t,i,r,n);I=I+8|0;if(I>>>0>=b>>>0)break e}}if((d[t+16>>2]|0)!=(i|0)){a=t+20|0;if((d[a>>2]|0)!=(i|0)){d[t+32>>2]=r;o=t+44|0;if((d[o>>2]|0)==4)break;s=d[e+12>>2]|0;l=e+16+(s<<3)|0;c=t+52|0;u=t+53|0;h=t+54|0;p=e+8|0;m=t+24|0;t:do{if((s|0)>0){A=0;L=0;O=e+16|0;while(1){f[c>>0]=0;f[u>>0]=0;Is(O,t,i,i,1,n);if(f[h>>0]|0){k=A;C=L;F=20;break t}do{if(!(f[u>>0]|0)){R=A;P=L}else{if(!(f[c>>0]|0))if(!(d[p>>2]&1)){k=A;C=1;F=20;break t}else{R=A;P=1;break}if((d[m>>2]|0)==1)break t;if(!(d[p>>2]&2))break t;else{R=1;P=1}}}while(0);O=O+8|0;if(O>>>0>=l>>>0){k=R;C=P;F=20;break}else{A=R;L=P}}}else{k=0;C=0;F=20}}while(0);do{if((F|0)==20){if(k)F=24;else{d[a>>2]=i;v=t+40|0;d[v>>2]=(d[v>>2]|0)+1;if((d[t+36>>2]|0)==1)if((d[m>>2]|0)==2){f[h>>0]=1;if(C)break}else F=24;else F=24}if((F|0)==24)if(C)break;d[o>>2]=4;break e}}while(0);d[o>>2]=3;break}}if((r|0)==1)d[t+32>>2]=1}}while(0);return}function Ln(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0.0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0.0,P=0,C=0,O=0,I=0,N=0,D=0.0,F=0.0,B=0.0,U=0,z=0.0,H=0,G=0.0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0.0,le=0.0,ce=0.0,ue=0.0,he=0,de=0,me=0,ve=0,ge=0,ye=0;ve=w;w=w+16|0;if((w|0)>=(_|0))pe();he=ve+8|0;de=ve;a=d[e+8>>2]|0;if((a|0)==(d[e+4>>2]|0))if((a|0)==(d[t+4>>2]|0))if((a|0)==((d[i+4>>2]|0)+1|0)){m=a+-2|0;E=he+4|0;S=de+4|0;if((a|0)>2){K=a+-1|0;ae=0;do{T=fe(ae,a)|0;k=d[e>>2]|0;y[(d[t>>2]|0)+(ae<<3)>>3]=+y[k+(T+ae<<3)>>3];A=a-ae+-1|0;d[E>>2]=A;ge=ae;ae=ae+1|0;R=k+(T+ae<<3)|0;d[he>>2]=R;L=+ll(he);y[(d[i>>2]|0)+(ge<<3)>>3]=L;if(!(L==0.0)){if((ae|0)<(a|0)){P=d[t>>2]|0;Z=ae;do{if((ae|0)<(Z|0)){C=d[e>>2]|0;te=ae;le=0.0;while(1){N=C+((fe(te,a)|0)+Z<<3)|0;D=le+ +y[N>>3]*+y[k+(te+T<<3)>>3];te=te+1|0;if((te|0)>=(Z|0)){se=D;break}else le=D}}else se=0.0;O=fe(Z,a)|0;if((Z|0)<(a|0)){I=d[e>>2]|0;ie=Z;ue=se;while(1){F=ue+ +y[I+(ie+O<<3)>>3]*+y[k+(ie+T<<3)>>3];ie=ie+1|0;if((ie|0)>=(a|0)){ce=F;break}else ue=F}}else ce=se;y[P+(Z<<3)>>3]=ce;Z=Z+1|0}while((Z|0)<(a|0))}d[S>>2]=A;d[E>>2]=A;d[he>>2]=R;d[de>>2]=(d[t>>2]|0)+(ae<<3);B=+yl(he,de)*.5;if((K|0)>(ge|0)){U=d[t>>2]|0;Q=K;do{z=+y[k+(Q+T<<3)>>3];H=U+(Q<<3)|0;G=+y[H>>3]-B*z;y[H>>3]=G;V=fe(Q,a)|0;if((Q|0)<(a|0)){j=d[e>>2]|0;re=Q;do{W=j+(re+V<<3)|0;y[W>>3]=+y[W>>3]-(z*+y[U+(re<<3)>>3]+G*+y[k+(re+T<<3)>>3]);re=re+1|0}while((re|0)<(a|0))}Q=Q+-1|0}while((Q|0)>(ge|0))}}}while((ae|0)<(m|0))}if((a|0)>1){X=fe(m,a)|0;q=d[e>>2]|0;Y=d[t>>2]|0;y[Y+(m<<3)>>3]=+y[q+(X+m<<3)>>3];J=a+-1|0;y[(d[i>>2]|0)+(m<<3)>>3]=+y[q+(J+X<<3)>>3];n=J;s=q;l=Y;me=27}else if((a|0)>0){n=0;s=d[e>>2]|0;l=d[t>>2]|0;me=27}if((me|0)==27){o=s+((fe(n,a)|0)+n<<3)|0;y[l+(n<<3)>>3]=+y[o>>3]}if((a|0)>0){c=(a|0)>0;oe=a;do{ye=oe;oe=oe+-1|0;u=fe(oe,a)|0;f=d[e>>2]|0;if((ye|0)<=(m|0)){h=a-oe+-1|0;p=f+(u+ye<<3)|0;if((ye|0)<(a|0)){v=(ye|0)<(a|0);$=ye;do{d[S>>2]=h;d[E>>2]=h;d[he>>2]=p;g=fe($,a)|0;d[de>>2]=(d[e>>2]|0)+(g+ye<<3);b=+yl(he,de);if(v){x=d[e>>2]|0;ne=ye;do{M=x+(ne+g<<3)|0;y[M>>3]=+y[M>>3]-b*+y[f+(ne+u<<3)>>3];ne=ne+1|0}while((ne|0)<(a|0))}$=$+1|0}while(($|0)<(a|0))}}if(c){ee=0;do{y[f+(ee+u<<3)>>3]=0.0;ee=ee+1|0}while((ee|0)<(a|0))}y[f+(u+oe<<3)>>3]=1.0}while((ye|0)>1);r=0}else r=0}else r=-1;else r=-1;else r=-1;w=ve;return r|0}function Pn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0;G=w;w=w+48|0;if((w|0)>=(_|0))pe();l=G+24|0;c=G+12|0;p=G;e:do{if(e>>>0<t>>>0){t:do{if((f[e>>0]|0)==95){T=t;if((T-e|0)<=3){d[r>>2]=-2;break e}switch(f[e+1>>0]|0){case 90:{u=e+2|0;h=ki(u,t,i)|0;if((h|0)==(u|0)|(h|0)==(t|0))N=h;else if((f[h>>0]|0)==46){m=d[i+4>>2]|0;if((d[i>>2]|0)==(m|0))o=h;else{v=m+-24|0;g=T-h|0;if(g>>>0>4294967279)bf(p);if(g>>>0<11){f[p>>0]=g<<1;O=p+1|0}else{y=g+16&-16;b=xi(y)|0;d[p+8>>2]=b;d[p>>2]=y|1;d[p+4>>2]=g;O=b}if((h|0)!=(t|0)){n=h;C=O;while(1){f[C>>0]=f[n>>0]|0;n=n+1|0;if((n|0)==(t|0))break;else C=C+1|0}}f[O+g>>0]=0;x=Ac(p,0,12590)|0;d[c>>2]=d[x>>2];d[c+4>>2]=d[x+4>>2];d[c+8>>2]=d[x+8>>2];d[x>>2]=0;d[x+4>>2]=0;d[x+8>>2]=0;E=Gc(c,12593)|0;d[l>>2]=d[E>>2];d[l+4>>2]=d[E+4>>2];d[l+8>>2]=d[E+8>>2];d[E>>2]=0;d[E+4>>2]=0;d[E+8>>2]=0;M=f[l>>0]|0;S=(M&1)==0;Go(v,S?l+1|0:d[l+8>>2]|0,S?(M&255)>>>1:d[l+4>>2]|0)|0;Lu(l);Lu(c);Lu(p);o=t}N=o}else N=h;if((N|0)==(t|0))break t;d[r>>2]=-2;break e;break}case 95:{H=20;break}default:{}}if((H|0)==20)if((f[e+2>>0]|0)==95)if((f[e+3>>0]|0)==90){k=e+4|0;A=ki(k,t,i)|0;if((A|0)==(k|0)|(A|0)==(t|0)){d[r>>2]=-2;break e}i:do{if((T-A|0)>12){I=0;D=A;while(1){if((f[D>>0]|0)!=(f[12595+I>>0]|0)){a=A;break i}I=I+1|0;R=D+1|0;if((I|0)>=13){s=R;F=D;break}else D=R}r:do{if((s|0)==(t|0))z=t;else{if((f[s>>0]|0)==95){L=F+2|0;if((L|0)==(t|0)){a=A;break i}if(((f[L>>0]|0)+-48|0)>>>0>=10){a=A;break i}B=F+3|0}else B=s;if((B|0)==(t|0))z=t;else{U=B;while(1){if(((f[U>>0]|0)+-48|0)>>>0>=10){z=U;break r}U=U+1|0;if((U|0)==(t|0)){z=t;break}}}}}while(0);P=d[i+4>>2]|0;if((d[i>>2]|0)==(P|0))a=A;else{Ac(P+-24|0,0,12609)|0;a=z}}else a=A}while(0);if((a|0)==(t|0))break;d[r>>2]=-2;break e}d[r>>2]=-2;break e}else if((gi(e,t,i)|0)!=(t|0)){d[r>>2]=-2;break e}}while(0);if(!(d[r>>2]|0))if((d[i>>2]|0)==(d[i+4>>2]|0))d[r>>2]=-2}else d[r>>2]=-2}while(0);w=G;return}function Cn(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0.0,s=0,l=0,c=0,u=0,f=0,h=0.0,p=0.0,m=0,v=0.0,g=0,b=0,x=0,E=0,M=0.0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0.0,Y=0.0,J=0.0,Z=0,K=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0;oe=w;w=w+2e3|0;if((w|0)>=(_|0))pe();X=oe;r=d[e>>2]|0;l=d[e+4>>2]|0;e:do{if((l|0)>500)t=0;else{switch(l|0){case 0:{t=0;break e;break}case 1:{y[r>>3]=1.0/+y[r>>3];t=r;break e;break}default:{}}if((l|0)>0){V=0;do{d[X+(V<<2)>>2]=V;V=V+1|0}while((V|0)<(l|0))}Z=r+(l+-1<<3)|0;if((l|0)>0){S=(l|0)==0;A=(l|0)==1;k=(l|0)==0;T=(l|0)==1;C=Z;I=0;j=0;while(1){a=r+((fe(j,l)|0)<<3)|0;if((j|0)<(l|0)){R=j;D=I;Y=0.0;K=a;while(1){o=+Q(+ +y[K>>3]);s=Y<o;F=s?R:D;J=s?o:Y;R=R+1|0;if((R|0)>=(l|0)){N=F;q=J;break}else{D=F;Y=J;K=K+(l<<3)|0}}}else{N=I;q=0.0}if(q<=1.0e-10){t=0;break e}c=X+(N<<2)|0;u=d[c>>2]|0;f=X+(j<<2)|0;d[c>>2]=d[f>>2];d[f>>2]=u;if(!S){B=0;$=r+((fe(N,l)|0)<<3)|0;re=a;while(1){h=+y[$>>3];y[$>>3]=+y[re>>3];y[re>>3]=h;B=B+1|0;if((B|0)==(l|0))break;else{$=$+8|0;re=re+8|0}}}p=+y[a>>3];if(!A){U=1;ee=a;do{se=ee;ee=ee+8|0;y[se>>3]=+y[ee>>3]/p;U=U+1|0}while((U|0)!=(l|0))}y[C>>3]=1.0/p;if(!k){L=0;O=Z;while(1){if((L|0)!=(j|0)){m=r+((fe(L,l)|0)<<3)|0;v=+y[m>>3];if(!T){z=1;te=m;ne=a;while(1){le=te;te=te+8|0;y[le>>3]=+y[te>>3]-v*+y[ne>>3];z=z+1|0;if((z|0)==(l|0))break;else ne=ne+8|0}}y[O>>3]=-(v*+y[C>>3])}L=L+1|0;if((L|0)==(l|0))break;else O=O+(l<<3)|0}}j=j+1|0;if((j|0)>=(l|0))break;else{C=C+(l<<3)|0;I=N}}}if((l|0)>0){n=(l|0)>0;W=0;while(1){g=X+(W<<2)|0;t:do{if((W|0)<(l|0)){b=g;G=W;while(1){if((d[b>>2]|0)==(W|0)){i=b;H=G;break t}x=G+1|0;E=X+(x<<2)|0;if((x|0)<(l|0)){b=E;G=x}else{i=E;H=x;break}}}else{i=g;H=W}}while(0);d[i>>2]=d[X+(W<<2)>>2];if(n){P=0;ie=r+(H<<3)|0;ae=r+(W<<3)|0;while(1){M=+y[ie>>3];y[ie>>3]=+y[ae>>3];y[ae>>3]=M;P=P+1|0;if((P|0)>=(l|0))break;else{ie=ie+(l<<3)|0;ae=ae+(l<<3)|0}}}W=W+1|0;if((W|0)>=(l|0)){t=r;break}}}else t=r}}while(0);w=oe;return((t|0)==0)<<31>>31|0}function On(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0;r=e+4|0;n=d[r>>2]|0;S=n&-8;k=e+S|0;L=d[760]|0;O=n&3;if(!((O|0)!=1&e>>>0>=L>>>0&e>>>0<k>>>0))rt();F=e+(S|4)|0;V=d[F>>2]|0;if(!(V&1))rt();if(!O){if(t>>>0<256){Q=0;return Q|0}if(S>>>0>=(t+4|0)>>>0)if((S-t|0)>>>0<=d[876]<<1>>>0){Q=e;return Q|0}Q=0;return Q|0}if(S>>>0>=t>>>0){T=S-t|0;if(T>>>0<=15){Q=e;return Q|0}d[r>>2]=n&1|t|2;d[e+(t+4)>>2]=T|3;d[F>>2]=d[F>>2]|1;fn(e+t|0,T);Q=e;return Q|0}if((k|0)==(d[762]|0)){A=(d[759]|0)+S|0;if(A>>>0<=t>>>0){Q=0;return Q|0}R=A-t|0;d[r>>2]=n&1|t|2;d[e+(t+4)>>2]=R|1;d[762]=e+t;d[759]=R;Q=e;return Q|0}if((k|0)==(d[761]|0)){P=(d[758]|0)+S|0;if(P>>>0<t>>>0){Q=0;return Q|0}C=P-t|0;if(C>>>0>15){d[r>>2]=n&1|t|2;d[e+(t+4)>>2]=C|1;d[e+P>>2]=C;I=e+(P+4)|0;d[I>>2]=d[I>>2]&-2;$=e+t|0;ee=C}else{d[r>>2]=n&1|P|2;N=e+(P+4)|0;d[N>>2]=d[N>>2]|1;$=0;ee=0}d[758]=ee;d[761]=$;Q=e;return Q|0}if(V&2){Q=0;return Q|0}D=(V&-8)+S|0;if(D>>>0<t>>>0){Q=0;return Q|0}B=D-t|0;U=V>>>3;do{if(V>>>0<256){z=d[e+(S+8)>>2]|0;H=d[e+(S+12)>>2]|0;G=3064+(U<<1<<2)|0;if((z|0)!=(G|0)){if(z>>>0<L>>>0)rt();if((d[z+12>>2]|0)!=(k|0))rt()}if((H|0)==(z|0)){d[756]=d[756]&~(1<<U);break}if((H|0)==(G|0))i=H+8|0;else{if(H>>>0<L>>>0)rt();j=H+8|0;if((d[j>>2]|0)==(k|0))i=j;else rt()}d[z+12>>2]=H;d[i>>2]=z}else{W=d[e+(S+24)>>2]|0;X=d[e+(S+12)>>2]|0;do{if((X|0)==(k|0)){l=e+(S+20)|0;c=d[l>>2]|0;if(!c){u=e+(S+16)|0;f=d[u>>2]|0;if(!f){J=0;break}else{q=f;Z=u}}else{q=c;Z=l}while(1){h=q+20|0;p=d[h>>2]|0;if(p){q=p;Z=h;continue}m=q+16|0;v=d[m>>2]|0;if(!v){Y=q;K=Z;break}else{q=v;Z=m}}if(K>>>0<L>>>0)rt();else{d[K>>2]=0;J=Y;break}}else{a=d[e+(S+8)>>2]|0;if(a>>>0<L>>>0)rt();o=a+12|0;if((d[o>>2]|0)!=(k|0))rt();s=X+8|0;if((d[s>>2]|0)==(k|0)){d[o>>2]=X;d[s>>2]=a;J=X;break}else rt()}}while(0);if(W){g=d[e+(S+28)>>2]|0;y=3328+(g<<2)|0;if((k|0)==(d[y>>2]|0)){d[y>>2]=J;if(!J){d[757]=d[757]&~(1<<g);break}}else{if(W>>>0<(d[760]|0)>>>0)rt();b=W+16|0;if((d[b>>2]|0)==(k|0))d[b>>2]=J;else d[W+20>>2]=J;if(!J)break}w=d[760]|0;if(J>>>0<w>>>0)rt();d[J+24>>2]=W;_=d[e+(S+16)>>2]|0;do{if(_)if(_>>>0<w>>>0)rt();else{d[J+16>>2]=_;d[_+24>>2]=J;break}}while(0);x=d[e+(S+20)>>2]|0;if(x)if(x>>>0<(d[760]|0)>>>0)rt();else{d[J+20>>2]=x;d[x+24>>2]=J;break}}}}while(0);if(B>>>0<16){d[r>>2]=D|n&1|2;E=e+(D|4)|0;d[E>>2]=d[E>>2]|1;Q=e;return Q|0}else{d[r>>2]=n&1|t|2;d[e+(t+4)>>2]=B|3;M=e+(D|4)|0;d[M>>2]=d[M>>2]|1;fn(e+t|0,B);Q=e;return Q|0}return 0}function In(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0;Y=w;w=w+80|0;if((w|0)>=(_|0))pe();q=Y+48|0;l=Y+24|0;c=Y+12|0;p=Y;y=Ms(e,t)|0;if((y|0)==(e|0)|(y|0)==(t|0))s=e;else if((f[y>>0]|0)==69){G=f[i>>0]|0;u=i+4|0;do{if(((G&1)==0?(G&255)>>>1:d[u>>2]|0)>>>0>3){gs(p,12688,i);h=Gc(p,12593)|0;d[c>>2]=d[h>>2];d[c+4>>2]=d[h+4>>2];d[c+8>>2]=d[h+8>>2];d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;Kl(l,c);m=r+4|0;v=d[m>>2]|0;g=d[r+8>>2]|0;if(v>>>0<g>>>0){Pl(v,l);d[m>>2]=(d[m>>2]|0)+24}else{b=d[r>>2]|0;x=v-b|0;E=(x|0)/24|0;M=E+1|0;if((x|0)<-24)Ef(r);S=(g-b|0)/24|0;if(S>>>0<1073741823){T=S<<1;n=T>>>0<M>>>0?M:T}else n=2147483647;_l(q,n,E,r+12|0);k=q+8|0;A=d[k>>2]|0;Pl(A,l);d[k>>2]=A+24;Bo(r,q);al(q)}Vc(l);Lu(c);Lu(p)}else{R=r+4|0;L=d[R>>2]|0;P=d[r+8>>2]|0;if(L>>>0<P>>>0){d[L>>2]=0;d[L+4>>2]=0;d[L+8>>2]=0;d[L+12>>2]=0;d[L+16>>2]=0;d[L+20>>2]=0;d[L>>2]=0;d[L+4>>2]=0;d[L+8>>2]=0;C=L+12|0;d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;d[R>>2]=(d[R>>2]|0)+24;break}O=d[r>>2]|0;I=L-O|0;N=(I|0)/24|0;D=N+1|0;if((I|0)<-24)Ef(r);F=(P-O|0)/24|0;if(F>>>0<1073741823){B=F<<1;a=B>>>0<D>>>0?D:B}else a=2147483647;_l(q,a,N,r+12|0);U=q+8|0;z=d[U>>2]|0;d[z>>2]=0;d[z+4>>2]=0;d[z+8>>2]=0;d[z+12>>2]=0;d[z+16>>2]=0;d[z+20>>2]=0;d[z>>2]=0;d[z+4>>2]=0;d[z+8>>2]=0;H=z+12|0;d[H>>2]=0;d[H+4>>2]=0;d[H+8>>2]=0;d[U>>2]=z+24;Bo(r,q);al(q)}}while(0);V=r+4|0;if((f[e>>0]|0)==110){yo((d[V>>2]|0)+-24|0,45);o=e+1|0}else o=e;ja((d[V>>2]|0)+-24|0,o,y);j=f[i>>0]|0;W=(j&1)==0;X=W?(j&255)>>>1:d[u>>2]|0;if(X>>>0<4)Go((d[V>>2]|0)+-24|0,W?i+1|0:d[i+8>>2]|0,X)|0;s=y+1|0}else s=e;w=Y;return s|0}function Nn(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;var s=0,l=0,c=0,u=0,f=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0;ue=w;w=w+80032|0;if((w|0)>=(_|0))pe();oe=ue+16|0;ae=ue+8|0;ne=ue;se=ue+40024|0;le=ue+24|0;u=d[a+8>>2]|0;p=d[a>>2]|0;T=d[a+4>>2]|0;e:do{if((p|0)>(T|0))ce=6;else{q=p;te=e+((fe(u,t)|0)+p<<1)|0;while(1){U=h[te>>1]|0;if(U<<16>>16>0)if((d[r+((U<<16>>16)+-1<<2)>>2]|0)==(n|0)){Y=q;break}if((q|0)<(T|0)){q=q+1|0;te=te+2|0}else{ce=6;break e}}f=o+24|0;d[f>>2]=1;m=o+28|0;d[m>>2]=Y;v=o+40028|0;d[v>>2]=u;b=u;x=Y;k=1;H=5;while(1){W=(H+5|0)%8|0;J=0;while(1){g=d[776+(W<<2)>>2]|0;y=d[808+(W<<2)>>2]|0;E=e+(y+x+(fe(g+b|0,t)|0)<<1)|0;if((h[E>>1]|0)>0){S=y;R=g;j=W;break}M=J+1|0;G=(W+1|0)%8|0;if((M|0)<8){W=G;J=M}else{l=M;V=G;ce=11;break}}if((ce|0)==11){ce=0;if((l|0)==8){ce=13;break}S=d[808+(V<<2)>>2]|0;R=d[776+(V<<2)>>2]|0;j=V}d[o+28+(k<<2)>>2]=S+x;A=d[f>>2]|0;d[o+40028+(A<<2)>>2]=R+(d[o+40028+(A+-1<<2)>>2]|0);L=d[f>>2]|0;P=o+28+(L<<2)|0;if((d[P>>2]|0)==(Y|0))if((d[o+40028+(L<<2)>>2]|0)==(u|0)){c=L;ce=16;break}C=L+1|0;d[f>>2]=C;if((C|0)==9999){ce=19;break}b=d[o+40028+(L<<2)>>2]|0;x=d[P>>2]|0;k=C;H=j}if((ce|0)==13){Ha(3,4347,ae);s=-1;break}else if((ce|0)==16){if((c|0)>1){X=0;K=1;re=0;while(1){O=(d[o+28+(K<<2)>>2]|0)-Y|0;I=fe(O,O)|0;N=(d[o+40028+(K<<2)>>2]|0)-u|0;D=(fe(N,N)|0)+I|0;F=(D|0)>(X|0);Z=F?K:re;K=K+1|0;if((K|0)>=(c|0)){ie=Z;break}else{X=F?D:X;re=Z}}}else ie=0;if((ie|0)>0){Q=0;do{d[se+(Q<<2)>>2]=d[o+28+(Q<<2)>>2];d[le+(Q<<2)>>2]=d[o+40028+(Q<<2)>>2];Q=Q+1|0}while((Q|0)<(ie|0))}if((ie|0)<(c|0)){$=ie;do{B=$-ie|0;d[o+28+(B<<2)>>2]=d[o+28+($<<2)>>2];d[o+40028+(B<<2)>>2]=d[o+40028+($<<2)>>2];$=$+1|0}while(($|0)<(d[f>>2]|0))}if((ie|0)>0){ee=0;do{z=ee-ie|0;d[o+28+((d[f>>2]|0)+z<<2)>>2]=d[se+(ee<<2)>>2];d[o+40028+((d[f>>2]|0)+z<<2)>>2]=d[le+(ee<<2)>>2];ee=ee+1|0}while((ee|0)<(ie|0))}d[o+28+(d[f>>2]<<2)>>2]=d[m>>2];d[o+40028+(d[f>>2]<<2)>>2]=d[v>>2];d[f>>2]=(d[f>>2]|0)+1;s=0;break}else if((ce|0)==19){Ha(3,4354,oe);s=-1;break}}}while(0);if((ce|0)==6){Ha(3,4340,ne);s=-1}w=ue;return s|0}function Dn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0;ae=w;w=w+4208|0;if((w|0)>=(_|0))pe();ee=ae+4184|0;te=ae;ie=ae+4120|0;re=ae+4112|0;if(!e)ne=3;else{s=(t|0)!=0;x=(i|0)==0;if(s&x)ne=3;else{if(s)Y=d[i>>2]|0;else Y=0;d[te+4096>>2]=te;U=te;d[ie>>2]=0;G=ie+4|0;d[G>>2]=0;d[ie+8>>2]=0;d[ie+12>>2]=U;l=ie+16|0;d[l>>2]=0;p=ie+20|0;d[p>>2]=0;d[ie+24>>2]=0;d[ie+28>>2]=U;d[ie+32>>2]=0;v=ie+36|0;d[v>>2]=0;d[ie+40>>2]=0;g=ie+44|0;d[g>>2]=U;y=ie+48|0;b=ie+61|0;d[y>>2]=0;d[y+4>>2]=0;d[y+8>>2]=0;f[y+12>>0]=0;f[b>>0]=1;E=ie+32|0;cl(ee,1,0,g);M=ee+8|0;S=d[M>>2]|0;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;d[S+12>>2]=U;d[M>>2]=S+16;Ua(E,ee);Ss(ee);T=ie+62|0;f[T>>0]=0;f[ie+63>>0]=1;d[re>>2]=0;k=e+(Uo(e)|0)|0;Pn(e,k,ie,re);A=d[re>>2]|0;do{if((A|0)!=0|(f[T>>0]|0)==0){B=A;ne=17}else{R=d[E>>2]|0;if((R|0)==(d[v>>2]|0))ne=18;else if((d[R>>2]|0)==(d[R+4>>2]|0))ne=18;else{f[T>>0]=0;f[b>>0]=0;L=d[ie>>2]|0;P=d[G>>2]|0;if((P|0)!=(L|0)){O=P;do{C=O+-24|0;d[G>>2]=C;Vc(C);O=d[G>>2]|0}while((O|0)!=(L|0))}I=d[l>>2]|0;N=d[p>>2]|0;if((N|0)!=(I|0)){F=N;do{D=F+-16|0;d[p>>2]=D;ol(D);F=d[p>>2]|0}while((F|0)!=(I|0))}Pn(e,k,ie,re);if(!(f[T>>0]|0)){B=d[re>>2]|0;ne=17;break}else{d[re>>2]=-2;o=0;m=-2;break}}}}while(0);if((ne|0)==17)if(!B)ne=18;else{o=0;m=B}do{if((ne|0)==18){z=d[G>>2]|0;H=f[z+-24>>0]|0;if(!(H&1))X=(H&255)>>>1;else X=d[z+-20>>2]|0;V=f[z+-12>>0]|0;if(!(V&1))W=(V&255)>>>1;else W=d[z+-8>>2]|0;j=W+X|0;q=j+1|0;if(q>>>0>Y>>>0){J=As(t,q)|0;if(!J){d[re>>2]=-1;o=0;m=-1;break}if(x)a=J;else{d[i>>2]=q;a=J}}else if(!t){o=0;m=0;break}else a=t;Z=d[G>>2]|0;K=Z+-12|0;Q=f[K>>0]|0;$=(Q&1)==0;Go(Z+-24|0,$?K+1|0:d[Z+-4>>2]|0,$?(Q&255)>>>1:d[Z+-8>>2]|0)|0;c=d[G>>2]|0;u=c+-24|0;if(!(f[u>>0]&1))h=u+1|0;else h=d[c+-16>>2]|0;il(a|0,h|0,j|0)|0;f[a+j>>0]=0;o=a;m=0}}while(0);if(r)d[r>>2]=m;jl(ie);n=o}}if((ne|0)==3)if(!r)n=0;else{d[r>>2]=-3;n=0}w=ae;return n|0}function Fn(e,t){e=+e;t=+t;var i=0.0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,w=0,_=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,G=0,V=0,j=0,W=0.0,X=0,q=0,Y=0,J=0,Z=0,K=0,Q=0,$=0,ee=0,te=0,ie=0,re=0,ne=0,ae=0,oe=0,se=0,le=0,ce=0,ue=0,fe=0,he=0,de=0,pe=0,me=0,ve=0,ge=0,ye=0,be=0,we=0,_e=0,xe=0,Ee=0,Me=0,Se=0,Te=0,ke=0,Ae=0,Re=0,Le=0;y[x>>3]=e;n=d[x>>2]|0;a=d[x+4>>2]|0;y[x>>3]=t;j=d[x>>2]|0;Y=d[x+4>>2]|0;K=ru(n|0,a|0,52)|0;ie=K&2047;le=ru(j|0,Y|0,52)|0;ve=le&2047;o=a&-2147483648;m=eu(j|0,Y|0,1)|0;_=H;e:do{if((m|0)==0&(_|0)==0)Le=3;else{V=Y&2147483647;if(V>>>0>2146435072|(V|0)==2146435072&j>>>0>0|(ie|0)==2047)Le=3;else{X=eu(n|0,a|0,1)|0;q=H;if(!(q>>>0>_>>>0|(q|0)==(_|0)&X>>>0>m>>>0))return+((X|0)==(m|0)&(q|0)==(_|0)?e*0.0:e);if(!ie){J=eu(n|0,a|0,12)|0;Z=H;if((Z|0)>-1|(Z|0)==-1&J>>>0>4294967295){$=J;ee=Z;_e=0;while(1){Q=_e+-1|0;$=eu($|0,ee|0,1)|0;ee=H;if(!((ee|0)>-1|(ee|0)==-1&$>>>0>4294967295)){we=Q;break}else _e=Q}}else we=0;te=eu(n|0,a|0,1-we|0)|0;ue=te;fe=H;xe=we}else{ue=n;fe=a&1048575|1048576;xe=ie}if(!ve){re=eu(j|0,Y|0,12)|0;ne=H;if((ne|0)>-1|(ne|0)==-1&re>>>0>4294967295){oe=re;se=ne;Ae=0;while(1){ae=Ae+-1|0;oe=eu(oe|0,se|0,1)|0;se=H;if(!((se|0)>-1|(se|0)==-1&oe>>>0>4294967295)){ke=ae;break}else Ae=ae}}else ke=0;ce=eu(j|0,Y|0,1-ke|0)|0;he=ce;de=H;Re=ke}else{he=j;de=Y&1048575|1048576;Re=ve}pe=_u(ue|0,fe|0,he|0,de|0)|0;me=H;ge=(me|0)>-1|(me|0)==-1&pe>>>0>4294967295;t:do{if((xe|0)>(Re|0)){F=ge;B=pe;U=me;ye=ue;be=fe;Me=xe;while(1){if(F)if((ye|0)==(he|0)&(be|0)==(de|0))break;else{s=B;l=U}else{s=ye;l=be}c=eu(s|0,l|0,1)|0;u=H;f=Me+-1|0;h=_u(c|0,u|0,he|0,de|0)|0;p=H;v=(p|0)>-1|(p|0)==-1&h>>>0>4294967295;if((f|0)>(Re|0)){F=v;B=h;U=p;ye=c;be=u;Me=f}else{r=v;g=c;b=u;z=h;G=p;Ee=f;break t}}i=e*0.0;break e}else{r=ge;g=ue;b=fe;z=pe;G=me;Ee=xe}}while(0);if(r)if((g|0)==(he|0)&(b|0)==(de|0)){i=e*0.0;break}else{w=G;E=z}else{w=b;E=g}if(w>>>0<1048576|(w|0)==1048576&E>>>0<0){M=E;S=w;Te=Ee;while(1){T=eu(M|0,S|0,1)|0;k=H;A=Te+-1|0;if(k>>>0<1048576|(k|0)==1048576&T>>>0<0){M=T;S=k;Te=A}else{R=T;L=k;Se=A;break}}}else{R=E;L=w;Se=Ee}if((Se|0)>0){P=Ku(R|0,L|0,0,-1048576)|0;C=H;O=eu(Se|0,0,52)|0;N=C|H;D=P|O}else{I=ru(R|0,L|0,1-Se|0)|0;N=H;D=I}d[x>>2]=D;d[x+4>>2]=N|o;i=+y[x>>3]}}}while(0);if((Le|0)==3){W=e*t;i=W/W}return+i}function Bn(e){e=e|0;var t=0,i=0;i=w;w=w+16|0;if((w|0)>=(_|0))pe();t=i;Bu(8590,7);Vu(8596,3);ou(8605,2);ou(8616,3);Uu(8632,4);Vu(8650,4);lu(8670,5);Bu(8682,8);Uu(8699,5);Bu(8719,9);Bu(8737,10);Uu(8759,6);Uu(8782,7);Vu(8811,6);Vu(8824,7);Bu(8837,11);Uu(8856,8);Uu(8866,9);Vu(8879,8);Vu(8892,9);Wu(8911,10);Xu(8923,1);Gu(8935,1);qu(8958,1);Gu(8981,2);qu(9003,2);zu(9025,1);Vu(9042,10);zu(9059,2);Vu(9072,11);zu(9085,3);Vu(9109,12);Hu(9133,3);qu(9146,3);zu(9159,4);Vu(9177,13);zu(9195,5);Vu(9211,14);zu(9227,6);Vu(9244,15);rf(9261,2088);rf(9290,2096);rf(9318,2092);vt(9351,680,0);vt(9368,680,1);vt(9384,680,0);vt(9406,680,0);vt(9431,680,1);vt(9456,680,1);vt(9481,680,100);vt(9508,680,0);vt(9534,680,1);vt(9560,680,0);vt(9587,680,0);vt(9614,680,1);vt(9640,680,2);vt(9665,680,3);vt(9703,680,4);vt(9740,680,0);vt(9774,680,0);vt(9798,680,1);vt(9824,680,2);vt(9851,680,2);vt(9885,680,5);y[t>>3]=.5;Qu(9903,t);vt(9924,680,0);vt(9943,680,1);vt(9961,680,2);vt(9979,680,3);vt(9998,680,4);vt(10020,680,3);vt(10039,680,515);vt(10068,680,259);vt(10096,680,4);vt(10115,680,772);vt(10145,680,1028);vt(10175,680,0);vt(10206,680,1);vt(10242,680,2);vt(10276,680,3);vt(10314,680,0);vt(10347,680,1);vt(10394,680,2);vt(10436,680,3);vt(10479,680,4);vt(10531,680,5);vt(10582,680,6);vt(10627,680,7);vt(10666,680,8);vt(10711,680,9);w=i;return}function Un(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0.0,o=0.0,s=0.0,l=0.0,c=0,u=0.0,f=0,h=0.0,d=0.0,p=0.0,m=0.0,v=0.0,g=0.0,b=0,x=0,E=0,M=0.0,S=0.0,T=0.0,k=0.0,A=0,R=0.0,L=0,P=0.0,C=0,O=0.0,I=0,N=0,D=0.0,F=0.0,B=0.0,U=0.0,z=0,H=0.0,G=0.0,V=0.0,j=0.0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0;K=w;w=w+96|0;if((w|0)>=(_|0))pe();q=K;if(!(+y[e+88>>3]>=0.0)){J=0;do{y[q+(J<<5)>>3]=-+y[e+(J<<5)>>3];y[q+(J<<5)+8>>3]=-+y[e+(J<<5)+8>>3];y[q+(J<<5)+16>>3]=-+y[e+(J<<5)+16>>3];y[q+(J<<5)+24>>3]=-+y[e+(J<<5)+24>>3];J=J+1|0}while((J|0)!=3)}else{Y=0;do{y[q+(Y<<5)>>3]=+y[e+(Y<<5)>>3];y[q+(Y<<5)+8>>3]=+y[e+(Y<<5)+8>>3];y[q+(Y<<5)+16>>3]=+y[e+(Y<<5)+16>>3];y[q+(Y<<5)+24>>3]=+y[e+(Y<<5)+24>>3];Y=Y+1|0}while((Y|0)!=3)}y[t>>3]=0.0;y[t+8>>3]=0.0;y[t+16>>3]=0.0;y[t+24>>3]=0.0;y[t+32>>3]=0.0;y[t+40>>3]=0.0;y[t+48>>3]=0.0;y[t+56>>3]=0.0;y[t+64>>3]=0.0;y[t+72>>3]=0.0;y[t+80>>3]=0.0;y[t+88>>3]=0.0;M=+y[q+64>>3];S=+y[q+72>>3];T=+y[q+80>>3];k=+$(+(M*M+S*S+T*T));A=t+80|0;y[A>>3]=k;R=M/k;L=i+64|0;y[L>>3]=R;P=S/+y[A>>3];C=i+72|0;y[C>>3]=P;O=T/+y[A>>3];I=i+80|0;y[I>>3]=O;N=i+88|0;y[N>>3]=+y[q+88>>3]/+y[A>>3];D=+y[q+32>>3];F=+y[q+40>>3];B=+y[q+48>>3];U=R*D+P*F+O*B;z=t+48|0;y[z>>3]=U;H=D-U*+y[L>>3];G=F-U*+y[C>>3];V=B-U*+y[I>>3];j=+$(+(H*H+G*G+V*V));W=t+40|0;y[W>>3]=j;X=i+32|0;y[X>>3]=H/j;r=i+40|0;y[r>>3]=G/+y[W>>3];n=i+48|0;y[n>>3]=V/+y[W>>3];a=+y[q>>3];o=+y[q+8>>3];s=+y[q+16>>3];l=+y[L>>3]*a+ +y[C>>3]*o+ +y[I>>3]*s;c=t+16|0;y[c>>3]=l;u=+y[X>>3]*a+ +y[r>>3]*o+ +y[n>>3]*s;f=t+8|0;y[f>>3]=u;h=a-u*+y[X>>3]-l*+y[L>>3];d=o-u*+y[r>>3]-l*+y[C>>3];p=s-u*+y[n>>3]-l*+y[I>>3];m=+$(+(h*h+d*d+p*p));y[t>>3]=m;y[i>>3]=h/m;y[i+8>>3]=d/+y[t>>3];y[i+16>>3]=p/+y[t>>3];v=+y[N>>3];g=(+y[q+56>>3]-+y[z>>3]*v)/+y[W>>3];y[i+56>>3]=g;y[i+24>>3]=(+y[q+24>>3]-g*+y[f>>3]-+y[c>>3]*v)/+y[t>>3];Z=0;do{b=t+(Z<<5)|0;y[b>>3]=+y[b>>3]/+y[A>>3];x=t+(Z<<5)+8|0;y[x>>3]=+y[x>>3]/+y[A>>3];E=t+(Z<<5)+16|0;y[E>>3]=+y[E>>3]/+y[A>>3];Z=Z+1|0}while((Z|0)!=3);w=K;return 0}function zn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0;s=f[t>>0]|0;h=(s&1)==0;k=h?(s&255)>>>1:d[t+4>>2]|0;e:do{if(!k)Dl(e,t);else{l=h?t+1|0:d[t+8>>2]|0;c=k>>>0>11;u=bl(l,12820,c?11:k)|0;if(!(((u|0)==0?k>>>0<11?-1:c&1:u)|0)){Ho(t,13424,70);fl(e,13495,12);break}p=k>>>0>12;m=p?12:k;v=bl(l,12832,m)|0;i=k>>>0<12?-1:p&1;if(!(((v|0)==0?i:v)|0)){Ho(t,13508,49);fl(e,13558,13);break}g=bl(l,12845,m)|0;if(!(((g|0)==0?i:g)|0)){Ho(t,13572,49);fl(e,13622,13);break}y=k>>>0>13;b=bl(l,12858,y?13:k)|0;if(!(((b|0)==0?k>>>0<13?-1:y&1:b)|0)){Ho(t,13636,50);fl(e,13687,14);break}w=l+k|0;t:do{if((f[l+(k+-1)>>0]|0)==62){L=1;I=w;i:while(1){O=I;r:while(1){_=O+-1|0;if((_|0)==(l|0))break i;x=O+-2|0;switch(f[x>>0]|0){case 60:{n=x;a=_;F=16;break r;break}case 62:{o=_;F=17;break r;break}default:O=_}}if((F|0)==16){F=0;E=L+-1|0;if(!E){N=n;break t}else{L=E;I=a;continue}}else if((F|0)==17){F=0;L=L+1|0;I=o;continue}}d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;break e}else N=w}while(0);D=N;while(1){P=D+-1|0;if((P|0)==(l|0)){C=l;break}if((f[P>>0]|0)==58){C=D;break}else D=P}M=N-C|0;if(M>>>0>4294967279)bf(e);if(M>>>0<11){f[e>>0]=M<<1;R=e+1|0}else{S=M+16&-16;T=xi(S)|0;d[e+8>>2]=T;d[e>>2]=S|1;d[e+4>>2]=M;R=T}if((C|0)!=(N|0)){r=C;A=R;while(1){f[A>>0]=f[r>>0]|0;r=r+1|0;if((r|0)==(N|0))break;else A=A+1|0}}f[R+M>>0]=0}}while(0);return}function Hn(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;var s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0,q=0,Y=0,J=0,Z=0,K=0;K=w;w=w+240|0;if((w|0)>=(_|0))pe();V=K;M=d[r>>2]|0;A=d[r+4>>2]|0;d[V>>2]=e;C=0-t|0;e:do{if((A|0)!=0|(M|0)!=1){S=e+(0-(d[o+(n<<2)>>2]|0))|0;if((td[i&15](S,e)|0)<1){l=e;m=n;y=a;j=1;Z=19}else{u=e;g=n;b=(a|0)==0;k=S;P=M;I=A;X=1;while(1){if(b&(g|0)>1){T=d[o+(g+-2<<2)>>2]|0;if((td[i&15](u+C|0,k)|0)>-1){c=u;v=g;W=X;Z=20;break e}if((td[i&15](u+(0-(T+t))|0,k)|0)>-1){c=u;v=g;W=X;Z=20;break e}}R=X+1|0;d[V+(X<<2)>>2]=k;L=P+-1|0;do{if(!L){F=32;Z=16}else{if(!(L&1)){h=L;q=0;while(1){O=q+1|0;h=h>>>1;if(h&1){x=O;break}else q=O}if(!x)Z=11;else D=x}else Z=11;if((Z|0)==11){Z=0;if(!I){F=64;Z=16;break}if(!(I&1)){p=I;Y=0}else{s=0;B=P;U=I;H=0;break}while(1){N=Y+1|0;p=p>>>1;if(p&1){E=N;J=Y;break}else Y=N}if(!E){s=0;B=P;U=I;H=0;break}else D=J+33|0}if(D>>>0>31){F=D;Z=16}else{s=D;B=P;U=I;H=D}}}while(0);if((Z|0)==16){Z=0;s=F+-32|0;B=I;U=0;H=F}P=U<<32-s|B>>>s;I=U>>>s;z=H+g|0;if(!((I|0)!=0|(P|0)!=1)){c=k;v=z;W=R;Z=20;break e}G=k+(0-(d[o+(z<<2)>>2]|0))|0;if((td[i&15](G,d[V>>2]|0)|0)<1){l=k;m=z;y=0;j=R;Z=19;break}else{f=k;g=z;b=1;k=G;X=R;u=f}}}}else{l=e;m=n;y=a;j=1;Z=19}}while(0);if((Z|0)==19)if(!y){c=l;v=m;W=j;Z=20}if((Z|0)==20){Ko(t,V,W);ro(c,t,i,v,o)}w=K;return}function Gn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0.0,u=0,f=0,h=0,p=0,m=0,v=0.0,g=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0.0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0.0,X=0.0,q=0,Y=0;a=d[e+4>>2]|0;h=d[e+8>>2]|0;w=(a|0)<(h|0)?a:h;e:do{if((a|0)<2|(h|0)<2)n=-1;else if((d[t+8>>2]|0)==(h|0))if((d[t+4>>2]|0)==(w|0)){o=i+4|0;if((d[o>>2]|0)==(w|0)){s=r+4|0;if((d[s>>2]|0)==(h|0)){l=Wc(e)|0;if(!l)n=-1;else{c=+$(+ +(a|0));u=d[l+4>>2]|0;f=d[l+8>>2]|0;if(!((u|0)<1|(f|0)<1))if((d[s>>2]|0)==(f|0)){if(f){p=d[r>>2]|0;C=0;do{y[p+(C<<3)>>3]=0.0;C=C+1|0}while((C|0)!=(f|0))}m=d[l>>2]|0;if(u){L=(f|0)==0;I=0;H=m;while(1){if(!L){B=0;G=H;q=d[r>>2]|0;while(1){y[q>>3]=+y[G>>3]+ +y[q>>3];B=B+1|0;if((B|0)==(f|0))break;else{G=G+8|0;q=q+8|0}}}I=I+1|0;if((I|0)==(u|0))break;else H=H+(f<<3)|0}}v=+(u|0);if(f){g=d[r>>2]|0;D=0;do{b=g+(D<<3)|0;y[b>>3]=+y[b>>3]/v;D=D+1|0}while((D|0)!=(f|0))}j=(f|0)>0?f:0;if((u|0)>0){_=(f|0)>0;P=0;z=m;while(1){if(_){U=0;V=z;Y=d[r>>2]|0;while(1){y[V>>3]=+y[V>>3]-+y[Y>>3];U=U+1|0;if((U|0)>=(f|0))break;else{V=V+8|0;Y=Y+8|0}}}P=P+1|0;if((P|0)>=(u|0))break;else z=z+(j<<3)|0}}x=fe(h,a)|0;if((x|0)>0){O=0;do{E=m+(O<<3)|0;y[E>>3]=+y[E>>3]/c;O=O+1|0}while((O|0)<(x|0))}M=Li(l,t,i)|0;Wf(l)|0;S=d[o>>2]|0;if((S|0)>0){T=d[i>>2]|0;N=0;X=0.0;while(1){A=X+ +y[T+(N<<3)>>3];N=N+1|0;if((N|0)>=(S|0)){W=A;break}else X=A}}else W=0.0;if((S|0)<=0){n=M;break}k=d[i>>2]|0;F=0;while(1){R=k+(F<<3)|0;y[R>>3]=+y[R>>3]/W;F=F+1|0;if((F|0)>=(S|0)){n=M;break e}}}Wf(l)|0;n=-1}}else n=-1}else n=-1}else n=-1;else n=-1}while(0);return n|0}function Vn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0;F=w;w=w+32|0;if((w|0)>=(_|0))pe();I=F+12|0;N=F;e:do{if((t-e|0)>1){g=f[e>>0]|0;switch(g<<24>>24){case 100:case 111:{if((f[e+1>>0]|0)==110){O=e+2|0;if(g<<24>>24==111){a=bi(O,t,i)|0;if((a|0)==(O|0)){r=e;break e}o=ln(a,t,i)|0;if((o|0)==(a|0)){r=a;break e}s=i+4|0;l=d[s>>2]|0;if(((l-(d[i>>2]|0)|0)/24|0)>>>0<2){r=o;break e}el(I,l+-24|0);c=d[s>>2]|0;u=c+-24|0;p=c;do{h=p+-24|0;d[s>>2]=h;Vc(h);p=d[s>>2]|0}while((p|0)!=(u|0));m=f[I>>0]|0;v=(m&1)==0;Go(c+-48|0,v?I+1|0:d[I+8>>2]|0,v?(m&255)>>>1:d[I+4>>2]|0)|0;Lu(I);r=o;break e}if((O|0)==(t|0))n=t;else{y=mn(O,t,i)|0;if((y|0)==(O|0))D=Fa(O,t,i)|0;else D=y;if((D|0)==(O|0))n=O;else{b=d[i+4>>2]|0;if((d[i>>2]|0)==(b|0))n=O;else{Ac(b+-24|0,0,12902)|0;n=D}}}w=F;return((n|0)==(O|0)?e:n)|0}break}default:{}}x=Fa(e,t,i)|0;if((x|0)==(e|0)){E=bi(e,t,i)|0;if((E|0)==(e|0))r=e;else{M=ln(E,t,i)|0;if((M|0)==(E|0))r=E;else{S=i+4|0;T=d[S>>2]|0;if(((T-(d[i>>2]|0)|0)/24|0)>>>0<2)r=M;else{el(N,T+-24|0);k=d[S>>2]|0;A=k+-24|0;L=k;do{R=L+-24|0;d[S>>2]=R;Vc(R);L=d[S>>2]|0}while((L|0)!=(A|0));P=f[N>>0]|0;C=(P&1)==0;Go(k+-48|0,C?N+1|0:d[N+8>>2]|0,C?(P&255)>>>1:d[N+4>>2]|0)|0;Lu(N);r=M}}}}else r=x}else r=e}while(0);w=F;return r|0}function jn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0.0,x=0,E=0,M=0,S=0,T=0,k=0.0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0;W=w;w=w+256|0;if((w|0)>=(_|0))pe();z=W+232|0;U=W+224|0;B=W+216|0;V=W+208|0;G=W+200|0;H=W+192|0;F=W+184|0;R=W+240|0;I=W;do{if((e|0)!=0&(t|0)>0&(i|0)!=0){p=Zo(e,4854)|0;if(!p){T=Ju()|0;d[F>>2]=d[T>>2];d[F+4>>2]=e;Ha(3,4857,F);A=ms(d[T>>2]|0)|0;d[H>>2]=13809;d[H+4>>2]=A;Ha(3,5361,H);N=-1;break}Tf(p,0,2)|0;e:do{if(!(Dc(p)|0)){s=Rh(p)|0;Cc(p);P=0;while(1){if((P|0)>=4){C=P;j=9;break}l=d[2012+(P<<3)+4>>2]|0;c=P+1|0;if(!((s|0)%(l|0)|0)){u=l;L=c;break}else P=c}do{if((j|0)==9)if((C|0)==4){Ha(3,4971,B);D=-1;break e}else{u=d[2012+(0<<3)+4>>2]|0;L=0;break}}while(0);if((Wa(I,u,1,p)|0)!=1){f=Ju()|0;d[U>>2]=d[f>>2];Ha(3,5051,U);h=ms(d[f>>2]|0)|0;d[z>>2]=13809;d[z+4>>2]=h;Ha(3,5361,z);D=-1;break}m=I+176|0;d[m>>2]=L;Oo(I);v=(L|0)==1;g=I+120|0;if(v){b=+y[g>>3];x=I+128|0;y[g>>3]=+y[x>>3];y[x>>3]=b;n=x}else n=I+128|0;il(i|0,I|0,184)|0;d[R>>2]=r;E=i+176|0;if((t|0)>1){O=1;while(1){M=(d[R>>2]|0)+(4-1)&~(4-1);S=d[M>>2]|0;d[R>>2]=M+4;d[S+176>>2]=d[E>>2];if((Wa(I,d[2012+((d[E>>2]|0)+-1<<3)+4>>2]|0,1,p)|0)!=1){D=-1;break e}d[m>>2]=L;Oo(I);if(v){k=+y[g>>3];y[g>>3]=+y[n>>3];y[n>>3]=k}il(S|0,I|0,184)|0;O=O+1|0;if((O|0)>=(t|0)){D=0;break}}}else D=0}else{a=Ju()|0;d[G>>2]=d[a>>2];Ha(3,4926,G);o=ms(d[a>>2]|0)|0;d[V>>2]=13809;d[V+4>>2]=o;Ha(3,5361,V);D=-1}}while(0);ml(p)|0;N=D}else N=-1}while(0);w=W;return N|0}function Wn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0;D=w;w=w+48|0;if((w|0)>=(_|0))pe();o=D+36|0;s=D+24|0;h=D+12|0;v=D;b=yi(e,t,r)|0;if((b|0)==(e|0))n=e;else{C=r+4|0;N=d[C>>2]|0;if((d[r>>2]|0)==(N|0))n=e;else{l=N+-24|0;ws(h,i,12688);el(v,(d[C>>2]|0)+-24|0);c=f[v>>0]|0;u=(c&1)==0;p=Go(h,u?v+1|0:d[v+8>>2]|0,u?(c&255)>>>1:d[v+4>>2]|0)|0;d[s>>2]=d[p>>2];d[s+4>>2]=d[p+4>>2];d[s+8>>2]=d[p+8>>2];d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;m=Gc(s,12593)|0;d[o>>2]=d[m>>2];d[o+4>>2]=d[m+4>>2];d[o+8>>2]=d[m+8>>2];d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;do{if(!(f[l>>0]&1)){f[l+1>>0]=0;f[l>>0]=0}else{g=N+-16|0;f[d[g>>2]>>0]=0;y=N+-20|0;d[y>>2]=0;a=f[l>>0]|0;if(!(a&1)){E=a;T=10}else{x=d[l>>2]|0;E=x&255;T=(x&-2)+-1|0}if(!(E&1)){M=(E&255)>>>1;if((E&255)<22){S=10;O=M;I=1}else{S=(M+16&240)+-1|0;O=M;I=1}}else{S=10;O=0;I=0}if((S|0)!=(T|0)){if((S|0)==10){R=l+1|0;L=d[g>>2]|0;if(I){il(R|0,L|0,((E&255)>>>1)+1|0)|0;cn(L)}else{f[R>>0]=f[L>>0]|0;cn(L)}f[l>>0]=O<<1;break}k=S+1|0;A=xi(k)|0;if(!(S>>>0<=T>>>0&(A|0)==0)){if(I)il(A|0,l+1|0,((E&255)>>>1)+1|0)|0;else{P=d[g>>2]|0;f[A>>0]=f[P>>0]|0;cn(P)}d[l>>2]=k|1;d[y>>2]=O;d[g>>2]=A}}}}while(0);d[l>>2]=d[o>>2];d[l+4>>2]=d[o+4>>2];d[l+8>>2]=d[o+8>>2];d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;Lu(o);Lu(s);Lu(v);Lu(h);n=b}}w=D;return n|0}function Xn(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0.0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,x=0,E=0.0,M=0,S=0.0,T=0.0,k=0,A=0,R=0.0,L=0,P=0,C=0,O=0,I=0.0,N=0.0,D=0.0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0;W=w;w=w+176|0;if((w|0)>=(_|0))pe();V=W+168|0;G=W+160|0;C=W+48|0;H=W+64|0;O=W;u=t+8|0;f=d[u>>2]|0;do{if((f|0)<3)a=-1;else{M=xi(f*96|0)|0;if(!M){Ha(3,5109,G);a=-1;break}L=xi(f<<4)|0;if(!L){Ha(3,5109,V);cn(M);a=-1;break}else B=0;do{y[r+(B<<5)>>3]=+y[i+(B<<5)>>3];y[r+(B<<5)+8>>3]=+y[i+(B<<5)+8>>3];y[r+(B<<5)+16>>3]=+y[i+(B<<5)+16>>3];y[r+(B<<5)+24>>3]=+y[i+(B<<5)+24>>3];B=B+1|0}while((B|0)!=3);P=t+4|0;h=C+8|0;p=e+104|0;m=e+120|0;v=e+112|0;g=e+96|0;I=0.0;F=0;e:while(1){Hs(e,r,H)|0;b=d[u>>2]|0;if((b|0)>0){D=0.0;U=0;while(1){if((_s(C,H,(d[P>>2]|0)+(U*24|0)|0)|0)<0){j=10;break e}x=d[t>>2]|0;E=+y[x+(U<<4)>>3]-+y[C>>3];S=+y[x+(U<<4)+8>>3]-+y[h>>3];T=D+(E*E+S*S);k=U<<1;y[L+(k<<3)>>3]=E;y[L+((k|1)<<3)>>3]=S;U=U+1|0;A=d[u>>2]|0;if((U|0)>=(A|0)){o=A;N=T;break}else D=T}}else{o=b;N=0.0}R=N/+(o|0);if(R<+y[p>>3]){l=R;j=24;break}if((F|0)>0)if(R<+y[m>>3])if(R/I>+y[v>>3]){l=R;j=24;break}if((F|0)==(d[g>>2]|0)){l=R;j=24;break}if((o|0)>0){z=0;while(1){if((wn(M+(z*12<<3)|0,e,r,(d[P>>2]|0)+(z*24|0)|0)|0)<0){j=20;break e}z=z+1|0;c=d[u>>2]|0;if((z|0)>=(c|0)){s=c;break}}}else s=o;if((uo(O,L,M,s<<1)|0)<0){j=22;break}ca(r,O)|0;I=R;F=F+1|0}if((j|0)==10){If(M,L);a=-1;break}else if((j|0)==20){If(M,L);a=-1;break}else if((j|0)==22){If(M,L);a=-1;break}else if((j|0)==24){y[n>>3]=l;cn(M);cn(L);a=0;break}}}while(0);w=W;return a|0}function qn(e,t,i,r,n,a,o,s,l,c,u,f,h,p){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;s=s|0;l=l|0;c=c|0;u=+u;f=f|0;h=h|0;p=p|0;var m=0,v=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0;I=w;w=w+16|0;if((w|0)>=(_|0))pe();C=I+4|0;O=I;m=l>>>0<2;v=(l|0)==2;if((a|0)>0){A=0;L=0;while(1){d[f+(L<<8)>>2]=d[n+(A*80048|0)>>2];if((Us(c,+y[n+(A*80048|0)+8>>3],+y[n+(A*80048|0)+16>>3],C,O)|0)<0)P=L;else{y[f+(L<<8)+56>>3]=+g[C>>2];y[f+(L<<8)+64>>3]=+g[O>>2];b=f+(L<<8)+168|0;if((ra(n+(A*80048|0)+28|0,n+(A*80048|0)+40028|0,d[n+(A*80048|0)+24>>2]|0,n+(A*80048|0)+80028|0,c,f+(L<<8)+72|0,b)|0)<0)P=L;else{x=f+(L<<8)+8|0;E=f+(L<<8)+20|0;M=f+(L<<8)+40|0;S=f+(L<<8)+12|0;T=f+(L<<8)+24|0;k=f+(L<<8)+48|0;switch(tr(o,s,l,e,t,i,r,c,b,u,x,E,M,S,T,k,p,f+(L<<8)+240|0,f+(L<<8)+248|0)|0){case 0:{d[f+(L<<8)+236>>2]=0;break}case-1:{d[f+(L<<8)+236>>2]=2;break}case-2:{d[f+(L<<8)+236>>2]=3;break}case-3:{d[f+(L<<8)+236>>2]=4;break}case-4:{d[f+(L<<8)+236>>2]=5;break}case-5:{d[f+(L<<8)+236>>2]=9;break}case-6:{d[f+(L<<8)+236>>2]=1;break}default:{}}if(m){d[f+(L<<8)+4>>2]=d[x>>2];d[f+(L<<8)+16>>2]=d[E>>2];y[f+(L<<8)+32>>3]=+y[M>>3]}else if(v){d[f+(L<<8)+4>>2]=d[S>>2];d[f+(L<<8)+16>>2]=d[T>>2];y[f+(L<<8)+32>>3]=+y[k>>3]}P=L+1|0}}A=A+1|0;if((A|0)>=(a|0)){R=P;break}else L=P}}else R=0;d[h>>2]=R;w=I;return 0}function Yn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0;l=tl(e,t)|0;do{if((l|0)<0)n=l;else{b=e+4|0;if(!(d[b>>2]|0)){S=e+8|0;A=e+12|0;c=xi(fe(d[A>>2]|0,d[S>>2]|0)|0)|0;d[b>>2]=c;if(!c){n=-1;break}else{o=S;s=A}}else{o=e+8|0;s=e+12|0}u=i>>1;h=0-u|0;m=d[s>>2]|0;if((m|0)>0){v=(u|0)<(h|0);g=(u|0)<(h|0);D=0;do{y=d[o>>2]|0;if((y|0)>0){x=y;I=0;do{if(v){R=0;U=0}else{L=0;B=h;z=0;while(1){w=B+D|0;if((w|0)<0){O=L;V=z}else if((w|0)<(d[s>>2]|0)){_=fe(x,w)|0;if(g){O=L;V=z}else{P=L;F=h;H=z;while(1){E=F+I|0;if((E|0)>-1&(E|0)<(x|0)){C=P+1|0;G=(p[(d[e>>2]|0)+(_+E)>>0]|0)+H|0}else{C=P;G=H}if((F|0)<(u|0)){P=C;F=F+1|0;H=G}else{O=C;V=G;break}}}}else{O=L;V=z}if((B|0)<(u|0)){L=O;B=B+1|0;z=V}else{R=O;U=V;break}}}M=(fe(x,D)|0)+I|0;f[(d[b>>2]|0)+M>>0]=(U|0)/(R|0)|0;I=I+1|0;x=d[o>>2]|0}while((I|0)<(x|0))}D=D+1|0;T=d[s>>2]|0}while((D|0)<(T|0));a=T}else a=m;if(!r)n=0;else if((fe(a,d[o>>2]|0)|0)>0){N=0;do{k=(d[b>>2]|0)+N|0;f[k>>0]=(p[k>>0]|0)+r;N=N+1|0}while((N|0)<(fe(d[s>>2]|0,d[o>>2]|0)|0));n=0}else n=0}}while(0);return n|0}function Jn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0;do{if(!(f[e>>0]&1)){f[e+1>>0]=0;f[e>>0]=0}else{b=e+8|0;f[d[b>>2]>>0]=0;S=e+4|0;d[S>>2]=0;i=f[e>>0]|0;if(!(i&1)){a=i;l=10}else{n=d[e>>2]|0;a=n&255;l=(n&-2)+-1|0}if(!(a&1)){o=(a&255)>>>1;if((a&255)<22){s=10;v=o;I=1}else{s=(o+16&240)+-1|0;v=o;I=1}}else{s=10;v=0;I=0}if((s|0)!=(l|0)){if((s|0)==10){h=e+1|0;p=d[b>>2]|0;if(I){il(h|0,p|0,((a&255)>>>1)+1|0)|0;cn(p)}else{f[h>>0]=f[p>>0]|0;cn(p)}f[e>>0]=v<<1;break}c=s+1|0;u=xi(c)|0;if(!(s>>>0<=l>>>0&(u|0)==0)){if(I)il(u|0,e+1|0,((a&255)>>>1)+1|0)|0;else{m=d[b>>2]|0;f[u>>0]=f[m>>0]|0;cn(m)}d[e>>2]=c|1;d[S>>2]=v;d[b>>2]=u}}}}while(0);d[e>>2]=d[t>>2];d[e+4>>2]=d[t+4>>2];d[e+8>>2]=d[t+8>>2];d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;g=e+12|0;y=t+12|0;do{if(!(f[g>>0]&1)){f[g+1>>0]=0;f[g>>0]=0}else{w=e+20|0;f[d[w>>2]>>0]=0;_=e+16|0;d[_>>2]=0;r=f[g>>0]|0;if(!(r&1)){E=r;k=10}else{x=d[g>>2]|0;E=x&255;k=(x&-2)+-1|0}if(!(E&1)){M=(E&255)>>>1;if((E&255)<22){T=10;O=M;N=1}else{T=(M+16&240)+-1|0;O=M;N=1}}else{T=10;O=0;N=0}if((T|0)!=(k|0)){if((T|0)==10){L=g+1|0;P=d[w>>2]|0;if(N){il(L|0,P|0,((E&255)>>>1)+1|0)|0;cn(P)}else{f[L>>0]=f[P>>0]|0;cn(P)}f[g>>0]=O<<1;break}A=T+1|0;R=xi(A)|0;if(!(T>>>0<=k>>>0&(R|0)==0)){if(N)il(R|0,g+1|0,((E&255)>>>1)+1|0)|0;else{C=d[w>>2]|0;f[R>>0]=f[C>>0]|0;cn(C)}d[g>>2]=A|1;d[_>>2]=O;d[w>>2]=R}}}}while(0);d[g>>2]=d[y>>2];d[g+4>>2]=d[y+4>>2];d[g+8>>2]=d[y+8>>2];d[y>>2]=0;d[y+4>>2]=0;d[y+8>>2]=0;return}function Zn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0;l=e+4|0;e:do{if(!t){x=d[e>>2]|0;d[e>>2]=0;if(x)kh(x);d[l>>2]=0}else{g=Hl(t<<2)|0;_=d[e>>2]|0;d[e>>2]=g;if(_)kh(_);d[l>>2]=t;if(t){I=0;do{d[(d[e>>2]|0)+(I<<2)>>2]=0;I=I+1|0}while((I|0)!=(t|0))}E=e+8|0;c=d[E>>2]|0;if(c){u=d[c+4>>2]|0;f=t+-1|0;h=(f&t|0)==0;if(h)p=u&f;else p=(u>>>0)%(t>>>0)|0;d[(d[e>>2]|0)+(p<<2)>>2]=E;A=d[c>>2]|0;if(A){i=c;M=c;R=A;F=p;while(1){r=i;S=M;L=R;t:while(1){P=L;while(1){m=d[P+4>>2]|0;if(h)v=m&f;else v=(m>>>0)%(t>>>0)|0;if((v|0)==(F|0)){C=P;break}y=(d[e>>2]|0)+(v<<2)|0;if(!(d[y>>2]|0)){n=r;o=v;s=y;O=P;break t}b=P+8|0;N=P;while(1){w=d[N>>2]|0;if(!w){a=w;D=N;break}if((d[b>>2]|0)==(d[w+8>>2]|0))N=w;else{a=w;D=N;break}}d[r>>2]=a;d[D>>2]=d[d[(d[e>>2]|0)+(v<<2)>>2]>>2];d[d[(d[e>>2]|0)+(v<<2)>>2]>>2]=P;P=d[S>>2]|0;if(!P)break e}T=d[C>>2]|0;if(!T)break e;else{r=C;S=C;L=T}}d[s>>2]=n;k=d[O>>2]|0;if(!k)break;else{i=O;M=O;R=k;F=o}}}}}}while(0);return}function Kn(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0;l=e+4|0;e:do{if(!t){x=d[e>>2]|0;d[e>>2]=0;if(x)kh(x);d[l>>2]=0}else{g=Hl(t<<2)|0;_=d[e>>2]|0;d[e>>2]=g;if(_)kh(_);d[l>>2]=t;if(t){I=0;do{d[(d[e>>2]|0)+(I<<2)>>2]=0;I=I+1|0}while((I|0)!=(t|0))}E=e+8|0;c=d[E>>2]|0;if(c){u=d[c+4>>2]|0;f=t+-1|0;h=(f&t|0)==0;if(h)p=u&f;else p=(u>>>0)%(t>>>0)|0;d[(d[e>>2]|0)+(p<<2)>>2]=E;A=d[c>>2]|0;if(A){i=c;M=c;R=A;F=p;while(1){r=i;S=M;L=R;t:while(1){P=L;while(1){m=d[P+4>>2]|0;if(h)v=m&f;else v=(m>>>0)%(t>>>0)|0;if((v|0)==(F|0)){C=P;break}y=(d[e>>2]|0)+(v<<2)|0;if(!(d[y>>2]|0)){n=r;o=v;s=y;O=P;break t}b=P+8|0;N=P;while(1){w=d[N>>2]|0;if(!w){a=w;D=N;break}if((d[b>>2]|0)==(d[w+8>>2]|0))N=w;else{a=w;D=N;break}}d[r>>2]=a;d[D>>2]=d[d[(d[e>>2]|0)+(v<<2)>>2]>>2];d[d[(d[e>>2]|0)+(v<<2)>>2]>>2]=P;P=d[S>>2]|0;if(!P)break e}T=d[C>>2]|0;if(!T)break e;else{r=C;S=C;L=T}}d[s>>2]=n;k=d[O>>2]|0;if(!k)break;else{i=O;M=O;R=k;F=o}}}}}}while(0);return}function Qn(e,t,i,r){e=e|0;t=+t;i=+i;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0.0,f=0.0,h=0,p=0.0,m=0,v=0.0,g=0,b=0.0,x=0.0,E=0.0,M=0.0,S=0,T=0,k=0.0,A=0.0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0;D=w;w=w+400|0;if((w|0)>=(_|0))pe();P=D+296|0;N=D+200|0;O=D+128|0;I=D;n=d[e>>2]|0;s=d[e+4>>2]|0;if((Un(e+8|0,P,N)|0)<0)Ha(3,6024,D+392|0);else{p=+(s+-1|0);a=P+32|0;y[a>>3]=p*+y[P+64>>3]-+y[a>>3];o=P+40|0;y[o>>3]=p*+y[P+72>>3]-+y[o>>3];l=P+48|0;y[l>>3]=p*+y[P+80>>3]-+y[l>>3];c=P+56|0;y[c>>3]=p*+y[P+88>>3]-+y[c>>3];u=+y[P+80>>3];R=0;do{y[O+(R*24|0)>>3]=+y[P+(R<<5)>>3]/u;y[O+(R*24|0)+8>>3]=+y[P+(R<<5)+8>>3]/u;y[O+(R*24|0)+16>>3]=+y[P+(R<<5)+16>>3]/u;R=R+1|0}while((R|0)!=3);f=+(n+-1|0);y[I>>3]=+y[O>>3]*2.0/f;y[I+8>>3]=+y[O+8>>3]*2.0/f;y[I+16>>3]=+y[O+16>>3]*2.0/f+-1.0;h=I+24|0;d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;d[h+12>>2]=0;y[I+40>>3]=+y[O+32>>3]*2.0/p;y[I+48>>3]=+y[O+40>>3]*2.0/p+-1.0;m=I+56|0;v=i-t;d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;d[m+12>>2]=0;d[m+16>>2]=0;d[m+20>>2]=0;y[I+80>>3]=(t+i)/v;y[I+88>>3]=i*-2.0*t/v;g=I+96|0;d[g>>2]=0;d[g+4>>2]=0;d[g+8>>2]=0;d[g+12>>2]=0;y[I+112>>3]=1.0;y[I+120>>3]=0.0;b=+y[N+24>>3];x=+y[N+56>>3];E=+y[N+88>>3];L=0;do{M=+y[I+(L<<5)>>3];S=I+(L<<5)+8|0;T=I+(L<<5)+16|0;k=+y[S>>3];A=+y[T>>3];C=0;do{y[r+((C<<2)+L<<3)>>3]=M*+y[N+(C<<3)>>3]+k*+y[N+32+(C<<3)>>3]+A*+y[N+64+(C<<3)>>3];C=C+1|0}while((C|0)!=3);y[r+(L+12<<3)>>3]=+y[I+(L<<5)+24>>3]+(M*b+ +y[S>>3]*x+ +y[T>>3]*E);L=L+1|0}while((L|0)!=4)}w=D;return}function $n(e,t,i,r,n,a){e=e|0;t=+t;i=+i;r=r|0;n=n|0;a=a|0;var o=0,s=0.0,l=0.0,c=0.0,u=0.0,f=0.0,h=0.0,d=0.0,p=0,m=0.0,v=0.0,g=0.0,b=0.0,w=0.0,_=0.0,x=0.0,E=0.0,M=0.0,S=0.0,T=0.0,k=0.0,A=0.0,R=0,L=0.0,P=0.0,C=0.0,O=0.0,I=0.0,N=0.0,D=0.0,F=0,B=0.0,U=0.0,z=0.0,H=0.0;switch(a|0){case 4:{M=+y[e+16>>3];A=+y[e+24>>3];C=+y[e+32>>3];s=+y[e+40>>3];u=+y[e+48>>3];v=+y[e+56>>3];b=+y[e+64>>3];w=(t-u)*b/C;_=(i-v)*b/s;x=w*w+_*_;E=+y[e>>3]*x+1.0+x*(+y[e+8>>3]*x);y[r>>3]=u+C*(A*(w*(w*2.0)+x)+(M*2.0*w*_+w*E));y[n>>3]=v+s*(A*2.0*w*_+(M*(x+_*(_*2.0))+_*E));o=0;break}case 3:{S=+y[e>>3];T=+y[e+16>>3];k=(t-S)*T;R=e+8|0;L=T*(i-+y[R>>3]);if(k==0.0&L==0.0){y[r>>3]=S;H=+y[R>>3]}else{P=k*k+L*L;O=1.0-P*(+y[e+32>>3]/1.0e8)-P*(P*(+y[e+40>>3]/1.0e8/1.0e5));y[r>>3]=S+ +y[e+24>>3]*(k*O);H=+y[R>>3]+L*O}y[n>>3]=H;o=0;break}case 2:{I=+y[e>>3];N=+y[e+16>>3];D=(t-I)*N;F=e+8|0;B=N*(i-+y[F>>3]);if(D==0.0&B==0.0){y[r>>3]=I;z=+y[F>>3]}else{l=D*D+B*B;c=1.0-l*(+y[e+24>>3]/1.0e8)-l*(l*(+y[e+32>>3]/1.0e8/1.0e5));y[r>>3]=I+D*c;z=+y[F>>3]+B*c}y[n>>3]=z;o=0;break}case 1:{f=+y[e>>3];h=+y[e+16>>3];d=(t-f)*h;p=e+8|0;m=h*(i-+y[p>>3]);if(d==0.0&m==0.0){y[r>>3]=f;U=+y[p>>3]}else{g=1.0-(d*d+m*m)*(+y[e+24>>3]/1.0e8);y[r>>3]=f+d*g;U=+y[p>>3]+m*g}y[n>>3]=U;o=0;break}default:o=-1}return o|0}function ea(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0.0,p=0,m=0.0,v=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0;n=d[i+8>>2]|0;l=i+4|0;d[l>>2]=n;p=t+4|0;v=d[p>>2]|0;x=(v|0)==0;e:do{if(x){N=0;U=12}else{T=v+-1|0;C=(T&v|0)==0;if(C)a=T&n;else a=(n>>>0)%(v>>>0)|0;o=d[(d[t>>2]|0)+(a<<2)>>2]|0;if(!o){N=a;U=12}else{r=o;while(1){F=d[r>>2]|0;if(!F){N=a;U=12;break e}s=d[F+4>>2]|0;if(C)c=s&T;else c=(s>>>0)%(v>>>0)|0;if((c|0)!=(a|0)){N=a;U=12;break e}if((d[F+8>>2]|0)==(n|0)){O=0;B=F;break}else r=F}}}}while(0);if((U|0)==12){u=t+12|0;h=+(((d[u>>2]|0)+1|0)>>>0);m=+g[t+16>>2];do{if(x|h>+(v>>>0)*m){if(v>>>0>2)y=(v+-1&v|0)==0;else y=0;b=(y&1|v<<1)^1;w=~~+ue(+(h/m))>>>0;oo(t,b>>>0<w>>>0?w:b);_=d[p>>2]|0;E=d[l>>2]|0;M=_+-1|0;if(!(M&_)){I=_;D=M&E;break}else{I=_;D=(E>>>0)%(_>>>0)|0;break}}else{I=v;D=N}}while(0);S=d[(d[t>>2]|0)+(D<<2)>>2]|0;if(!S){k=t+8|0;d[i>>2]=d[k>>2];d[k>>2]=i;d[(d[t>>2]|0)+(D<<2)>>2]=k;A=d[i>>2]|0;if(A){R=d[A+4>>2]|0;L=I+-1|0;if(!(L&I))P=R&L;else P=(R>>>0)%(I>>>0)|0;d[(d[t>>2]|0)+(P<<2)>>2]=i}}else{d[i>>2]=d[S>>2];d[S>>2]=i}d[u>>2]=(d[u>>2]|0)+1;O=1;B=i}d[e>>2]=B;f[e+4>>0]=O;return}function ta(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0;r=e+4|0;n=d[r>>2]|0;l=e+100|0;if(n>>>0<(d[l>>2]|0)>>>0){d[r>>2]=n+1;a=p[n>>0]|0}else a=to(e)|0;switch(a|0){case 43:case 45:{o=(a|0)==45&1;s=d[r>>2]|0;if(s>>>0<(d[l>>2]|0)>>>0){d[r>>2]=s+1;c=p[s>>0]|0}else c=to(e)|0;if((t|0)!=0&(c+-48|0)>>>0>9)if(!(d[l>>2]|0)){L=c;B=o}else{d[r>>2]=(d[r>>2]|0)+-1;L=c;B=o}else{L=c;B=o}break}default:{L=a;B=0}}if((L+-48|0)>>>0>9)if(!(d[l>>2]|0)){A=-2147483648;R=0}else{d[r>>2]=(d[r>>2]|0)+-1;A=-2147483648;R=0}else{O=L;U=0;while(1){u=O+-48+(U*10|0)|0;f=d[r>>2]|0;if(f>>>0<(d[l>>2]|0)>>>0){d[r>>2]=f+1;P=p[f>>0]|0}else P=to(e)|0;if((P+-48|0)>>>0<10&(u|0)<214748364){O=P;U=u}else{i=u;C=P;break}}h=((i|0)<0)<<31>>31;if((C+-48|0)>>>0<10){m=i;v=h;D=C;while(1){g=Vl(m|0,v|0,10,0)|0;y=H;b=Ku(D|0,((D|0)<0)<<31>>31|0,-48,-1)|0;w=Ku(b|0,H|0,g|0,y|0)|0;_=H;x=d[r>>2]|0;if(x>>>0<(d[l>>2]|0)>>>0){d[r>>2]=x+1;I=p[x>>0]|0}else I=to(e)|0;if((I+-48|0)>>>0<10&((_|0)<21474836|(_|0)==21474836&w>>>0<2061584302)){m=w;v=_;D=I}else{S=w;T=_;N=I;break}}}else{S=i;T=h;N=C}if((N+-48|0)>>>0<10)do{E=d[r>>2]|0;if(E>>>0<(d[l>>2]|0)>>>0){d[r>>2]=E+1;F=p[E>>0]|0}else F=to(e)|0}while((F+-48|0)>>>0<10);if(d[l>>2]|0)d[r>>2]=(d[r>>2]|0)+-1;M=(B|0)!=0;k=_u(0,0,S|0,T|0)|0;A=M?H:T;R=M?k:S}H=A;return R|0}function ia(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0.0,p=0,m=0.0,v=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0;n=d[i+8>>2]|0;l=i+4|0;d[l>>2]=n;p=t+4|0;v=d[p>>2]|0;x=(v|0)==0;e:do{if(x){N=0;U=12}else{T=v+-1|0;C=(T&v|0)==0;if(C)a=T&n;else a=(n>>>0)%(v>>>0)|0;o=d[(d[t>>2]|0)+(a<<2)>>2]|0;if(!o){N=a;U=12}else{r=o;while(1){F=d[r>>2]|0;if(!F){N=a;U=12;break e}s=d[F+4>>2]|0;if(C)c=s&T;else c=(s>>>0)%(v>>>0)|0;if((c|0)!=(a|0)){N=a;U=12;break e}if((d[F+8>>2]|0)==(n|0)){O=0;B=F;break}else r=F}}}}while(0);if((U|0)==12){u=t+12|0;h=+(((d[u>>2]|0)+1|0)>>>0);m=+g[t+16>>2];do{if(x|h>+(v>>>0)*m){if(v>>>0>2)y=(v+-1&v|0)==0;else y=0;b=(y&1|v<<1)^1;w=~~+ue(+(h/m))>>>0;lo(t,b>>>0<w>>>0?w:b);_=d[p>>2]|0;E=d[l>>2]|0;M=_+-1|0;if(!(M&_)){I=_;D=M&E;break}else{I=_;D=(E>>>0)%(_>>>0)|0;break}}else{I=v;D=N}}while(0);S=d[(d[t>>2]|0)+(D<<2)>>2]|0;if(!S){k=t+8|0;d[i>>2]=d[k>>2];d[k>>2]=i;d[(d[t>>2]|0)+(D<<2)>>2]=k;A=d[i>>2]|0;if(A){R=d[A+4>>2]|0;L=I+-1|0;if(!(L&I))P=R&L;else P=(R>>>0)%(I>>>0)|0;d[(d[t>>2]|0)+(P<<2)>>2]=i}}else{d[i>>2]=d[S>>2];d[S>>2]=i}d[u>>2]=(d[u>>2]|0)+1;O=1;B=i}d[e>>2]=B;f[e+4>>0]=O;return}function ra(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;var s=0,l=0,c=0,u=0.0,f=0,h=0,p=0,m=0,v=0,b=0,x=0,E=0,M=0,S=0.0,T=0,k=0.0,A=0,R=0,L=0,P=0.0,C=0,O=0,I=0.0,N=0.0,D=0,F=0,B=0,U=0,z=0,H=0,G=0,V=0,j=0,W=0,X=0;W=w;w=w+16|0;if((w|0)>=(_|0))pe();G=W+4|0;V=W;l=Uc(2)|0;c=Uc(2)|0;p=hc(2,2)|0;U=0;e:while(1){X=U;U=U+1|0;T=d[r+(U<<2)>>2]|0;O=d[r+(X<<2)>>2]|0;u=+(T+1-O|0)*.05+.5;f=~~(+(O|0)+u);h=~~(+(T|0)-u)-f|0;m=h+1|0;v=hc(m,2)|0;if((h|0)>-1){H=0;do{b=H+f|0;if((Us(n,+(d[e+(b<<2)>>2]|0),+(d[t+(b<<2)>>2]|0),G,V)|0)<0){B=v;j=10;break e}x=H<<1;E=d[v>>2]|0;y[E+(x<<3)>>3]=+g[G>>2];y[E+((x|1)<<3)>>3]=+g[V>>2];H=H+1|0}while((H|0)<(m|0))}if((Gn(v,p,l,c)|0)<0){B=v;j=10;break}M=d[p>>2]|0;S=+y[M+8>>3];y[a+(X*24|0)>>3]=S;k=-+y[M>>3];y[a+(X*24|0)+8>>3]=k;A=d[c>>2]|0;y[a+(X*24|0)+16>>3]=-(S*+y[A>>3]+ +y[A+8>>3]*k);Wf(v)|0;if((U|0)>=4){j=7;break}}e:do{if((j|0)==7){Wf(p)|0;rh(c)|0;rh(l)|0;z=0;while(1){R=(z+3|0)%4|0;L=a+(R*24|0)|0;P=+y[a+(z*24|0)+8>>3];C=a+(z*24|0)|0;I=+y[a+(R*24|0)+8>>3];N=+y[L>>3]*P-+y[C>>3]*I;if(+Q(+N)<.0001){s=-1;break e}D=a+(z*24|0)+16|0;F=a+(R*24|0)+16|0;y[o+(z<<4)>>3]=(I*+y[D>>3]-P*+y[F>>3])/N;y[o+(z<<4)+8>>3]=(+y[C>>3]*+y[F>>3]-+y[L>>3]*+y[D>>3])/N;z=z+1|0;if((z|0)>=4){s=0;break}}}else if((j|0)==10){Wf(B)|0;Wf(p)|0;rh(c)|0;rh(l)|0;s=-1}}while(0);w=W;return s|0}function na(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0,D=0,F=0,B=0,U=0,z=0,H=0,G=0;S=t;do{if(!((S^e)&3)){D=(i|0)!=0;e:do{if(D&(S&3|0)!=0){a=i;l=t;h=e;while(1){F=f[l>>0]|0;f[h>>0]=F;if(!(F<<24>>24)){n=a;s=l;u=h;break e}T=a+-1|0;k=l+1|0;A=h+1|0;R=(T|0)!=0;if(R&(k&3|0)!=0){a=T;l=k;h=A}else{r=T;o=k;c=A;M=R;G=5;break}}}else{r=i;o=t;c=e;M=D;G=5}}while(0);if((G|0)==5)if(M){n=r;s=o;u=c}else{x=c;E=0;break}if(!(f[s>>0]|0)){x=u;E=n}else{e:do{if(n>>>0>3){m=n;U=u;H=s;while(1){L=d[H>>2]|0;if((L&-2139062144^-2139062144)&L+-16843009){p=m;B=U;z=H;break e}d[U>>2]=L;P=m+-4|0;C=H+4|0;O=U+4|0;if(P>>>0>3){m=P;U=O;H=C}else{p=P;B=O;z=C;break}}}else{p=n;B=u;z=s}}while(0);v=z;y=B;w=p;G=11}}else{v=t;y=e;w=i;G=11}}while(0);e:do{if((G|0)==11)if(!w){x=y;E=0}else{g=v;b=y;_=w;while(1){I=f[g>>0]|0;f[b>>0]=I;if(!(I<<24>>24)){x=b;E=_;break e}_=_+-1|0;N=b+1|0;if(!_){x=N;E=0;break}else{g=g+1|0;b=N}}}}while(0);ul(x|0,0,E|0)|0;return x|0}function aa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0;O=w;w=w+48|0;if((w|0)>=(_|0))pe();P=O+16|0;L=O;A=O+32|0;n=e+28|0;a=d[n>>2]|0;d[A>>2]=a;f=e+20|0;g=(d[f>>2]|0)-a|0;d[A+4>>2]=g;d[A+8>>2]=t;d[A+12>>2]=i;o=e+60|0;s=e+44|0;x=A;S=2;R=g+i|0;while(1){if(!(d[597]|0)){d[P>>2]=d[o>>2];d[P+4>>2]=x;d[P+8>>2]=S;y=Pu(pi(146,P|0)|0)|0}else{nt(14,e|0);d[L>>2]=d[o>>2];d[L+4>>2]=x;d[L+8>>2]=S;l=Pu(pi(146,L|0)|0)|0;Vt(0);y=l}if((R|0)==(y|0)){C=6;break}if((y|0)<0){E=x;T=S;C=8;break}h=R-y|0;p=d[x+4>>2]|0;if(y>>>0>p>>>0){m=d[s>>2]|0;d[n>>2]=m;d[f>>2]=m;v=d[x+12>>2]|0;b=y-p|0;M=x+8|0;k=S+-1|0}else if((S|0)==2){d[n>>2]=(d[n>>2]|0)+y;v=p;b=y;M=x;k=2}else{v=p;b=y;M=x;k=S}d[M>>2]=(d[M>>2]|0)+b;d[M+4>>2]=v-b;x=M;S=k;R=h}if((C|0)==6){c=d[s>>2]|0;d[e+16>>2]=c+(d[e+48>>2]|0);u=c;d[n>>2]=u;d[f>>2]=u;r=i}else if((C|0)==8){d[e+16>>2]=0;d[n>>2]=0;d[f>>2]=0;d[e>>2]=d[e>>2]|32;if((T|0)==2)r=0;else r=i-(d[E+4>>2]|0)|0}w=O;return r|0}function oa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0.0,a=0,o=0.0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{M=(d[i>>2]|0)+(4-1)&~(4-1);k=d[M>>2]|0;d[i>>2]=M+4;d[e>>2]=k;break e;break}case 10:{s=(d[i>>2]|0)+(4-1)&~(4-1);l=d[s>>2]|0;d[i>>2]=s+4;c=e;d[c>>2]=l;d[c+4>>2]=((l|0)<0)<<31>>31;break e;break}case 11:{u=(d[i>>2]|0)+(4-1)&~(4-1);f=d[u>>2]|0;d[i>>2]=u+4;h=e;d[h>>2]=f;d[h+4>>2]=0;break e;break}case 12:{p=(d[i>>2]|0)+(8-1)&~(8-1);m=p;v=d[m>>2]|0;g=d[m+4>>2]|0;d[i>>2]=p+8;b=e;d[b>>2]=v;d[b+4>>2]=g;break e;break}case 13:{w=(d[i>>2]|0)+(4-1)&~(4-1);_=d[w>>2]|0;d[i>>2]=w+4;x=(_&65535)<<16>>16;E=e;d[E>>2]=x;d[E+4>>2]=((x|0)<0)<<31>>31;break e;break}case 14:{S=(d[i>>2]|0)+(4-1)&~(4-1);T=d[S>>2]|0;d[i>>2]=S+4;A=e;d[A>>2]=T&65535;d[A+4>>2]=0;break e;break}case 15:{R=(d[i>>2]|0)+(4-1)&~(4-1);L=d[R>>2]|0;d[i>>2]=R+4;P=(L&255)<<24>>24;C=e;d[C>>2]=P;d[C+4>>2]=((P|0)<0)<<31>>31;break e;break}case 16:{O=(d[i>>2]|0)+(4-1)&~(4-1);I=d[O>>2]|0;d[i>>2]=O+4;N=e;d[N>>2]=I&255;d[N+4>>2]=0;break e;break}case 17:{r=(d[i>>2]|0)+(8-1)&~(8-1);n=+y[r>>3];d[i>>2]=r+8;y[e>>3]=n;break e;break}case 18:{a=(d[i>>2]|0)+(8-1)&~(8-1);o=+y[a>>3];d[i>>2]=a+8;y[e>>3]=o;break e;break}default:break e}}while(0)}while(0);return}function sa(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0;O=w;w=w+64|0;if((w|0)>=(_|0))pe();k=O+56|0;T=O+48|0;P=O+40|0;L=O+32|0;R=O+24|0;A=O+16|0;S=O+8|0;M=O;e:do{if((e+-16|0)>>>0>48|(t|0)<1)i=0;else{c=xi(32)|0;if(!c){Ha(3,5471,M);Wt(1)}d[c>>2]=0;d[c+4>>2]=t;d[c+28>>2]=e;b=xi(t<<2)|0;d[c+8>>2]=b;if(!b){Ha(3,5471,S);Wt(1)}r=t<<4;n=xi(r)|0;d[c+12>>2]=n;if(!n){Ha(3,5471,A);Wt(1)}a=xi(r)|0;o=c+20|0;d[o>>2]=a;if(!a){Ha(3,5471,R);Wt(1)}s=t<<5;l=xi(s)|0;d[c+16>>2]=l;if(!l){Ha(3,5471,L);Wt(1)}u=xi(s)|0;d[c+24>>2]=u;if(!u){Ha(3,5471,P);Wt(1)}f=fe(e,e)|0;h=f*12|0;p=f<<2;if((t|0)>0){x=0;t:while(1){d[b+(x<<2)>>2]=0;m=x<<2;E=0;while(1){if((E|0)>=4)break;v=xi(h)|0;g=E+m|0;d[n+(g<<2)>>2]=v;if(!v){C=18;break t}y=xi(p)|0;d[(d[o>>2]|0)+(g<<2)>>2]=y;if(!y){C=20;break t}else E=E+1|0}x=x+1|0;if((x|0)>=(t|0)){i=c;break e}}if((C|0)==18){Ha(3,5471,T);Wt(1)}else if((C|0)==20){Ha(3,5471,k);Wt(1)}}else i=c}}while(0);w=O;return i|0}function la(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0.0,s=0.0,l=0,c=0;o=+(t|0)/+(d[e>>2]|0);s=+(i|0)/+(d[e+4>>2]|0);d[r>>2]=t;d[r+4>>2]=i;l=0;do{y[r+8+(l<<3)>>3]=o*+y[e+8+(l<<3)>>3];y[r+40+(l<<3)>>3]=s*+y[e+40+(l<<3)>>3];y[r+72+(l<<3)>>3]=+y[e+72+(l<<3)>>3];l=l+1|0}while((l|0)!=4);a=d[e+176>>2]|0;switch(a|0){case 4:{y[r+104>>3]=+y[e+104>>3];y[r+112>>3]=+y[e+112>>3];y[r+120>>3]=+y[e+120>>3];y[r+128>>3]=+y[e+128>>3];y[r+136>>3]=o*+y[e+136>>3];y[r+144>>3]=s*+y[e+144>>3];y[r+152>>3]=o*+y[e+152>>3];y[r+160>>3]=s*+y[e+160>>3];y[r+168>>3]=+y[e+168>>3];c=8;break}case 3:{y[r+104>>3]=o*+y[e+104>>3];y[r+112>>3]=s*+y[e+112>>3];y[r+120>>3]=+y[e+120>>3];y[r+128>>3]=+y[e+128>>3];y[r+136>>3]=+y[e+136>>3]/(o*s);y[r+144>>3]=+y[e+144>>3]/(s*(o*o*s));c=8;break}case 2:{y[r+104>>3]=o*+y[e+104>>3];y[r+112>>3]=s*+y[e+112>>3];y[r+120>>3]=+y[e+120>>3];y[r+128>>3]=+y[e+128>>3]/(o*s);y[r+136>>3]=+y[e+136>>3]/(s*(o*o*s));c=8;break}case 1:{y[r+104>>3]=o*+y[e+104>>3];y[r+112>>3]=s*+y[e+112>>3];y[r+120>>3]=+y[e+120>>3];y[r+128>>3]=+y[e+128>>3]/(o*s);c=8;break}default:n=-1}if((c|0)==8){d[r+176>>2]=a;n=0}return n|0}function ca(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,n=0.0,a=0.0,o=0.0,s=0.0,l=0.0,c=0.0,u=0.0,f=0.0,h=0.0,d=0.0,p=0.0,m=0.0,v=0.0,g=0.0,b=0.0,x=0.0,E=0.0,M=0.0,S=0.0,T=0.0,k=0.0,A=0,R=0.0,L=0,P=0,C=0,O=0,I=0,N=0;N=w;w=w+192|0;if((w|0)>=(_|0))pe();O=N+96|0;I=N;n=+y[t>>3];p=+y[t+8>>3];k=+y[t+16>>3];R=n*n+p*p+k*k;if(R==0.0){i=0.0;r=0.0;h=1.0;d=0.0}else{a=+$(+R);i=a;r=k/a;h=n/a;d=p/a}o=+y[t+24>>3];s=+y[t+32>>3];l=+y[t+40>>3];c=+te(+i);u=1.0-c;f=+ie(+i);y[O>>3]=c+h*h*u;m=d*h*u;v=r*f;y[O+8>>3]=m-v;g=h*r*u;b=d*f;y[O+16>>3]=g+b;y[O+24>>3]=o;y[O+32>>3]=m+v;y[O+40>>3]=c+d*d*u;x=d*r*u;E=h*f;y[O+48>>3]=x-E;y[O+56>>3]=s;y[O+64>>3]=g-b;y[O+72>>3]=x+E;y[O+80>>3]=c+r*r*u;y[O+88>>3]=l;P=0;do{M=+y[e+(P<<5)>>3];S=+y[e+(P<<5)+8>>3];T=+y[e+(P<<5)+16>>3];L=0;do{y[I+(P<<5)+(L<<3)>>3]=M*+y[O+(L<<3)>>3]+S*+y[O+32+(L<<3)>>3]+T*+y[O+64+(L<<3)>>3];L=L+1|0}while((L|0)!=4);A=I+(P<<5)+24|0;y[A>>3]=+y[e+(P<<5)+24>>3]+ +y[A>>3];P=P+1|0}while((P|0)!=3);C=0;do{y[e+(C<<5)>>3]=+y[I+(C<<5)>>3];y[e+(C<<5)+8>>3]=+y[I+(C<<5)+8>>3];y[e+(C<<5)+16>>3]=+y[I+(C<<5)+16>>3];y[e+(C<<5)+24>>3]=+y[I+(C<<5)+24>>3];C=C+1|0}while((C|0)!=3);w=N;return 0}function ua(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,x=0,E=0,M=0;M=w;w=w+48|0;if((w|0)>=(_|0))pe();E=M+24|0;x=M+16|0;b=M+8|0;g=M;r=M+32|0;n=M+28|0;d[r>>2]=e;d[n>>2]=t;do{if(!(Mo(2044,r)|0))i=-1;else{p=go(2044,r)|0;if(!(So(2064,n)|0))i=-1;else{m=p+8|0;il(m|0,xo(2064,n)|0,184)|0;v=d[m>>2]|0;a=p+204|0;o=d[p+12>>2]|0;s=p+208|0;if(!((v|0)==(d[a>>2]|0)?(o|0)==(d[s>>2]|0):0)){d[g>>2]=v;d[g+4>>2]=o;Ha(2,6151,g);la(m,d[a>>2]|0,d[s>>2]|0,m)|0}ac(p);l=xa(m,15)|0;c=p+192|0;d[c>>2]=l;if(!l){Ha(3,6198,b);i=-1;break}u=no(l)|0;f=p+212|0;d[f>>2]=u;if(!u){Ha(3,6236,x);i=-1;break}ka(u,2)|0;h=Hf(m)|0;d[p+224>>2]=h;if(!h){Ha(3,6273,E);i=-1;break}else{Hc(d[f>>2]|0,d[p+216>>2]|0)|0;Qn(d[c>>2]|0,+y[p+232>>3],+y[p+240>>3],p+264|0);i=0;break}}}}while(0);w=M;return i|0}function fa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0;p=t&255;x=(i|0)!=0;e:do{if(x&(e&3|0)!=0){E=t&255;a=i;A=e;while(1){if((f[A>>0]|0)==E<<24>>24){n=a;k=A;I=6;break e}M=A+1|0;S=a+-1|0;m=(S|0)!=0;if(m&(M&3|0)!=0){a=S;A=M}else{r=S;h=m;T=M;I=5;break}}}else{r=i;h=x;T=e;I=5}}while(0);if((I|0)==5)if(h){n=r;k=T;I=6}else{u=0;L=T}e:do{if((I|0)==6){v=t&255;if((f[k>>0]|0)==v<<24>>24){u=n;L=k}else{g=fe(p,16843009)|0;t:do{if(n>>>0>3){s=n;C=k;while(1){y=d[C>>2]^g;if((y&-2139062144^-2139062144)&y+-16843009){l=s;O=C;break}b=C+4|0;w=s+-4|0;if(w>>>0>3){s=w;C=b}else{o=w;P=b;I=11;break t}}c=l;R=O}else{o=n;P=k;I=11}}while(0);if((I|0)==11)if(!o){u=0;L=P;break}else{c=o;R=P}while(1){if((f[R>>0]|0)==v<<24>>24){u=c;L=R;break e}_=R+1|0;c=c+-1|0;if(!c){u=0;L=_;break}else R=_}}}}while(0);return((u|0)!=0?L:0)|0}function ha(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;s=w;w=w+16|0;if((w|0)>=(_|0))pe();r=s;d[r>>2]=e;do{if(!(Mo(2044,r)|0))i=d[522]|0;else{n=(go(2044,r)|0)+212|0;a=d[n>>2]|0;if((d[a+44>>2]|0)>(t|0)){o=(t|0)<0?8:a+48+(t<<8)|0;mt(1,d[o>>2]|0,d[o+4>>2]|0,d[o+8>>2]|0,d[o+12>>2]|0,d[o+16>>2]|0,d[o+20>>2]|0,d[o+24>>2]|0,+ +y[o+32>>3],+ +y[o+40>>3],+ +y[o+48>>3],+ +y[o+56>>3],+ +y[o+64>>3],+ +y[o+72>>3],+ +y[o+80>>3],+ +y[o+88>>3],+ +y[o+96>>3],+ +y[o+104>>3],+ +y[o+112>>3],+ +y[o+120>>3],+ +y[o+128>>3],+ +y[o+136>>3],+ +y[o+144>>3],+ +y[o+152>>3],+ +y[o+160>>3],+ +y[o+168>>3],+ +y[o+176>>3],+ +y[o+184>>3],+ +y[o+192>>3],+ +y[o+200>>3],+ +y[o+208>>3],+ +y[o+216>>3],+ +y[o+224>>3],d[o+240>>2]|0)|0;i=0;break}else{i=d[523]|0;break}}}while(0);w=s;return i|0}function da(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0;v=w;w=w+64|0;if((w|0)>=(_|0))pe();n=v+40|0;a=v+24|0;l=v+12|0;m=v;e:do{if((t-e|0)>3)if((f[e>>0]|0)==68){switch(f[e+1>>0]|0){case 84:case 116:break;default:{r=e;break e}}o=e+2|0;s=yi(o,t,i)|0;if((s|0)==(o|0)|(s|0)==(t|0))r=e;else if((f[s>>0]|0)==69){c=d[i+4>>2]|0;if((d[i>>2]|0)==(c|0))r=e;else{u=c+-24|0;el(m,u);h=Ac(m,0,12777)|0;d[l>>2]=d[h>>2];d[l+4>>2]=d[h+4>>2];d[l+8>>2]=d[h+8>>2];d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;p=Gc(l,12593)|0;d[a>>2]=d[p>>2];d[a+4>>2]=d[p+4>>2];d[a+8>>2]=d[p+8>>2];d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;Kl(n,a);Jn(u,n);Vc(n);Lu(a);Lu(l);Lu(m);r=s+1|0}}else r=e}else r=e;else r=e}while(0);w=v;return r|0}function pa(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0;x=w;w=w+112|0;if((w|0)>=(_|0))pe();v=x+40|0;y=x+24|0;g=x+16|0;m=x;p=x+52|0;r=f[t>>0]|0;if(!(fa(16733,r<<24>>24,4)|0)){c=Ju()|0;d[c>>2]=22;i=0}else{h=xi(1144)|0;if(!h)i=0;else{b=h;E=b+112|0;do{d[b>>2]=0;b=b+4|0}while((b|0)<(E|0));if(!(tf(t,43)|0))d[h>>2]=r<<24>>24==114?8:4;if(!(tf(t,101)|0))n=r;else{d[m>>2]=e;d[m+4>>2]=2;d[m+8>>2]=1;Je(221,m|0)|0;n=f[t>>0]|0}if(n<<24>>24==97){d[g>>2]=e;d[g+4>>2]=3;a=Je(221,g|0)|0;if(!(a&1024)){d[y>>2]=e;d[y+4>>2]=4;d[y+8>>2]=a|1024;Je(221,y|0)|0}o=d[h>>2]|128;d[h>>2]=o;l=o}else l=d[h>>2]|0;d[h+60>>2]=e;d[h+44>>2]=h+120;d[h+48>>2]=1024;s=h+75|0;f[s>>0]=-1;if(!(l&8)){d[v>>2]=e;d[v+4>>2]=21505;d[v+8>>2]=p;if(!($e(54,v|0)|0))f[s>>0]=10}d[h+32>>2]=14;d[h+36>>2]=4;d[h+40>>2]=5;d[h+12>>2]=2;if(!(d[598]|0))d[h+76>>2]=-1;Qt(2416);u=d[603]|0;d[h+56>>2]=u;if(u)d[u+52>>2]=h;d[603]=h;Ht(2416);i=h}}w=x;return i|0}function ma(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0;T=w;w=w+32|0;if((w|0)>=(_|0))pe();S=T+16|0;M=T+8|0;r=T+20|0;E=T;d[r>>2]=e;do{if(!(Mo(2044,r)|0))i=-1;else{v=go(2044,r)|0;if(!(f[t>>0]&1))s=t+1|0;else s=d[t+8>>2]|0;n=d[v+212>>2]|0;a=v+216|0;o=v+220|0;l=yn(s,d[a>>2]|0)|0;d[o>>2]=l;if(!l){Ha(3,6401,M);mo(d[a>>2]|0)|0;Ha(3,6428,S);i=-1;break}switch(d[l+108>>2]|0){case 0:{pu(n,0)|0;break}case 1:{pu(n,2)|0;break}default:pu(n,3)|0}c=v+248|0;u=v+252|0;h=d[u>>2]|0;p=h-(d[c>>2]|0)>>3;m=E;d[m>>2]=0;d[m+4>>2]=0;d[E>>2]=p;d[E+4>>2]=d[o>>2];if((h|0)==(d[v+256>>2]|0)){ao(c,E);i=p;break}else{g=E;y=d[g>>2]|0;b=d[g+4>>2]|0;x=h;d[x>>2]=y;d[x+4>>2]=b;d[u>>2]=(d[u>>2]|0)+8;i=y;break}}}while(0);w=T;return i|0}function va(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0;r=hc(8,8)|0;n=hc(8,1)|0;a=hc(8,1)|0;s=d[r>>2]|0;l=d[n>>2]|0;b=0;do{u=e+(b<<4)|0;p=b<<4;y[s+(p<<3)>>3]=+y[u>>3];g=e+(b<<4)+8|0;y[s+((p|1)<<3)>>3]=+y[g>>3];y[s+((p|2)<<3)>>3]=1.0;y[s+((p|3)<<3)>>3]=0.0;y[s+((p|4)<<3)>>3]=0.0;y[s+((p|5)<<3)>>3]=0.0;o=t+(b<<4)|0;y[s+((p|6)<<3)>>3]=-(+y[u>>3]*+y[o>>3]);y[s+((p|7)<<3)>>3]=-(+y[g>>3]*+y[o>>3]);y[s+((p|8)<<3)>>3]=0.0;y[s+((p|9)<<3)>>3]=0.0;y[s+((p|10)<<3)>>3]=0.0;y[s+((p|11)<<3)>>3]=+y[u>>3];y[s+((p|12)<<3)>>3]=+y[g>>3];y[s+((p|13)<<3)>>3]=1.0;c=t+(b<<4)+8|0;y[s+((p|14)<<3)>>3]=-(+y[u>>3]*+y[c>>3]);y[s+((p|15)<<3)>>3]=-(+y[g>>3]*+y[c>>3]);f=b<<1;y[l+(f<<3)>>3]=+y[o>>3];y[l+((f|1)<<3)>>3]=+y[c>>3];b=b+1|0}while((b|0)!=4);Cn(r)|0;Ba(a,r,n)|0;h=d[a>>2]|0;y[i>>3]=+y[h>>3];y[i+8>>3]=+y[h+8>>3];y[i+16>>3]=+y[h+16>>3];m=d[a>>2]|0;y[i+24>>3]=+y[m+24>>3];y[i+32>>3]=+y[m+32>>3];y[i+40>>3]=+y[m+40>>3];v=d[a>>2]|0;y[i+48>>3]=+y[v+48>>3];y[i+56>>3]=+y[v+56>>3];y[i+64>>3]=1.0;Wf(r)|0;Wf(n)|0;Wf(a)|0;return}function ga(e,t,i,r){e=e|0;t=t|0;i=+i;r=r|0;var n=0.0,a=0,o=0,s=0,l=0,c=0,u=0.0,f=0.0,h=0,p=0,m=0,v=0,g=0,b=0,x=0;x=w;w=w+288|0;if((w|0)>=(_|0))pe();g=x+200|0;b=x+104|0;p=x+264|0;v=x+8|0;m=x;a=d[t+16>>2]|0;c=(4-a|0)%4|0;y[g>>3]=+y[t+168+(c<<4)>>3];y[g+8>>3]=+y[t+168+(c<<4)+8>>3];o=(5-a|0)%4|0;y[g+16>>3]=+y[t+168+(o<<4)>>3];y[g+24>>3]=+y[t+168+(o<<4)+8>>3];s=(6-a|0)%4|0;y[g+32>>3]=+y[t+168+(s<<4)>>3];y[g+40>>3]=+y[t+168+(s<<4)+8>>3];l=(7-a|0)%4|0;y[g+48>>3]=+y[t+168+(l<<4)>>3];y[g+56>>3]=+y[t+168+(l<<4)+8>>3];u=i*-.5;y[b>>3]=u;f=i*.5;y[b+8>>3]=f;y[b+16>>3]=0.0;y[b+24>>3]=f;y[b+32>>3]=f;y[b+40>>3]=0.0;y[b+48>>3]=f;y[b+56>>3]=u;y[b+64>>3]=0.0;y[b+72>>3]=u;y[b+80>>3]=u;y[b+88>>3]=0.0;d[p>>2]=g;d[p+4>>2]=b;d[p+8>>2]=4;if((Ii(d[e>>2]|0,g,b,4,v)|0)<0)n=1.0e8;else{h=(Xn(d[e>>2]|0,p,v,r,m)|0)<0;n=h?1.0e8:+y[m>>3]}w=x;return+n}function ya(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0;e:do{if((e|0)==(d[t+8>>2]|0)){if((d[t+4>>2]|0)==(i|0)){p=t+28|0;if((d[p>>2]|0)!=1)d[p>>2]=r}}else{if((e|0)!=(d[t>>2]|0)){h=d[e+8>>2]|0;Gh[d[(d[h>>2]|0)+24>>2]&3](h,t,i,r,n);break}if((d[t+16>>2]|0)!=(i|0)){a=t+20|0;if((d[a>>2]|0)!=(i|0)){d[t+32>>2]=r;o=t+44|0;if((d[o>>2]|0)==4)break;s=t+52|0;f[s>>0]=0;l=t+53|0;f[l>>0]=0;c=d[e+8>>2]|0;ed[d[(d[c>>2]|0)+20>>2]&3](c,t,i,i,1,n);if(!(f[l>>0]|0)){m=0;v=13}else if(!(f[s>>0]|0)){m=1;v=13}do{if((v|0)==13){d[a>>2]=i;u=t+40|0;d[u>>2]=(d[u>>2]|0)+1;if((d[t+36>>2]|0)==1)if((d[t+24>>2]|0)==2){f[t+54>>0]=1;if(m)break}else v=16;else v=16;if((v|0)==16)if(m)break;d[o>>2]=4;break e}}while(0);d[o>>2]=3;break}}if((r|0)==1)d[t+32>>2]=1}}while(0);return}function ba(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0,O=0,I=0,N=0;if((d[i+76>>2]|0)>-1)c=Ih(i)|0;else c=0;A=t+-1|0;if((t|0)<2){P=i+74|0;C=f[P>>0]|0;f[P>>0]=C+255|C;if(c)Oh(i);if(!A){f[e>>0]=0;r=e}else r=0}else{e:do{if(!A){I=e;N=18}else{u=i+4|0;h=i+8|0;a=A;O=e;while(1){m=d[u>>2]|0;v=m;g=(d[h>>2]|0)-v|0;y=fa(m,10,g)|0;b=(y|0)==0;w=b?g:1-v+y|0;_=w>>>0<a>>>0;x=_?w:a;il(O|0,m|0,x|0)|0;E=d[u>>2]|0;M=E+x|0;d[u>>2]=M;S=O+x|0;T=a-x|0;if(!(b&_)){I=S;N=18;break e}if(M>>>0<(d[h>>2]|0)>>>0){l=x+1|0;d[u>>2]=E+l;s=l;R=p[M>>0]|0}else{k=nc(i)|0;if((k|0)<0){o=S;break}s=x+1|0;R=k}a=T+-1|0;L=O+s|0;f[S>>0]=R;if(!((a|0)!=0&(R&255|0)!=10)){I=L;N=18;break e}else O=L}if((o|0)==(e|0))n=0;else if(!(d[i>>2]&16))n=0;else{I=o;N=18}}}while(0);if((N|0)==18)if(!e)n=0;else{f[I>>0]=0;n=e}if(!c)r=n;else{Oh(i);r=n}}return r|0}function wa(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0,P=0,C=0;C=w;w=w+16|0;if((w|0)>=(_|0))pe();k=C;c=(r|0)==0?2680:r;u=d[c>>2]|0;e:do{if(!t)if(!u)n=0;else P=15;else{A=(e|0)==0?k:e;if(!i)n=-2;else{if(!u){x=f[t>>0]|0;E=x&255;if(x<<24>>24>-1){d[A>>2]=E;n=x<<24>>24!=0&1;break}h=E+-194|0;if(h>>>0>50){P=15;break}p=d[2432+(h<<2)>>2]|0;m=i+-1|0;if(!m)T=p;else{a=m;M=p;R=t+1|0;P=9}}else{a=i;M=u;R=t;P=9}t:do{if((P|0)==9){v=f[R>>0]|0;g=(v&255)>>>3;if((g+-16|g+(M>>26))>>>0>7){P=15;break e}else{o=a;y=v;S=M;L=R}while(1){L=L+1|0;S=(y&255)+-128|S<<6;o=o+-1|0;if((S|0)>=0){s=S;l=o;break}if(!o){T=S;break t}y=f[L>>0]|0;if((y&-64)<<24>>24!=-128){P=15;break e}}d[c>>2]=0;d[A>>2]=s;n=i-l|0;break e}}while(0);d[c>>2]=T;n=-2}}}while(0);if((P|0)==15){d[c>>2]=0;b=Ju()|0;d[b>>2]=84;n=-1}w=C;return n|0}function _a(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0;n=d[i>>2]|0;u=d[t+4>>2]|0;w=d[n+4>>2]|0;M=u+-1|0;S=(M&u|0)==0;if(S)o=M&w;else o=(w>>>0)%(u>>>0)|0;a=(d[t>>2]|0)+(o<<2)|0;T=d[a>>2]|0;while(1){s=d[T>>2]|0;if((s|0)==(n|0)){k=T;break}else T=s}l=t+8|0;if((k|0)==(l|0))A=12;else{c=d[k+4>>2]|0;if(S)h=c&M;else h=(c>>>0)%(u>>>0)|0;if((h|0)==(o|0))r=n;else A=12}do{if((A|0)==12){p=d[n>>2]|0;if(p){m=d[p+4>>2]|0;if(S)v=m&M;else v=(m>>>0)%(u>>>0)|0;if((v|0)==(o|0)){r=n;break}}d[a>>2]=0;r=n}}while(0);g=d[r>>2]|0;y=g;if(!g)x=y;else{b=d[g+4>>2]|0;if(S)_=b&M;else _=(b>>>0)%(u>>>0)|0;if((_|0)==(o|0))x=y;else{d[(d[t>>2]|0)+(_<<2)>>2]=k;x=d[n>>2]|0}}d[k>>2]=x;d[r>>2]=0;E=t+12|0;d[E>>2]=(d[E>>2]|0)+-1;d[e>>2]=n;d[e+4>>2]=l;f[e+8>>0]=1;return}function xa(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0.0,f=0,h=0.0,p=0,m=0,v=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0,R=0,L=0;L=w;w=w+64|0;if((w|0)>=(_|0))pe();E=L+24|0;M=L+16|0;A=L+8|0;R=L;i=xi(208)|0;if(!i){Ha(3,5471,L+32|0);Wt(1)}il(i|0,e|0,184)|0;f=t<<1;p=(d[e>>2]|0)+f|0;d[i+192>>2]=p;m=(d[e+4>>2]|0)+f|0;d[i+196>>2]=m;d[i+200>>2]=t;d[i+204>>2]=t;r=fe(p<<3,m)|0;n=xi(r)|0;d[i+184>>2]=n;if(!n){Ha(3,5471,L+40|0);Wt(1)}a=xi(r)|0;d[i+188>>2]=a;if(!a){Ha(3,5471,L+48|0);Wt(1)}o=e+104|0;s=d[e+176>>2]|0;l=(p|0)>0?p<<1:0;if((m|0)>0){c=(p|0)>0;b=n;S=0;T=a;while(1){u=+(S-t|0);if(c){v=0;x=b;k=T;while(1){h=+(v-t|0);$n(o,h,u,A,R,s)|0;g[x>>2]=+y[A>>3];g[x+4>>2]=+y[R>>3];En(o,h,u,E,M,s)|0;g[k>>2]=+y[E>>3];g[k+4>>2]=+y[M>>3];v=v+1|0;if((v|0)>=(p|0))break;else{x=x+8|0;k=k+8|0}}}T=T+(l<<2)|0;S=S+1|0;if((S|0)>=(m|0))break;else b=b+(l<<2)|0}}w=L;return i|0}function Ea(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=+r;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0.0,f=0.0,h=0,p=0,m=0,v=0,g=0,b=0;b=w;w=w+192|0;if((w|0)>=(_|0))pe();v=b+104|0;g=b+8|0;p=b+168|0;m=b;a=d[t+16>>2]|0;c=(4-a|0)%4|0;y[v>>3]=+y[t+168+(c<<4)>>3];y[v+8>>3]=+y[t+168+(c<<4)+8>>3];o=(5-a|0)%4|0;y[v+16>>3]=+y[t+168+(o<<4)>>3];y[v+24>>3]=+y[t+168+(o<<4)+8>>3];s=(6-a|0)%4|0;y[v+32>>3]=+y[t+168+(s<<4)>>3];y[v+40>>3]=+y[t+168+(s<<4)+8>>3];l=(7-a|0)%4|0;y[v+48>>3]=+y[t+168+(l<<4)>>3];y[v+56>>3]=+y[t+168+(l<<4)+8>>3];u=r*-.5;y[g>>3]=u;f=r*.5;y[g+8>>3]=f;y[g+16>>3]=0.0;y[g+24>>3]=f;y[g+32>>3]=f;y[g+40>>3]=0.0;y[g+48>>3]=f;y[g+56>>3]=u;y[g+64>>3]=0.0;y[g+72>>3]=u;y[g+80>>3]=u;y[g+88>>3]=0.0;d[p>>2]=v;d[p+4>>2]=g;d[p+8>>2]=4;h=(Xn(d[e>>2]|0,p,i,n,m)|0)<0;w=b;return+(h?1.0e8:+y[m>>3])}function Ma(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0;x=w;w=w+64|0;if((w|0)>=(_|0))pe();y=x;n=d[e>>2]|0;m=e+(d[n+-8>>2]|0)|0;v=d[n+-4>>2]|0;d[y>>2]=i;d[y+4>>2]=e;d[y+8>>2]=t;d[y+12>>2]=r;a=y+16|0;o=y+20|0;s=y+24|0;l=y+28|0;c=y+32|0;u=y+40|0;p=(v|0)==(i|0);b=a;E=b+36|0;do{d[b>>2]=0;b=b+4|0}while((b|0)<(E|0));h[a+36>>1]=0;f[a+38>>0]=0;e:do{if(p){d[y+48>>2]=1;ed[d[(d[i>>2]|0)+20>>2]&3](i,y,m,m,1,0);g=(d[s>>2]|0)==1?m:0}else{Gh[d[(d[v>>2]|0)+24>>2]&3](v,y,m,1,0);switch(d[y+36>>2]|0){case 0:{g=(d[u>>2]|0)==1&(d[l>>2]|0)==1&(d[c>>2]|0)==1?d[o>>2]|0:0;break e;break}case 1:break;default:{g=0;break e}}if((d[s>>2]|0)!=1)if(!((d[u>>2]|0)==0&(d[l>>2]|0)==1&(d[c>>2]|0)==1)){g=0;break}g=d[a>>2]|0}}while(0);w=x;return g|0}function Sa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0.0,a=0,o=0.0,s=0,l=0.0,c=0.0,u=0.0,h=0.0,p=0.0,m=0,v=0,g=0.0,y=0.0,b=0.0,w=0,_=0,x=0,E=0.0,M=0.0,S=0.0;a=tl(e,t)|0;if((a|0)<0)r=a;else{v=1;g=0.0;while(1){p=g+ +((fe(d[e+16+(v<<2)>>2]|0,v)|0)>>>0);v=v+1|0;if((v|0)==256){n=p;break}else g=p}o=+(fe(d[e+12>>2]|0,d[e+8>>2]|0)|0);m=0;y=0.0;w=0;E=0.0;S=0.0;while(1){s=d[e+16+(m<<2)>>2]|0;S=S+ +(s>>>0);if(S!=0.0){l=o-S;if(l==0.0){x=w;break}c=y+ +((fe(m,s)|0)>>>0);u=c/S-(n-c)/l;h=u*(S*l*u);if(h>E){b=c;_=m&255;M=h}else{b=c;_=w;M=E}}else{b=y;_=w;M=E}if((m&255)<<24>>24==-1){x=_;break}else{m=m+1|0;y=b;w=_;E=M}}f[i>>0]=x;r=0}return r|0}function Ta(e){e=e|0;_t(624,14176);Et(632,14181,1,1,0);ot(640,13757,1,-128,127);ot(656,13762,1,-128,127);ot(648,13774,1,0,255);ot(664,13788,2,-32768,32767);ot(672,13794,2,0,65535);ot(680,14186,4,-2147483648,2147483647);ot(688,14190,4,0,-1);ot(696,14203,4,-2147483648,2147483647);ot(704,14208,4,0,-1);Bt(712,14251,4);Bt(720,14257,8);fi(360,12820);fi(392,10916);At(416,4,10949);pt(440,10962);et(448,0,10978);gf(11008);vf(11045);df(11084);hf(11115);mf(11155);pf(11184);et(456,4,11222);et(464,5,11252);gf(11291);vf(11323);df(11356);hf(11389);mf(11423);pf(11456);et(472,6,11490);et(480,7,11521);et(488,7,11553);return}function ka(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;h=w;w=w+16|0;if((w|0)>=(_|0))pe();f=h;e:do{if(!e)i=-1;else{r=e+4|0;if((d[r>>2]|0)==(t|0))i=0;else{switch(t|0){case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 3:case 2:case 1:case 0:{u=0;break}case 14:case 13:case 12:case 5:{u=1;break}default:{d[f>>2]=t;Ha(3,3936,f);i=-1;break e}}d[r>>2]=t;s=uc(t)|0;d[e+8>>2]=s;l=e+7062408|0;c=d[l>>2]|0;if(c){Fu(c);n=Xo(d[e+36>>2]|0,d[e+40>>2]|0,d[r>>2]|0,0)|0;d[l>>2]=n}a=e+24|0;o=d[a>>2]|0;if(!u)switch(o|0){case 1:{d[a>>2]=4;i=0;break e;break}case 4:{d[a>>2]=3;i=0;break e;break}default:{i=0;break e}}else switch(o|0){case 0:{d[a>>2]=1;i=0;break e;break}case 3:{d[a>>2]=4;i=0;break e;break}default:{i=0;break e}}}}}while(0);w=h;return i|0}function Aa(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;switch(d[e+24>>2]|0){case 1:case 0:{o=d[e+44>>2]|0;if((o|0)>0){c=0;do{t=e+48+(c<<8)+4|0;if((d[t>>2]|0)>-1)if(+y[e+48+(c<<8)+32>>3]<.5){d[e+48+(c<<8)+8>>2]=-1;d[t>>2]=-1;d[e+48+(c<<8)+236>>2]=6}c=c+1|0}while((c|0)<(o|0))}break}case 2:{r=d[e+44>>2]|0;if((r|0)>0){u=0;do{i=e+48+(u<<8)+4|0;if((d[i>>2]|0)>-1)if(+y[e+48+(u<<8)+32>>3]<.5){d[e+48+(u<<8)+12>>2]=-1;d[i>>2]=-1;d[e+48+(u<<8)+236>>2]=6}u=u+1|0}while((u|0)<(r|0))}break}default:{s=d[e+44>>2]|0;if((s|0)>0){f=0;do{n=e+48+(f<<8)+8|0;if((d[n>>2]|0)>-1)if(+y[e+48+(f<<8)+40>>3]<.5){d[n>>2]=-1;l=0}else l=1;else l=1;a=e+48+(f<<8)+12|0;if((d[a>>2]|0)>-1)if(+y[e+48+(f<<8)+48>>3]<.5){d[a>>2]=-1;if(!l)d[e+48+(f<<8)+236>>2]=6}f=f+1|0}while((f|0)<(s|0))}}}return}function Ra(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0,E=0,M=0,S=0,T=0,k=0,A=0;h=t;e:do{if(!((h^e)&3)){if(!(h&3)){i=t;r=e}else{n=e;a=t;while(1){x=f[a>>0]|0;f[n>>0]=x;if(!(x<<24>>24)){o=n;break e}E=a+1|0;p=n+1|0;if(!(E&3)){i=E;r=p;break}else{n=p;a=E}}}m=d[i>>2]|0;if(!((m&-2139062144^-2139062144)&m+-16843009)){y=m;S=r;k=i;while(1){v=k+4|0;g=S+4|0;d[S>>2]=y;y=d[v>>2]|0;if((y&-2139062144^-2139062144)&y+-16843009){M=g;T=v;break}else{S=g;k=v}}}else{M=r;T=i}s=T;l=M;A=8}else{s=t;l=e;A=8}}while(0);if((A|0)==8){b=f[s>>0]|0;f[l>>0]=b;if(!(b<<24>>24))o=l;else{c=l;u=s;while(1){u=u+1|0;w=c+1|0;_=f[u>>0]|0;f[w>>0]=_;if(!(_<<24>>24)){o=w;break}else c=w}}}return o|0}function La(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,d=0;e:do{if((e|0)==(t|0))r=e;else switch(f[e>>0]|0){case 88:{l=e+1|0;c=yi(l,t,i)|0;if((c|0)==(l|0)|(c|0)==(t|0)){r=e;break e}r=(f[c>>0]|0)==69?c+1|0:e;break e;break}case 74:{n=e+1|0;if((n|0)==(t|0)){r=e;break e}else u=n;while(1){if((f[u>>0]|0)==69){h=u;break}d=u;u=La(u,t,i)|0;if((u|0)==(d|0)){r=e;break e}}r=h+1|0;break e;break}case 76:{a=e+1|0;if((a|0)!=(t|0))if((f[a>>0]|0)==90){o=e+2|0;s=ki(o,t,i)|0;if((s|0)==(o|0)|(s|0)==(t|0)){r=e;break e}return((f[s>>0]|0)==69?s+1|0:e)|0}r=Ti(e,t,i)|0;break e;break}default:{r=gi(e,t,i)|0;break e}}}while(0);return r|0}function Pa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0,T=0,k=0;T=w;w=w+224|0;if((w|0)>=(_|0))pe();y=T+80|0;E=T+96|0;x=T;b=T+136|0;S=E;k=S+40|0;do{d[S>>2]=0;S=S+4|0}while((S|0)<(k|0));d[y>>2]=d[i>>2];if((Si(0,t,y,x,E)|0)<0)n=-1;else{if((d[e+76>>2]|0)>-1)m=Ih(e)|0;else m=0;v=d[e>>2]|0;g=v&32;if((f[e+74>>0]|0)<1)d[e>>2]=v&-33;a=e+48|0;if(!(d[a>>2]|0)){o=e+44|0;s=d[o>>2]|0;d[o>>2]=b;l=e+28|0;d[l>>2]=b;c=e+20|0;d[c>>2]=b;d[a>>2]=80;u=e+16|0;d[u>>2]=b+80;h=Si(e,t,y,x,E)|0;if(!s)M=h;else{Hh[d[e+36>>2]&15](e,0,0)|0;r=(d[c>>2]|0)==0?-1:h;d[o>>2]=s;d[a>>2]=0;d[u>>2]=0;d[l>>2]=0;d[c>>2]=0;M=r}}else M=Si(e,t,y,x,E)|0;p=d[e>>2]|0;d[e>>2]=p|g;if(m)Oh(e);n=(p&32|0)==0?M:-1}w=T;return n|0}function Ca(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=+n;a=a|0;o=o|0;var s=0,l=0,c=0.0,u=0.0,f=0,h=0.0,p=0.0,m=0,v=0,g=0,y=0.0,b=0,w=0,_=0.0,x=0.0,E=0.0,M=0,S=0,T=0,k=0,A=0;l=d[t+(r<<2)>>2]|0;v=d[t+(i<<2)>>2]|0;y=+(l-v|0);b=d[e+(i<<2)>>2]|0;w=d[e+(r<<2)>>2]|0;c=+(b-w|0);u=+((fe(w,v)|0)-(fe(b,l)|0)|0);f=i+1|0;if((f|0)<(r|0)){x=0.0;M=f;T=f;while(1){h=u+(y*+(d[e+(M<<2)>>2]|0)+c*+(d[t+(M<<2)>>2]|0));p=h*h;m=p>x;E=m?p:x;k=m?M:T;M=M+1|0;if((M|0)>=(r|0)){_=E;S=k;break}else{x=E;T=k}}}else{_=0.0;S=f}if(_/(y*y+c*c)>n)if((Ca(e,t,i,S,n,a,o)|0)<0)s=-1;else{g=d[o>>2]|0;if((g|0)>5)s=-1;else{d[a+(g<<2)>>2]=S;d[o>>2]=(d[o>>2]|0)+1;if((Ca(e,t,S,r,n,a,o)|0)<0)s=-1;else A=7}}else A=7;if((A|0)==7)s=0;return s|0}function Oa(e,t){e=e|0;t=t|0;var i=0,r=0,n=0.0,a=0.0,o=0.0,s=0.0,l=0.0,c=0.0,u=0.0,f=0.0,h=0,p=0,m=0,v=0;v=w;w=w+16|0;if((w|0)>=(_|0))pe();r=v;d[r>>2]=e;do{if(!(Mo(2044,r)|0))i=d[522]|0;else{h=(go(2044,r)|0)+212|0;p=d[h>>2]|0;if((d[p+44>>2]|0)>(t|0)){m=(t|0)<0?8:p+48+(t<<8)|0;n=+y[33];y[m+168>>3]=n;a=+y[34];y[m+176>>3]=a;o=+y[35];y[m+184>>3]=o;s=+y[36];y[m+192>>3]=s;l=+y[37];y[m+200>>3]=l;c=+y[38];y[m+208>>3]=c;u=+y[39];y[m+216>>3]=u;f=+y[40];y[m+224>>3]=f;y[m+56>>3]=(n+o+l+u)*.25;y[m+64>>3]=(a+s+c+f)*.25;i=0;break}else{i=d[523]|0;break}}}while(0);w=v;return i|0}function Ia(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0;b=w;w=w+48|0;if((w|0)>=(_|0))pe();y=b+16|0;g=b;v=b+32|0;d[v>>2]=t;n=v+4|0;a=e+48|0;s=d[a>>2]|0;d[n>>2]=i-((s|0)!=0&1);p=e+44|0;d[v+8>>2]=d[p>>2];d[v+12>>2]=s;if(!(d[597]|0)){d[y>>2]=d[e+60>>2];d[y+4>>2]=v;d[y+8>>2]=2;m=Pu(di(145,y|0)|0)|0}else{nt(13,e|0);d[g>>2]=d[e+60>>2];d[g+4>>2]=v;d[g+8>>2]=2;o=Pu(di(145,g|0)|0)|0;Vt(0);m=o}if((m|0)<1){d[e>>2]=d[e>>2]|m&48^16;d[e+8>>2]=0;d[e+4>>2]=0;r=m}else{l=d[n>>2]|0;if(m>>>0>l>>>0){c=d[p>>2]|0;u=e+4|0;d[u>>2]=c;h=c;d[e+8>>2]=h+(m-l);if(!(d[a>>2]|0))r=i;else{d[u>>2]=h+1;f[t+(i+-1)>>0]=f[h>>0]|0;r=i}}else r=m}w=b;return r|0}function Na(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;var o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0;if((e|0)==(d[t+8>>2]|0))bo(0,t,i,r,n);else{u=t+52|0;h=f[u>>0]|0;p=t+53|0;m=f[p>>0]|0;v=d[e+12>>2]|0;o=e+16+(v<<3)|0;f[u>>0]=0;f[p>>0]=0;Is(e+16|0,t,i,r,n,a);e:do{if((v|0)>1){s=t+24|0;l=e+8|0;c=t+54|0;g=e+24|0;do{if(f[c>>0]|0)break e;if(!(f[u>>0]|0)){if(f[p>>0]|0)if(!(d[l>>2]&1))break e}else{if((d[s>>2]|0)==1)break e;if(!(d[l>>2]&2))break e}f[u>>0]=0;f[p>>0]=0;Is(g,t,i,r,n,a);g=g+8|0}while(g>>>0<o>>>0)}}while(0);f[u>>0]=h;f[p>>0]=m}return}function Da(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;f=w;w=w+16|0;if((w|0)>=(_|0))pe();i=f;d[i>>2]=e;if(!(Mo(2044,i)|0))t=-1;else{s=go(2044,i)|0;l=s+196|0;c=d[l>>2]|0;if(c){cn(c);d[l>>2]=0;d[s+200>>2]=0}ac(s);mo(d[s+216>>2]|0)|0;To(2044,i)|0;r=s+248|0;n=s+252|0;a=d[r>>2]|0;if((d[n>>2]|0)!=(a|0)){o=a;u=0;do{Cf(d[o+(u<<3)+4>>2]|0)|0;u=u+1|0;o=d[r>>2]|0}while(u>>>0<(d[n>>2]|0)-o>>3>>>0)}ql(r);kh(r);ql(s+248|0);kh(s);t=0}w=f;return t|0}function Fa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0;g=w;w=w+16|0;if((w|0)>=(_|0))pe();v=g;if((e|0)==(t|0))r=e;else{n=Mn(e,t,i)|0;if((n|0)==(e|0))r=e;else{h=ln(n,t,i)|0;if((h|0)==(n|0))r=n;else{p=i+4|0;m=d[p>>2]|0;if(((m-(d[i>>2]|0)|0)/24|0)>>>0<2)r=e;else{el(v,m+-24|0);a=d[p>>2]|0;o=a+-24|0;l=a;do{s=l+-24|0;d[p>>2]=s;Vc(s);l=d[p>>2]|0}while((l|0)!=(o|0));c=f[v>>0]|0;u=(c&1)==0;Go(a+-48|0,u?v+1|0:d[v+8>>2]|0,u?(c&255)>>>1:d[v+4>>2]|0)|0;Lu(v);r=h}}}}w=g;return r|0}function Ba(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0.0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,w=0;n=d[t+8>>2]|0;if((n|0)==(d[i+4>>2]|0)){u=d[e+4>>2]|0;if((u|0)==(d[t+4>>2]|0)){a=d[e+8>>2]|0;if((a|0)==(d[i+8>>2]|0)){w=(a|0)>0?a:0;if((u|0)>0){o=(a|0)>0;s=(n|0)>0;v=d[e>>2]|0;b=0;while(1){l=fe(n,b)|0;if(o){f=0;g=v;while(1){y[g>>3]=0.0;if(s){c=0.0;h=0;p=(d[t>>2]|0)+(l<<3)|0;m=(d[i>>2]|0)+(f<<3)|0;while(1){c=c+ +y[p>>3]*+y[m>>3];y[g>>3]=c;h=h+1|0;if((h|0)>=(n|0))break;else{p=p+8|0;m=m+(a<<3)|0}}}f=f+1|0;if((f|0)>=(a|0))break;else g=g+8|0}}b=b+1|0;if((b|0)>=(u|0)){r=0;break}else v=v+(w<<3)|0}}else r=0}else r=-1}else r=-1}else r=-1;return r|0}function Ua(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0;r=d[e>>2]|0;n=e+4|0;l=d[n>>2]|0;v=t+4|0;if((l|0)!=(r|0)){i=l;do{g=d[v>>2]|0;y=g+-16|0;w=i;i=i+-16|0;d[y>>2]=0;b=g+-12|0;d[b>>2]=0;a=d[w+-4>>2]|0;d[g+-8>>2]=0;d[g+-4>>2]=a;d[y>>2]=d[i>>2];o=w+-12|0;d[b>>2]=d[o>>2];s=w+-8|0;d[g+-8>>2]=d[s>>2];d[s>>2]=0;d[o>>2]=0;d[i>>2]=0;d[v>>2]=(d[v>>2]|0)+-16}while((i|0)!=(r|0))}c=d[e>>2]|0;d[e>>2]=d[v>>2];d[v>>2]=c;u=t+8|0;f=d[n>>2]|0;d[n>>2]=d[u>>2];d[u>>2]=f;h=e+8|0;p=t+12|0;m=d[h>>2]|0;d[h>>2]=d[p>>2];d[p>>2]=m;d[t>>2]=d[v>>2];return}function za(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0;g=w;w=w+32|0;if((w|0)>=(_|0))pe();v=g;d[v>>2]=0;d[v+4>>2]=0;d[v+8>>2]=0;d[v+12>>2]=0;d[v+16>>2]=0;d[v+20>>2]=0;d[v+24>>2]=0;d[v+28>>2]=0;l=f[t>>0]|0;do{if(!(l<<24>>24))i=0;else{if(!(f[t+1>>0]|0)){n=e;while(1)if((f[n>>0]|0)==l<<24>>24)n=n+1|0;else{a=n;break}i=a-e|0;break}else{r=t;u=l}do{h=v+(((u&255)>>>5&255)<<2)|0;d[h>>2]=d[h>>2]|1<<(u&31);r=r+1|0;u=f[r>>0]|0}while(u<<24>>24!=0);c=f[e>>0]|0;e:do{if(!(c<<24>>24))o=e;else{s=e;p=c;while(1){if(!(d[v+(((p&255)>>>5&255)<<2)>>2]&1<<(p&31))){o=s;break e}m=s+1|0;p=f[m>>0]|0;if(!(p<<24>>24)){o=m;break}else s=m}}}while(0);i=o-e|0}}while(0);w=g;return i|0}function Ha(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0;p=w;w=w+32|0;if((w|0)>=(_|0))pe();h=p+16|0;u=p;d[h>>2]=0;if((t|0)!=0&(d[496]|0)<=(e|0))if(f[t>>0]|0){d[u>>2]=i;l=Ls(h,t,u)|0;if((l|0)>-1){c=d[497]|0;do{if(!c)Vf(d[h>>2]|0,d[659]|0)|0;else{if(!(d[498]|0)){qh[c&15](d[h>>2]|0);break}r=It()|0;n=d[500]|0;if((r|0)==(d[499]|0)){if((n|0)>0){qh[c&15](d[502]|0);d[500]=0;s=d[497]|0}else s=c;qh[s&15](d[h>>2]|0);break}a=d[501]|0;if((n|0)<(a|0)){o=(d[502]|0)+n|0;if((l|0)<(-3-n+a|0)){Bf(o,d[h>>2]|0)|0;d[500]=(d[500]|0)+l;break}else{f[o>>0]=46;f[o+1>>0]=46;f[o+2>>0]=46;f[o+3>>0]=0;d[500]=d[501];break}}}}while(0);cn(d[h>>2]|0)}}w=p;return}function Ga(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0;r=d[e>>2]|0;n=e+4|0;l=d[n>>2]|0;v=t+4|0;if((l|0)!=(r|0)){i=l;do{g=d[v>>2]|0;y=g+-16|0;w=i;i=i+-16|0;d[y>>2]=0;b=g+-12|0;d[b>>2]=0;a=d[w+-4>>2]|0;d[g+-8>>2]=0;d[g+-4>>2]=a;d[y>>2]=d[i>>2];o=w+-12|0;d[b>>2]=d[o>>2];s=w+-8|0;d[g+-8>>2]=d[s>>2];d[s>>2]=0;d[o>>2]=0;d[i>>2]=0;d[v>>2]=(d[v>>2]|0)+-16}while((i|0)!=(r|0))}c=d[e>>2]|0;d[e>>2]=d[v>>2];d[v>>2]=c;u=t+8|0;f=d[n>>2]|0;d[n>>2]=d[u>>2];d[u>>2]=f;h=e+8|0;p=t+12|0;m=d[h>>2]|0;d[h>>2]=d[p>>2];d[p>>2]=m;d[t>>2]=d[v>>2];return}function Va(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0;c=w;w=w+16|0;if((w|0)>=(_|0))pe();n=c;d[n>>2]=e;do{if(!(Mo(2044,n)|0))r=d[522]|0;else{s=go(2044,n)|0;l=d[s+248>>2]|0;if((t|0)<0?1:(d[s+252>>2]|0)-l>>3>>>0<=t>>>0){r=d[524]|0;break}a=d[l+(t<<3)+4>>2]|0;if((i|0)<0?1:(d[a+4>>2]|0)<=(i|0)){r=d[523]|0;break}else{o=d[a>>2]|0;Ql(o+(i*320|0)+16|0,264);qt(0,d[o+(i*320|0)+304>>2]|0,d[o+(i*320|0)>>2]|0,d[o+(i*320|0)+4>>2]|0,+ +y[o+(i*320|0)+8>>3])|0;r=0;break}}}while(0);w=c;return r|0}function ja(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0;n=t;a=f[e>>0]|0;if(!(a&1)){s=10;l=(a&255)>>>1;p=a}else{m=d[e>>2]|0;s=(m&-2)+-1|0;l=d[e+4>>2]|0;p=m&255}o=i-n|0;do{if((i|0)!=(t|0)){if((s-l|0)>>>0<o>>>0){Eo(e,s,l+o-s|0,l,l,0);c=f[e>>0]|0}else c=p;if(!(c&1))u=e+1|0;else u=d[e+8>>2]|0;g=i+(l-n)|0;if((t|0)!=(i|0)){r=t;v=u+l|0;while(1){f[v>>0]=f[r>>0]|0;r=r+1|0;if((r|0)==(i|0))break;else v=v+1|0}}f[u+g>>0]=0;h=l+o|0;if(!(f[e>>0]&1)){f[e>>0]=h<<1;break}else{d[e+4>>2]=h;break}}}while(0);return}function Wa(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0,x=0;o=fe(i,t)|0;if((d[r+76>>2]|0)>-1)p=Ih(r)|0;else p=0;m=r+74|0;v=f[m>>0]|0;f[m>>0]=v+255|v;s=r+4|0;l=d[s>>2]|0;c=(d[r+8>>2]|0)-l|0;if((c|0)>0){n=c>>>0<o>>>0?c:o;il(e|0,l|0,n|0)|0;d[s>>2]=l+n;g=e+n|0;b=o-n|0}else{g=e;b=o}e:do{if(!b)x=13;else{u=r+32|0;y=g;w=b;while(1){if(pl(r)|0){_=w;break}h=Hh[d[u>>2]&15](r,y,w)|0;if((h+1|0)>>>0<2){_=w;break}if((w|0)==(h|0)){x=13;break e}else{y=y+h|0;w=w-h|0}}if(p)Oh(r);a=((o-_|0)>>>0)/(t>>>0)|0}}while(0);if((x|0)==13)if(!p)a=i;else{Oh(r);a=i}return a|0}function Xa(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0;o=f[e>>0]|0;c=(o&1)==0;if(c)m=(o&255)>>>1;else m=d[e+4>>2]|0;if(m>>>0<t>>>0)yf(e);if(c){s=10;l=o}else{v=d[e>>2]|0;s=(v&-2)+-1|0;l=v&255}if((s-m|0)>>>0<r>>>0)Ja(e,s,m+r-s|0,m,t,0,r,i);else if(r){if(!(l&1))u=e+1|0;else u=d[e+8>>2]|0;if((m|0)==(t|0)){n=i;a=u+t|0}else{h=u+t|0;cc(u+(r+t)|0,h|0,m-t|0)|0;n=h>>>0<=i>>>0&(u+m|0)>>>0>i>>>0?i+r|0:i;a=h}cc(a|0,n|0,r|0)|0;p=m+r|0;if(!(f[e>>0]&1))f[e>>0]=p<<1;else d[e+4>>2]=p;f[u+p>>0]=0}return e|0}function qa(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0;i=hc(4,4)|0;r=d[i>>2]|0;n=d[i>>2]|0;h=d[i>>2]|0;p=d[i>>2]|0;v=0;do{m=v<<2;y[r+(m<<3)>>3]=+y[e+(v<<5)>>3];y[n+(1+m<<3)>>3]=+y[e+(v<<5)+8>>3];y[h+(2+m<<3)>>3]=+y[e+(v<<5)+16>>3];y[p+(3+m<<3)>>3]=+y[e+(v<<5)+24>>3];v=v+1|0}while((v|0)!=3);a=d[i>>2]|0;o=a+96|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;y[a+120>>3]=1.0;Cn(i)|0;s=d[i>>2]|0;l=d[i>>2]|0;c=d[i>>2]|0;u=d[i>>2]|0;g=0;do{f=g<<2;y[t+(g<<5)>>3]=+y[s+(f<<3)>>3];y[t+(g<<5)+8>>3]=+y[l+(1+f<<3)>>3];y[t+(g<<5)+16>>3]=+y[c+(2+f<<3)>>3];y[t+(g<<5)+24>>3]=+y[u+(3+f<<3)>>3];g=g+1|0}while((g|0)!=3);Wf(i)|0;return 0}function Ya(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,d=0;e:do{if((e|0)==(t|0))i=e;else{n=f[e>>0]|0;if(n<<24>>24!=95){if(((n<<24>>24)+-48|0)>>>0<10)c=e;else{i=e;break}while(1){d=c+1|0;if((d|0)==(t|0)){i=t;break e}if(((f[d>>0]|0)+-48|0)>>>0<10)c=d;else{i=d;break e}}}o=e+1|0;if((o|0)==(t|0))i=e;else{s=f[o>>0]|0;if(((s<<24>>24)+-48|0)>>>0<10){i=e+2|0;break}if(s<<24>>24==95){l=e+2|0;if((l|0)==(t|0))i=e;else{u=l;while(1){a=f[u>>0]|0;if(((a<<24>>24)+-48|0)>>>0>=10){r=a;h=u;break}u=u+1|0;if((u|0)==(t|0)){i=e;break e}}return(r<<24>>24==95?h+1|0:e)|0}}else i=e}}}while(0);return i|0}function Ja(e,t,i,r,n,a,o,s){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;s=s|0;var l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0;if((-18-t|0)>>>0<i>>>0)bf(e);if(!(f[e>>0]&1))p=e+1|0;else p=d[e+8>>2]|0;if(t>>>0<2147483623){g=i+t|0;l=t<<1;c=g>>>0<l>>>0?l:g;u=c>>>0<11?11:c+16&-16}else u=-17;h=xi(u)|0;if(n)il(h|0,p|0,n|0)|0;if(o)il(h+n|0,s|0,o|0)|0;m=r-a|0;if((m|0)!=(n|0))il(h+(o+n)|0,p+(a+n)|0,m-n|0)|0;if((t|0)!=10)cn(p);d[e+8>>2]=h;d[e>>2]=u|1;v=m+o|0;d[e+4>>2]=v;f[h+v>>0]=0;return}function Za(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0;v=w;w=w+32|0;if((w|0)>=(_|0))pe();p=v;o=f[t>>0]|0;if(!(o<<24>>24))m=3;else if(!(f[t+1>>0]|0))m=3;else{d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;d[p+12>>2]=0;d[p+16>>2]=0;d[p+20>>2]=0;d[p+24>>2]=0;d[p+28>>2]=0;r=t;l=o;do{c=p+(((l&255)>>>5&255)<<2)|0;d[c>>2]=d[c>>2]|1<<(l&31);r=r+1|0;l=f[r>>0]|0}while(l<<24>>24!=0);s=f[e>>0]|0;e:do{if(!(s<<24>>24))n=e;else{a=e;u=s;while(1){if(d[p+(((u&255)>>>5&255)<<2)>>2]&1<<(u&31)){n=a;break e}h=a+1|0;u=f[h>>0]|0;if(!(u<<24>>24)){n=h;break}else a=h}}}while(0);i=n-e|0}if((m|0)==3)i=(Ka(e,o<<24>>24)|0)-e|0;w=v;return i|0}function Ka(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0;o=t&255;e:do{if(!o)i=e+(Uo(e)|0)|0;else{if(!(e&3))r=e;else{g=t&255;n=e;while(1){y=f[n>>0]|0;if(y<<24>>24==0?1:y<<24>>24==g<<24>>24){i=n;break e}s=n+1|0;if(!(s&3)){r=s;break}else n=s}}l=fe(o,16843009)|0;c=d[r>>2]|0;t:do{if(!((c&-2139062144^-2139062144)&c+-16843009)){h=c;w=r;while(1){u=h^l;if((u&-2139062144^-2139062144)&u+-16843009){b=w;break t}p=w+4|0;h=d[p>>2]|0;if((h&-2139062144^-2139062144)&h+-16843009){b=p;break}else w=p}}else b=r}while(0);m=t&255;a=b;while(1){v=f[a>>0]|0;if(v<<24>>24==0?1:v<<24>>24==m<<24>>24){i=a;break}else a=a+1|0}}}while(0);return i|0}function Qa(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;var o=0,s=0,l=0,c=0,u=0,f=0,h=0;h=w;w=w+32|0;if((w|0)>=(_|0))pe();c=h+20|0;u=h;o=xi(n<<4)|0;d[c>>2]=o;if(!o){Ha(3,5471,h+8|0);Wt(1)}s=xi(n*24|0)|0;l=c+4|0;d[l>>2]=s;if(!s){Ha(3,5471,h+16|0);Wt(1)}if((n|0)>0){f=0;do{y[o+(f<<4)>>3]=+y[i+(f<<4)>>3];y[o+(f<<4)+8>>3]=+y[i+(f<<4)+8>>3];y[s+(f*24|0)>>3]=+y[r+(f*24|0)>>3];y[s+(f*24|0)+8>>3]=+y[r+(f*24|0)+8>>3];y[s+(f*24|0)+16>>3]=+y[r+(f*24|0)+16>>3];f=f+1|0}while((f|0)<(n|0))}d[c+8>>2]=n;if((xn(d[e>>2]|0,c,t,a,u)|0)<0)y[u>>3]=1.0e8;cn(d[c>>2]|0);cn(d[l>>2]|0);w=h;return+ +y[u>>3]}function $a(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;var o=0,s=0,l=0,c=0,u=0,f=0,h=0;h=w;w=w+32|0;if((w|0)>=(_|0))pe();c=h+20|0;u=h;o=xi(n<<4)|0;d[c>>2]=o;if(!o){Ha(3,5471,h+8|0);Wt(1)}s=xi(n*24|0)|0;l=c+4|0;d[l>>2]=s;if(!s){Ha(3,5471,h+16|0);Wt(1)}if((n|0)>0){f=0;do{y[o+(f<<4)>>3]=+y[i+(f<<4)>>3];y[o+(f<<4)+8>>3]=+y[i+(f<<4)+8>>3];y[s+(f*24|0)>>3]=+y[r+(f*24|0)>>3];y[s+(f*24|0)+8>>3]=+y[r+(f*24|0)+8>>3];y[s+(f*24|0)+16>>3]=+y[r+(f*24|0)+16>>3];f=f+1|0}while((f|0)<(n|0))}d[c+8>>2]=n;if((Xn(d[e>>2]|0,c,t,a,u)|0)<0)y[u>>3]=1.0e8;cn(d[c>>2]|0);cn(d[l>>2]|0);w=h;return+ +y[u>>3]}function eo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0;o=i+16|0;s=d[o>>2]|0;if(!s)if(!(Zl(i)|0)){p=d[o>>2]|0;y=4}else r=0;else{p=s;y=4}e:do{if((y|0)==4){u=i+20|0;h=d[u>>2]|0;if((p-h|0)>>>0<t>>>0){r=Hh[d[i+36>>2]&15](i,e,t)|0;break}t:do{if((f[i+75>>0]|0)>-1){m=t;while(1){if(!m){n=t;a=e;c=h;g=0;break t}l=m+-1|0;if((f[e+l>>0]|0)==10){v=m;break}else m=l}if((Hh[d[i+36>>2]&15](i,e,v)|0)>>>0<v>>>0){r=v;break e}n=t-v|0;a=e+v|0;c=d[u>>2]|0;g=v}else{n=t;a=e;c=h;g=0}}while(0);il(c|0,a|0,n|0)|0;d[u>>2]=(d[u>>2]|0)+n;r=g+n|0}}while(0);return r|0}function to(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,m=0,v=0,g=0,y=0,b=0,w=0,_=0;a=e+104|0;o=d[a>>2]|0;if(!o)_=3;else if((d[e+108>>2]|0)<(o|0))_=3;else _=4;if((_|0)==3){b=nc(e)|0;if((b|0)<0)_=4;else{w=d[a>>2]|0;i=e+8|0;if(!w){r=d[i>>2]|0;h=r;y=r;_=9}else{s=d[i>>2]|0;l=d[e+4>>2]|0;c=s;u=w-(d[e+108>>2]|0)+-1|0;if((c-l|0)>(u|0)){d[e+100>>2]=l+u;m=s}else{h=c;y=s;_=9}}if((_|0)==9){d[e+100>>2]=h;m=y}n=d[e+4>>2]|0;if(m){v=e+108|0;d[v>>2]=m+1-n+(d[v>>2]|0)}g=n+-1|0;if((p[g>>0]|0|0)==(b|0))t=b;else{f[g>>0]=b;t=b}}}if((_|0)==4){d[e+100>>2]=0;t=-1}return t|0}function io(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;u=w;w=w+16|0;if((w|0)>=(_|0))pe();c=u+8|0;l=u;if(!e)i=-1;else{r=e+7062388|0;if((d[r>>2]|0)==(t|0))i=0;else{a=e+7062408|0;o=d[a>>2]|0;if(o){Fu(o);d[a>>2]=0}switch(t|0){case 3:case 2:case 1:{n=Xo(d[e+36>>2]|0,d[e+40>>2]|0,d[e+4>>2]|0,0)|0;d[a>>2]=n;s=t;break}case 4:{d[e+7062404>>2]=1;d[e+7062400>>2]=1;s=4;break}case 0:{s=0;break}default:{Ha(3,3985,l);s=0}}d[r>>2]=s;if((d[e>>2]|0)==1){d[c>>2]=d[760+(s<<2)>>2];Ha(3,4059,c);i=0}else i=0}}w=u;return i|0}function ro(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0;x=w;w=w+240|0;if((w|0)>=(_|0))pe();g=x;d[g>>2]=e;e:do{if((r|0)>1){c=0-t|0;s=r;l=e;v=e;b=1;while(1){h=l+c|0;p=s+-2|0;m=l+(0-((d[n+(p<<2)>>2]|0)+t))|0;if((td[i&15](v,m)|0)>-1)if((td[i&15](v,h)|0)>-1){y=b;break e}u=b+1|0;f=g+(b<<2)|0;if((td[i&15](m,h)|0)>-1){d[f>>2]=m;a=m;o=s+-1|0}else{d[f>>2]=h;a=h;o=p}if((o|0)<=1){y=u;break e}s=o;l=a;v=d[g>>2]|0;b=u}}else y=1}while(0);Ko(t,g,y);w=x;return}function no(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();t=xi(7062432)|0;if(!t){Ha(3,5471,a);Wt(1)}d[t>>2]=0;d[t+4834148>>2]=0;d[t+7062408>>2]=0;d[t+4>>2]=-1;d[t+8>>2]=0;d[t+12>>2]=1;d[t+16>>2]=100;d[t+20>>2]=0;d[t+24>>2]=0;d[t+28>>2]=2;y[t+7062416>>3]=.5;d[t+7062424>>2]=3;d[t+32>>2]=e;i=d[e>>2]|0;d[t+36>>2]=i;r=d[e+4>>2]|0;d[t+40>>2]=r;d[t+44>>2]=0;d[t+15408>>2]=0;d[t+4834152>>2]=0;d[t+4818296>>2]=0;n=xi(fe(i<<1,r)|0)|0;d[t+4834144>>2]=n;if(!n){Ha(3,5471,a+8|0);Wt(1)}else{d[t+7062384>>2]=0;ka(t,2)|0;Rs(t,0)|0;d[t+7062388>>2]=-1;io(t,0)|0;d[t+7062392>>2]=7;d[t+7062396>>2]=0;w=a;return t|0}return 0}function ao(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0;v=w;w=w+32|0;if((w|0)>=(_|0))pe();m=v;r=e+4|0;u=d[e>>2]|0;p=((d[r>>2]|0)-u>>3)+1|0;if(p>>>0>536870911)Ef(e);n=u;a=(d[e+8>>2]|0)-n|0;if(a>>3>>>0<268435455){o=a>>2;i=o>>>0<p>>>0?p:o}else i=536870911;Wl(m,i,(d[r>>2]|0)-n>>3,e+8|0);s=m+8|0;l=d[s>>2]|0;c=t;f=d[c+4>>2]|0;h=l;d[h>>2]=d[c>>2];d[h+4>>2]=f;d[s>>2]=l+8;ns(e,m);Nl(m);w=v;return}function oo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;if((t|0)==1)s=2;else if(!(t+-1&t))s=t;else s=Di(t)|0;o=d[e+4>>2]|0;if(s>>>0>o>>>0)Zn(e,s);else if(s>>>0<o>>>0){if(o>>>0>2)a=(o+-1&o|0)==0;else a=0;i=~~+ue(+(+((d[e+12>>2]|0)>>>0)/+g[e+16>>2]))>>>0;if(a)r=1<<32-(de(i+-1|0)|0);else r=Di(i)|0;n=s>>>0<r>>>0?r:s;if(n>>>0<o>>>0)Zn(e,n)}return}function so(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,x=0,E=0,M=0,S=0;E=w;w=w+128|0;if((w|0)>=(_|0))pe();g=E+112|0;y=E;b=y;M=2684;S=b+112|0;do{d[b>>2]=d[M>>2];b=b+4|0;M=M+4|0}while((b|0)<(S|0));if((t+-1|0)>>>0>2147483646)if(!t){o=g;s=1;x=4}else{p=Ju()|0;d[p>>2]=75;a=-1}else{o=e;s=t;x=4}if((x|0)==4){m=-2-o|0;n=s>>>0>m>>>0?m:s;d[y+48>>2]=n;v=y+20|0;d[v>>2]=o;d[y+44>>2]=o;l=o+n|0;c=y+16|0;d[c>>2]=l;d[y+28>>2]=l;u=Pa(y,i,r)|0;if(!n)a=u;else{h=d[v>>2]|0;f[h+(((h|0)==(d[c>>2]|0))<<31>>31)>>0]=0;a=u}}w=E;return a|0}function lo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;if((t|0)==1)s=2;else if(!(t+-1&t))s=t;else s=Di(t)|0;o=d[e+4>>2]|0;if(s>>>0>o>>>0)Kn(e,s);else if(s>>>0<o>>>0){if(o>>>0>2)a=(o+-1&o|0)==0;else a=0;i=~~+ue(+(+((d[e+12>>2]|0)>>>0)/+g[e+16>>2]))>>>0;if(a)r=1<<32-(de(i+-1|0)|0);else r=Di(i)|0;n=s>>>0<r>>>0?r:s;if(n>>>0<o>>>0)Kn(e,n)}return}function co(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;u=w;w=w+16|0;if((w|0)>=(_|0))pe();c=u+8|0;l=u;r=u+12|0;d[r>>2]=e;if(!(Mo(2044,r)|0))i=-1;else{s=go(2044,r)|0;if(!(f[t>>0]&1))a=t+1|0;else a=d[t+8>>2]|0;n=s+216|0;o=Po(d[n>>2]|0,a)|0;d[s+260>>2]=o;if((o|0)<0){d[l>>2]=a;Ha(3,6311,l);mo(d[n>>2]|0)|0;Ha(3,6357,c);i=-1}else i=o}w=u;return i|0}function uo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;f=w;w=w+48|0;if((w|0)>=(_|0))pe();c=f+24|0;u=f+12|0;l=f;d[c+4>>2]=6;d[c+8>>2]=1;d[c>>2]=e;d[u+4>>2]=r;d[u+8>>2]=1;d[u>>2]=t;d[l+4>>2]=r;d[l+8>>2]=6;d[l>>2]=i;o=jc(l)|0;do{if(!o)n=-1;else{s=Xc(o,l)|0;if(!s){Wf(o)|0;n=-1;break}a=Xc(o,u)|0;if(!a){Wf(o)|0;Wf(s)|0;n=-1;break}if((Cn(s)|0)<0){Wf(o)|0;Wf(s)|0;Wf(a)|0;n=-1;break}else{Ba(c,s,a)|0;Wf(o)|0;Wf(s)|0;Wf(a)|0;n=0;break}}}while(0);w=f;return n|0}function fo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0;l=w;w=w+16|0;if((w|0)>=(_|0))pe();r=l;d[r>>2]=e;do{if(!(Mo(2044,r)|0))i=d[522]|0;else{o=go(2044,r)|0;s=d[o+248>>2]|0;if((t|0)<0?1:(d[o+252>>2]|0)-s>>3>>>0<=t>>>0){i=d[524]|0;break}else{n=d[s+(t<<3)+4>>2]|0;a=d[o+212>>2]|0;+qc(d[o+224>>2]|0,a+48|0,d[a+44>>2]|0,n);Ql(n+8|0,264);i=0;break}}}while(0);w=l;return i|0}function ho(e,t,i,r){e=e|0;t=t|0;i=+i;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0,g=0;if(i<0.0|i>1.0)n=-1;else{p=Cl(e,t)|0;if((p|0)<0)n=p;else{l=~~(+(fe(d[e+12>>2]|0,d[e+8>>2]|0)|0)*i)>>>0;m=0;while(1){c=m&255;u=d[e+1040+(c<<2)>>2]|0;if(u>>>0<l>>>0)m=m+1<<24>>24;else{o=u;s=c;v=m;break}}if((o|0)==(l|0)){a=v;while(1){h=a+1<<24>>24;if((d[e+1040+((h&255)<<2)>>2]|0)==(l|0))a=h;else{g=h;break}}}else g=v;f[r>>0]=((g&255)+s|0)>>>1;n=0}}return n|0}function po(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0;l=w;w=w+16|0;if((w|0)>=(_|0))pe();r=l;d[r>>2]=e;do{if(!(Mo(2044,r)|0))i=d[522]|0;else{o=go(2044,r)|0;s=d[o+248>>2]|0;if((t|0)<0?1:(d[o+252>>2]|0)-s>>3>>>0<=t>>>0){i=d[524]|0;break}else{n=d[s+(t<<3)+4>>2]|0;a=d[o+212>>2]|0;+Yc(d[o+224>>2]|0,a+48|0,d[a+44>>2]|0,n);Ql(n+8|0,264);i=0;break}}}while(0);w=l;return i|0}function mo(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;if(!e)t=-1;else{i=e+4|0;a=e+8|0;s=e+12|0;c=e+20|0;if((d[i>>2]|0)>0){u=0;do{if(d[(d[a>>2]|0)+(u<<2)>>2]|0)Oc(e,u)|0;r=u<<2;cn(d[(d[s>>2]|0)+(r<<2)>>2]|0);cn(d[(d[c>>2]|0)+(r<<2)>>2]|0);n=1+r|0;cn(d[(d[s>>2]|0)+(n<<2)>>2]|0);cn(d[(d[c>>2]|0)+(n<<2)>>2]|0);o=2+r|0;cn(d[(d[s>>2]|0)+(o<<2)>>2]|0);cn(d[(d[c>>2]|0)+(o<<2)>>2]|0);l=3+r|0;cn(d[(d[s>>2]|0)+(l<<2)>>2]|0);cn(d[(d[c>>2]|0)+(l<<2)>>2]|0);u=u+1|0}while((u|0)<(d[i>>2]|0))}cn(e);t=0}return t|0}function vo(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,d=0,p=0,m=0,v=0,g=0;t=e;while(1){s=t+1|0;if(!(th(f[t>>0]|0)|0)){i=t;a=s;break}else t=s}l=f[i>>0]|0;switch(l<<24>>24|0){case 45:{m=1;g=5;break}case 43:{m=0;g=5;break}default:{r=i;c=l;v=0}}if((g|0)==5){r=a;c=f[a>>0]|0;v=m}u=(c<<24>>24)+-48|0;if(u>>>0<10){n=r;h=u;p=0;while(1){n=n+1|0;o=(p*10|0)-h|0;h=(f[n>>0]|0)+-48|0;if(h>>>0>=10){d=o;break}else p=o}}else d=0;return((v|0)!=0?d:0-d|0)|0}function go(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;s=w;w=w+32|0;if((w|0)>=(_|0))pe();o=s+8|0;r=s;n=Mo(e,t)|0;if(!n){sl(o,e,t);ea(r,e,d[o>>2]|0);a=d[r>>2]|0;d[o>>2]=0;i=a}else i=n;w=s;return i+16|0}function yo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;r=f[e>>0]|0;a=(r&1)!=0;if(a){s=(d[e>>2]&-2)+-1|0;c=d[e+4>>2]|0}else{s=10;c=(r&255)>>>1}if((c|0)==(s|0)){Eo(e,s,1,s,s,0);if(!(f[e>>0]&1))u=7;else u=8}else if(a)u=8;else u=7;if((u|0)==7){f[e>>0]=(c<<1)+2;i=e+1|0;l=c+1|0}else if((u|0)==8){n=d[e+8>>2]|0;o=c+1|0;d[e+4>>2]=o;i=n;l=o}f[i+c>>0]=t;f[i+l>>0]=0;return}function bo(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0;f[t+53>>0]=1;do{if((d[t+4>>2]|0)==(r|0)){f[t+52>>0]=1;c=t+16|0;u=d[c>>2]|0;if(!u){d[c>>2]=i;d[t+24>>2]=n;d[t+36>>2]=1;if(!((n|0)==1?(d[t+48>>2]|0)==1:0))break;f[t+54>>0]=1;break}if((u|0)!=(i|0)){l=t+36|0;d[l>>2]=(d[l>>2]|0)+1;f[t+54>>0]=1;break}a=t+24|0;o=d[a>>2]|0;if((o|0)==2){d[a>>2]=n;s=n}else s=o;if((s|0)==1?(d[t+48>>2]|0)==1:0)f[t+54>>0]=1}}while(0);return}function wo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0;e:do{if((e|0)==(t|0))i=e;else{switch(f[e>>0]|0){case 104:{s=e+1|0;l=Ms(s,t)|0;if((l|0)==(s|0)|(l|0)==(t|0)){i=e;break e}i=(f[l>>0]|0)==95?l+1|0:e;break e;break}case 118:break;default:{i=e;break e}}r=e+1|0;n=Ms(r,t)|0;if((n|0)==(r|0)|(n|0)==(t|0))i=e;else if((f[n>>0]|0)==95){a=n+1|0;o=Ms(a,t)|0;if((o|0)==(a|0)|(o|0)==(t|0))i=e;else return((f[o>>0]|0)==95?o+1|0:e)|0}else i=e}}while(0);return i|0}function _o(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;h=w;w=w+16|0;if((w|0)>=(_|0))pe();f=h+8|0;u=h+12|0;r=d[525]|0;d[525]=r+1;d[u>>2]=r;a=go(2044,u)|0;d[a>>2]=r;d[a+204>>2]=e;d[a+208>>2]=t;o=fe(e<<2,t)|0;s=a+200|0;d[s>>2]=o;l=xi(o)|0;c=a+196|0;d[c>>2]=l;n=_h()|0;d[a+216>>2]=n;if(!n)Ha(3,8284,h);ua(r,i)|0;d[f>>2]=d[s>>2];Ha(1,8321,f);ui(2,d[a>>2]|0,d[c>>2]|0,d[s>>2]|0,a+264|0,264)|0;w=h;return d[a>>2]|0}function xo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;s=w;w=w+32|0;if((w|0)>=(_|0))pe();o=s+8|0;r=s;n=So(e,t)|0;if(!n){ec(o,e,t);ia(r,e,d[o>>2]|0);a=d[r>>2]|0;d[o>>2]=0;i=a}else i=n;w=s;return i+16|0}function Eo(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;var o=0,s=0,l=0,c=0,u=0,h=0;if((-17-t|0)>>>0<i>>>0)bf(e);if(!(f[e>>0]&1))u=e+1|0;else u=d[e+8>>2]|0;if(t>>>0<2147483623){h=i+t|0;o=t<<1;s=h>>>0<o>>>0?o:h;l=s>>>0<11?11:s+16&-16}else l=-17;c=xi(l)|0;if(n)il(c|0,u|0,n|0)|0;if((r|0)!=(n|0))il(c+(a+n)|0,u+n|0,r-n|0)|0;if((t|0)!=10)cn(u);d[e+8>>2]=c;d[e>>2]=l|1;return}function Mo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;r=d[t>>2]|0;s=d[e+4>>2]|0;e:do{if(!s)c=0;else{u=s+-1|0;f=(u&s|0)==0;if(f)n=u&r;else n=(r>>>0)%(s>>>0)|0;a=d[(d[e>>2]|0)+(n<<2)>>2]|0;if(!a)c=0;else{i=a;while(1){h=d[i>>2]|0;if(!h){c=0;break e}o=d[h+4>>2]|0;if(f)l=o&u;else l=(o>>>0)%(s>>>0)|0;if((l|0)!=(n|0)){c=0;break e}if((d[h+8>>2]|0)==(r|0)){c=h;break}else i=h}}}}while(0);return c|0}function So(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;r=d[t>>2]|0;s=d[e+4>>2]|0;e:do{if(!s)c=0;else{u=s+-1|0;f=(u&s|0)==0;if(f)n=u&r;else n=(r>>>0)%(s>>>0)|0;a=d[(d[e>>2]|0)+(n<<2)>>2]|0;if(!a)c=0;else{i=a;while(1){h=d[i>>2]|0;if(!h){c=0;break e}o=d[h+4>>2]|0;if(f)l=o&u;else l=(o>>>0)%(s>>>0)|0;if((l|0)!=(n|0)){c=0;break e}if((d[h+8>>2]|0)==(r|0)){c=h;break}else i=h}}}}while(0);return c|0}function To(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0;o=w;w=w+16|0;if((w|0)>=(_|0))pe();r=o+4|0;n=o;a=Mo(e,t)|0;if(!a)i=0;else{d[n>>2]=a;d[r>>2]=d[n>>2];ko(e,r)|0;i=1}w=o;return i|0}function ko(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0;l=w;w=w+32|0;if((w|0)>=(_|0))pe();i=l+16|0;r=l+4|0;n=l;a=d[t>>2]|0;o=d[a>>2]|0;d[n>>2]=a;d[i>>2]=d[n>>2];_a(r,e,i);s=d[r>>2]|0;d[r>>2]=0;if(s){if(f[r+8>>0]|0)ql(s+264|0);kh(s)}w=l;return o|0}function Ao(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0;l=w;w=w+64|0;if((w|0)>=(_|0))pe();o=l;if((e|0)==(t|0))n=1;else if(!t)n=0;else{a=Ma(t,576,592,0)|0;if(!a)n=0;else{s=o;c=s+56|0;do{d[s>>2]=0;s=s+4|0}while((s|0)<(c|0));d[o>>2]=a;d[o+8>>2]=e;d[o+12>>2]=-1;d[o+48>>2]=1;id[d[(d[a>>2]|0)+28>>2]&3](a,o,d[i>>2]|0,1);if((d[o+24>>2]|0)==1){d[i>>2]=d[o+16>>2];r=1}else r=0;n=r}}w=l;return n|0}function Ro(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0;do{if((e|0)==(d[t+8>>2]|0)){if((d[t+4>>2]|0)==(i|0)){s=t+28|0;if((d[s>>2]|0)!=1)d[s>>2]=r}}else if((e|0)==(d[t>>2]|0)){if((d[t+16>>2]|0)!=(i|0)){a=t+20|0;if((d[a>>2]|0)!=(i|0)){d[t+32>>2]=r;d[a>>2]=i;o=t+40|0;d[o>>2]=(d[o>>2]|0)+1;if((d[t+36>>2]|0)==1)if((d[t+24>>2]|0)==2)f[t+54>>0]=1;d[t+44>>2]=4;break}}if((r|0)==1)d[t+32>>2]=1}}while(0);return}function Lo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0;s=w;w=w+16|0;if((w|0)>=(_|0))pe();n=s;d[n>>2]=e;do{if(!(Mo(2044,n)|0))r=d[522]|0;else{a=go(2044,n)|0;o=d[a+212>>2]|0;if((d[o+44>>2]|0)>(t|0)){+Ea(d[a+224>>2]|0,(t|0)<0?8:o+48+(t<<8)|0,264,+(i|0),264);r=0;break}else{r=d[523]|0;break}}}while(0);w=s;return r|0}function Po(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0;h=w;w=w+32|0;if((w|0)>=(_|0))pe();u=h+16|0;c=h+8|0;l=h;r=Zo(t,4854)|0;do{if(!r){d[l>>2]=t;Ha(3,4774,l);i=-1}else{Tf(r,0,2)|0;n=Rh(r)|0;Tf(r,0,0)|0;a=xi(n+1|0)|0;if(!a){Ha(3,5471,c);ml(r)|0;i=-1;break}o=Wa(a,n,1,r)|0;ml(r)|0;if(!o){d[u>>2]=t;Ha(3,4820,u);cn(a);i=-1;break}else{f[a+n>>0]=0;s=Sn(e,a)|0;cn(a);i=s;break}}}while(0);w=h;return i|0}function Co(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,d=0,p=0,m=0,v=0,g=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295){a=i;p=e;m=t;while(1){v=gc(p|0,m|0,10,0)|0;c=a+-1|0;f[c>>0]=v|48;u=ef(p|0,m|0,10,0)|0;if(m>>>0>9|(m|0)==9&p>>>0>4294967295){a=c;p=u;m=H}else{l=c;d=u;break}}r=l;n=d}else{r=i;n=e}if(!n)o=r;else{s=r;g=n;while(1){h=s+-1|0;f[h>>0]=(g>>>0)%10|0|48;if(g>>>0<10){o=h;break}else{s=h;g=(g>>>0)/10|0}}}return o|0}function Oo(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0;s=w;w=w+192|0;if((w|0)>=(_|0))pe();o=s;Qc(e,o);Qc(e+4|0,o+4|0);a=0;do{tc(e+8+(a<<5)|0,o+8+(a<<5)|0);tc(e+8+(a<<5)+8|0,o+8+(a<<5)+8|0);tc(e+8+(a<<5)+16|0,o+8+(a<<5)+16|0);tc(e+8+(a<<5)+24|0,o+8+(a<<5)+24|0);a=a+1|0}while((a|0)!=3);r=e+176|0;n=0;do{tc(e+104+(n<<3)|0,o+104+(n<<3)|0);n=n+1|0;i=d[r>>2]|0}while((n|0)<(d[2012+(i+-1<<3)>>2]|0));t=i;d[o+176>>2]=t;il(e|0,o|0,184)|0;w=s;return}function Io(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0;s=w;w=w+16|0;if((w|0)>=(_|0))pe();n=s;d[n>>2]=e;do{if(!(Mo(2044,n)|0))r=d[522]|0;else{a=go(2044,n)|0;o=d[a+212>>2]|0;if((d[o+44>>2]|0)>(t|0)){+ga(d[a+224>>2]|0,(t|0)<0?8:o+48+(t<<8)|0,+(i|0),264);r=0;break}else{r=d[523]|0;break}}}while(0);w=s;return r|0}function No(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;r=d[e+4>>2]|0;if((r|0)==(d[t+8>>2]|0)){a=d[e+8>>2]|0;if((a|0)==(d[t+4>>2]|0)){f=(a|0)>0?a:0;if((r|0)>0){n=(a|0)>0;l=d[e>>2]|0;u=0;while(1){if(n){o=0;s=(d[t>>2]|0)+(u<<3)|0;c=l;while(1){y[c>>3]=+y[s>>3];o=o+1|0;if((o|0)>=(a|0))break;else{s=s+(r<<3)|0;c=c+8|0}}}u=u+1|0;if((u|0)>=(r|0)){i=0;break}else l=l+(f<<3)|0}}else i=0}else i=-1}else i=-1;return i|0}function Do(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;do{if(!e){if(!(d[660]|0))a=0;else a=Do(d[660]|0)|0;Qt(2416);i=d[603]|0;if(!i)l=a;else{r=i;c=a;while(1){if((d[r+76>>2]|0)>-1)n=Ih(r)|0;else n=0;if((d[r+20>>2]|0)>>>0>(d[r+28>>2]|0)>>>0)u=Ws(r)|0|c;else u=c;if(n)Oh(r);r=d[r+56>>2]|0;if(!r){l=u;break}else c=u}}Ht(2416);t=l}else{if((d[e+76>>2]|0)<=-1){t=Ws(e)|0;break}s=(Ih(e)|0)==0;o=Ws(e)|0;if(s)t=o;else{Oh(e);t=o}}}while(0);return t|0}function Fo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0;e:do{if((e|0)==(d[t+8>>2]|0))Fs(0,t,i,r);else{n=d[e+12>>2]|0;a=e+16+(n<<3)|0;hl(e+16|0,t,i,r);if((n|0)>1){o=t+54|0;s=e+24|0;do{hl(s,t,i,r);if(f[o>>0]|0)break e;s=s+8|0}while(s>>>0<a>>>0)}}}while(0);return}function Bo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;r=d[e>>2]|0;n=e+4|0;f=d[n>>2]|0;h=t+4|0;if((f|0)!=(r|0)){i=f;do{i=i+-24|0;Pl((d[h>>2]|0)+-24|0,i);d[h>>2]=(d[h>>2]|0)+-24}while((i|0)!=(r|0))}a=d[e>>2]|0;d[e>>2]=d[h>>2];d[h>>2]=a;o=t+8|0;s=d[n>>2]|0;d[n>>2]=d[o>>2];d[o>>2]=s;l=e+8|0;c=t+12|0;u=d[l>>2]|0;d[l>>2]=d[c>>2];d[c>>2]=u;d[t>>2]=d[h>>2];return}function Uo(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0,v=0;s=e;e:do{if(!(s&3)){t=e;v=4}else{i=e;c=s;while(1){if(!(f[i>>0]|0)){a=c;break e}u=i+1|0;c=u;if(!(c&3)){t=u;v=4;break}else i=u}}}while(0);if((v|0)==4){p=t;while(1){h=d[p>>2]|0;if(!((h&-2139062144^-2139062144)&h+-16843009))p=p+4|0;else{n=h;m=p;break}}if(!((n&255)<<24>>24))r=m;else{o=m;while(1){l=o+1|0;if(!(f[l>>0]|0)){r=l;break}else o=l}}a=r}return a-s|0}function zo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0;s=w;w=w+16|0;if((w|0)>=(_|0))pe();n=s;d[n>>2]=e;do{if(!(Mo(2044,n)|0))r=d[522]|0;else{a=(go(2044,n)|0)+212|0;o=d[a>>2]|0;if((d[o+44>>2]|0)>(t|0)){d[((t|0)<0?8:o+48+(t<<8)|0)+16>>2]=i;r=0;break}else{r=d[523]|0;break}}}while(0);w=s;return r|0}function Ho(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0;r=f[e>>0]|0;if(!(r&1)){l=10;c=r}else{s=d[e>>2]|0;l=(s&-2)+-1|0;c=s&255}n=(c&1)==0;do{if(l>>>0<i>>>0){if(n)o=(c&255)>>>1;else o=d[e+4>>2]|0;Ja(e,l,i-l|0,o,0,o,i,t)}else{if(n)a=e+1|0;else a=d[e+8>>2]|0;cc(a|0,t|0,i|0)|0;f[a+i>>0]=0;if(!(f[e>>0]&1)){f[e>>0]=i<<1;break}else{d[e+4>>2]=i;break}}}while(0);return}function Go(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0;r=f[e>>0]|0;if(!(r&1)){n=10;c=r}else{l=d[e>>2]|0;n=(l&-2)+-1|0;c=l&255}if(!(c&1))a=(c&255)>>>1;else a=d[e+4>>2]|0;if((n-a|0)>>>0<i>>>0)Ja(e,n,i-n+a|0,a,a,0,i,t);else if(i){if(!(c&1))o=e+1|0;else o=d[e+8>>2]|0;il(o+a|0,t|0,i|0)|0;s=a+i|0;if(!(f[e>>0]&1))f[e>>0]=s<<1;else d[e+4>>2]=s;f[o+s>>0]=0}return e|0}function Vo(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,v=0;v=w;w=w+256|0;if((w|0)>=(_|0))pe();m=v;do{if((i|0)>(r|0)&(n&73728|0)==0){f=i-r|0;ul(m|0,t|0,(f>>>0>256?256:f)|0)|0;h=d[e>>2]|0;p=(h&32|0)==0;if(f>>>0>255){s=i-r|0;o=f;c=h;u=p;while(1){if(u){eo(m,256,e)|0;l=d[e>>2]|0}else l=c;o=o+-256|0;u=(l&32|0)==0;if(o>>>0<=255)break;else c=l}if(u)a=s&255;else break}else if(p)a=f;else break;eo(m,a,e)|0}}while(0);w=v;return}function jo(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0;l=w;w=w+208|0;if((w|0)>=(_|0))pe();s=l+192|0;o=l;a=l+196|0;if(!(f[e>>0]&1))n=e+1|0;else n=d[e+8>>2]|0;if((jn(n,1,o,l+184|0)|0)<0){if(!(f[e>>0]&1))i=e+1|0;else i=d[e+8>>2]|0;d[s>>2]=i;Ha(3,6092,s);t=-1}else{r=d[521]|0;d[521]=r+1;d[a>>2]=r;il(xo(2064,a)|0,o|0,184)|0;t=r}w=l;return t|0}function Wo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0;o=w;w=w+16|0;if((w|0)>=(_|0))pe();r=o;d[r>>2]=e;if(!(Mo(2044,r)|0))i=-1;else{n=go(2044,r)|0;if((t|0)<0)i=-1;else{a=d[n+248>>2]|0;if((d[n+252>>2]|0)-a>>3>>>0>t>>>0)i=d[(d[a+(t<<3)+4>>2]|0)+4>>2]|0;else i=-1}}w=o;return i|0}function Xo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0;a=xi(2080)|0;e:do{if(!a)n=a;else{d[a+2068>>2]=i;t:do{if(!r){switch(i|0){case 5:case 12:case 13:case 14:break;default:{s=4;break t}}d[a+2076>>2]=0}else s=4}while(0);do{if((s|0)==4){o=xi(fe(t,e)|0)|0;d[a>>2]=o;if(!o){cn(a);n=0;break e}else{d[a+2076>>2]=1;break}}}while(0);d[a+2072>>2]=r;d[a+4>>2]=0;d[a+8>>2]=e;d[a+12>>2]=t;n=a}}while(0);return n|0}function qo(e,t){e=e|0;t=+t;var i=0,r=0,n=0.0,a=0,o=0,s=0;s=w;w=w+16|0;if((w|0)>=(_|0))pe();o=s;i=s+8|0;d[i>>2]=e;if(Mo(2044,i)|0){r=go(2044,i)|0;if(!(t<=0.0|t>=1.0)){n=t;a=d[r+212>>2]|0;if(a)if(!(Zc(a,n)|0)){y[o>>3]=n;Ha(1,6512,o)}}}w=s;return}function Yo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;s=w;w=w+16|0;if((w|0)>=(_|0))pe();o=s;r=s+4|0;d[r>>2]=e;if(!(Mo(2044,r)|0))i=0;else{n=(go(2044,r)|0)+212|0;a=(t|0)!=0;Rs(d[n>>2]|0,a&1)|0;d[o>>2]=a?6615:6619;Ha(1,6624,o);i=t}w=s;return i|0}function Jo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0,p=0;p=w;w=w+16|0;n=p|0;a=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;s=r>>31|((r|0)<0?-1:0)<<1;l=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;c=_u(a^e,o^t,a,o)|0;u=H;bn(c,u,_u(s^i,l^r,s,l)|0,H,n)|0;f=_u(d[n>>2]^a,d[n+4>>2]^o,a,o)|0;h=H;w=p;return(H=h,f)|0}function Zo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0;c=w;w=w+32|0;if((w|0)>=(_|0))pe();l=c+16|0;s=c;if(!(fa(16733,f[t>>0]|0,4)|0)){r=Ju()|0;d[r>>2]=22;i=0}else{n=wl(t)|0|32768;d[s>>2]=e;d[s+4>>2]=n;d[s+8>>2]=438;a=Pu(Xt(5,s|0)|0)|0;if((a|0)<0)i=0;else{o=pa(a,t)|0;if(!o){d[l>>2]=a;$t(6,l|0)|0;i=0}else i=o}}w=c;return i|0}function Ko(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;u=w;w=w+256|0;if((w|0)>=(_|0))pe();c=u;e:do{if((i|0)>=2){n=t+(i<<2)|0;d[n>>2]=c;if(e){r=e;o=c;while(1){a=r>>>0>256?256:r;il(o|0,d[t>>2]|0,a|0)|0;l=0;do{s=t+(l<<2)|0;l=l+1|0;il(d[s>>2]|0,d[t+(l<<2)>>2]|0,a|0)|0;d[s>>2]=(d[s>>2]|0)+a}while((l|0)!=(i|0));if((r|0)==(a|0))break e;r=r-a|0;o=d[n>>2]|0}}}}while(0);w=u;return}function Qo(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();n=a;i=a+4|0;d[i>>2]=e;if(Mo(2044,i)|0){r=go(2044,i)|0;if(t>>>0<=255)if(!(uu(d[r+212>>2]|0,t)|0)){d[n>>2]=t;Ha(1,6568,n)}}w=a;return}function $o(e,t){e=+e;t=t|0;var i=0,r=0.0,n=0,a=0,o=0,s=0,l=0,c=0.0,u=0,f=0.0;if((t|0)>1023){r=e*8988465674311579538646525.0e283;s=t+-1023|0;if((s|0)>1023){l=t+-2046|0;i=(l|0)>1023?1023:l;f=r*8988465674311579538646525.0e283}else{i=s;f=r}}else if((t|0)<-1022){c=e*2.2250738585072014e-308;u=t+1022|0;if((u|0)<-1022){n=t+2044|0;i=(n|0)<-1022?-1022:n;f=c*2.2250738585072014e-308}else{i=u;f=c}}else{i=t;f=e}a=eu(i+1023|0,0,52)|0;o=H;d[x>>2]=a;d[x+4>>2]=o;return+(f*+y[x>>3])}function es(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0;do{if(!e)r=1;else{if(t>>>0<128){f[e>>0]=t;r=1;break}if(t>>>0<2048){f[e>>0]=t>>>6|192;f[e+1>>0]=t&63|128;r=2;break}if(t>>>0<55296|(t&-8192|0)==57344){f[e>>0]=t>>>12|224;f[e+1>>0]=t>>>6&63|128;f[e+2>>0]=t&63|128;r=3;break}if((t+-65536|0)>>>0<1048576){f[e>>0]=t>>>18|240;f[e+1>>0]=t>>>12&63|128;f[e+2>>0]=t>>>6&63|128;f[e+3>>0]=t&63|128;r=4;break}else{n=Ju()|0;d[n>>2]=84;r=-1;break}}}while(0);return r|0}function ts(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();t=a+4|0;n=a;d[t>>2]=e;if(!(Mo(2044,t)|0)){w=a;return-1}else{i=(go(2044,t)|0)+212|0;r=($c(d[i>>2]|0,n)|0)==0;w=a;return(r?d[n>>2]|0:-1)|0}return 0}function is(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;f[e>>0]=16;i=t;a=i;o=p[a>>0]|p[a+1>>0]<<8|p[a+2>>0]<<16|p[a+3>>0]<<24;s=i+4|0;l=p[s>>0]|p[s+1>>0]<<8|p[s+2>>0]<<16|p[s+3>>0]<<24;c=e+1|0;u=c;f[u>>0]=o;f[u+1>>0]=o>>8;f[u+2>>0]=o>>16;f[u+3>>0]=o>>24;r=c+4|0;f[r>>0]=l;f[r+1>>0]=l>>8;f[r+2>>0]=l>>16;f[r+3>>0]=l>>24;f[e+9>>0]=0;n=e+12|0;d[n>>2]=0;d[n+4>>2]=0;d[n+8>>2]=0;return}function rs(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();t=a+4|0;n=a;d[t>>2]=e;if(!(Mo(2044,t)|0)){w=a;return-1}else{i=(go(2044,t)|0)+212|0;r=(Tu(d[i>>2]|0,n)|0)==0;w=a;return(r?d[n>>2]|0:-1)|0}return 0}function ns(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0,h=0;i=d[e>>2]|0;r=e+4|0;f=t+4|0;h=(d[r>>2]|0)-i|0;n=(d[f>>2]|0)+(0-(h>>3)<<3)|0;d[f>>2]=n;il(n|0,i|0,h|0)|0;a=d[e>>2]|0;d[e>>2]=d[f>>2];d[f>>2]=a;o=t+8|0;s=d[r>>2]|0;d[r>>2]=d[o>>2];d[o>>2]=s;l=e+8|0;c=t+12|0;u=d[l>>2]|0;d[l>>2]=d[c>>2];d[c>>2]=u;d[t>>2]=d[f>>2];return}function as(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();n=a;i=a+4|0;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+212|0;if(!(pu(d[r>>2]|0,t)|0)){d[n>>2]=t;Ha(1,6477,n)}}w=a;return}function os(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();t=a+4|0;n=a;d[t>>2]=e;if(!(Mo(2044,t)|0)){w=a;return-1}else{i=(go(2044,t)|0)+212|0;r=(fu(d[i>>2]|0,n)|0)==0;w=a;return(r?d[n>>2]|0:-1)|0}return 0}function ss(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;r=d[e+4>>2]|0;if((r|0)==(d[t+4>>2]|0)){c=d[e+8>>2]|0;if((c|0)==(d[t+8>>2]|0))if((r|0)>0){n=(c|0)>0;f=0;do{a=fe(c,f)|0;if(n){o=d[t>>2]|0;s=d[e>>2]|0;u=0;do{l=a+u|0;y[s+(l<<3)>>3]=+y[o+(l<<3)>>3];u=u+1|0}while((u|0)<(c|0))}f=f+1|0}while((f|0)<(r|0));i=0}else i=0;else i=-1}else i=-1;return i|0}function ls(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();n=a;i=a+4|0;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+212|0;if(!(io(d[r>>2]|0,t)|0)){d[n>>2]=t;Ha(1,6589,n)}}w=a;return}function cs(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;o=w;w=w+16|0;if((w|0)>=(_|0))pe();t=o+8|0;a=o;d[t>>2]=e;if(Mo(2044,t)|0){i=(go(2044,t)|0)+212|0;r=d[i>>2]|0;if(r){n=(du(r,a)|0)==0;w=o;return+(n?+y[a>>3]:-1.0)}}w=o;return-1.0}function us(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();n=a;i=a+4|0;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+212|0;if(!(gu(d[r>>2]|0,t)|0)){d[n>>2]=t;Ha(1,6646,n)}}w=a;return}function fs(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();n=a;i=a+4|0;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+212|0;if(!(yu(d[r>>2]|0,t)|0)){d[n>>2]=t;Ha(1,6543,n)}}w=a;return}function hs(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();t=a+4|0;n=a;d[t>>2]=e;if(!(Mo(2044,t)|0)){w=a;return-1}else{i=(go(2044,t)|0)+212|0;r=(au(d[i>>2]|0,n)|0)==0;w=a;return(r?d[n>>2]|0:-1)|0}return 0}function ds(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0,h=0,p=0,m=0;d[i>>2]=0;if((e|0)==(t|0))a=e;else{o=f[e>>0]|0;if(o<<24>>24==114){d[i>>2]=4;c=e+1|0;r=c;u=f[c>>0]|0;p=4}else{r=e;u=o;p=0}if(u<<24>>24==86){h=p|2;d[i>>2]=h;m=r+1|0;n=m;s=f[m>>0]|0;l=h}else{n=r;s=u;l=p}if(s<<24>>24==75){d[i>>2]=l|1;a=n+1|0}else a=n}return a|0}function ps(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();t=a+4|0;n=a;d[t>>2]=e;if(!(Mo(2044,t)|0)){w=a;return-1}else{i=(go(2044,t)|0)+212|0;r=(Eu(d[i>>2]|0,n)|0)==0;w=a;return(r?d[n>>2]|0:-1)|0}return 0}function ms(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0;r=0;while(1){if((p[14566+r>>0]|0)==(e|0)){n=r;c=2;break}r=r+1|0;if((r|0)==87){a=87;s=14654;c=5;break}}if((c|0)==2)if(!n)o=14654;else{a=n;s=14654;c=5}if((c|0)==5)while(1){c=0;l=s;while(1){i=l+1|0;if(!(f[l>>0]|0)){t=i;break}else l=i}a=a+-1|0;if(!a){o=t;break}else{s=t;c=5}}return o|0}function vs(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;s=d[i>>2]|0;n=e;f=t-e>>2;e:while(1){c=f;while(1){if(!c){a=n;break e}l=(c|0)/2|0;if((d[n+(l<<2)>>2]|0)>>>0<s>>>0){o=l;u=c;break}else c=l}n=n+(o+1<<2)|0;f=u+-1-o|0}return a|0}function gs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;n=Uo(t)|0;a=f[i>>0]|0;r=(a&1)==0?(a&255)>>>1:d[i+4>>2]|0;Ys(e,t,n,r+n|0);Go(e,(f[i>>0]&1)==0?i+1|0:d[i+8>>2]|0,r)|0;return}function ys(e,t){e=+e;t=t|0;var i=0.0,r=0.0,n=0,a=0,o=0,s=0,l=0.0,c=0;y[x>>3]=e;n=d[x>>2]|0;a=d[x+4>>2]|0;o=ru(n|0,a|0,52)|0;s=o&2047;switch(s|0){case 0:{if(e!=0.0){l=+ys(e*18446744073709551616.0,t);r=l;c=(d[t>>2]|0)+-64|0}else{r=e;c=0}d[t>>2]=c;i=r;break}case 2047:{i=e;break}default:{d[t>>2]=s+-1022;d[x>>2]=n;d[x+4>>2]=a&-2146435073|1071644672;i=+y[x>>3]}}return+i}function bs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0;if((i|0)==1)n=t-(d[e+8>>2]|0)+(d[e+4>>2]|0)|0;else n=t;o=e+20|0;a=e+28|0;if((d[o>>2]|0)>>>0>(d[a>>2]|0)>>>0){Hh[d[e+36>>2]&15](e,0,0)|0;if(!(d[o>>2]|0))r=-1;else s=5}else s=5;if((s|0)==5){d[e+16>>2]=0;d[a>>2]=0;d[o>>2]=0;if((Hh[d[e+40>>2]&15](e,n,i)|0)<0)r=-1;else{d[e+8>>2]=0;d[e+4>>2]=0;d[e>>2]=d[e>>2]&-17;r=0}}return r|0}function ws(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;n=f[t>>0]|0;a=(n&1)==0;o=a?(n&255)>>>1:d[t+4>>2]|0;r=Uo(i)|0;Ys(e,a?t+1|0:d[t+8>>2]|0,o,o+r|0);Go(e,i,r)|0;return}function _s(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0.0,a=0.0,o=0.0,s=0.0,l=0.0;n=+y[i>>3];o=+y[i+8>>3];l=+y[i+16>>3];a=+y[t+88>>3]+(n*+y[t+64>>3]+o*+y[t+72>>3]+l*+y[t+80>>3]);if(a==0.0)r=-1;else{s=+y[t+56>>3]+(n*+y[t+32>>3]+o*+y[t+40>>3]+l*+y[t+48>>3]);y[e>>3]=(+y[t+24>>3]+(n*+y[t>>3]+o*+y[t+8>>3]+l*+y[t+16>>3]))/a;y[e+8>>3]=s/a;r=0}return r|0}function xs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;d[e>>2]=0;r=e+4|0;d[r>>2]=0;n=d[i>>2]|0;d[e+8>>2]=0;d[e+12>>2]=n;a=wc(n,24)|0;d[r>>2]=a;d[e>>2]=a;d[e+8>>2]=a+24;Dl(a,t);Dl(a+12|0,t+12|0);d[r>>2]=(d[r>>2]|0)+24;return}function Es(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();i=a+4|0;n=a;d[i>>2]=e;if(!(Mo(2044,i)|0))t=-1;else{r=(go(2044,i)|0)+212|0;iu(d[r>>2]|0,n)|0;t=d[n>>2]|0}w=a;return t|0}function Ms(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0;e:do{if((e|0)==(t|0))r=e;else{n=(f[e>>0]|0)==110?e+1|0:e;if((n|0)==(t|0))r=e;else{a=f[n>>0]|0;if(a<<24>>24==48){r=n+1|0;break}if((a+-49&255)<9){o=n;while(1){i=o+1|0;if((i|0)==(t|0)){r=t;break e}if(((f[i>>0]|0)+-48|0)>>>0<10)o=i;else{r=i;break}}}else r=e}}}while(0);return r|0}function Ss(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;t=d[e+4>>2]|0;i=e+8|0;r=d[i>>2]|0;if((r|0)!=(t|0)){a=r;do{n=a+-16|0;d[i>>2]=n;Os(n);a=d[i>>2]|0}while((a|0)!=(t|0))}o=d[e>>2]|0;if(o)Pc(d[d[e+16>>2]>>2]|0,o,(d[e+12>>2]|0)-o|0);return}function Ts(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;t=d[e>>2]|0;if(t){i=e+4|0;r=d[i>>2]|0;if((r|0)!=(t|0)){a=r;do{n=a+-16|0;d[i>>2]=n;Os(n);a=d[i>>2]|0}while((a|0)!=(t|0))}o=d[e>>2]|0;Pc(d[e+12>>2]|0,o,(d[e+8>>2]|0)-o|0)}return}function ks(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();i=a+4|0;n=a;d[i>>2]=e;if(!(Mo(2044,i)|0))t=0;else{r=(go(2044,i)|0)+212|0;mu(d[r>>2]|0,n)|0;t=d[n>>2]|0}w=a;return t|0}function As(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;if(!e){s=xi(t)|0;return s|0}if(t>>>0>4294967231){a=Ju()|0;d[a>>2]=12;s=0;return s|0}o=On(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(o){s=o+8|0;return s|0}i=xi(t)|0;if(!i){s=0;return s|0}r=d[e+-4>>2]|0;n=(r&-8)-((r&3|0)==0?8:4)|0;il(i|0,e|0,(n>>>0<t>>>0?n:t)|0)|0;cn(e);s=i;return s|0}function Rs(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0;o=w;w=w+16|0;if((w|0)>=(_|0))pe();a=o;do{if(!e)i=-1;else if((d[e>>2]|0)==(t|0))i=0;else{d[e>>2]=t;if(!t){n=e+4834148|0;cn(d[n>>2]|0);d[n>>2]=0;i=0;break}r=xi(fe(d[e+40>>2]|0,d[e+36>>2]|0)|0)|0;d[e+4834148>>2]=r;if(!r){Ha(3,5471,a);Wt(1)}else i=0}}while(0);w=o;return i|0}function Ls(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;u=w;w=w+16|0;if((w|0)>=(_|0))pe();c=u;n=xi(240)|0;do{if(!n)r=-1;else{d[c>>2]=d[i>>2];o=so(n,240,t,c)|0;if(o>>>0<240){s=As(n,o+1|0)|0;d[e>>2]=(s|0)!=0?s:n;r=o;break}cn(n);if((o|0)<0)r=-1;else{l=o+1|0;a=xi(l)|0;d[e>>2]=a;if(!a)r=-1;else r=so(a,l,t,i)|0}}}while(0);w=u;return r|0}function Ps(e){e=e|0;var t=0,i=0,r=0;i=xi(136)|0;if(!i)t=0;else{r=0;do{y[i+(r<<5)>>3]=+y[e+(r<<5)>>3];y[i+(r<<5)+8>>3]=+y[e+(r<<5)+8>>3];y[i+(r<<5)+16>>3]=+y[e+(r<<5)+16>>3];y[i+(r<<5)+24>>3]=+y[e+(r<<5)+24>>3];r=r+1|0}while((r|0)!=3);d[i+96>>2]=10;y[i+104>>3]=.10000000149011612;y[i+112>>3]=.9900000095367432;y[i+120>>3]=4.0;y[i+128>>3]=.5;t=i}return t|0}function Cs(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;t=d[e+4>>2]|0;i=e+8|0;r=d[i>>2]|0;if((r|0)!=(t|0)){a=r;do{n=a+-16|0;d[i>>2]=n;ol(n);a=d[i>>2]|0}while((a|0)!=(t|0))}o=d[e>>2]|0;if(o)Pc(d[d[e+16>>2]>>2]|0,o,(d[e+12>>2]|0)-o|0);return}function Os(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;t=d[e>>2]|0;if(t){i=e+4|0;r=d[i>>2]|0;if((r|0)!=(t|0)){a=r;do{n=a+-16|0;d[i>>2]=n;ol(n);a=d[i>>2]|0}while((a|0)!=(t|0))}o=d[e>>2]|0;Pc(d[e+12>>2]|0,o,(d[e+8>>2]|0)-o|0)}return}function Is(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;var o=0,s=0,l=0,c=0;o=d[e+4>>2]|0;s=o>>8;if(!(o&1))c=s;else c=d[(d[r>>2]|0)+s>>2]|0;l=d[e>>2]|0;ed[d[(d[l>>2]|0)+20>>2]&3](l,t,i,r+c|0,(o&2|0)!=0?n:2,a);return}function Ns(e,t){e=e|0;t=+t;var i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+232|0;y[r>>3]=t}w=n;return}function Ds(e){e=e|0;var t=0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(!(Mo(2044,i)|0))t=d[522]|0;else{r=go(2044,i)|0;t=Pi(d[r+212>>2]|0,d[r+196>>2]|0)|0}w=n;return t|0}function Fs(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0;n=t+16|0;a=d[n>>2]|0;do{if(!a){d[n>>2]=i;d[t+24>>2]=r;d[t+36>>2]=1}else{if((a|0)!=(i|0)){s=t+36|0;d[s>>2]=(d[s>>2]|0)+1;d[t+24>>2]=2;f[t+54>>0]=1;break}o=t+24|0;if((d[o>>2]|0)==2)d[o>>2]=r}}while(0);return}function Bs(e,t){e=e|0;t=+t;var i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+240|0;y[r>>3]=t}w=n;return}function Us(e,t,i,r,n){e=e|0;t=+t;i=+i;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0;c=(d[e+16>>2]|0)+~~(t+.5)|0;u=(d[e+20>>2]|0)+~~(i+.5)|0;if((c|0)<0)a=-1;else{o=d[e+8>>2]|0;if((u|0)<0|(c|0)>=(o|0))a=-1;else if((u|0)<(d[e+12>>2]|0)){s=d[e+4>>2]|0;l=(fe(o,u)|0)+c<<1;d[r>>2]=d[s+(l<<2)>>2];d[n>>2]=d[s+((l|1)<<2)>>2];a=0}else a=-1}return a|0}function zs(e,t,i,r,n){e=e|0;t=+t;i=+i;r=r|0;n=n|0;var a=0,o=0,s=0,l=0,c=0,u=0;c=(d[e+16>>2]|0)+~~(t+.5)|0;u=(d[e+20>>2]|0)+~~(i+.5)|0;if((c|0)<0)a=-1;else{o=d[e+8>>2]|0;if((u|0)<0|(c|0)>=(o|0))a=-1;else if((u|0)<(d[e+12>>2]|0)){s=d[e>>2]|0;l=(fe(o,u)|0)+c<<1;d[r>>2]=d[s+(l<<2)>>2];d[n>>2]=d[s+((l|1)<<2)>>2];a=0}else a=-1}return a|0}function Hs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0;l=0;do{r=e+(l<<5)|0;n=e+(l<<5)+8|0;a=e+(l<<5)+16|0;s=0;do{y[i+(l<<5)+(s<<3)>>3]=+y[r>>3]*+y[t+(s<<3)>>3]+ +y[n>>3]*+y[t+32+(s<<3)>>3]+ +y[a>>3]*+y[t+64+(s<<3)>>3];s=s+1|0}while((s|0)!=4);o=i+(l<<5)+24|0;y[o>>3]=+y[e+(l<<5)+24>>3]+ +y[o>>3];l=l+1|0}while((l|0)!=3);return 0}function Gs(e){e=e|0;var t=0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(!(Mo(2044,i)|0))t=-1;else{r=go(2044,i)|0;t=(d[r+252>>2]|0)-(d[r+248>>2]|0)>>3}w=n;return t|0}function Vs(e){e=e|0;var t=0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(!(Mo(2044,i)|0))t=2088;else{r=(go(2044,i)|0)+212|0;t=(d[r>>2]|0)+44|0}w=n;return d[t>>2]|0}function js(e){e=e|0;var t=0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(!(Mo(2044,i)|0))t=0;else{r=(go(2044,i)|0)+212|0;t=d[(d[r>>2]|0)+4834148>>2]|0}w=n;return t|0}function Ws(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0;i=e+20|0;o=e+28|0;if((d[i>>2]|0)>>>0>(d[o>>2]|0)>>>0){Hh[d[e+36>>2]&15](e,0,0)|0;if(!(d[i>>2]|0))t=-1;else l=3}else l=3;if((l|0)==3){s=e+4|0;r=d[s>>2]|0;n=e+8|0;a=d[n>>2]|0;if(r>>>0<a>>>0)Hh[d[e+40>>2]&15](e,r-a|0,1)|0;d[e+16>>2]=0;d[o>>2]=0;d[i>>2]=0;d[n>>2]=0;d[s>>2]=0;t=0}return t|0}function Xs(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0,c=0,u=0,f=0;n=t>>31|((t|0)<0?-1:0)<<1;a=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;o=r>>31|((r|0)<0?-1:0)<<1;s=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;l=_u(n^e,a^t,n,a)|0;c=H;u=o^n;f=s^a;return _u((bn(l,c,_u(o^i,s^r,o,s)|0,H,0)|0)^u,H^f,u,f)|0}function qs(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(Mo(2044,i)|0){r=(go(2044,i)|0)+212|0;Au(d[r>>2]|0,t)|0}w=n;return}function Ys(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0;if(r>>>0>4294967279)bf(e);if(r>>>0<11){f[e>>0]=i<<1;o=e+1|0}else{n=r+16&-16;a=xi(n)|0;d[e+8>>2]=a;d[e>>2]=n|1;d[e+4>>2]=i;o=a}il(o|0,t|0,i|0)|0;f[o+i>>0]=0;return}function Js(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;var o=0;if((e|0)==(d[t+8>>2]|0))bo(0,t,i,r,n);else{o=d[e+8>>2]|0;ed[d[(d[o>>2]|0)+20>>2]&3](o,t,i,r,n,a)}return}function Zs(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0;if(!e){a=d[699]|0;if(!a)i=0;else{r=a;c=3}}else{r=e;c=3}do{if((c|0)==3){o=za(r,t)|0;s=r+o|0;if(!(f[s>>0]|0)){d[699]=0;i=0;break}n=(Za(s,t)|0)+o|0;l=r+n|0;d[699]=l;if(!(f[l>>0]|0)){d[699]=0;i=s;break}else{d[699]=r+(n+1);f[l>>0]=0;i=s;break}}}while(0);return i|0}function Ks(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var a=0,o=0,s=0,l=0;a=d[e+4>>2]|0;o=a>>8;if(!(a&1))l=o;else l=d[(d[i>>2]|0)+o>>2]|0;s=d[e>>2]|0;Gh[d[(d[s>>2]|0)+24>>2]&3](s,t,i+l|0,(a&2|0)!=0?r:2,n);return}function Qs(e){e=e|0;var t=0.0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(!(Mo(2044,i)|0))t=-1.0;else{r=(go(2044,i)|0)+232|0;t=+y[r>>3]}w=n;return+t}function $s(e){e=e|0;var t=0.0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;d[i>>2]=e;if(!(Mo(2044,i)|0))t=-1.0;else{r=(go(2044,i)|0)+240|0;t=+y[r>>3]}w=n;return+t}function el(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;i=t+12|0;r=f[i>>0]|0;a=(r&1)==0;n=Go(t,a?i+1|0:d[t+20>>2]|0,a?(r&255)>>>1:d[t+16>>2]|0)|0;d[e>>2]=d[n>>2];d[e+4>>2]=d[n+4>>2];d[e+8>>2]=d[n+8>>2];d[n>>2]=0;d[n+4>>2]=0;d[n+8>>2]=0;return}function tl(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0;if((e|0)!=0&(t|0)!=0)if((kn(e,t)|0)<0)i=-1;else{ul(e+16|0,0,1024)|0;n=d[e>>2]|0;a=fe(d[e+12>>2]|0,d[e+8>>2]|0)|0;o=n+a|0;if((a|0)>0){s=n;do{r=e+16+((p[s>>0]|0)<<2)|0;d[r>>2]=(d[r>>2]|0)+1;s=s+1|0}while(s>>>0<o>>>0);i=0}else i=0}else i=-1;return i|0}function il(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if((i|0)>=4096)return xt(e|0,t|0,i|0)|0;r=e|0;if((e&3)==(t&3)){while(e&3){if(!i)return r|0;f[e>>0]=f[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}while((i|0)>=4){d[e>>2]=d[t>>2];e=e+4|0;t=t+4|0;i=i-4|0}}while((i|0)>0){f[e>>0]=f[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}return r|0}function rl(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;i=f[e>>0]|0;if(!(i&1)){r=(i&255)>>>1;a=e+1|0}else{r=d[e+4>>2]|0;a=d[e+8>>2]|0}n=(r|0)!=0&1;t=r-n|0;if((r|0)==(n|0))o=i;else{cc(a|0,a+n|0,t|0)|0;o=f[e>>0]|0}if(!(o&1))f[e>>0]=t<<1;else d[e+4>>2]=t;f[a+t>>0]=0;return}function nl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0;o=w;w=w+32|0;if((w|0)>=(_|0))pe();a=o;n=o+20|0;d[a>>2]=d[e+60>>2];d[a+4>>2]=0;d[a+8>>2]=t;d[a+12>>2]=n;d[a+16>>2]=i;if((Pu(li(140,a|0)|0)|0)<0){d[n>>2]=-1;r=-1}else r=d[n>>2]|0;w=o;return r|0}function al(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;t=d[e+4>>2]|0;i=e+8|0;r=d[i>>2]|0;if((r|0)!=(t|0)){a=r;do{n=a+-24|0;d[i>>2]=n;Vc(n);a=d[i>>2]|0}while((a|0)!=(t|0))}o=d[e>>2]|0;if(o)Pc(d[d[e+16>>2]>>2]|0,o,(d[e+12>>2]|0)-o|0);return}function ol(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;t=d[e>>2]|0;if(t){i=e+4|0;r=d[i>>2]|0;if((r|0)!=(t|0)){a=r;do{n=a+-24|0;d[i>>2]=n;Vc(n);a=d[i>>2]|0}while((a|0)!=(t|0))}o=d[e>>2]|0;Pc(d[e+12>>2]|0,o,(d[e+8>>2]|0)-o|0)}return}function sl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;r=Hl(408)|0;d[r+8>>2]=d[i>>2];ul(r+16|0,0,392)|0;y[r+248>>3]=.0001;y[r+256>>3]=1.0e3;a=r+264|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[e>>2]=r;n=e+4|0;d[n>>2]=t+8;d[n+4>>2]=257;return}function ll(e){e=e|0;var t=0.0,i=0.0,r=0,n=0,a=0,o=0.0,s=0.0,l=0,c=0.0,u=0.0;t=+$(+ +yl(e,e));if(t!=0.0){a=d[e>>2]|0;o=+y[a>>3];c=o<0.0?-t:t;s=o+c;y[a>>3]=s;i=1.0/+$(+(s*c));r=d[e+4>>2]|0;if((r|0)>0){l=0;do{n=a+(l<<3)|0;y[n>>3]=i*+y[n>>3];l=l+1|0}while((l|0)<(r|0));u=c}else u=c}else u=t;return+-u}function cl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0;d[e+12>>2]=0;d[e+16>>2]=r;if(!t)n=0;else n=wc(d[r>>2]|0,t<<4)|0;d[e>>2]=n;a=n+(i<<4)|0;d[e+8>>2]=a;d[e+4>>2]=a;d[e+12>>2]=n+(t<<4);return}function ul(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0;r=e+i|0;if((i|0)>=20){t=t&255;o=e&3;n=t|t<<8|t<<16|t<<24;a=r&~3;if(o){o=e+4-o|0;while((e|0)<(o|0)){f[e>>0]=t;e=e+1|0}}while((e|0)<(a|0)){d[e>>2]=n;e=e+4|0}}while((e|0)<(r|0)){f[e>>0]=t;e=e+1|0}return e-i|0}function fl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;if(i>>>0>4294967279)bf(e);if(i>>>0<11){f[e>>0]=i<<1;a=e+1|0}else{r=i+16&-16;n=xi(r)|0;d[e+8>>2]=n;d[e>>2]=r|1;d[e+4>>2]=i;a=n}il(a|0,t|0,i|0)|0;f[a+i>>0]=0;return}function hl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0;n=d[e+4>>2]|0;a=n>>8;if(!(n&1))s=a;else s=d[(d[i>>2]|0)+a>>2]|0;o=d[e>>2]|0;id[d[(d[o>>2]|0)+28>>2]&3](o,t,i+s|0,(n&2|0)!=0?r:2);return}function dl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();r=a;Bc(r,i);n=td[e&15](t,r)|0;Zu(r);w=a;return n|0}function pl(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0;i=e+74|0;n=f[i>>0]|0;f[i>>0]=n+255|n;o=e+20|0;s=e+44|0;if((d[o>>2]|0)>>>0>(d[s>>2]|0)>>>0)Hh[d[e+36>>2]&15](e,0,0)|0;d[e+16>>2]=0;d[e+28>>2]=0;d[o>>2]=0;r=d[e>>2]|0;if(!(r&20)){a=d[s>>2]|0;d[e+8>>2]=a;d[e+4>>2]=a;t=0}else if(!(r&4))t=-1;else{d[e>>2]=r|32;t=-1}return t|0}function ml(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0;if((d[e+76>>2]|0)>-1){}o=(d[e>>2]&1|0)!=0;if(!o){Qt(2416);s=d[e+52>>2]|0;t=e+56|0;if(s)d[s+56>>2]=d[t>>2];i=d[t>>2]|0;if(i)d[i+52>>2]=s;if((d[603]|0)==(e|0))d[603]=i;Ht(2416)}r=Do(e)|0;n=Jh[d[e+12>>2]&31](e)|0|r;a=d[e+92>>2]|0;if(a)cn(a);if(!o)cn(e);return n|0}function vl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0;d[e+12>>2]=0;d[e+16>>2]=r;if(!t)n=0;else n=wc(d[r>>2]|0,t<<4)|0;d[e>>2]=n;a=n+(i<<4)|0;d[e+8>>2]=a;d[e+4>>2]=a;d[e+12>>2]=n+(t<<4);return}function gl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;if(i>>>0>4294967279)bf(e);if(i>>>0<11){f[e>>0]=i<<1;a=e+1|0}else{r=i+16&-16;n=Hl(r)|0;d[e+8>>2]=n;d[e>>2]=r|1;d[e+4>>2]=i;a=n}il(a|0,t|0,i|0)|0;f[a+i>>0]=0;return}function yl(e,t){e=e|0;t=t|0;var i=0,r=0.0,n=0,a=0,o=0,s=0.0,l=0.0;i=d[e+4>>2]|0;if((i|0)!=(d[t+4>>2]|0))Wt(0);if((i|0)>0){n=d[e>>2]|0;a=d[t>>2]|0;o=0;l=0.0;while(1){r=l+ +y[n+(o<<3)>>3]*+y[a+(o<<3)>>3];o=o+1|0;if((o|0)>=(i|0)){s=r;break}else l=r}}else s=0.0;return+s}function bl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0,u=0;e:do{if(!i)s=0;else{r=i;c=e;u=t;while(1){o=f[c>>0]|0;l=f[u>>0]|0;if(o<<24>>24!=l<<24>>24){n=o;a=l;break}r=r+-1|0;if(!r){s=0;break e}else{c=c+1|0;u=u+1|0}}s=(n&255)-(a&255)|0}}while(0);return s|0}function wl(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0,l=0,c=0;t=(tf(e,43)|0)==0;i=f[e>>0]|0;a=t?i<<24>>24!=114&1:2;r=(tf(e,120)|0)==0;o=r?a:a|128;n=(tf(e,101)|0)==0;s=n?o:o|524288;l=i<<24>>24==114?s:s|64;c=i<<24>>24==119?l|512:l;return(i<<24>>24==97?c|1024:c)|0}function _l(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0;d[e+12>>2]=0;d[e+16>>2]=r;if(!t)n=0;else n=wc(d[r>>2]|0,t*24|0)|0;d[e>>2]=n;a=n+(i*24|0)|0;d[e+8>>2]=a;d[e+4>>2]=a;d[e+12>>2]=n+(t*24|0);return}function xl(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;Bc(i,t);r=Jh[e&31](i)|0;Zu(i);w=n;return r|0}function El(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0;s=e+(Uo(e)|0)|0;e:do{if(!i)r=s;else{n=i;a=t;o=s;while(1){l=f[a>>0]|0;if(!(l<<24>>24)){r=o;break e}n=n+-1|0;c=o+1|0;f[o>>0]=l;if(!n){r=c;break}else{a=a+1|0;o=c}}}}while(0);f[r>>0]=0;return e|0}function Ml(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;e:do{if(ba(e,256,t)|0)while(1){i=Uo(e)|0;t:do{if(i){n=i;while(1){n=n+-1|0;r=e+n|0;switch(f[r>>0]|0){case 13:case 10:break;default:break t}f[r>>0]=0;if(!n)break t}}}while(0);switch(f[e>>0]|0){case 0:case 35:break;default:break e}if(!(ba(e,256,t)|0))break e}}while(0);return}function Sl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0;if((e|0)==(d[t+8>>2]|0))Fs(0,t,i,r);else{n=d[e+8>>2]|0;id[d[(d[n>>2]|0)+28>>2]&3](n,t,i,r)}return}function Tl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;a=w;w=w+80|0;if((w|0)>=(_|0))pe();n=a;d[e+36>>2]=4;if(!(d[e>>2]&64)){d[n>>2]=d[e+60>>2];d[n+4>>2]=21505;d[n+8>>2]=a+12;if($e(54,n|0)|0)f[e+75>>0]=-1}r=aa(e,t,i)|0;w=a;return r|0}function kl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0;do{if((e|0)!=0&(t|0)!=0&(i|0)!=0){o=zf(t,47)|0;if(!o){f[e>>0]=0;n=e;break}a=o+((r|0)!=0&1)-t|0;if((a+1|0)>>>0>i>>>0)n=0;else{Df(e,t,a)|0;f[e+a>>0]=0;n=e}}else n=0}while(0);return n|0}function Al(e){e=e|0;var t=0;Rl(e,d[e+8>>2]|0);t=d[e>>2]|0;d[e>>2]=0;if(t)kh(t);return}function Rl(e,t){e=e|0;t=t|0;var i=0,r=0;if(t){i=t;do{r=i;i=d[i>>2]|0;ql(r+264|0);kh(r)}while((i|0)!=0)}return}function Ll(e){e=e|0;var t=0;$l(e,d[e+8>>2]|0);t=d[e>>2]|0;d[e>>2]=0;if(t)kh(t);return}function Pl(e,t){e=e|0;t=t|0;var i=0,r=0;d[e>>2]=d[t>>2];d[e+4>>2]=d[t+4>>2];d[e+8>>2]=d[t+8>>2];d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;i=e+12|0;r=t+12|0;d[i>>2]=d[r>>2];d[i+4>>2]=d[r+4>>2];d[i+8>>2]=d[r+8>>2];d[r>>2]=0;d[r+4>>2]=0;d[r+8>>2]=0;return}function Cl(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;r=tl(e,t)|0;if((r|0)<0)i=r;else{n=0;a=0;do{n=(d[e+16+(a<<2)>>2]|0)+n|0;d[e+1040+(a<<2)>>2]=n;a=a+1|0}while((a|0)!=256);i=0}return i|0}function Ol(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;f[e>>0]=8;i=e+1|0;r=p[t>>0]|p[t+1>>0]<<8|p[t+2>>0]<<16|p[t+3>>0]<<24;f[i>>0]=r;f[i+1>>0]=r>>8;f[i+2>>0]=r>>16;f[i+3>>0]=r>>24;f[e+5>>0]=0;n=e+12|0;d[n>>2]=0;d[n+4>>2]=0;d[n+8>>2]=0;return}function Il(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0;o=w;w=w+112|0;if((w|0)>=(_|0))pe();n=o;a=n;s=a+112|0;do{d[a>>2]=0;a=a+4|0}while((a|0)<(s|0));d[n+32>>2]=15;d[n+44>>2]=e;d[n+76>>2]=-1;d[n+84>>2]=e;r=Ai(n,t,i)|0;w=o;return r|0}function Nl(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0,s=0;r=d[e+4>>2]|0;n=e+8|0;i=d[n>>2]|0;if((i|0)!=(r|0)){o=i;while(1){a=o+-8|0;if((a|0)==(r|0)){t=a;break}else o=a}d[n>>2]=t}s=d[e>>2]|0;if(s)kh(s);return}function Dl(e,t){e=e|0;t=t|0;if(!(f[t>>0]&1)){d[e>>2]=d[t>>2];d[e+4>>2]=d[t+4>>2];d[e+8>>2]=d[t+8>>2]}else fl(e,d[t+8>>2]|0,d[t+4>>2]|0);return}function Fl(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;if((e|0)==(d[t+8>>2]|0))bo(0,t,i,r,n);return}function Bl(e,t){e=e|0;t=t|0;var i=0,r=0;f[e>>0]=10;i=e+1|0;f[i>>0]=f[t>>0]|0;f[i+1>>0]=f[t+1>>0]|0;f[i+2>>0]=f[t+2>>0]|0;f[i+3>>0]=f[t+3>>0]|0;f[i+4>>0]=f[t+4>>0]|0;f[e+6>>0]=0;r=e+12|0;d[r>>2]=0;d[r+4>>2]=0;d[r+8>>2]=0;return}function Ul(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0,l=0;n=fe(i,t)|0;if((d[r+76>>2]|0)>-1){l=(Ih(r)|0)==0;o=eo(e,n,r)|0;if(l)s=o;else{Oh(r);s=o}}else s=eo(e,n,r)|0;if((s|0)==(n|0))a=i;else a=(s>>>0)/(t>>>0)|0;return a|0}function zl(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0,s=0,l=0,c=0;r=e+84|0;n=d[r>>2]|0;o=i+256|0;s=fa(n,0,o)|0;l=(s|0)==0?o:s-n|0;c=l>>>0<i>>>0?l:i;il(t|0,n|0,c|0)|0;d[e+4>>2]=n+c;a=n+l|0;d[e+8>>2]=a;d[r>>2]=a;return c|0}function Hl(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;i=(e|0)==0?1:e;r=xi(i)|0;e:do{if(!r){while(1){n=jf()|0;if(!n)break;Kh[n&0]();a=xi(i)|0;if(a){t=a;break e}}o=ct(4)|0;d[o>>2]=2224;Zt(o|0,544,1)}else t=r}while(0);return t|0}function Gl(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;if(!e)n=0;else{i=fe(t,e)|0;if((t|e)>>>0>65535)n=((i>>>0)/(e>>>0)|0|0)==(t|0)?i:-1;else n=i}r=xi(n)|0;if(!r)return r|0;if(!(d[r+-4>>2]&3))return r|0;ul(r|0,0,n|0)|0;return r|0}function Vl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0,s=0;n=e;a=i;o=lc(n,a)|0;s=H;return(H=(fe(t,a)|0)+(fe(r,n)|0)+s|s&0,o|0|0)|0}function jl(e){e=e|0;Ts(e+32|0);Os(e+16|0);ol(e);return}function Wl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0;d[e+12>>2]=0;d[e+16>>2]=r;if(!t)n=0;else n=Hl(t<<3)|0;d[e>>2]=n;a=n+(i<<3)|0;d[e+8>>2]=a;d[e+4>>2]=a;d[e+12>>2]=n+(t<<3);return}function Xl(e,t){e=e|0;t=t|0;var i=0,r=0;if((e|0)!=(t|0)){i=f[t>>0]|0;r=(i&1)==0;Ho(e,r?t+1|0:d[t+8>>2]|0,r?(i&255)>>>1:d[t+4>>2]|0)}return}function ql(e){e=e|0;var t=0,i=0,r=0,n=0,a=0,o=0;r=d[e>>2]|0;if(r){n=e+4|0;i=d[n>>2]|0;if((i|0)!=(r|0)){o=i;while(1){a=o+-8|0;if((a|0)==(r|0)){t=a;break}else o=a}d[n>>2]=t}kh(r)}return}function Yl(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;f[e>>0]=20;r=e+1|0;n=t;a=r+10|0;do{f[r>>0]=f[n>>0]|0;r=r+1|0;n=n+1|0}while((r|0)<(a|0));f[e+11>>0]=0;i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Jl(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;f[e>>0]=18;r=e+1|0;n=t;a=r+9|0;do{f[r>>0]=f[n>>0]|0;r=r+1|0;n=n+1|0}while((r|0)<(a|0));f[e+10>>0]=0;i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Zl(e){e=e|0;var t=0,i=0,r=0,n=0,a=0;i=e+74|0;n=f[i>>0]|0;f[i>>0]=n+255|n;a=d[e>>2]|0;if(!(a&8)){d[e+8>>2]=0;d[e+4>>2]=0;r=d[e+44>>2]|0;d[e+28>>2]=r;d[e+20>>2]=r;d[e+16>>2]=r+(d[e+48>>2]|0);t=0}else{d[e>>2]=a|32;t=-1}return t|0}function Kl(e,t){e=e|0;t=t|0;var i=0;d[e>>2]=d[t>>2];d[e+4>>2]=d[t+4>>2];d[e+8>>2]=d[t+8>>2];d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Ql(e,t){e=e|0;t=t|0;var i=0;i=0;do{y[t+(i<<5)>>3]=+y[e+(i<<5)>>3];y[t+(i<<5)+8>>3]=+y[e+(i<<5)+8>>3];y[t+(i<<5)+16>>3]=+y[e+(i<<5)+16>>3];y[t+(i<<5)+24>>3]=+y[e+(i<<5)+24>>3];i=i+1|0}while((i|0)!=3);return}function $l(e,t){e=e|0;t=t|0;var i=0,r=0;if(t){i=t;do{r=i;i=d[i>>2]|0;kh(r)}while((i|0)!=0)}return}function ec(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0;r=Hl(200)|0;d[r+8>>2]=d[i>>2];ul(r+16|0,0,184)|0;d[e>>2]=r;n=e+4|0;d[n>>2]=t+8;d[n+4>>2]=257;return}function tc(e,t){e=e|0;t=t|0;f[t>>0]=f[e+7>>0]|0;f[t+1>>0]=f[e+6>>0]|0;f[t+2>>0]=f[e+5>>0]|0;f[t+3>>0]=f[e+4>>0]|0;f[t+4>>0]=f[e+3>>0]|0;f[t+5>>0]=f[e+2>>0]|0;f[t+6>>0]=f[e+1>>0]|0;f[t+7>>0]=f[e>>0]|0;return}function ic(e){e=e|0;f[x>>0]=f[e>>0];f[x+1>>0]=f[e+1>>0];f[x+2>>0]=f[e+2>>0];f[x+3>>0]=f[e+3>>0];f[x+4>>0]=f[e+4>>0];f[x+5>>0]=f[e+5>>0];f[x+6>>0]=f[e+6>>0];f[x+7>>0]=f[e+7>>0]}function rc(e){e=e|0;var t=0,i=0,r=0;if(!(d[e>>2]&128))i=1;else i=(d[e+20>>2]|0)>>>0>(d[e+28>>2]|0)>>>0?2:1;r=Hh[d[e+40>>2]&15](e,0,i)|0;if((r|0)<0)t=r;else t=r-(d[e+8>>2]|0)+(d[e+4>>2]|0)+(d[e+20>>2]|0)-(d[e+28>>2]|0)|0;return t|0}function nc(e){e=e|0;var t=0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=n;if(!(d[e+8>>2]|0))if(!(pl(e)|0))r=3;else t=-1;else r=3;if((r|0)==3)if((Hh[d[e+32>>2]&15](e,i,1)|0)==1)t=p[i>>0]|0;else t=-1;w=n;return t|0}function ac(e){e=e|0;var t=0,i=0,r=0,n=0;t=e+212|0;i=d[t>>2]|0;if(i){nu(i)|0;yc(d[t>>2]|0)|0;d[t>>2]=0}r=e+224|0;if(d[r>>2]|0){tu(r)|0;d[r>>2]=0}n=e+192|0;if(d[n>>2]|0){vc(n)|0;d[n>>2]=0}return}function oc(e,t){e=e|0;t=t|0;var i=0,r=0;f[e>>0]=6;i=e+1|0;f[i>>0]=f[t>>0]|0;f[i+1>>0]=f[t+1>>0]|0;f[i+2>>0]=f[t+2>>0]|0;f[e+4>>0]=0;r=e+12|0;d[r>>2]=0;d[r+4>>2]=0;d[r+8>>2]=0;return}function sc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;if((e|0)==(d[t+8>>2]|0))Fs(0,t,i,r);return}function lc(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0,o=0,s=0,l=0;i=e&65535;r=t&65535;n=fe(r,i)|0;a=e>>>16;o=(n>>>16)+(fe(r,a)|0)|0;s=t>>>16;l=fe(s,i)|0;return(H=(o>>>16)+(fe(s,a)|0)+(((o&65535)+l|0)>>>16)|0,o+l<<16|n&65535|0)|0}function cc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if((t|0)<(e|0)&(e|0)<(t+i|0)){r=e;t=t+i|0;e=e+i|0;while((i|0)>0){e=e-1|0;t=t-1|0;i=i-1|0;f[e>>0]=f[t>>0]|0}e=r}else il(e,t,i)|0;return e|0}function uc(e){e=e|0;var t=0;switch(e|0){case 1:case 0:{t=3;break}case 6:case 4:case 3:case 2:{t=4;break}case 14:case 13:case 12:case 5:{t=1;break}case 11:case 10:case 9:case 8:case 7:{t=2;break}default:t=0}return t|0}function fc(e,t){e=+e;t=+t;var i=0,r=0,n=0;y[x>>3]=e;i=d[x>>2]|0;r=d[x+4>>2]|0;y[x>>3]=t;n=d[x+4>>2]&-2147483648|r&2147483647;d[x>>2]=i;d[x+4>>2]=n;return+ +y[x>>3]}function hc(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;r=xi(12)|0;do{if(!r)i=0;else{n=xi(fe(e<<3,t)|0)|0;d[r>>2]=n;if(!n){cn(r);i=0;break}else{d[r+4>>2]=e;d[r+8>>2]=t;i=r;break}}}while(0);return i|0}function dc(e){e=e|0;var t=0,i=0,r=0,n=0;n=w;w=w+16|0;if((w|0)>=(_|0))pe();i=xi(4)|0;if(!i){Ha(3,5471,n);Wt(1)}r=Ps(e)|0;d[i>>2]=r;if(!r){cn(i);t=0}else t=i;w=n;return t|0}function pc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;if((d[e+76>>2]|0)>-1){a=(Ih(e)|0)==0;r=bs(e,t,i)|0;if(a)n=r;else{Oh(e);n=r}}else n=bs(e,t,i)|0;return n|0}function mc(){d[511]=0;d[512]=0;d[513]=0;d[514]=0;g[515]=1.0;Yt(11,2044,S|0)|0;d[516]=0;d[517]=0;d[518]=0;d[519]=0;g[520]=1.0;Yt(12,2064,S|0)|0;Bn(0);return}function vc(e){e=e|0;var t=0,i=0;if(!e)t=-1;else{i=d[e>>2]|0;if(!i)t=-1;else{cn(d[i+184>>2]|0);cn(d[(d[e>>2]|0)+188>>2]|0);cn(d[e>>2]|0);d[e>>2]=0;t=0}}return t|0}function gc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0;a=w;w=w+16|0;n=a|0;bn(e,t,i,r,n)|0;w=a;return(H=d[n+4>>2]|0,d[n>>2]|0)|0}function yc(e){e=e|0;var t=0,i=0,r=0;if(!e)t=-1;else{i=e+7062408|0;r=d[i>>2]|0;if(r){Fu(r);d[i>>2]=0}cn(d[e+4834144>>2]|0);cn(d[e+4834148>>2]|0);cn(e);t=0}return t|0}function bc(e){e=e|0;var t=0;t=f[M+(e&255)>>0]|0;if((t|0)<8)return t|0;t=f[M+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=f[M+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(f[M+(e>>>24)>>0]|0)+24|0}function wc(e,t){e=e|0;t=t|0;var i=0,r=0,n=0,a=0;r=t+15&-16;n=e+4096|0;a=d[n>>2]|0;if((e+4096-a|0)>>>0<r>>>0)i=xi(r)|0;else{d[n>>2]=a+r;i=a}return i|0}function _c(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0,a=0,o=0;o=w;w=w+16|0;if((w|0)>=(_|0))pe();a=o;d[a>>2]=r;n=so(e,t,i,a)|0;w=o;return n|0}function xc(e,t){e=e|0;t=t|0;var i=0;fl(e,t,17);i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Ec(e,t){e=e|0;t=t|0;var i=0;fl(e,t,14);i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Mc(e,t){e=e|0;t=t|0;var i=0;fl(e,t,13);i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Sc(e,t){e=e|0;t=t|0;var i=0;fl(e,t,12);i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function Tc(e,t){e=e|0;t=t|0;var i=0;fl(e,t,11);i=e+12|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;return}function kc(e){e=e|0;Al(e);return}function Ac(e,t,i){e=e|0;t=t|0;i=i|0;return Xa(e,t,i,Uo(i)|0)|0}function Rc(e,t){e=e|0;t=t|0;var i=0,r=0,n=0;d[e+104>>2]=t;i=d[e+4>>2]|0;r=d[e+8>>2]|0;n=r-i|0;d[e+108>>2]=n;if((t|0)!=0&(n|0)>(t|0))d[e+100>>2]=i+t;else d[e+100>>2]=r;return}function Lc(e){e=e|0;var t=0,i=0,r=0;r=w;w=w+16|0;if((w|0)>=(_|0))pe();i=r;d[i>>2]=d[e+60>>2];t=Pu($t(6,i|0)|0)|0;w=r;return t|0}function Pc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if(e>>>0<=t>>>0&(e+4096|0)>>>0>=t>>>0){r=e+4096|0;if((t+(i+15&-16)|0)==(d[r>>2]|0))d[r>>2]=t}else cn(t);return}function Cc(e){e=e|0;var t=0;if((d[e+76>>2]|0)>-1){t=(Ih(e)|0)==0;bs(e,0,0)|0;d[e>>2]=d[e>>2]&-33;if(!t)Oh(e)}else{bs(e,0,0)|0;d[e>>2]=d[e>>2]&-33}return}function Oc(e,t){e=e|0;t=t|0;var i=0,r=0;r=(d[e+8>>2]|0)+(t<<2)|0;if(!(d[r>>2]|0))i=-1;else{d[r>>2]=0;d[e>>2]=(d[e>>2]|0)+-1;i=1}return i|0}function Ic(e){e=e|0;Ll(e);return}function Nc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0;r=e+20|0;n=d[r>>2]|0;a=(d[e+16>>2]|0)-n|0;o=a>>>0>i>>>0?i:a;il(n|0,t|0,o|0)|0;d[r>>2]=(d[r>>2]|0)+o;return i|0}function Dc(e){e=e|0;var t=0,i=0,r=0;if((d[e+76>>2]|0)>-1){r=(Ih(e)|0)==0;t=(d[e>>2]|0)>>>5&1;if(r)i=t;else i=t}else i=(d[e>>2]|0)>>>5&1;return i|0}function Fc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0,o=0;a=t&255;n=i;while(1){if(!n){r=0;break}n=n+-1|0;o=e+n|0;if((f[o>>0]|0)==a<<24>>24){r=o;break}}return r|0}function Bc(e,t){e=e|0;t=t|0;gl(e,t+4|0,d[t>>2]|0);return}function Uc(e){e=e|0;var t=0,i=0,r=0;i=xi(8)|0;do{if(!i)t=0;else{r=xi(e<<3)|0;d[i>>2]=r;if(!r){cn(i);t=0;break}else{d[i+4>>2]=e;t=i;break}}}while(0);return t|0}function zc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,n=0,a=0;a=w;w=w+16|0;if((w|0)>=(_|0))pe();n=a;d[n>>2]=i;r=Il(e,t,n)|0;w=a;return r|0}function Hc(e,t){e=e|0;t=t|0;var i=0,r=0;if(!e)i=-1;else{r=e+7062384|0;if(!(d[r>>2]|0)){d[r>>2]=t;i=0}else i=-1}return i|0}function Gc(e,t){e=e|0;t=t|0;return Go(e,t,Uo(t)|0)|0}function Vc(e){e=e|0;Lu(e+12|0);Lu(e);return}function jc(e){e=e|0;var t=0,i=0;i=hc(d[e+8>>2]|0,d[e+4>>2]|0)|0;if(!i)t=0;else if((No(i,e)|0)<0){Wf(i)|0;t=0}else t=i;return t|0}function Wc(e){e=e|0;var t=0,i=0;i=hc(d[e+4>>2]|0,d[e+8>>2]|0)|0;if(!i)t=0;else if((ss(i,e)|0)<0){Wf(i)|0;t=0}else t=i;return t|0}function Xc(e,t){e=e|0;t=t|0;var i=0,r=0;r=hc(d[e+4>>2]|0,d[t+8>>2]|0)|0;if(!r)i=0;else if((Ba(r,e,t)|0)<0){Wf(r)|0;i=0}else i=r;return i|0}function qc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return+ +Ni(e,t,i,r,1)}function Yc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return+ +Ni(e,t,i,r,0)}function Jc(e){e=e|0;var t=0,i=0,r=0;if((d[e+76>>2]|0)>-1){r=(Ih(e)|0)==0;t=rc(e)|0;if(r)i=t;else i=t}else i=rc(e)|0;return i|0}function Zc(e,t){e=e|0;t=+t;var i=0;if(!e)i=-1;else if(t<=0.0|t>=1.0)i=-1;else{y[e+7062416>>3]=t;i=0}return i|0}function Kc(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){H=t>>i;return e>>>i|(t&(1<<i)-1)<<32-i}H=(t|0)<0?-1:0;return t>>i-32|0}function Qc(e,t){e=e|0;t=t|0;f[t>>0]=f[e+3>>0]|0;f[t+1>>0]=f[e+2>>0]|0;f[t+2>>0]=f[e+1>>0]|0;f[t+3>>0]=f[e>>0]|0;return}function $c(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&(t|0)!=0){d[t>>2]=d[e+7062388>>2];i=0}else i=-1;return i|0}function eu(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){H=t<<i|(e&(1<<i)-1<<32-i)>>>32-i;return e<<i}H=e<<i-32;return 0}function tu(e){e=e|0;var t=0,i=0;i=d[e>>2]|0;if(!i)t=-1;else{ku(i)|0;cn(d[e>>2]|0);d[e>>2]=0;t=0}return t|0}function iu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&(t|0)!=0){d[t>>2]=d[e+7062424>>2];i=0}else i=-1;return i|0}function ru(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){H=t>>>i;return e>>>i|(t&(1<<i)-1)<<32-i}H=0;return t>>>i-32|0}function nu(e){e=e|0;var t=0,i=0;if(!e)t=-1;else{i=e+7062384|0;if(!(d[i>>2]|0))t=-1;else{d[i>>2]=0;t=0}}return t|0}function au(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&(t|0)!=0){d[t>>2]=d[e+16>>2];i=0}else i=-1;return i|0}function ou(e,t){e=e|0;t=t|0;dt(e|0,3,2180,10905,12,t|0);return}function su(e){e=e|0;f[x>>0]=f[e>>0];f[x+1>>0]=f[e+1>>0];f[x+2>>0]=f[e+2>>0];f[x+3>>0]=f[e+3>>0]}function lu(e,t){e=e|0;t=t|0;dt(e|0,2,2160,10800,11,t|0);return}function cu(e,t,i,r,n,a,o){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;o=o|0;ed[e&3](t|0,i|0,r|0,n|0,a|0,o|0)}function uu(e,t){e=e|0;t=t|0;var i=0;if((e|0)==0|t>>>0>255)i=-1;else{d[e+16>>2]=t;i=0}return i|0}function fu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&(t|0)!=0){d[t>>2]=d[e+12>>2];i=0}else i=-1;return i|0}function hu(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return Hh[e&15](t,i,r)|0}function du(e,t){e=e|0;t=t|0;var i=0;if(!e)i=-1;else{y[t>>3]=+y[e+7062416>>3];i=0}return i|0}function pu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&t>>>0<5){d[e+24>>2]=t;i=0}else i=-1;return i|0}function mu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&(t|0)!=0){d[t>>2]=d[e>>2];i=0}else i=-1;return i|0}function vu(e,t){e=e|0;t=+t;var i=0;if(!e)i=-1;else{y[e+128>>3]=t;i=0}return i|0}function gu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&t>>>0<2){d[e+20>>2]=t;i=0}else i=-1;return i|0}function yu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0&t>>>0<2){d[e+12>>2]=t;i=0}else i=-1;return i|0}function bu(e,t,i){e=e|0;t=t|0;i=i|0;return(e|0)==(t|0)|0}function wu(){}function _u(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0;n=t-r>>>0;n=t-r-(i>>>0>e>>>0|0)>>>0;return(H=n,e-i>>>0|0)|0}function xu(e,t,i){e=e|0;t=t|0;i=i|0;return ho(e,t,.5,i)|0}function Eu(e,t){e=e|0;t=t|0;var i=0;if(!e)i=-1;else{d[t>>2]=d[e+24>>2];i=0}return i|0}function Mu(e){e=e|0;var t=0,i=0,r=0;i=(Uo(e)|0)+1|0;r=xi(i)|0;if(!r)t=0;else{il(r|0,e|0,i|0)|0;t=r}return t|0}function Su(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;Gh[e&3](t|0,i|0,r|0,n|0,a|0)}function Tu(e,t){e=e|0;t=t|0;var i=0;if(!e)i=-1;else{d[t>>2]=d[e+20>>2];i=0}return i|0}function ku(e){e=e|0;var t=0,i=0;i=d[e>>2]|0;if(!i)t=-1;else{cn(i);d[e>>2]=0;t=0}return t|0}function Au(e,t){e=e|0;t=t|0;var i=0;if(!e)i=-1;else{d[e+7062424>>2]=t;i=0}return i|0}function Ru(e){e=e|0;var t=0;t=w;w=w+e|0;w=w+15&-16;if((w|0)>=(_|0))pe();return t|0}function Lu(e){e=e|0;if(f[e>>0]&1)cn(d[e+8>>2]|0);return}function Pu(e){e=e|0;var t=0,i=0;if(e>>>0>4294963200){i=Ju()|0;d[i>>2]=0-e;t=-1}else t=e;return t|0}function Cu(e,t,i){e=e|0;t=t|0;i=i|0;return td[e&15](t,i)|0}function Ou(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;return $h[e&1](t|0,i|0,r|0,n|0)|0}function Iu(e,t,i){e=e|0;t=t|0;i=i|0;Yh[e&7](t,i);return}function Nu(e,t,i){e=e|0;t=t|0;i=+i;jh[e&3](t,i);return}function Du(e,t,i){e=e|0;t=t|0;i=+i;jh[e&3](t,i);return}function Fu(e){e=e|0;if(e){if(d[e+2076>>2]|0)cn(d[e>>2]|0);cn(d[e+4>>2]|0);cn(e)}return}function Bu(e,t){e=e|0;t=t|0;dt(e|0,4,2200,10910,1,t|0);return}function Uu(e,t){e=e|0;t=t|0;dt(e|0,3,2168,10905,13,t|0);return}function zu(e,t){e=e|0;t=t|0;dt(e|0,3,2116,10779,1,t|0);return}function Hu(e,t){e=e|0;t=t|0;dt(e|0,3,2104,10774,2,t|0);return}function Gu(e,t){e=e|0;t=t|0;dt(e|0,3,2136,10788,1,t|0);return}function Vu(e,t){e=e|0;t=t|0;dt(e|0,2,2192,10800,10,t|0);return}function ju(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;id[e&3](t|0,i|0,r|0,n|0)}function Wu(e,t){e=e|0;t=t|0;dt(e|0,2,2152,10796,7,t|0);return}function Xu(e,t){e=e|0;t=t|0;dt(e|0,1,2148,10793,16,t|0);return}function qu(e,t){e=e|0;t=t|0;dt(e|0,2,2128,10784,1,t|0);return}function Yu(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;cn(e);cn(t);cn(i);cn(r);return}function Ju(){var e=0,t=0;if(!(d[597]|0))e=2644;else{t=(It()|0)+60|0;e=d[t>>2]|0}return e|0}function Zu(e){e=e|0;if(f[e>>0]&1)kh(d[e+8>>2]|0);return}function Ku(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var n=0;n=e+i>>>0;return(H=t+r+(n>>>0<e>>>0|0)>>>0,n|0)|0}function Qu(e,t){e=e|0;t=t|0;vt(e|0,720,~~+y[t>>3]>>>0|0);return}function $u(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return Hh[e&15](t|0,i|0,r|0)|0}function ef(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return bn(e,t,i,r,0)|0}function tf(e,t){e=e|0;t=t|0;var i=0;i=Ka(e,t)|0;return((f[i>>0]|0)==(t&255)<<24>>24?i:0)|0}function rf(e,t){e=e|0;t=t|0;vt(e|0,680,d[t>>2]|0);return}function nf(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;Zh[e&1](t|0,i|0,r|0)}function af(e,t){e=e|0;t=t|0;return Jh[e&31](t)|0}function of(e,t){e=e|0;t=t|0;return+ +Wh[e&3](t)}function sf(e,t){e=e|0;t=t|0;qh[e&15](t);return}function lf(e,t){e=e|0;t=t|0;var i=0.0;i=+y[e>>3]-+y[t>>3];return(i<0.0?-1:i>0.0&1)|0}function cf(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;Qh[e&3](t|0,i|0,+r)}function uf(e){e=e|0;var t=0;if((e+-48|0)>>>0<10)t=1;else t=((e|32)+-97|0)>>>0<6;return t&1|0}function ff(e,t){e=e|0;t=t|0;w=e;_=t}function hf(e){e=e|0;et(512,3,e|0);return}function df(e){e=e|0;et(520,2,e|0);return}function pf(e){e=e|0;et(496,5,e|0);return}function mf(e){e=e|0;et(504,4,e|0);return}function vf(e){e=e|0;et(528,1,e|0);return}function gf(e){e=e|0;et(536,0,e|0);return}function yf(e){e=e|0;st(14126,12515,1175,14155)}function bf(e){e=e|0;st(12486,12515,1164,12450)}function wf(e,t,i){e=e|0;t=t|0;i=i|0;return td[e&15](t|0,i|0)|0}function _f(e,t,i,r,n,a){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;a=a|0;Re(13)}function xf(e,t){e=e|0;t=t|0;var i=0;if(!e)i=0;else i=es(e,t,0)|0;return i|0}function Ef(e){e=e|0;st(12352,12375,303,12450)}function Mf(e,t,i){e=e|0;t=t|0;i=i|0;return+Vh[e&1](t|0,i|0)}function Sf(e,t){e=e|0;t=t|0;if(!T){T=e;k=t}}function Tf(e,t,i){e=e|0;t=t|0;i=i|0;return pc(e,t,i)|0}function kf(e,t,i){e=e|0;t=t|0;i=i|0;Yh[e&7](t|0,i|0)}function Af(e){e=e|0;var t=0;if(!e)t=1;else t=(d[e>>2]|0)==0;return t&1|0}function Rf(e,t,i){e=e|0;t=t|0;i=i|0;return zl(e,t,i)|0}function Lf(e,t,i){e=e|0;t=t|0;i=+i;jh[e&3](t|0,+i)}function Pf(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;ge(1)}function Cf(e){e=e|0;cn(d[e>>2]|0);cn(e);return 0}function Of(e){e=e|0;return Xh[e&1]()|0}function If(e,t){e=e|0;t=t|0;cn(e);cn(t);return}function Nf(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;Ae(12);return 0}function Df(e,t,i){e=e|0;t=t|0;i=i|0;na(e,t,i)|0;return e|0}function Ff(e,t){e=e|0;t=t|0;return Jh[e&31](t|0)|0}function Bf(e,t){e=e|0;t=t|0;Ra(e,t)|0;return e|0}function Uf(){Ta(0);return}function zf(e,t){e=e|0;t=t|0;return Fc(e,t,(Uo(e)|0)+1|0)|0}function Hf(e){e=e|0;return dc(e+8|0)|0}function Gf(e,t){e=e|0;t=t|0;return+Wh[e&3](t|0)}function Vf(e,t){e=e|0;t=t|0;return(Ul(e,Uo(e)|0,1,t)|0)+-1|0}function jf(){var e=0;e=d[559]|0;d[559]=e+0;return e|0}function Wf(e){e=e|0;if(e){cn(d[e>>2]|0);cn(e)}return 0}function Xf(e){e=e|0;kh(e);return}function qf(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;Pe(15)}function Yf(e){e=e|0;kh(e);return}function Jf(e,t){e=e|0;t=t|0;qh[e&15](t|0)}function Zf(e){e=e|0;kh(e);return}function Kf(e){e=e|0;kh(e);return}function Qf(e){e=e|0;if(!(d[e+68>>2]|0))Oh(e);return}function $f(e){e=e|0;if(!(d[e+68>>2]|0))Oh(e);return}function eh(e,t,i){e=e|0;t=t|0;i=i|0;ve(0);return 0}function th(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function ih(e){e=e|0;return Mu(d[e+4>>2]|0)|0}function rh(e){e=e|0;cn(d[e>>2]|0);cn(e);return 0}function nh(e){e=e|0;return Xh[e&1]()|0}function ah(e){e=e|0;return}function oh(e){e=e|0;return}function sh(e,t,i){e=e|0;t=t|0;i=i|0;Se(9)}function lh(e,t,i){e=e|0;t=t|0;i=+i;ke(11)}function ch(e){e=e|0;d[496]=e;return}function uh(e){e=e|0;return}function fh(e){e=e|0;kh(e);return}function hh(e,t){e=+e;t=+t;return+ +fc(e,t)}function dh(e,t){e=+e;t=t|0;return+ +$o(e,t)}function ph(e,t){e=e|0;t=t|0;ye(2);return 0.0}function mh(e,t){e=e|0;t=t|0;Le(14);return 0}function vh(e){e=e|0;Kh[e&0]()}function gh(e,t){e=+e;t=t|0;return+ +ys(e,t)}function yh(e){e=e|0;return 12471}function bh(e){e=e|0;return(e+-65|0)>>>0<26|0}function wh(e,t){e=+e;t=+t;return+ +Fn(e,t)}function _h(){return sa(16,50)|0}function xh(e){e=e|0;H=e}function Eh(e,t){e=e|0;t=t|0;Ee(7)}function Mh(e){e=e|0;return}function Sh(e){e=e|0;return}function Th(e){e=e|0;return}function kh(e){e=e|0;cn(e);return}function Ah(e,t){e=e|0;t=+t;be(3)}function Rh(e){e=e|0;return Jc(e)|0}function Lh(e){e=e|0;w=e}function Ph(e){e=e|0;we(4);return 0.0}function Ch(e){e=e|0;Me(8);return 0}function Oh(e){e=e|0;return}function Ih(e){e=e|0;return 0}function Nh(){return d[496]|0}function Dh(e){e=e|0;xe(6)}function Fh(){return H|0}function Bh(){return w|0}function Uh(){_e(5);return 0}function zh(){Te(10)}var Hh=[eh,bu,Ao,Nc,aa,nl,Tl,_o,zo,Io,Lo,Va,dl,Cu,Ia,Rf];var Gh=[Pf,Ro,ya,Rn];var Vh=[ph,of];var jh=[Ah,Ns,Bs,qo];var Wh=[Ph,Qs,$s,cs];var Xh=[Uh,Nh];var qh=[Dh,Th,fh,uh,Xf,oh,ah,Kf,Zf,Yf,ch,kc,Ic,$f,Qf,Dh];var Yh=[Eh,ls,Qo,as,qs,fs,us,sf];var Jh=[Ch,yh,Lc,Da,Gs,jo,Ds,Vs,ks,js,ts,hs,ps,Es,os,rs,Of,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch,Ch];var Zh=[sh,Iu];var Kh=[zh];var Qh=[lh,Du,Nu,lh];var $h=[Nf,hu];var ed=[_f,Fl,Js,Na];var td=[mh,lf,co,ma,Wo,Oa,po,fo,ha,Yo,af,xl,mh,mh,mh,mh];var id=[qf,sc,Sl,Fo];return{_malloc:xi,_i64Subtract:_u,_fflush:Do,_i64Add:Ku,_memmove:cc,_memset:ul,___cxa_demangle:Dn,_memcpy:il,___getTypeName:ih,_bitshift64Lshr:ru,_free:cn,___errno_location:Ju,_bitshift64Shl:eu,__GLOBAL__sub_I_ARToolKitJS_cpp:mc,__GLOBAL__sub_I_bind_cpp:Uf,runPostSets:wu,_emscripten_replace_memory:vi,stackAlloc:Ru,stackSave:Bh,stackRestore:Lh,establishStackSpace:ff,setThrew:Sf,setTempRet0:xh,getTempRet0:Fh,dynCall_iiii:$u,dynCall_viiiii:Su,dynCall_dii:Mf,dynCall_vid:Lf,dynCall_di:Gf,dynCall_i:nh,dynCall_vi:Jf,dynCall_vii:kf,dynCall_ii:Ff,dynCall_viii:nf,dynCall_v:vh,dynCall_viid:cf,dynCall_iiiii:Ou,dynCall_viiiiii:cu,dynCall_iii:wf,dynCall_viiii:ju}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),real____cxa_demangle=asm.___cxa_demangle;asm.___cxa_demangle=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real____cxa_demangle.apply(null,arguments)};var real__i64Subtract=asm._i64Subtract;asm._i64Subtract=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__i64Subtract.apply(null,arguments)};var real___GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp;asm.__GLOBAL__sub_I_bind_cpp=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real___GLOBAL__sub_I_bind_cpp.apply(null,arguments)};var real__fflush=asm._fflush;asm._fflush=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__fflush.apply(null,arguments)};var real___GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp;asm.__GLOBAL__sub_I_ARToolKitJS_cpp=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real___GLOBAL__sub_I_ARToolKitJS_cpp.apply(null,arguments)};var real__i64Add=asm._i64Add;asm._i64Add=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__i64Add.apply(null,arguments)};var real__memmove=asm._memmove;asm._memmove=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__memmove.apply(null,arguments)};var real__malloc=asm._malloc;asm._malloc=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__malloc.apply(null,arguments)};var real____getTypeName=asm.___getTypeName;asm.___getTypeName=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real____getTypeName.apply(null,arguments)};var real__bitshift64Lshr=asm._bitshift64Lshr;asm._bitshift64Lshr=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__bitshift64Lshr.apply(null,arguments)};var real__free=asm._free;asm._free=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__free.apply(null,arguments)};var real____errno_location=asm.___errno_location;asm.___errno_location=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real____errno_location.apply(null,arguments)};var real__bitshift64Shl=asm._bitshift64Shl;asm._bitshift64Shl=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__bitshift64Shl.apply(null,arguments)};var ___cxa_demangle=Module.___cxa_demangle=asm.___cxa_demangle,_i64Subtract=Module._i64Subtract=asm._i64Subtract,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,_fflush=Module._fflush=asm._fflush,__GLOBAL__sub_I_ARToolKitJS_cpp=Module.__GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp,_i64Add=Module._i64Add=asm._i64Add,_memmove=Module._memmove=asm._memmove,_memset=Module._memset=asm._memset,runPostSets=Module.runPostSets=asm.runPostSets,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,___getTypeName=Module.___getTypeName=asm.___getTypeName,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_free=Module._free=asm._free,_emscripten_replace_memory=Module._emscripten_replace_memory=asm._emscripten_replace_memory,___errno_location=Module.___errno_location=asm.___errno_location,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),ENVIRONMENT_IS_WEB&&null!==preloadStartTime&&Module.printErr("pre-main prep time: "+(Date.now()-preloadStartTime)+" ms"),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0?Module.printErr("run() called, but dependencies remain, so not running"):(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime?Module.printErr("exit("+e+") called, but noExitRuntime, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)"):(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e);Module.printErr("exit("+e+") implicitly called by end of main(), but noExitRuntime, so not exiting the runtime (you can use emscripten_force_exit, if you want to force a true shutdown)")}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var t=e.length+1;function i(){for(var e=0;e<3;e++)r.push(0)}var r=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];i();for(var n=0;n<t-1;n+=1)r.push(allocate(intArrayFromString(e[n]),"i8",ALLOC_NORMAL)),i();r.push(0),r=allocate(r,"i32",ALLOC_NORMAL);try{exit(Module._main(t,r,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort("+e+") at "+stackTrace();throw abortDecorators&&abortDecorators.forEach(function(i){t=i(t,e)}),t}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),exports.FS=FS,exports.Module=Module}).call(this,"/")},function(e,t){e.exports=require("crypto")},function(e,t,i){var r,n;r=function(){ARController.getUserMediaThreeScene=function(e){var t={};for(var i in e)t[i]=e[i];var r=e.onSuccess;return t.onSuccess=function(e,t){var i=e.createThreeScene();r(i,e,t)},this.getUserMediaARController(t)},ARController.prototype.createThreeScene=function(e){e=e||this.image,this.setupThree();var t=new THREE.Texture(e);t.minFilter=THREE.LinearFilter,t.flipY=!1;var i=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide}));i.material.depthTest=!1,i.material.depthWrite=!1;var r=new THREE.OrthographicCamera(-1,1,-1,1,-1,1),n=new THREE.Scene;n.add(i),n.add(r),"portrait"===this.orientation&&(i.rotation.z=Math.PI/2);var a=new THREE.Scene,o=new THREE.Camera;o.matrixAutoUpdate=!1,o.projectionMatrix.elements.set(this.getCameraMatrix()),a.add(o);var s=this;return{scene:a,videoScene:n,camera:o,videoCamera:r,arController:this,video:e,process:function(){for(var t in s.threePatternMarkers)s.threePatternMarkers[t].visible=!1;for(var t in s.threeBarcodeMarkers)s.threeBarcodeMarkers[t].visible=!1;for(var t in s.threeMultiMarkers){s.threeMultiMarkers[t].visible=!1;for(var i=0;i<s.threeMultiMarkers[t].markers.length;i++)s.threeMultiMarkers[t].markers[i]&&(s.threeMultiMarkers[t].markers[i].visible=!1)}s.process(e)},renderOn:function(e){t.needsUpdate=!0;var i=e.autoClear;e.autoClear=!1,e.clear(),e.render(this.videoScene,this.videoCamera),e.render(this.scene,this.camera),e.autoClear=i}}},ARController.prototype.createThreeMarker=function(e,t){this.setupThree();var i=new THREE.Object3D;return i.markerTracker=this.trackPatternMarkerId(e,t),i.matrixAutoUpdate=!1,this.threePatternMarkers[e]=i,i},ARController.prototype.createThreeMultiMarker=function(e){this.setupThree();var t=new THREE.Object3D;return t.matrixAutoUpdate=!1,t.markers=[],this.threeMultiMarkers[e]=t,t},ARController.prototype.createThreeBarcodeMarker=function(e,t){this.setupThree();var i=new THREE.Object3D;return i.markerTracker=this.trackBarcodeMarkerId(e,t),i.matrixAutoUpdate=!1,this.threeBarcodeMarkers[e]=i,i},ARController.prototype.setupThree=function(){this.THREE_JS_ENABLED||(this.THREE_JS_ENABLED=!0,this.addEventListener("getMarker",function(e){var t;e.data.marker;e.data.type===artoolkit.PATTERN_MARKER?t=this.threePatternMarkers[e.data.marker.idPatt]:e.data.type===artoolkit.BARCODE_MARKER&&(t=this.threeBarcodeMarkers[e.data.marker.idMatrix]),t&&(t.matrix.elements.set(e.data.matrix),t.visible=!0)}),this.addEventListener("getMultiMarker",function(e){var t=this.threeMultiMarkers[e.data.multiMarkerId];t&&(t.matrix.elements.set(e.data.matrix),t.visible=!0)}),this.addEventListener("getMultiMarkerSub",function(e){var t=e.data.multiMarkerId,i=e.data.markerIndex,r=e.data.marker,n=this.threeMultiMarkers[t];if(n&&n.markers&&n.markers[i]){var a=n.markers[i];a.matrix.elements.set(e.data.matrix),a.visible=r.visible>=0}}),this.threePatternMarkers={},this.threeBarcodeMarkers={},this.threeMultiMarkers={})}},(n=function(){var e=i(0);window.THREE=e,window.ARController&&window.THREE?(r(),window.ARThreeOnLoad&&window.ARThreeOnLoad()):setTimeout(n,50)})()},function(e,t,i){"use strict";i.r(t);var r=i(0),n=i(1),a=function(){function e(e){this.manager=void 0!==e?e:r.DefaultLoadingManager,this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,i){e[t]=i},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,i,n){var a,o=this;a=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:r.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var s=function(t){n?n(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new r.FileLoader(o.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.load(e,function(i){try{o.parse(i,a,function(i){t(i),o.manager.itemEnd(e)},s)}catch(e){s(e)}},i,s)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,t,l,c){var p,m={};if("string"==typeof e)p=e;else if(r.LoaderUtils.decodeText(new Uint8Array(e,0,4))===s){try{m[i.KHR_BINARY_GLTF]=new u(e)}catch(e){return void(c&&c(e))}p=m[i.KHR_BINARY_GLTF].content}else p=r.LoaderUtils.decodeText(new Uint8Array(e));var v=JSON.parse(p);if(void 0===v.asset||v.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(v.extensionsUsed)for(var g=0;g<v.extensionsUsed.length;++g){var y=v.extensionsUsed[g],b=v.extensionsRequired||[];switch(y){case i.KHR_LIGHTS_PUNCTUAL:m[y]=new a(v);break;case i.KHR_MATERIALS_UNLIT:m[y]=new o(v);break;case i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[y]=new d(v);break;case i.KHR_DRACO_MESH_COMPRESSION:m[y]=new f(v,this.dracoLoader);break;case i.MSFT_TEXTURE_DDS:m[i.MSFT_TEXTURE_DDS]=new n;break;case i.KHR_TEXTURE_TRANSFORM:m[i.KHR_TEXTURE_TRANSFORM]=new h(v);break;default:b.indexOf(y)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+y+'".')}}new z(v,m,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(l,c)}}};var i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(){if(!THREE.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=i.MSFT_TEXTURE_DDS,this.ddsLoader=new THREE.DDSLoader}function a(e){this.name=i.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[i.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=i.KHR_MATERIALS_UNLIT}a.prototype.loadLight=function(e){var t,i=this.lightDefs[e],n=new r.Color(16777215);void 0!==i.color&&n.fromArray(i.color);var a=void 0!==i.range?i.range:0;switch(i.type){case"directional":(t=new r.DirectionalLight(n)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new r.PointLight(n)).distance=a;break;case"spot":(t=new r.SpotLight(n)).distance=a,i.spot=i.spot||{},i.spot.innerConeAngle=void 0!==i.spot.innerConeAngle?i.spot.innerConeAngle:0,i.spot.outerConeAngle=void 0!==i.spot.outerConeAngle?i.spot.outerConeAngle:Math.PI/4,t.angle=i.spot.outerConeAngle,t.penumbra=1-i.spot.innerConeAngle/i.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+i.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==i.intensity&&(t.intensity=i.intensity),t.name=i.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return r.MeshBasicMaterial},o.prototype.extendParams=function(e,t,i){var n=[];e.color=new r.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&n.push(i.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(n)};var s="glTF",l=12,c={JSON:1313821514,BIN:5130562};function u(e){this.name=i.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,l);if(this.header={magic:r.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(e,l),a=0;a<n.byteLength;){var o=n.getUint32(a,!0);a+=4;var u=n.getUint32(a,!0);if(a+=4,u===c.JSON){var f=new Uint8Array(e,l+a,o);this.content=r.LoaderUtils.decodeText(f)}else if(u===c.BIN){var h=l+a;this.body=e.slice(h,h+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=i.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function h(){this.name=i.KHR_TEXTURE_TRANSFORM}function d(){return{name:i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return r.ShaderMaterial},extendParams:function(e,t,i){var n=t.extensions[this.name],a=r.ShaderLib.standard,o=r.UniformsUtils.clone(a.uniforms),s=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),l=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),c=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),f=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),h=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",l).replace("#include <roughnessmap_fragment>",c).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",f);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new r.Color).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},e.vertexShader=a.vertexShader,e.fragmentShader=h,e.uniforms=o,e.defines={STANDARD:""},e.color=new r.Color(1,1,1),e.opacity=1;var d=[];if(Array.isArray(n.diffuseFactor)){var p=n.diffuseFactor;e.color.fromArray(p),e.opacity=p[3]}if(void 0!==n.diffuseTexture&&d.push(i.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new r.Color(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new r.Color(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var m=n.specularGlossinessTexture;d.push(i.assignTexture(e,"glossinessMap",m)),d.push(i.assignTexture(e,"specularMap",m))}return Promise.all(d)},createMaterial:function(e){var t=new r.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var i=this.specularGlossinessParams,r=0,n=i.length;r<n;r++)t[i[r]]=e[i[r]];return t},refreshUniforms:function(e,t,i,r,n,a){if(!0===n.isGLTFSpecularGlossinessMaterial){var o,s=n.uniforms,l=n.defines;s.opacity.value=n.opacity,s.diffuse.value.copy(n.color),s.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),s.map.value=n.map,s.specularMap.value=n.specularMap,s.alphaMap.value=n.alphaMap,s.lightMap.value=n.lightMap,s.lightMapIntensity.value=n.lightMapIntensity,s.aoMap.value=n.aoMap,s.aoMapIntensity.value=n.aoMapIntensity,n.map?o=n.map:n.specularMap?o=n.specularMap:n.displacementMap?o=n.displacementMap:n.normalMap?o=n.normalMap:n.bumpMap?o=n.bumpMap:n.glossinessMap?o=n.glossinessMap:n.alphaMap?o=n.alphaMap:n.emissiveMap&&(o=n.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),s.uvTransform.value.copy(o.matrix)),n.envMap&&(s.envMap.value=n.envMap,s.envMapIntensity.value=n.envMapIntensity,s.flipEnvMap.value=n.envMap.isCubeTexture?-1:1,s.reflectivity.value=n.reflectivity,s.refractionRatio.value=n.refractionRatio,s.maxMipLevel.value=e.properties.get(n.envMap).__maxMipLevel),s.specular.value.copy(n.specular),s.glossiness.value=n.glossiness,s.glossinessMap.value=n.glossinessMap,s.emissiveMap.value=n.emissiveMap,s.bumpMap.value=n.bumpMap,s.normalMap.value=n.normalMap,s.displacementMap.value=n.displacementMap,s.displacementScale.value=n.displacementScale,s.displacementBias.value=n.displacementBias,null!==s.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===s.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function p(e,t,i,n){r.Interpolant.call(this,e,t,i,n)}f.prototype.decodePrimitive=function(e,t){var i=this.json,r=this.dracoLoader,n=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var c in a){var u=k[c]||c.toLowerCase();o[u]=a[c]}for(c in e.attributes){u=k[c]||c.toLowerCase();if(void 0!==a[c]){var f=i.accessors[e.attributes[c]],h=E[f.componentType];l[u]=h,s[u]=!0===f.normalized}}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t){r.decodeDracoFile(e,function(e){for(var i in e.attributes){var r=e.attributes[i],n=s[i];void 0!==n&&(r.normalized=n)}t(e)},o,l)})})},h.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},p.prototype=Object.create(r.Interpolant.prototype),p.prototype.constructor=p,p.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=e*r*3+r,a=0;a!==r;a++)t[a]=i[n+a];return t},p.prototype.beforeStart_=p.prototype.copySampleValue_,p.prototype.afterEnd_=p.prototype.copySampleValue_,p.prototype.interpolate_=function(e,t,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=r-t,u=(i-t)/c,f=u*u,h=f*u,d=e*l,p=d-l,m=-2*h+3*f,v=h-f,g=1-m,y=v-f+u,b=0;b!==o;b++){var w=a[p+b+o],_=a[p+b+s]*c,x=a[d+b+o],E=a[d+b]*c;n[b]=g*w+y*_+m*x+v*E}return n};var m,v=0,g=1,y=2,b=3,w=4,_=5,x=6,E=(Number,r.Matrix3,r.Matrix4,r.Vector2,r.Vector3,r.Vector4,r.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),M={9728:r.NearestFilter,9729:r.LinearFilter,9984:r.NearestMipMapNearestFilter,9985:r.LinearMipMapNearestFilter,9986:r.NearestMipMapLinearFilter,9987:r.LinearMipMapLinearFilter},S={33071:r.ClampToEdgeWrapping,33648:r.MirroredRepeatWrapping,10497:r.RepeatWrapping},T=(r.BackSide,r.FrontSide,r.NeverDepth,r.LessDepth,r.EqualDepth,r.LessEqualDepth,r.GreaterEqualDepth,r.NotEqualDepth,r.GreaterEqualDepth,r.AlwaysDepth,r.AddEquation,r.SubtractEquation,r.ReverseSubtractEquation,r.ZeroFactor,r.OneFactor,r.SrcColorFactor,r.OneMinusSrcColorFactor,r.SrcAlphaFactor,r.OneMinusSrcAlphaFactor,r.DstAlphaFactor,r.OneMinusDstAlphaFactor,r.DstColorFactor,r.OneMinusDstColorFactor,r.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),k={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},A={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},R={CUBICSPLINE:void 0,LINEAR:r.InterpolateLinear,STEP:r.InterpolateDiscrete},L="OPAQUE",P="MASK",C="BLEND",O={"image/png":r.RGBAFormat,"image/jpeg":r.RGBFormat};function I(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function N(e,t,i){for(var r in i.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=i.extensions[r])}function D(e,t){void 0!==t.extras&&("object"==typeof t.extras?e.userData=t.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function F(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var i=0,r=t.weights.length;i<r;i++)e.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(i=0,r=n.length;i<r;i++)e.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function B(e){for(var t="",i=Object.keys(e).sort(),r=0,n=i.length;r<n;r++)t+=i[r]+":"+e[i[r]]+";";return t}function U(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,i=e.itemSize,n=e.array.slice(0,t*i),a=0,o=0;a<t;++a)n[o++]=e.getX(a),i>=2&&(n[o++]=e.getY(a)),i>=3&&(n[o++]=e.getZ(a)),i>=4&&(n[o++]=e.getW(a));return new r.BufferAttribute(n,i,e.normalized)}return e.clone()}function z(e,i,n){this.json=e||{},this.extensions=i||{},this.options=n||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new r.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new r.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function H(e,t,i){var r=t.attributes,n=[];function a(t,r){return i.getDependency("accessor",t).then(function(t){e.addAttribute(r,t)})}for(var o in r){var s=k[o]||o.toLowerCase();s in e.attributes||n.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=i.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});n.push(l)}return D(e,t),Promise.all(n).then(function(){return void 0!==t.targets?function(e,t,i){for(var r=!1,n=!1,a=0,o=t.length;a<o&&(void 0!==(c=t[a]).POSITION&&(r=!0),void 0!==c.NORMAL&&(n=!0),!r||!n);a++);if(!r&&!n)return Promise.resolve(e);var s=[],l=[];for(a=0,o=t.length;a<o;a++){var c=t[a];if(r){var u=void 0!==c.POSITION?i.getDependency("accessor",c.POSITION):e.attributes.position;s.push(u)}n&&(u=void 0!==c.NORMAL?i.getDependency("accessor",c.NORMAL):e.attributes.normal,l.push(u))}return Promise.all([Promise.all(s),Promise.all(l)]).then(function(i){for(var a=i[0],o=i[1],s=0,l=a.length;s<l;s++)e.attributes.position!==a[s]&&(a[s]=U(a[s]));for(s=0,l=o.length;s<l;s++)e.attributes.normal!==o[s]&&(o[s]=U(o[s]));for(s=0,l=t.length;s<l;s++){var c=t[s],u="morphTarget"+s;if(r&&void 0!==c.POSITION){var f=a[s];f.name=u;for(var h=e.attributes.position,d=0,p=f.count;d<p;d++)f.setXYZ(d,f.getX(d)+h.getX(d),f.getY(d)+h.getY(d),f.getZ(d)+h.getZ(d))}if(n&&void 0!==c.NORMAL){var m=o[s];m.name=u;var v=e.attributes.normal;for(d=0,p=m.count;d<p;d++)m.setXYZ(d,m.getX(d)+v.getX(d),m.getY(d)+v.getY(d),m.getZ(d)+v.getZ(d))}}return r&&(e.morphAttributes.position=a),n&&(e.morphAttributes.normal=o),e})}(e,t.targets,i):e})}return z.prototype.parse=function(e,t){var i=this,r=this.json,n=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:i,userData:{}};N(n,a,r),e(a)}).catch(t)},z.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[],r={},n={},a=0,o=t.length;a<o;a++)for(var s=t[a].joints,l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0;for(var u=0,f=e.length;u<f;u++){var h=e[u];void 0!==h.mesh&&(void 0===r[h.mesh]&&(r[h.mesh]=n[h.mesh]=0),r[h.mesh]++,void 0!==h.skin&&(i[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=n},z.prototype.getDependency=function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this.loadMesh(t);break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this.loadBufferView(t);break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this.loadMaterial(t);break;case"texture":n=this.loadTexture(t);break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;case"light":n=this.extensions[i.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n},z.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var i=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map(function(t,r){return i.getDependency(e,r)})),this.cache.add(e,t)}return t},z.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[i.KHR_BINARY_GLTF].body);var n=this.options;return new Promise(function(e,i){r.load(I(t.uri,n.path),e,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},z.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var i=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+i)})},z.prototype.loadAccessor=function(e){var t=this,i=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var a=[];return void 0!==n.bufferView?a.push(this.getDependency("bufferView",n.bufferView)):a.push(null),void 0!==n.sparse&&(a.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(a).then(function(e){var a,o,s=e[0],l=T[n.type],c=E[n.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=n.byteOffset||0,d=void 0!==n.bufferView?i.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(d&&d!==f){var m="InterleavedBuffer:"+n.bufferView+":"+n.componentType,v=t.cache.get(m);v||(a=new c(s),v=new r.InterleavedBuffer(a,d/u),t.cache.add(m,v)),o=new r.InterleavedBufferAttribute(v,l,h/u,p)}else a=null===s?new c(n.count*l):new c(s,h,n.count*l),o=new r.BufferAttribute(a,l,p);if(void 0!==n.sparse){var g=T.SCALAR,y=E[n.sparse.indices.componentType],b=n.sparse.indices.byteOffset||0,w=n.sparse.values.byteOffset||0,_=new y(e[1],b,n.sparse.count*g),x=new c(e[2],w,n.sparse.count*l);null!==s&&o.setArray(o.array.slice());for(var M=0,S=_.length;M<S;M++){var k=_[M];if(o.setX(k,x[M*l]),l>=2&&o.setY(k,x[M*l+1]),l>=3&&o.setZ(k,x[M*l+2]),l>=4&&o.setW(k,x[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},z.prototype.loadTexture=function(e){var t,n=this,a=this.json,o=this.options,s=this.textureLoader,l=window.URL||window.webkitURL,c=a.textures[e],u=c.extensions||{},f=(t=u[i.MSFT_TEXTURE_DDS]?a.images[u[i.MSFT_TEXTURE_DDS].source]:a.images[c.source]).uri,h=!1;return void 0!==t.bufferView&&(f=n.getDependency("bufferView",t.bufferView).then(function(e){h=!0;var i=new Blob([e],{type:t.mimeType});return f=l.createObjectURL(i)})),Promise.resolve(f).then(function(e){var t=r.Loader.Handlers.get(e);return t||(t=u[i.MSFT_TEXTURE_DDS]?n.extensions[i.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise(function(i,r){t.load(I(e,o.path),i,void 0,r)})}).then(function(e){!0===h&&l.revokeObjectURL(f),e.flipY=!1,void 0!==c.name&&(e.name=c.name),t.mimeType in O&&(e.format=O[t.mimeType]);var i=(a.samplers||{})[c.sampler]||{};return e.magFilter=M[i.magFilter]||r.LinearFilter,e.minFilter=M[i.minFilter]||r.LinearMipMapLinearFilter,e.wrapS=S[i.wrapS]||r.RepeatWrapping,e.wrapT=S[i.wrapT]||r.RepeatWrapping,e})},z.prototype.assignTexture=function(e,t,n){var a=this;return this.getDependency("texture",n.index).then(function(o){if(!o.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":o.format=r.RGBFormat}if(a.extensions[i.KHR_TEXTURE_TRANSFORM]){var s=void 0!==n.extensions?n.extensions[i.KHR_TEXTURE_TRANSFORM]:void 0;s&&(o=a.extensions[i.KHR_TEXTURE_TRANSFORM].extendTexture(o,s))}e[t]=o})},z.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,a=this.extensions,o=void 0!==t.attributes.tangent,s=void 0!==t.attributes.color,l=void 0===t.attributes.normal,c=!0===e.isSkinnedMesh,u=Object.keys(t.morphAttributes).length>0,f=u&&void 0!==t.morphAttributes.normal;if(e.isPoints){var h="PointsMaterial:"+n.uuid,d=this.cache.get(h);d||(d=new r.PointsMaterial,r.Material.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,d.lights=!1,this.cache.add(h,d)),n=d}else if(e.isLine){h="LineBasicMaterial:"+n.uuid;var p=this.cache.get(h);p||(p=new r.LineBasicMaterial,r.Material.prototype.copy.call(p,n),p.color.copy(n.color),p.lights=!1,this.cache.add(h,p)),n=p}if(o||s||l||c||u){h="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(h+="specular-glossiness:"),c&&(h+="skinning:"),o&&(h+="vertex-tangents:"),s&&(h+="vertex-colors:"),l&&(h+="flat-shading:"),u&&(h+="morph-targets:"),f&&(h+="morph-normals:");var m=this.cache.get(h);m||(m=n.isGLTFSpecularGlossinessMaterial?a[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(n):n.clone(),c&&(m.skinning=!0),o&&(m.vertexTangents=!0),s&&(m.vertexColors=r.VertexColors),l&&(m.flatShading=!0),u&&(m.morphTargets=!0),f&&(m.morphNormals=!0),this.cache.add(h,m)),n=m}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),t.addAttribute("uv2",new r.BufferAttribute(t.attributes.uv.array,2))),n.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=a[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=n},z.prototype.loadMaterial=function(e){var t,n=this.json,a=this.extensions,o=n.materials[e],s={},l=o.extensions||{},c=[];if(l[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=a[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),c.push(u.extendParams(s,o,this))}else if(l[i.KHR_MATERIALS_UNLIT]){var f=a[i.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),c.push(f.extendParams(s,o,this))}else{t=r.MeshStandardMaterial;var h=o.pbrMetallicRoughness||{};if(s.color=new r.Color(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){var d=h.baseColorFactor;s.color.fromArray(d),s.opacity=d[3]}void 0!==h.baseColorTexture&&c.push(this.assignTexture(s,"map",h.baseColorTexture)),s.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,s.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(c.push(this.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),c.push(this.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture)))}!0===o.doubleSided&&(s.side=r.DoubleSide);var p=o.alphaMode||L;return p===C?s.transparent=!0:(s.transparent=!1,p===P&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==r.MeshBasicMaterial&&(c.push(this.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new r.Vector2(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==r.MeshBasicMaterial&&(c.push(this.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==r.MeshBasicMaterial&&(s.emissive=(new r.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==r.MeshBasicMaterial&&c.push(this.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(c).then(function(){var e;return e=t===r.ShaderMaterial?a[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),void 0!==o.name&&(e.name=o.name),e.map&&(e.map.encoding=r.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=r.sRGBEncoding),e.specularMap&&(e.specularMap.encoding=r.sRGBEncoding),D(e,o),o.extensions&&N(a,e,o),e})},z.prototype.loadGeometries=function(e){var t=this,n=this.extensions,a=this.primitiveCache;function o(e){return n[i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(i){return H(i,e,t)})}for(var s,l,c=[],u=0,f=e.length;u<f;u++){var h,d=e[u],p=(l=void 0,(l=(s=d).extensions&&s.extensions[i.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+B(l.attributes):s.indices+":"+B(s.attributes)+":"+s.mode),m=a[p];if(m)c.push(m.promise);else h=d.extensions&&d.extensions[i.KHR_DRACO_MESH_COMPRESSION]?o(d):H(new r.BufferGeometry,d,t),a[p]={primitive:d,promise:h},c.push(h)}return Promise.all(c)},z.prototype.loadMesh=function(e){for(var t=this,i=this.json,n=(this.extensions,i.meshes[e]),a=n.primitives,o=[],s=0,l=a.length;s<l;s++){var c=void 0===a[s].material?m=m||new r.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.FrontSide}):this.getDependency("material",a[s].material);o.push(c)}return Promise.all(o).then(function(i){return t.loadGeometries(a).then(function(o){for(var s=[],l=0,c=o.length;l<c;l++){var u,f=o[l],h=a[l],d=i[l];if(h.mode===w||h.mode===_||h.mode===x||void 0===h.mode)!0===(u=!0===n.isSkinnedMesh?new r.SkinnedMesh(f,d):new r.Mesh(f,d)).isSkinnedMesh&&u.normalizeSkinWeights(),h.mode===_?u.drawMode=r.TriangleStripDrawMode:h.mode===x&&(u.drawMode=r.TriangleFanDrawMode);else if(h.mode===g)u=new r.LineSegments(f,d);else if(h.mode===b)u=new r.Line(f,d);else if(h.mode===y)u=new r.LineLoop(f,d);else{if(h.mode!==v)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);u=new r.Points(f,d)}Object.keys(u.geometry.morphAttributes).length>0&&F(u,n),u.name=n.name||"mesh_"+e,o.length>1&&(u.name+="_"+l),D(u,n),t.assignFinalMaterial(u),s.push(u)}if(1===s.length)return s[0];var p=new r.Group;for(l=0,c=s.length;l<c;l++)p.add(s[l]);return p})})},z.prototype.loadCamera=function(e){var t,i=this.json.cameras[e],n=i[i.type];if(n)return"perspective"===i.type?t=new r.PerspectiveCamera(r.Math.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===i.type&&(t=new r.OrthographicCamera(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==i.name&&(t.name=i.name),D(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},z.prototype.loadSkin=function(e){var t=this.json.skins[e],i={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return i.inverseBindMatrices=e,i})},z.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],i=[],n=[],a=[],o=[],s=[],l=0,c=t.channels.length;l<c;l++){var u=t.channels[l],f=t.samplers[u.sampler],h=u.target,d=void 0!==h.node?h.node:h.id,m=void 0!==t.parameters?t.parameters[f.input]:f.input,v=void 0!==t.parameters?t.parameters[f.output]:f.output;i.push(this.getDependency("node",d)),n.push(this.getDependency("accessor",m)),a.push(this.getDependency("accessor",v)),o.push(f),s.push(h)}return Promise.all([Promise.all(i),Promise.all(n),Promise.all(a),Promise.all(o),Promise.all(s)]).then(function(i){for(var n=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=[],u=0,f=n.length;u<f;u++){var h=n[u],d=a[u],m=o[u],v=s[u],g=l[u];if(void 0!==h){var y;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,A[g.path]){case A.weights:y=r.NumberKeyframeTrack;break;case A.rotation:y=r.QuaternionKeyframeTrack;break;case A.position:case A.scale:default:y=r.VectorKeyframeTrack}var b=h.name?h.name:h.uuid,w=void 0!==v.interpolation?R[v.interpolation]:r.InterpolateLinear,_=[];A[g.path]===A.weights?h.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&_.push(e.name?e.name:e.uuid)}):_.push(b);for(var x=0,E=_.length;x<E;x++){var M=new y(_[x]+"."+A[g.path],d.array,m.array,w);"CUBICSPLINE"===v.interpolation&&(M.createInterpolant=function(e){return new p(this.times,this.values,this.getValueSize()/3,e)},M.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(M)}}}var S=void 0!==t.name?t.name:"animation_"+e;return new r.AnimationClip(S,void 0,c)})},z.prototype.loadNode=function(e){var t=this.json,n=this.extensions,a=this,o=t.meshReferences,s=t.meshUses,l=t.nodes[e];return(!0===l.isBone?Promise.resolve(new r.Bone):void 0!==l.mesh?a.getDependency("mesh",l.mesh).then(function(e){var t;if(o[l.mesh]>1){var i=s[l.mesh]++;(t=e.clone()).name+="_instance_"+i,t.onBeforeRender=e.onBeforeRender;for(var r=0,n=t.children.length;r<n;r++)t.children[r].name+="_instance_"+i,t.children[r].onBeforeRender=e.children[r].onBeforeRender}else t=e;return void 0!==l.weights&&t.traverse(function(e){if(e.isMesh)for(var t=0,i=l.weights.length;t<i;t++)e.morphTargetInfluences[t]=l.weights[t]}),t}):void 0!==l.camera?a.getDependency("camera",l.camera):l.extensions&&l.extensions[i.KHR_LIGHTS_PUNCTUAL]&&void 0!==l.extensions[i.KHR_LIGHTS_PUNCTUAL].light?a.getDependency("light",l.extensions[i.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new r.Object3D)).then(function(e){if(void 0!==l.name&&(e.name=r.PropertyBinding.sanitizeNodeName(l.name)),D(e,l),l.extensions&&N(n,e,l),void 0!==l.matrix){var t=new r.Matrix4;t.fromArray(l.matrix),e.applyMatrix(t)}else void 0!==l.translation&&e.position.fromArray(l.translation),void 0!==l.rotation&&e.quaternion.fromArray(l.rotation),void 0!==l.scale&&e.scale.fromArray(l.scale);return e})},z.prototype.loadScene=function(){function e(t,i,n,a){var o=n.nodes[t];return a.getDependency("node",t).then(function(e){return void 0===o.skin?e:a.getDependency("skin",o.skin).then(function(e){for(var i=[],r=0,n=(t=e).joints.length;r<n;r++)i.push(a.getDependency("node",t.joints[r]));return Promise.all(i)}).then(function(i){for(var n=!0===e.isGroup?e.children:[e],a=0,o=n.length;a<o;a++){for(var s=n[a],l=[],c=[],u=0,f=i.length;u<f;u++){var h=i[u];if(h){l.push(h);var d=new r.Matrix4;void 0!==t.inverseBindMatrices&&d.fromArray(t.inverseBindMatrices.array,16*u),c.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}s.bind(new r.Skeleton(l,c),s.matrixWorld)}return e});var t}).then(function(t){i.add(t);var r=[];if(o.children)for(var s=o.children,l=0,c=s.length;l<c;l++){var u=s[l];r.push(e(u,t,n,a))}return Promise.all(r)})}return function(t){var i=this.json,n=this.extensions,a=this.json.scenes[t],o=new r.Scene;void 0!==a.name&&(o.name=a.name),D(o,a),a.extensions&&N(n,o,a);for(var s=a.nodes||[],l=[],c=0,u=s.length;c<u;c++)l.push(e(s[c],o,i,this));return Promise.all(l).then(function(){return o})}}(),e}(),o=i(4),s=i.n(o);let l={};const c=()=>l,u=e=>{l={...l,...e}};function f(){const{enable_ar:e,scene:t,renderer:i,arToolkitSource:r,arToolkitContext:n}=c();!0===e?(r.onResizeElement(),r.copyElementSizeTo(i.domElement),null!==n.arController&&r.copyElementSizeTo(n.arController.canvas)):!1===e&&(t.getObjectByName("camera").aspect=window.innerWidth/window.innerHeight,t.getObjectByName("camera").updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight))}function h(e){const{videoElement:t}=c(),{raycaster:i,mouse:r,scene:n}=c();r.x=e.clientX/window.innerWidth*2-1,r.y=-e.clientY/window.innerHeight*2+1,i.setFromCamera(r,n.getObjectByName("camera")),i.intersectObjects(n.children,!0).forEach(e=>"videoMesh"==e.object.name?p(t):null)}function d(e){const{raycaster:t,mouse:i,scene:r}=c();i.x=e.changedTouches[0].clientX/window.innerWidth*2-1,i.y=-e.changedTouches[0].clientY/window.innerHeight*2+1,t.setFromCamera(i,r.getObjectByName("camera")),t.intersectObjects(r.children,!0).forEach(e=>"videoMesh"==e.object.name?p(videoElement):null)}function p(e){e.paused?e.play():e.pause()}u({enable_ar:!1}),function(){const{enable_ar:e}=c(),t=new r.Scene,i=new r.Raycaster,o=new r.Vector2;t.name="scene";const l=new r.Group;l.name="markerRoot",t.add(l);const p=new r.WebGLRenderer({antialias:!0,alpha:!0});u({scene:t,raycaster:i,mouse:o,renderer:p}),p.setClearColor(new r.Color("lightgrey"),0),p.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(p.domElement);const m=new r.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e4);if(m.name="camera",t.add(m),window.addEventListener("resize",()=>f()),window.addEventListener("click",h,!1),window.addEventListener("touchend",d,!1),!0===e){const e=Object(n.ArToolkitSource)(r),i=new e({sourceType:"webcam"});i.init(()=>f());const a=new n.ArToolkitContext({cameraParametersUrl:"src/ar-markers/camera_para.dat",detectionMode:"mono"});a.init(()=>t.getObjectByName("camera").projectionMatrix.copy(a.getProjectionMatrix())),u({arToolkitSource:i,arToolkitContext:a}),new n.ArMarkerControls(a,t.getObjectByName("markerRoot"),{type:"pattern",patternUrl:"src/ar-markers/hiro.patt"})}else if(!1===e){t.getObjectByName("camera").position.y=Math.PI/1;const e=new s.a(t.getObjectByName("camera"));e.update()}let v=new r.Group;t.getObjectByName("markerRoot").add(v),(new a).load("src/3d-models/accenture-ar.gltf",function(e){let t=e.scene;t.scale.set(.2,.2,.2),t.rotation.x=-Math.PI/2,t.position.z=-.8,t.castShadow=!0,t.name="logo",v.add(t)},function(e){console.log("gltf model "+e.loaded/e.total*100+"% loaded")},function(e){console.error("An error happened with loading the gltf model:\n",e)});const g=new r.PointLight(16777215,1,100);g.position.set(0,4,0),g.castShadow=!0,v.add(g);const y=new r.Mesh(new r.SphereGeometry(.1),new r.MeshBasicMaterial({color:16777215,transparent:!0,opacity:0}));y.position.copy(g.position),v.add(y);const b=new r.AmbientLight(7300710,2);v.add(b);const w=new r.Group;w.name="video",v.add(w);const _=document.getElementById("video");u({videoElement:_});const x=new r.VideoTexture(_);x.minFilter=r.LinearFilter,x.magFilter=r.LinearFilter,x.format=r.RGBFormat;const E=new r.Mesh(new r.PlaneGeometry(.1,.1),new r.MeshBasicMaterial({map:x,side:r.DoubleSide}));E.rotation.x=-Math.PI/2,E.name="videoMesh",w.add(E),console.info("scene.JSON:",t.toJSON()),console.info("scene object:",t)}(),function e(){const{scene:t}=c();let i=t.getObjectByName("video").scale.x;let r=t.getObjectByName("video").scale.y;let n=t.getObjectByName("video").scale.z;i<10&&n<10&&(i+=.1,n+=.1,t.getObjectByName("video").scale.set(i,r,n));requestAnimationFrame(e);!function(){const{enable_ar:e,arToolkitSource:t,arToolkitContext:i}=c();!0===e&&!1!==t.ready&&i.update(t.domElement)}();!function(){const{scene:e,renderer:t}=c();t.render(e,e.getObjectByName("camera"))}()}()}]);